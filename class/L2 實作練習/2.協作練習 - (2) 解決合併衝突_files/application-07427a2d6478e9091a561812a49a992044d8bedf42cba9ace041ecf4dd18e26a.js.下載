function activeSidebar(t){setCurrentSidebarAnchor(t);for(var e=$("a.active").parents("li.course-item"),i=0;i<e.length;i++){var n=e[i];toggleChevronRight($(n).children(".sidebar-item-wrapper"))}$("a.active").closest(".sidebar-item-wrapper").addClass("current"),moveToCurrentSection(),$(document).on("click",".section-link.back-btn",function(){moveToCurrentSection()})}function setCurrentSidebarAnchor(t){var e=$(".item-list a"),i=window.location.pathname;e.each(function(){var e=new RegExp(i+"(/edit)?$");$(this).attr("href").match(e)&&("section"==t?$(this).addClass("active"):"unit"==t&&$(this).addClass("unit-now"))})}function toggleChevronRight(t){t.find(".fa-chevron-right").toggleClass("fa-rotate-90"),t.siblings(".nested-list-block").toggleClass("collapse-all")}function showMenuButton(){$("#sidebarCollapse").attr("style","display:inline;")}function moveToCurrentSection(t){setTimeout(function(){var e=$(".item-list.section-lists");if(t)var i=t;else var i=e.data("current-section");var n=$('.section-list-item[data-section="'+i+'"]').delay(550);if(i){var o=n.position().top;location.href.match(/(units|galleries|assignments)/)?o=o-98-42:o-=98,e.prop("scrollHeight")-o-e.scrollTop()<e.height()?e.scrollTop(e.scrollTop()-(e.height()-o-n.height())+20):e.scrollTop(e.scrollTop()+o)}},300)}function repositionArrow(t,e){var i=t.outerWidth(!0)/2+t.position().left;e.css("left",i+"px")}function initSlick(t,e){var i=Object.assign({},{prevArrow:'<button class="slick-prev" aria-label="Previous" type="button"><i class="fa fa-chevron-left" aria-hidden="true"></i></button>',nextArrow:'<button class="slick-next" aria-label="Next" type="button"><i class="fa fa-chevron-right" aria-hidden="true"></i></button>',infinite:!1},e);t.slick(i)}if(function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function i(t){var e=!!t&&"length"in t&&t.length,i=ft.type(t);return"function"!==i&&!ft.isWindow(t)&&("array"===i||0===e||"number"==typeof e&&e>0&&e-1 in t)}function n(t,e,i){if(ft.isFunction(e))return ft.grep(t,function(t,n){return!!e.call(t,n,t)!==i});if(e.nodeType)return ft.grep(t,function(t){return t===e!==i});if("string"==typeof e){if(Dt.test(e))return ft.filter(e,t,i);e=ft.filter(e,t)}return ft.grep(t,function(t){return ft.inArray(t,e)>-1!==i})}function o(t,e){do{t=t[e]}while(t&&1!==t.nodeType);return t}function a(t){var e={};return ft.each(t.match(wt)||[],function(t,i){e[i]=!0}),e}function r(){nt.addEventListener?(nt.removeEventListener("DOMContentLoaded",s),t.removeEventListener("load",s)):(nt.detachEvent("onreadystatechange",s),t.detachEvent("onload",s))}function s(){(nt.addEventListener||"load"===t.event.type||"complete"===nt.readyState)&&(r(),ft.ready())}function l(t,e,i){if(i===undefined&&1===t.nodeType){var n="data-"+e.replace(Kt,"-$1").toLowerCase();if("string"==typeof(i=t.getAttribute(n))){try{i="true"===i||"false"!==i&&("null"===i?null:+i+""===i?+i:Nt.test(i)?ft.parseJSON(i):i)}catch(t){}ft.data(t,e,i)}else i=undefined}return i}function d(t){var e;for(e in t)if(("data"!==e||!ft.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function c(t,e,i,n){if(St(t)){var o,a,r=ft.expando,s=t.nodeType,l=s?ft.cache:t,d=s?t[r]:t[r]&&r;if(d&&l[d]&&(n||l[d].data)||i!==undefined||"string"!=typeof e)return d||(d=s?t[r]=it.pop()||ft.guid++:r),l[d]||(l[d]=s?{}:{toJSON:ft.noop}),"object"!=typeof e&&"function"!=typeof e||(n?l[d]=ft.extend(l[d],e):l[d].data=ft.extend(l[d].data,e)),a=l[d],n||(a.data||(a.data={}),a=a.data),i!==undefined&&(a[ft.camelCase(e)]=i),"string"==typeof e?null==(o=a[e])&&(o=a[ft.camelCase(e)]):o=a,o}}function h(t,e,i){if(St(t)){var n,o,a=t.nodeType,r=a?ft.cache:t,s=a?t[ft.expando]:ft.expando;if(r[s]){if(e&&(n=i?r[s]:r[s].data)){ft.isArray(e)?e=e.concat(ft.map(e,ft.camelCase)):e in n?e=[e]:(e=ft.camelCase(e),e=e in n?[e]:e.split(" ")),o=e.length;for(;o--;)delete n[e[o]];if(i?!d(n):!ft.isEmptyObject(n))return}(i||(delete r[s].data,d(r[s])))&&(a?ft.cleanData([t],!0):ht.deleteExpando||r!=r.window?delete r[s]:r[s]=undefined)}}}function u(t,e,i,n){var o,a=1,r=20,s=n?function(){return n.cur()}:function(){return ft.css(t,e,"")},l=s(),d=i&&i[3]||(ft.cssNumber[e]?"":"px"),c=(ft.cssNumber[e]||"px"!==d&&+l)&&Mt.exec(ft.css(t,e));if(c&&c[3]!==d){d=d||c[3],i=i||[],c=+l||1;do{a=a||".5",c/=a,ft.style(t,e,c+d)}while(a!==(a=s()/l)&&1!==a&&--r)}return i&&(c=+c||+l||0,o=i[1]?c+(i[1]+1)*i[2]:+i[2],n&&(n.unit=d,n.start=c,n.end=o)),o}function f(t){var e=Wt.split("|"),i=t.createDocumentFragment();if(i.createElement)for(;e.length;)i.createElement(e.pop());return i}function p(t,e){var i,n,o=0,a="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e||"*"):undefined;if(!a)for(a=[],i=t.childNodes||t;null!=(n=i[o]);o++)!e||ft.nodeName(n,e)?a.push(n):ft.merge(a,p(n,e));return e===undefined||e&&ft.nodeName(t,e)?ft.merge([t],a):a}function m(t,e){for(var i,n=0;null!=(i=t[n]);n++)ft._data(i,"globalEval",!e||ft._data(e[n],"globalEval"))}function g(t){Bt.test(t.type)&&(t.defaultChecked=t.checked)}function v(t,e,i,n,o){for(var a,r,s,l,d,c,h,u=t.length,v=f(e),b=[],T=0;T<u;T++)if((r=t[T])||0===r)if("object"===ft.type(r))ft.merge(b,r.nodeType?[r]:r);else if(jt.test(r)){for(l=l||v.appendChild(e.createElement("div")),d=($t.exec(r)||["",""])[1].toLowerCase(),h=qt[d]||qt._default,l.innerHTML=h[1]+ft.htmlPrefilter(r)+h[2],a=h[0];a--;)l=l.lastChild;if(!ht.leadingWhitespace&&Ht.test(r)&&b.push(e.createTextNode(Ht.exec(r)[0])),!ht.tbody)for(r="table"!==d||Vt.test(r)?"<table>"!==h[1]||Vt.test(r)?0:l:l.firstChild,a=r&&r.childNodes.length;a--;)ft.nodeName(c=r.childNodes[a],"tbody")&&!c.childNodes.length&&r.removeChild(c);for(ft.merge(b,l.childNodes),l.textContent="";l.firstChild;)l.removeChild(l.firstChild);l=v.lastChild}else b.push(e.createTextNode(r));for(l&&v.removeChild(l),ht.appendChecked||ft.grep(p(b,"input"),g),T=0;r=b[T++];)if(n&&ft.inArray(r,n)>-1)o&&o.push(r);else if(s=ft.contains(r.ownerDocument,r),l=p(v.appendChild(r),"script"),s&&m(l),i)for(a=0;r=l[a++];)zt.test(r.type||"")&&i.push(r);return l=null,v}function b(){return!0}function T(){return!1}function E(){try{return nt.activeElement}catch(t){}}function C(t,e,i,n,o,a){var r,s;if("object"==typeof e){"string"!=typeof i&&(n=n||i,i=undefined);for(s in e)C(t,s,i,n,e[s],a);return t}if(null==n&&null==o?(o=i,n=i=undefined):null==o&&("string"==typeof i?(o=n,n=undefined):(o=n,n=i,i=undefined)),!1===o)o=T;else if(!o)return t;return 1===a&&(r=o,o=function(t){return ft().off(t),r.apply(this,arguments)},o.guid=r.guid||(r.guid=ft.guid++)),t.each(function(){ft.event.add(this,e,o,n,i)})}function y(t,e){return ft.nodeName(t,"table")&&ft.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function D(t){return t.type=(null!==ft.find.attr(t,"type"))+"/"+t.type,t}function I(t){var e=ne.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function O(t,e){if(1===e.nodeType&&ft.hasData(t)){var i,n,o,a=ft._data(t),r=ft._data(e,a),s=a.events;if(s){delete r.handle,r.events={};for(i in s)for(n=0,o=s[i].length;n<o;n++)ft.event.add(e,i,s[i][n])}r.data&&(r.data=ft.extend({},r.data))}}function R(t,e){var i,n,o;if(1===e.nodeType){if(i=e.nodeName.toLowerCase(),!ht.noCloneEvent&&e[ft.expando]){o=ft._data(e);for(n in o.events)ft.removeEvent(e,n,o.handle);e.removeAttribute(ft.expando)}"script"===i&&e.text!==t.text?(D(e).text=t.text,I(e)):"object"===i?(e.parentNode&&(e.outerHTML=t.outerHTML),ht.html5Clone&&t.innerHTML&&!ft.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===i&&Bt.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===i?e.defaultSelected=e.selected=t.defaultSelected:"input"!==i&&"textarea"!==i||(e.defaultValue=t.defaultValue)}}function x(t,e,i,n){e=at.apply([],e);var o,a,r,s,l,d,c=0,h=t.length,u=h-1,f=e[0],m=ft.isFunction(f);if(m||h>1&&"string"==typeof f&&!ht.checkClone&&ie.test(f))return t.each(function(o){var a=t.eq(o);m&&(e[0]=f.call(this,o,a.html())),x(a,e,i,n)});if(h&&(d=v(e,t[0].ownerDocument,!1,t,n),o=d.firstChild,1===d.childNodes.length&&(d=o),o||n)){for(s=ft.map(p(d,"script"),D),r=s.length;c<h;c++)a=d,c!==u&&(a=ft.clone(a,!0,!0),r&&ft.merge(s,p(a,"script"))),i.call(t[c],a,c);if(r)for(l=s[s.length-1].ownerDocument,ft.map(s,I),c=0;c<r;c++)a=s[c],zt.test(a.type||"")&&!ft._data(a,"globalEval")&&ft.contains(l,a)&&(a.src?ft._evalUrl&&ft._evalUrl(a.src):ft.globalEval((a.text||a.textContent||a.innerHTML||"").replace(oe,"")));d=o=null}return t}function w(t,e,i){for(var n,o=e?ft.filter(e,t):t,a=0;null!=(n=o[a]);a++)i||1!==n.nodeType||ft.cleanData(p(n)),n.parentNode&&(i&&ft.contains(n.ownerDocument,n)&&m(p(n,"script")),n.parentNode.removeChild(n));return t}function k(t,e){var i=ft(e.createElement(t)).appendTo(e.body),n=ft.css(i[0],"display");return i.detach(),n}function _(t){var e=nt,i=le[t];return i||(i=k(t,e),"none"!==i&&i||(se=(se||ft("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=(se[0].contentWindow||se[0].contentDocument).document,e.write(),e.close(),i=k(t,e),se.detach()),le[t]=i),i}function S(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function N(t){if(t in De)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),i=ye.length;i--;)if((t=ye[i]+e)in De)return t}function K(t,e){for(var i,n,o,a=[],r=0,s=t.length;r<s;r++)n=t[r],n.style&&(a[r]=ft._data(n,"olddisplay"),i=n.style.display,e?(a[r]||"none"!==i||(n.style.display=""),""===n.style.display&&Ft(n)&&(a[r]=ft._data(n,"olddisplay",_(n.nodeName)))):(o=Ft(n),(i&&"none"!==i||!o)&&ft._data(n,"olddisplay",o?i:ft.css(n,"display"))));for(r=0;r<s;r++)n=t[r],n.style&&(e&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=e?a[r]||"":"none"));return t}function A(t,e,i){var n=Te.exec(e);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):e}function M(t,e,i,n,o){for(var a=i===(n?"border":"content")?4:"width"===e?1:0,r=0;a<4;a+=2)"margin"===i&&(r+=ft.css(t,i+Lt[a],!0,o)),n?("content"===i&&(r-=ft.css(t,"padding"+Lt[a],!0,o)),"margin"!==i&&(r-=ft.css(t,"border"+Lt[a]+"Width",!0,o))):(r+=ft.css(t,"padding"+Lt[a],!0,o),"padding"!==i&&(r+=ft.css(t,"border"+Lt[a]+"Width",!0,o)));return r}function L(t,e,i){var n=!0,o="width"===e?t.offsetWidth:t.offsetHeight,a=fe(t),r=ht.boxSizing&&"border-box"===ft.css(t,"boxSizing",!1,a);if(o<=0||null==o){if(o=pe(t,e,a),(o<0||null==o)&&(o=t.style[e]),ce.test(o))return o;n=r&&(ht.boxSizingReliable()||o===t.style[e]),o=parseFloat(o)||0}return o+M(t,e,i||(r?"border":"content"),n,a)+"px"}function F(t,e,i,n,o){return new F.prototype.init(t,e,i,n,o)}function P(){return t.setTimeout(function(){Ie=undefined}),Ie=ft.now()}function B(t,e){var i,n={height:t},o=0;for(e=e?1:0;o<4;o+=2-e)i=Lt[o],n["margin"+i]=n["padding"+i]=t;return e&&(n.opacity=n.width=t),n}function $(t,e,i){for(var n,o=(W.tweeners[e]||[]).concat(W.tweeners["*"]),a=0,r=o.length;a<r;a++)if(n=o[a].call(i,e,t))return n}function z(t,e,i){var n,o,a,r,s,l,d,c=this,h={},u=t.style,f=t.nodeType&&Ft(t),p=ft._data(t,"fxshow");i.queue||(s=ft._queueHooks(t,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,c.always(function(){c.always(function(){s.unqueued--,ft.queue(t,"fx").length||s.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(i.overflow=[u.overflow,u.overflowX,u.overflowY],d=ft.css(t,"display"),"inline"===("none"===d?ft._data(t,"olddisplay")||_(t.nodeName):d)&&"none"===ft.css(t,"float")&&(ht.inlineBlockNeedsLayout&&"inline"!==_(t.nodeName)?u.zoom=1:u.display="inline-block")),i.overflow&&(u.overflow="hidden",ht.shrinkWrapBlocks()||c.always(function(){u.overflow=i.overflow[0],u.overflowX=i.overflow[1],u.overflowY=i.overflow[2]}));for(n in e)if(o=e[n],Re.exec(o)){if(delete e[n],a=a||"toggle"===o,o===(f?"hide":"show")){if("show"!==o||!p||p[n]===undefined)continue;f=!0}h[n]=p&&p[n]||ft.style(t,n)}else d=undefined;if(ft.isEmptyObject(h))"inline"===("none"===d?_(t.nodeName):d)&&(u.display=d);else{p?"hidden"in p&&(f=p.hidden):p=ft._data(t,"fxshow",{}),a&&(p.hidden=!f),f?ft(t).show():c.done(function(){ft(t).hide()}),c.done(function(){var e;ft._removeData(t,"fxshow");for(e in h)ft.style(t,e,h[e])});for(n in h)r=$(f?p[n]:0,n,c),n in p||(p[n]=r.start,f&&(r.end=r.start,r.start="width"===n||"height"===n?1:0))}}function H(t,e){var i,n,o,a,r;for(i in t)if(n=ft.camelCase(i),o=e[n],a=t[i],ft.isArray(a)&&(o=a[1],a=t[i]=a[0]),i!==n&&(t[n]=a,delete t[i]),(r=ft.cssHooks[n])&&"expand"in r){a=r.expand(a),delete t[n];for(i in a)i in t||(t[i]=a[i],e[i]=o)}else e[n]=o}function W(t,e,i){var n,o,a=0,r=W.prefilters.length,s=ft.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var e=Ie||P(),i=Math.max(0,d.startTime+d.duration-e),n=i/d.duration||0,a=1-n,r=0,l=d.tweens.length;r<l;r++)d.tweens[r].run(a);return s.notifyWith(t,[d,a,i]),a<1&&l?i:(s.resolveWith(t,[d]),!1)},d=s.promise({elem:t,props:ft.extend({},e),opts:ft.extend(!0,{specialEasing:{},easing:ft.easing._default},i),originalProperties:e,originalOptions:i,startTime:Ie||P(),duration:i.duration,tweens:[],createTween:function(e,i){var n=ft.Tween(t,d.opts,e,i,d.opts.specialEasing[e]||d.opts.easing);return d.tweens.push(n),n},stop:function(e){var i=0,n=e?d.tweens.length:0;if(o)return this;for(o=!0;i<n;i++)d.tweens[i].run(1);return e?(s.notifyWith(t,[d,1,0]),s.resolveWith(t,[d,e])):s.rejectWith(t,[d,e]),this}}),c=d.props;for(H(c,d.opts.specialEasing);a<r;a++)if(n=W.prefilters[a].call(d,t,c,d.opts))return ft.isFunction(n.stop)&&(ft._queueHooks(d.elem,d.opts.queue).stop=ft.proxy(n.stop,n)),n;return ft.map(c,$,d),ft.isFunction(d.opts.start)&&d.opts.start.call(t,d),ft.fx.timer(ft.extend(l,{elem:t,anim:d,queue:d.opts.queue})),d.progress(d.opts.progress).done(d.opts.done,d.opts.complete).fail(d.opts.fail).always(d.opts.always)}function q(t){return ft.attr(t,"class")||""}function j(t){return function(e,i){"string"!=typeof e&&(i=e,e="*");var n,o=0,a=e.toLowerCase().match(wt)||[];if(ft.isFunction(i))for(;n=a[o++];)"+"===n.charAt(0)?(n=n.slice(1)||"*",(t[n]=t[n]||[]).unshift(i)):(t[n]=t[n]||[]).push(i)}}function V(t,e,i,n){function o(s){var l;return a[s]=!0,ft.each(t[s]||[],function(t,s){var d=s(e,i,n);return"string"!=typeof d||r||a[d]?r?!(l=d):void 0:(e.dataTypes.unshift(d),o(d),!1)}),l}var a={},r=t===Ze;return o(e.dataTypes[0])||!a["*"]&&o("*")}function U(t,e){var i,n,o=ft.ajaxSettings.flatOptions||{};for(n in e)e[n]!==undefined&&((o[n]?t:i||(i={}))[n]=e[n]);return i&&ft.extend(!0,t,i),t}function Y(t,e,i){for(var n,o,a,r,s=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),o===undefined&&(o=t.mimeType||e.getResponseHeader("Content-Type"));if(o)for(r in s)if(s[r]&&s[r].test(o)){l.unshift(r);break}if(l[0]in i)a=l[0];else{for(r in i){if(!l[0]||t.converters[r+" "+l[0]]){a=r;break}n||(n=r)}a=a||n}if(a)return a!==l[0]&&l.unshift(a),i[a]}function G(t,e,i,n){var o,a,r,s,l,d={},c=t.dataTypes.slice();if(c[1])for(r in t.converters)d[r.toLowerCase()]=t.converters[r];for(a=c.shift();a;)if(t.responseFields[a]&&(i[t.responseFields[a]]=e),!l&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=a,a=c.shift())if("*"===a)a=l;else if("*"!==l&&l!==a){if(!(r=d[l+" "+a]||d["* "+a]))for(o in d)if(s=o.split(" "),s[1]===a&&(r=d[l+" "+s[0]]||d["* "+s[0]])){!0===r?r=d[o]:!0!==d[o]&&(a=s[0],c.unshift(s[1]));break}if(!0!==r)if(r&&t["throws"])e=r(e);else try{e=r(e)}catch(t){return{state:"parsererror",error:r?t:"No conversion from "+l+" to "+a}}}return{state:"success",data:e}}function X(t){return t.style&&t.style.display||ft.css(t,"display")}function Z(t){if(!ft.contains(t.ownerDocument||nt,t))return!0;for(;t&&1===t.nodeType;){if("none"===X(t)||"hidden"===t.type)return!0;t=t.parentNode}return!1}function Q(t,e,i,n){var o;if(ft.isArray(e))ft.each(e,function(e,o){i||ii.test(t)?n(t,o):Q(t+"["+("object"==typeof o&&null!=o?e:"")+"]",o,i,n)});else if(i||"object"!==ft.type(e))n(t,e);else for(o in e)Q(t+"["+o+"]",e[o],i,n)}function J(){try{return new t.XMLHttpRequest}catch(t){}}function tt(){try{return new t.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function et(t){return ft.isWindow(t)?t:9===t.nodeType&&(t.defaultView||t.parentWindow)}var it=[],nt=t.document,ot=it.slice,at=it.concat,rt=it.push,st=it.indexOf,lt={},dt=lt.toString,ct=lt.hasOwnProperty,ht={},ut="1.12.4",ft=function(t,e){return new ft.fn.init(t,e)},pt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,mt=/^-ms-/,gt=/-([\da-z])/gi,vt=function(t,e){return e.toUpperCase()};ft.fn=ft.prototype={jquery:ut,constructor:ft,selector:"",length:0,toArray:function(){return ot.call(this)},get:function(t){return null!=t?t<0?this[t+this.length]:this[t]:ot.call(this)},pushStack:function(t){var e=ft.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t){return ft.each(this,t)},map:function(t){return this.pushStack(ft.map(this,function(e,i){return t.call(e,i,e)}))},slice:function(){return this.pushStack(ot.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,i=+t+(t<0?e:0);return this.pushStack(i>=0&&i<e?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:rt,sort:it.sort,splice:it.splice},ft.extend=ft.fn.extend=function(){var t,e,i,n,o,a,r=arguments[0]||{},s=1,l=arguments.length,d=!1;for("boolean"==typeof r&&(d=r,r=arguments[s]||{},s++),"object"==typeof r||ft.isFunction(r)||(r={}),s===l&&(r=this,s--);s<l;s++)if(null!=(o=arguments[s]))for(n in o)t=r[n],i=o[n],r!==i&&(d&&i&&(ft.isPlainObject(i)||(e=ft.isArray(i)))?(e?(e=!1,a=t&&ft.isArray(t)?t:[]):a=t&&ft.isPlainObject(t)?t:{},r[n]=ft.extend(d,a,i)):i!==undefined&&(r[n]=i));return r},ft.extend({expando:"jQuery"+(ut+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===ft.type(t)},isArray:Array.isArray||function(t){return"array"===ft.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){var e=t&&t.toString();return!ft.isArray(t)&&e-parseFloat(e)+1>=0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},isPlainObject:function(t){var e;if(!t||"object"!==ft.type(t)||t.nodeType||ft.isWindow(t))return!1;try{if(t.constructor&&!ct.call(t,"constructor")&&!ct.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}if(!ht.ownFirst)for(e in t)return ct.call(t,e);for(e in t);return e===undefined||ct.call(t,e)},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?lt[dt.call(t)]||"object":typeof t},globalEval:function(e){e&&ft.trim(e)&&(t.execScript||function(e){t.eval.call(t,e)})(e)},camelCase:function(t){return t.replace(mt,"ms-").replace(gt,vt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var n,o=0;if(i(t))for(n=t.length;o<n&&!1!==e.call(t[o],o,t[o]);o++);else for(o in t)if(!1===e.call(t[o],o,t[o]))break;return t},trim:function(t){return null==t?"":(t+"").replace(pt,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(i(Object(t))?ft.merge(n,"string"==typeof t?[t]:t):rt.call(n,t)),n},inArray:function(t,e,i){var n;if(e){if(st)return st.call(e,t,i);for(n=e.length,i=i?i<0?Math.max(0,n+i):i:0;i<n;i++)if(i in e&&e[i]===t)return i}return-1},merge:function(t,e){for(var i=+e.length,n=0,o=t.length;n<i;)t[o++]=e[n++];if(i!==i)for(;e[n]!==undefined;)t[o++]=e[n++];return t.length=o,t},grep:function(t,e,i){for(var n=[],o=0,a=t.length,r=!i;o<a;o++)!e(t[o],o)!==r&&n.push(t[o]);return n},map:function(t,e,n){var o,a,r=0,s=[];if(i(t))for(o=t.length;r<o;r++)null!=(a=e(t[r],r,n))&&s.push(a);else for(r in t)null!=(a=e(t[r],r,n))&&s.push(a);return at.apply([],s)},guid:1,proxy:function(t,e){var i,n,o;return"string"==typeof e&&(o=t[e],e=t,t=o),ft.isFunction(t)?(i=ot.call(arguments,2),n=function(){return t.apply(e||this,i.concat(ot.call(arguments)))},n.guid=t.guid=t.guid||ft.guid++,n):undefined},now:function(){return+new Date},support:ht}),"function"==typeof Symbol&&(ft.fn[Symbol.iterator]=it[Symbol.iterator]),ft.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){lt["[object "+e+"]"]=e.toLowerCase()});var bt=function(t){function e(t,e,i,n){var o,a,r,s,l,d,h,f,p=e&&e.ownerDocument,m=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==m&&9!==m&&11!==m)return i;if(!n&&((e?e.ownerDocument||e:$)!==N&&S(e),e=e||N,A)){if(11!==m&&(d=vt.exec(t)))if(o=d[1]){if(9===m){if(!(r=e.getElementById(o)))return i;if(r.id===o)return i.push(r),i}else if(p&&(r=p.getElementById(o))&&P(e,r)&&r.id===o)return i.push(r),i}else{if(d[2])return Q.apply(i,e.getElementsByTagName(t)),i;if((o=d[3])&&C.getElementsByClassName&&e.getElementsByClassName)return Q.apply(i,e.getElementsByClassName(o)),i}if(C.qsa&&!j[t+" "]&&(!M||!M.test(t))){if(1!==m)p=e,f=t;else if("object"!==e.nodeName.toLowerCase()){for((s=e.getAttribute("id"))?s=s.replace(Tt,"\\$&"):e.setAttribute("id",s=B),h=O(t),a=h.length,l=ut.test(s)?"#"+s:"[id='"+s+"']";a--;)h[a]=l+" "+u(h[a]);f=h.join(","),p=bt.test(t)&&c(e.parentNode)||e}if(f)try{return Q.apply(i,p.querySelectorAll(f)),i}catch(t){}finally{s===B&&e.removeAttribute("id")}}}return x(t.replace(st,"$1"),e,i,n)}function i(){function t(i,n){return e.push(i+" ")>y.cacheLength&&delete t[e.shift()],t[i+" "]=n}var e=[];return t}function n(t){return t[B]=!0,t}function o(t){var e=N.createElement("div");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function a(t,e){for(var i=t.split("|"),n=i.length;n--;)y.attrHandle[i[n]]=e}function r(t,e){var i=e&&t,n=i&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||U)-(~t.sourceIndex||U);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function s(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function l(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}function d(t){return n(function(e){return e=+e,n(function(i,n){for(var o,a=t([],i.length,e),r=a.length;r--;)i[o=a[r]]&&(i[o]=!(n[o]=i[o]))})})}function c(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function h(){}function u(t){for(var e=0,i=t.length,n="";e<i;e++)n+=t[e].value;return n}function f(t,e,i){var n=e.dir,o=i&&"parentNode"===n,a=H++;return e.first?function(e,i,a){for(;e=e[n];)if(1===e.nodeType||o)return t(e,i,a)}:function(e,i,r){var s,l,d,c=[z,a];if(r){for(;e=e[n];)if((1===e.nodeType||o)&&t(e,i,r))return!0}else for(;e=e[n];)if(1===e.nodeType||o){if(d=e[B]||(e[B]={}),l=d[e.uniqueID]||(d[e.uniqueID]={}),(s=l[n])&&s[0]===z&&s[1]===a)return c[2]=s[2];if(l[n]=c,c[2]=t(e,i,r))return!0}}}function p(t){return t.length>1?function(e,i,n){for(var o=t.length;o--;)if(!t[o](e,i,n))return!1;return!0}:t[0]}function m(t,i,n){for(var o=0,a=i.length;o<a;o++)e(t,i[o],n);return n}function g(t,e,i,n,o){for(var a,r=[],s=0,l=t.length,d=null!=e;s<l;s++)(a=t[s])&&(i&&!i(a,n,o)||(r.push(a),d&&e.push(s)));return r}function v(t,e,i,o,a,r){return o&&!o[B]&&(o=v(o)),a&&!a[B]&&(a=v(a,r)),n(function(n,r,s,l){var d,c,h,u=[],f=[],p=r.length,v=n||m(e||"*",s.nodeType?[s]:s,[]),b=!t||!n&&e?v:g(v,u,t,s,l),T=i?a||(n?t:p||o)?[]:r:b;if(i&&i(b,T,s,l),o)for(d=g(T,f),o(d,[],s,l),c=d.length;c--;)(h=d[c])&&(T[f[c]]=!(b[f[c]]=h));if(n){if(a||t){if(a){for(d=[],c=T.length;c--;)(h=T[c])&&d.push(b[c]=h);a(null,T=[],d,l)}for(c=T.length;c--;)(h=T[c])&&(d=a?tt(n,h):u[c])>-1&&(n[d]=!(r[d]=h))}}else T=g(T===r?T.splice(p,T.length):T),a?a(null,r,T,l):Q.apply(r,T)})}function b(t){for(var e,i,n,o=t.length,a=y.relative[t[0].type],r=a||y.relative[" "],s=a?1:0,l=f(function(t){return t===e},r,!0),d=f(function(t){return tt(e,t)>-1},r,!0),c=[function(t,i,n){var o=!a&&(n||i!==w)||((e=i).nodeType?l(t,i,n):d(t,i,n));return e=null,o}];s<o;s++)if(i=y.relative[t[s].type])c=[f(p(c),i)];else{if(i=y.filter[t[s].type].apply(null,t[s].matches),i[B]){for(n=++s;n<o&&!y.relative[t[n].type];n++);return v(s>1&&p(c),s>1&&u(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(st,"$1"),i,s<n&&b(t.slice(s,n)),n<o&&b(t=t.slice(n)),n<o&&u(t))}c.push(i)}return p(c)}function T(t,i){var o=i.length>0,a=t.length>0,r=function(n,r,s,l,d){var c,h,u,f=0,p="0",m=n&&[],v=[],b=w,T=n||a&&y.find.TAG("*",d),E=z+=null==b?1:Math.random()||.1,C=T.length;for(d&&(w=r===N||r||d);p!==C&&null!=(c=T[p]);p++){if(a&&c){for(h=0,r||c.ownerDocument===N||(S(c),s=!A);u=t[h++];)if(u(c,r||N,s)){l.push(c);break}d&&(z=E)}o&&((c=!u&&c)&&f--,n&&m.push(c))}if(f+=p,o&&p!==f){for(h=0;u=i[h++];)u(m,v,r,s);if(n){if(f>0)for(;p--;)m[p]||v[p]||(v[p]=X.call(l));v=g(v)}Q.apply(l,v),d&&!n&&v.length>0&&f+i.length>1&&e.uniqueSort(l)}return d&&(z=E,w=b),m};return o?n(r):r}var E,C,y,D,I,O,R,x,w,k,_,S,N,K,A,M,L,F,P,B="sizzle"+1*new Date,$=t.document,z=0,H=0,W=i(),q=i(),j=i(),V=function(t,e){return t===e&&(_=!0),0},U=1<<31,Y={}.hasOwnProperty,G=[],X=G.pop,Z=G.push,Q=G.push,J=G.slice,tt=function(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",it="[\\x20\\t\\r\\n\\f]",nt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ot="\\["+it+"*("+nt+")(?:"+it+"*([*^$|!~]?=)"+it+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+nt+"))|)"+it+"*\\]",at=":("+nt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ot+")*)|.*)\\)|)",rt=new RegExp(it+"+","g"),st=new RegExp("^"+it+"+|((?:^|[^\\\\])(?:\\\\.)*)"+it+"+$","g"),lt=new RegExp("^"+it+"*,"+it+"*"),dt=new RegExp("^"+it+"*([>+~]|"+it+")"+it+"*"),ct=new RegExp("="+it+"*([^\\]'\"]*?)"+it+"*\\]","g"),ht=new RegExp(at),ut=new RegExp("^"+nt+"$"),ft={ID:new RegExp("^#("+nt+")"),CLASS:new RegExp("^\\.("+nt+")"),TAG:new RegExp("^("+nt+"|[*])"),ATTR:new RegExp("^"+ot),PSEUDO:new RegExp("^"+at),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+it+"*(even|odd|(([+-]|)(\\d*)n|)"+it+"*(?:([+-]|)"+it+"*(\\d+)|))"+it+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+it+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+it+"*((?:-\\d)?\\d*)"+it+"*\\)|)(?=[^-]|$)","i")},pt=/^(?:input|select|textarea|button)$/i,mt=/^h\d$/i,gt=/^[^{]+\{\s*\[native \w/,vt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,bt=/[+~]/,Tt=/'|\\/g,Et=new RegExp("\\\\([\\da-f]{1,6}"+it+"?|("+it+")|.)","ig"),Ct=function(t,e,i){var n="0x"+e-65536;return n!==n||i?e:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},yt=function(){S()};try{Q.apply(G=J.call($.childNodes),$.childNodes),G[$.childNodes.length].nodeType}catch(t){Q={apply:G.length?function(t,e){Z.apply(t,J.call(e))}:function(t,e){for(var i=t.length,n=0;t[i++]=e[n++];);t.length=i-1}}}C=e.support={},I=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},S=e.setDocument=function(t){var e,i,n=t?t.ownerDocument||t:$;return n!==N&&9===n.nodeType&&n.documentElement?(N=n,K=N.documentElement,A=!I(N),(i=N.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",yt,!1):i.attachEvent&&i.attachEvent("onunload",yt)),C.attributes=o(function(t){return t.className="i",!t.getAttribute("className")}),C.getElementsByTagName=o(function(t){return t.appendChild(N.createComment("")),!t.getElementsByTagName("*").length}),C.getElementsByClassName=gt.test(N.getElementsByClassName),C.getById=o(function(t){return K.appendChild(t).id=B,!N.getElementsByName||!N.getElementsByName(B).length}),C.getById?(y.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&A){var i=e.getElementById(t);return i?[i]:[]}},y.filter.ID=function(t){var e=t.replace(Et,Ct);return function(t){return t.getAttribute("id")===e}}):(delete y.find.ID,y.filter.ID=function(t){var e=t.replace(Et,Ct);return function(t){var i="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return i&&i.value===e}}),y.find.TAG=C.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):C.qsa?e.querySelectorAll(t):void 0}:function(t,e){var i,n=[],o=0,a=e.getElementsByTagName(t);if("*"===t){for(;i=a[o++];)1===i.nodeType&&n.push(i);return n}return a},y.find.CLASS=C.getElementsByClassName&&function(t,e){if("undefined"!=typeof e.getElementsByClassName&&A)return e.getElementsByClassName(t)},L=[],M=[],(C.qsa=gt.test(N.querySelectorAll))&&(o(function(t){K.appendChild(t).innerHTML="<a id='"+B+"'></a><select id='"+B+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&M.push("[*^$]="+it+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||M.push("\\["+it+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+B+"-]").length||M.push("~="),t.querySelectorAll(":checked").length||M.push(":checked"),t.querySelectorAll("a#"+B+"+*").length||M.push(".#.+[+~]")}),o(function(t){var e=N.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&M.push("name"+it+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||M.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),M.push(",.*:")})),(C.matchesSelector=gt.test(F=K.matches||K.webkitMatchesSelector||K.mozMatchesSelector||K.oMatchesSelector||K.msMatchesSelector))&&o(function(t){C.disconnectedMatch=F.call(t,"div"),F.call(t,"[s!='']:x"),L.push("!=",at)}),M=M.length&&new RegExp(M.join("|")),L=L.length&&new RegExp(L.join("|")),e=gt.test(K.compareDocumentPosition),P=e||gt.test(K.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},V=e?function(t,e){if(t===e)return _=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&i||!C.sortDetached&&e.compareDocumentPosition(t)===i?t===N||t.ownerDocument===$&&P($,t)?-1:e===N||e.ownerDocument===$&&P($,e)?1:k?tt(k,t)-tt(k,e):0:4&i?-1:1)}:function(t,e){if(t===e)return _=!0,0;var i,n=0,o=t.parentNode,a=e.parentNode,s=[t],l=[e];if(!o||!a)return t===N?-1:e===N?1:o?-1:a?1:k?tt(k,t)-tt(k,e):0;if(o===a)return r(t,e);for(i=t;i=i.parentNode;)s.unshift(i);for(i=e;i=i.parentNode;)l.unshift(i);for(;s[n]===l[n];)n++;return n?r(s[n],l[n]):s[n]===$?-1:l[n]===$?1:0},N):N},e.matches=function(t,i){return e(t,null,null,i)},e.matchesSelector=function(t,i){if((t.ownerDocument||t)!==N&&S(t),i=i.replace(ct,"='$1']"),C.matchesSelector&&A&&!j[i+" "]&&(!L||!L.test(i))&&(!M||!M.test(i)))try{var n=F.call(t,i);if(n||C.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(t){}return e(i,N,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==N&&S(t),P(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==N&&S(t);var i=y.attrHandle[e.toLowerCase()],n=i&&Y.call(y.attrHandle,e.toLowerCase())?i(t,e,!A):undefined;return n!==undefined?n:C.attributes||!A?t.getAttribute(e):(n=t.getAttributeNode(e))&&n.specified?n.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,i=[],n=0,o=0;if(_=!C.detectDuplicates,k=!C.sortStable&&t.slice(0),t.sort(V),_){for(;e=t[o++];)e===t[o]&&(n=i.push(o));for(;n--;)t.splice(i[n],1)}return k=null,t},D=e.getText=function(t){var e,i="",n=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=D(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[n++];)i+=D(e);return i},y=e.selectors={cacheLength:50,createPseudo:n,match:ft,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(Et,Ct),t[3]=(t[3]||t[4]||t[5]||"").replace(Et,Ct),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return ft.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&ht.test(i)&&(e=O(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(Et,Ct).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=W[t+" "]
;return e||(e=new RegExp("(^|"+it+")"+t+"("+it+"|$)"))&&W(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,i,n){return function(o){var a=e.attr(o,t);return null==a?"!="===i:!i||(a+="","="===i?a===n:"!="===i?a!==n:"^="===i?n&&0===a.indexOf(n):"*="===i?n&&a.indexOf(n)>-1:"$="===i?n&&a.slice(-n.length)===n:"~="===i?(" "+a.replace(rt," ")+" ").indexOf(n)>-1:"|="===i&&(a===n||a.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,i,n,o){var a="nth"!==t.slice(0,3),r="last"!==t.slice(-4),s="of-type"===e;return 1===n&&0===o?function(t){return!!t.parentNode}:function(e,i,l){var d,c,h,u,f,p,m=a!==r?"nextSibling":"previousSibling",g=e.parentNode,v=s&&e.nodeName.toLowerCase(),b=!l&&!s,T=!1;if(g){if(a){for(;m;){for(u=e;u=u[m];)if(s?u.nodeName.toLowerCase()===v:1===u.nodeType)return!1;p=m="only"===t&&!p&&"nextSibling"}return!0}if(p=[r?g.firstChild:g.lastChild],r&&b){for(u=g,h=u[B]||(u[B]={}),c=h[u.uniqueID]||(h[u.uniqueID]={}),d=c[t]||[],f=d[0]===z&&d[1],T=f&&d[2],u=f&&g.childNodes[f];u=++f&&u&&u[m]||(T=f=0)||p.pop();)if(1===u.nodeType&&++T&&u===e){c[t]=[z,f,T];break}}else if(b&&(u=e,h=u[B]||(u[B]={}),c=h[u.uniqueID]||(h[u.uniqueID]={}),d=c[t]||[],f=d[0]===z&&d[1],T=f),!1===T)for(;(u=++f&&u&&u[m]||(T=f=0)||p.pop())&&((s?u.nodeName.toLowerCase()!==v:1!==u.nodeType)||!++T||(b&&(h=u[B]||(u[B]={}),c=h[u.uniqueID]||(h[u.uniqueID]={}),c[t]=[z,T]),u!==e)););return(T-=o)===n||T%n==0&&T/n>=0}}},PSEUDO:function(t,i){var o,a=y.pseudos[t]||y.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return a[B]?a(i):a.length>1?(o=[t,t,"",i],y.setFilters.hasOwnProperty(t.toLowerCase())?n(function(t,e){for(var n,o=a(t,i),r=o.length;r--;)n=tt(t,o[r]),t[n]=!(e[n]=o[r])}):function(t){return a(t,0,o)}):a}},pseudos:{not:n(function(t){var e=[],i=[],o=R(t.replace(st,"$1"));return o[B]?n(function(t,e,i,n){for(var a,r=o(t,null,n,[]),s=t.length;s--;)(a=r[s])&&(t[s]=!(e[s]=a))}):function(t,n,a){return e[0]=t,o(e,null,a,i),e[0]=null,!i.pop()}}),has:n(function(t){return function(i){return e(t,i).length>0}}),contains:n(function(t){return t=t.replace(Et,Ct),function(e){return(e.textContent||e.innerText||D(e)).indexOf(t)>-1}}),lang:n(function(t){return ut.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(Et,Ct).toLowerCase(),function(e){var i;do{if(i=A?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(i=i.toLowerCase())===t||0===i.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var i=t.location&&t.location.hash;return i&&i.slice(1)===e.id},root:function(t){return t===K},focus:function(t){return t===N.activeElement&&(!N.hasFocus||N.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!y.pseudos.empty(t)},header:function(t){return mt.test(t.nodeName)},input:function(t){return pt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:d(function(){return[0]}),last:d(function(t,e){return[e-1]}),eq:d(function(t,e,i){return[i<0?i+e:i]}),even:d(function(t,e){for(var i=0;i<e;i+=2)t.push(i);return t}),odd:d(function(t,e){for(var i=1;i<e;i+=2)t.push(i);return t}),lt:d(function(t,e,i){for(var n=i<0?i+e:i;--n>=0;)t.push(n);return t}),gt:d(function(t,e,i){for(var n=i<0?i+e:i;++n<e;)t.push(n);return t})}},y.pseudos.nth=y.pseudos.eq;for(E in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})y.pseudos[E]=s(E);for(E in{submit:!0,reset:!0})y.pseudos[E]=l(E);return h.prototype=y.filters=y.pseudos,y.setFilters=new h,O=e.tokenize=function(t,i){var n,o,a,r,s,l,d,c=q[t+" "];if(c)return i?0:c.slice(0);for(s=t,l=[],d=y.preFilter;s;){n&&!(o=lt.exec(s))||(o&&(s=s.slice(o[0].length)||s),l.push(a=[])),n=!1,(o=dt.exec(s))&&(n=o.shift(),a.push({value:n,type:o[0].replace(st," ")}),s=s.slice(n.length));for(r in y.filter)!(o=ft[r].exec(s))||d[r]&&!(o=d[r](o))||(n=o.shift(),a.push({value:n,type:r,matches:o}),s=s.slice(n.length));if(!n)break}return i?s.length:s?e.error(t):q(t,l).slice(0)},R=e.compile=function(t,e){var i,n=[],o=[],a=j[t+" "];if(!a){for(e||(e=O(t)),i=e.length;i--;)a=b(e[i]),a[B]?n.push(a):o.push(a);a=j(t,T(o,n)),a.selector=t}return a},x=e.select=function(t,e,i,n){var o,a,r,s,l,d="function"==typeof t&&t,h=!n&&O(t=d.selector||t);if(i=i||[],1===h.length){if(a=h[0]=h[0].slice(0),a.length>2&&"ID"===(r=a[0]).type&&C.getById&&9===e.nodeType&&A&&y.relative[a[1].type]){if(!(e=(y.find.ID(r.matches[0].replace(Et,Ct),e)||[])[0]))return i;d&&(e=e.parentNode),t=t.slice(a.shift().value.length)}for(o=ft.needsContext.test(t)?0:a.length;o--&&(r=a[o],!y.relative[s=r.type]);)if((l=y.find[s])&&(n=l(r.matches[0].replace(Et,Ct),bt.test(a[0].type)&&c(e.parentNode)||e))){if(a.splice(o,1),!(t=n.length&&u(a)))return Q.apply(i,n),i;break}}return(d||R(t,h))(n,e,!A,i,!e||bt.test(t)&&c(e.parentNode)||e),i},C.sortStable=B.split("").sort(V).join("")===B,C.detectDuplicates=!!_,S(),C.sortDetached=o(function(t){return 1&t.compareDocumentPosition(N.createElement("div"))}),o(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||a("type|href|height|width",function(t,e,i){if(!i)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),C.attributes&&o(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||a("value",function(t,e,i){if(!i&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),o(function(t){return null==t.getAttribute("disabled")})||a(et,function(t,e,i){var n;if(!i)return!0===t[e]?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null}),e}(t);ft.find=bt,ft.expr=bt.selectors,ft.expr[":"]=ft.expr.pseudos,ft.uniqueSort=ft.unique=bt.uniqueSort,ft.text=bt.getText,ft.isXMLDoc=bt.isXML,ft.contains=bt.contains;var Tt=function(t,e,i){for(var n=[],o=i!==undefined;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(o&&ft(t).is(i))break;n.push(t)}return n},Et=function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i},Ct=ft.expr.match.needsContext,yt=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Dt=/^.[^:#\[\.,]*$/;ft.filter=function(t,e,i){var n=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?ft.find.matchesSelector(n,t)?[n]:[]:ft.find.matches(t,ft.grep(e,function(t){return 1===t.nodeType}))},ft.fn.extend({find:function(t){var e,i=[],n=this,o=n.length;if("string"!=typeof t)return this.pushStack(ft(t).filter(function(){for(e=0;e<o;e++)if(ft.contains(n[e],this))return!0}));for(e=0;e<o;e++)ft.find(t,n[e],i);return i=this.pushStack(o>1?ft.unique(i):i),i.selector=this.selector?this.selector+" "+t:t,i},filter:function(t){return this.pushStack(n(this,t||[],!1))},not:function(t){return this.pushStack(n(this,t||[],!0))},is:function(t){return!!n(this,"string"==typeof t&&Ct.test(t)?ft(t):t||[],!1).length}});var It,Ot=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(ft.fn.init=function(t,e,i){var n,o;if(!t)return this;if(i=i||It,"string"==typeof t){if(!(n="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:Ot.exec(t))||!n[1]&&e)return!e||e.jquery?(e||i).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof ft?e[0]:e,ft.merge(this,ft.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:nt,!0)),yt.test(n[1])&&ft.isPlainObject(e))for(n in e)ft.isFunction(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}if((o=nt.getElementById(n[2]))&&o.parentNode){if(o.id!==n[2])return It.find(t);this.length=1,this[0]=o}return this.context=nt,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):ft.isFunction(t)?"undefined"!=typeof i.ready?i.ready(t):t(ft):(t.selector!==undefined&&(this.selector=t.selector,this.context=t.context),ft.makeArray(t,this))}).prototype=ft.fn,It=ft(nt);var Rt=/^(?:parents|prev(?:Until|All))/,xt={children:!0,contents:!0,next:!0,prev:!0};ft.fn.extend({has:function(t){var e,i=ft(t,this),n=i.length;return this.filter(function(){for(e=0;e<n;e++)if(ft.contains(this,i[e]))return!0})},closest:function(t,e){for(var i,n=0,o=this.length,a=[],r=Ct.test(t)||"string"!=typeof t?ft(t,e||this.context):0;n<o;n++)for(i=this[n];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(r?r.index(i)>-1:1===i.nodeType&&ft.find.matchesSelector(i,t))){a.push(i);break}return this.pushStack(a.length>1?ft.uniqueSort(a):a)},index:function(t){return t?"string"==typeof t?ft.inArray(this[0],ft(t)):ft.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(ft.uniqueSort(ft.merge(this.get(),ft(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),ft.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return Tt(t,"parentNode")},parentsUntil:function(t,e,i){return Tt(t,"parentNode",i)},next:function(t){return o(t,"nextSibling")},prev:function(t){return o(t,"previousSibling")},nextAll:function(t){return Tt(t,"nextSibling")},prevAll:function(t){return Tt(t,"previousSibling")},nextUntil:function(t,e,i){return Tt(t,"nextSibling",i)},prevUntil:function(t,e,i){return Tt(t,"previousSibling",i)},siblings:function(t){return Et((t.parentNode||{}).firstChild,t)},children:function(t){return Et(t.firstChild)},contents:function(t){return ft.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:ft.merge([],t.childNodes)}},function(t,e){ft.fn[t]=function(i,n){var o=ft.map(this,e,i);return"Until"!==t.slice(-5)&&(n=i),n&&"string"==typeof n&&(o=ft.filter(n,o)),this.length>1&&(xt[t]||(o=ft.uniqueSort(o)),Rt.test(t)&&(o=o.reverse())),this.pushStack(o)}});var wt=/\S+/g;ft.Callbacks=function(t){t="string"==typeof t?a(t):ft.extend({},t);var e,i,n,o,r=[],s=[],l=-1,d=function(){for(o=t.once,n=e=!0;s.length;l=-1)for(i=s.shift();++l<r.length;)!1===r[l].apply(i[0],i[1])&&t.stopOnFalse&&(l=r.length,i=!1);t.memory||(i=!1),e=!1,o&&(r=i?[]:"")},c={add:function(){return r&&(i&&!e&&(l=r.length-1,s.push(i)),function e(i){ft.each(i,function(i,n){ft.isFunction(n)?t.unique&&c.has(n)||r.push(n):n&&n.length&&"string"!==ft.type(n)&&e(n)})}(arguments),i&&!e&&d()),this},remove:function(){return ft.each(arguments,function(t,e){for(var i;(i=ft.inArray(e,r,i))>-1;)r.splice(i,1),i<=l&&l--}),this},has:function(t){return t?ft.inArray(t,r)>-1:r.length>0},empty:function(){return r&&(r=[]),this},disable:function(){return o=s=[],r=i="",this},disabled:function(){return!r},lock:function(){return o=!0,i||c.disable(),this},locked:function(){return!!o},fireWith:function(t,i){return o||(i=i||[],i=[t,i.slice?i.slice():i],s.push(i),e||d()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!n}};return c},ft.extend({Deferred:function(t){var e=[["resolve","done",ft.Callbacks("once memory"),"resolved"],["reject","fail",ft.Callbacks("once memory"),"rejected"],["notify","progress",ft.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var t=arguments;return ft.Deferred(function(i){ft.each(e,function(e,a){var r=ft.isFunction(t[e])&&t[e];o[a[1]](function(){var t=r&&r.apply(this,arguments);t&&ft.isFunction(t.promise)?t.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[a[0]+"With"](this===n?i.promise():this,r?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?ft.extend(t,n):n}},o={};return n.pipe=n.then,ft.each(e,function(t,a){var r=a[2],s=a[3];n[a[1]]=r.add,s&&r.add(function(){i=s},e[1^t][2].disable,e[2][2].lock),o[a[0]]=function(){return o[a[0]+"With"](this===o?n:this,arguments),this},o[a[0]+"With"]=r.fireWith}),n.promise(o),t&&t.call(o,o),o},when:function(t){var e,i,n,o=0,a=ot.call(arguments),r=a.length,s=1!==r||t&&ft.isFunction(t.promise)?r:0,l=1===s?t:ft.Deferred(),d=function(t,i,n){return function(o){i[t]=this,n[t]=arguments.length>1?ot.call(arguments):o,n===e?l.notifyWith(i,n):--s||l.resolveWith(i,n)}};if(r>1)for(e=new Array(r),i=new Array(r),n=new Array(r);o<r;o++)a[o]&&ft.isFunction(a[o].promise)?a[o].promise().progress(d(o,i,e)).done(d(o,n,a)).fail(l.reject):--s;return s||l.resolveWith(n,a),l.promise()}});var kt;ft.fn.ready=function(t){return ft.ready.promise().done(t),this},ft.extend({isReady:!1,readyWait:1,holdReady:function(t){t?ft.readyWait++:ft.ready(!0)},ready:function(t){(!0===t?--ft.readyWait:ft.isReady)||(ft.isReady=!0,!0!==t&&--ft.readyWait>0||(kt.resolveWith(nt,[ft]),ft.fn.triggerHandler&&(ft(nt).triggerHandler("ready"),ft(nt).off("ready"))))}}),ft.ready.promise=function(e){if(!kt)if(kt=ft.Deferred(),"complete"===nt.readyState||"loading"!==nt.readyState&&!nt.documentElement.doScroll)t.setTimeout(ft.ready);else if(nt.addEventListener)nt.addEventListener("DOMContentLoaded",s),t.addEventListener("load",s);else{nt.attachEvent("onreadystatechange",s),t.attachEvent("onload",s);var i=!1;try{i=null==t.frameElement&&nt.documentElement}catch(t){}i&&i.doScroll&&function e(){if(!ft.isReady){try{i.doScroll("left")}catch(i){return t.setTimeout(e,50)}r(),ft.ready()}}()}return kt.promise(e)},ft.ready.promise();var _t;for(_t in ft(ht))break;ht.ownFirst="0"===_t,ht.inlineBlockNeedsLayout=!1,ft(function(){var t,e,i,n;(i=nt.getElementsByTagName("body")[0])&&i.style&&(e=nt.createElement("div"),n=nt.createElement("div"),n.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(n).appendChild(e),"undefined"!=typeof e.style.zoom&&(e.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",ht.inlineBlockNeedsLayout=t=3===e.offsetWidth,t&&(i.style.zoom=1)),i.removeChild(n))}),function(){var t=nt.createElement("div");ht.deleteExpando=!0;try{delete t.test}catch(t){ht.deleteExpando=!1}t=null}();var St=function(t){var e=ft.noData[(t.nodeName+" ").toLowerCase()],i=+t.nodeType||1;return(1===i||9===i)&&(!e||!0!==e&&t.getAttribute("classid")===e)},Nt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Kt=/([A-Z])/g;ft.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(t){return!!(t=t.nodeType?ft.cache[t[ft.expando]]:t[ft.expando])&&!d(t)},data:function(t,e,i){return c(t,e,i)},removeData:function(t,e){return h(t,e)},_data:function(t,e,i){return c(t,e,i,!0)},_removeData:function(t,e){return h(t,e,!0)}}),ft.fn.extend({data:function(t,e){var i,n,o,a=this[0],r=a&&a.attributes;if(t===undefined){if(this.length&&(o=ft.data(a),1===a.nodeType&&!ft._data(a,"parsedAttrs"))){for(i=r.length;i--;)r[i]&&(n=r[i].name,0===n.indexOf("data-")&&(n=ft.camelCase(n.slice(5)),l(a,n,o[n])));ft._data(a,"parsedAttrs",!0)}return o}return"object"==typeof t?this.each(function(){ft.data(this,t)}):arguments.length>1?this.each(function(){ft.data(this,t,e)}):a?l(a,t,ft.data(a,t)):undefined},removeData:function(t){return this.each(function(){ft.removeData(this,t)})}}),ft.extend({queue:function(t,e,i){var n;if(t)return e=(e||"fx")+"queue",n=ft._data(t,e),i&&(!n||ft.isArray(i)?n=ft._data(t,e,ft.makeArray(i)):n.push(i)),n||[]},dequeue:function(t,e){e=e||"fx";var i=ft.queue(t,e),n=i.length,o=i.shift(),a=ft._queueHooks(t,e),r=function(){ft.dequeue(t,e)};"inprogress"===o&&(o=i.shift(),n--),o&&("fx"===e&&i.unshift("inprogress"),delete a.stop,o.call(t,r,a)),!n&&a&&a.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return ft._data(t,i)||ft._data(t,i,{empty:ft.Callbacks("once memory").add(function(){ft._removeData(t,e+"queue"),ft._removeData(t,i)})})}}),ft.fn.extend({queue:function(t,e){var i=2;return"string"!=typeof t&&(e=t,t="fx",i--),arguments.length<i?ft.queue(this[0],t):e===undefined?this:this.each(function(){var i=ft.queue(this,t,e);ft._queueHooks(this,t),"fx"===t&&"inprogress"!==i[0]&&ft.dequeue(this,t)})},dequeue:function(t){return this.each(function(){ft.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var i,n=1,o=ft.Deferred(),a=this,r=this.length,s=function(){--n||o.resolveWith(a,[a])};for("string"!=typeof t&&(e=t,t=undefined),t=t||"fx";r--;)(i=ft._data(a[r],t+"queueHooks"))&&i.empty&&(n++,i.empty.add(s));return s(),o.promise(e)}}),function(){var t;ht.shrinkWrapBlocks=function(){if(null!=t)return t;t=!1;var e,i,n;return(i=nt.getElementsByTagName("body")[0])&&i.style?(e=nt.createElement("div"),n=nt.createElement("div"),n.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(n).appendChild(e),"undefined"!=typeof e.style.zoom&&(e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",e.appendChild(nt.createElement("div")).style.width="5px",t=3!==e.offsetWidth),i.removeChild(n),t):void 0}}();var At=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Mt=new RegExp("^(?:([+-])=|)("+At+")([a-z%]*)$","i"),Lt=["Top","Right","Bottom","Left"],Ft=function(t,e){return t=e||t,"none"===ft.css(t,"display")||!ft.contains(t.ownerDocument,t)},Pt=function(t,e,i,n,o,a,r){var s=0,l=t.length,d=null==i;if("object"===ft.type(i)){o=!0;for(s in i)Pt(t,e,s,i[s],!0,a,r)}else if(n!==undefined&&(o=!0,ft.isFunction(n)||(r=!0),d&&(r?(e.call(t,n),e=null):(d=e,e=function(t,e,i){return d.call(ft(t),i)})),e))for(;s<l;s++)e(t[s],i,r?n:n.call(t[s],s,e(t[s],i)));return o?t:d?e.call(t):l?e(t[0],i):a},Bt=/^(?:checkbox|radio)$/i,$t=/<([\w:-]+)/,zt=/^$|\/(?:java|ecma)script/i,Ht=/^\s+/,Wt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";!function(){var t=nt.createElement("div"),e=nt.createDocumentFragment(),i=nt.createElement("input");t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",ht.leadingWhitespace=3===t.firstChild.nodeType,ht.tbody=!t.getElementsByTagName("tbody").length,ht.htmlSerialize=!!t.getElementsByTagName("link").length,ht.html5Clone="<:nav></:nav>"!==nt.createElement("nav").cloneNode(!0).outerHTML,i.type="checkbox",i.checked=!0,e.appendChild(i),ht.appendChecked=i.checked,t.innerHTML="<textarea>x</textarea>",ht.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,e.appendChild(t),i=nt.createElement("input"),i.setAttribute("type","radio"),i.setAttribute("checked","checked"),i.setAttribute("name","t"),t.appendChild(i),ht.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,ht.noCloneEvent=!!t.addEventListener,t[ft.expando]=1,ht.attributes=!t.getAttribute(ft.expando)}();var qt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ht.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};qt.optgroup=qt.option,qt.tbody=qt.tfoot=qt.colgroup=qt.caption=qt.thead,qt.th=qt.td;var jt=/<|&#?\w+;/,Vt=/<tbody/i;!function(){var e,i,n=nt.createElement("div");for(e in{submit:!0,change:!0,focusin:!0})i="on"+e,(ht[e]=i in t)||(n.setAttribute(i,"t"),ht[e]=!1===n.attributes[i].expando);n=null}();var Ut=/^(?:input|select|textarea)$/i,Yt=/^key/,Gt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Xt=/^(?:focusinfocus|focusoutblur)$/,Zt=/^([^.]*)(?:\.(.+)|)/;ft.event={global:{},add:function(t,e,i,n,o){var a,r,s,l,d,c,h,u,f,p,m,g=ft._data(t);if(g){for(i.handler&&(l=i,i=l.handler,o=l.selector),i.guid||(i.guid=ft.guid++),(r=g.events)||(r=g.events={}),(c=g.handle)||(c=g.handle=function(t){return void 0===ft||t&&ft.event.triggered===t.type?undefined:ft.event.dispatch.apply(c.elem,arguments)},c.elem=t),e=(e||"").match(wt)||[""],s=e.length;s--;)a=Zt.exec(e[s])||[],f=m=a[1],p=(a[2]||"").split(".").sort(),f&&(d=ft.event.special[f]||{},f=(o?d.delegateType:d.bindType)||f,d=ft.event.special[f]||{},h=ft.extend({type:f,origType:m,data:n,handler:i,guid:i.guid,selector:o,needsContext:o&&ft.expr.match.needsContext.test(o),namespace:p.join(".")},l),(u=r[f])||(u=r[f]=[],u.delegateCount=0,d.setup&&!1!==d.setup.call(t,n,p,c)||(t.addEventListener?t.addEventListener(f,c,!1):t.attachEvent&&t.attachEvent("on"+f,c))),d.add&&(d.add.call(t,h),h.handler.guid||(h.handler.guid=i.guid)),o?u.splice(u.delegateCount++,0,h):u.push(h),ft.event.global[f]=!0);t=null}},remove:function(t,e,i,n,o){var a,r,s,l,d,c,h,u,f,p,m,g=ft.hasData(t)&&ft._data(t);if(g&&(c=g.events)){for(e=(e||"").match(wt)||[""],d=e.length;d--;)if(s=Zt.exec(e[d])||[],f=m=s[1],p=(s[2]||"").split(".").sort(),f){for(h=ft.event.special[f]||{},f=(n?h.delegateType:h.bindType)||f,u=c[f]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=a=u.length;a--;)r=u[a],!o&&m!==r.origType||i&&i.guid!==r.guid||s&&!s.test(r.namespace)||n&&n!==r.selector&&("**"!==n||!r.selector)||(u.splice(a,1),r.selector&&u.delegateCount--,h.remove&&h.remove.call(t,r));l&&!u.length&&(h.teardown&&!1!==h.teardown.call(t,p,g.handle)||ft.removeEvent(t,f,g.handle),delete c[f])}else for(f in c)ft.event.remove(t,f+e[d],i,n,!0);ft.isEmptyObject(c)&&(delete g.handle,ft._removeData(t,"events"))}},trigger:function(e,i,n,o){var a,r,s,l,d,c,h,u=[n||nt],f=ct.call(e,"type")?e.type:e,p=ct.call(e,"namespace")?e.namespace.split("."):[];if(s=c=n=n||nt,3!==n.nodeType&&8!==n.nodeType&&!Xt.test(f+ft.event.triggered)&&(f.indexOf(".")>-1&&(p=f.split("."),f=p.shift(),p.sort()),r=f.indexOf(":")<0&&"on"+f,e=e[ft.expando]?e:new ft.Event(f,"object"==typeof e&&e),e.isTrigger=o?2:3,e.namespace=p.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=undefined,e.target||(e.target=n),i=null==i?[e]:ft.makeArray(i,[e]),d=ft.event.special[f]||{},o||!d.trigger||!1!==d.trigger.apply(n,i))){if(!o&&!d.noBubble&&!ft.isWindow(n)){for(l=d.delegateType||f,Xt.test(l+f)||(s=s.parentNode);s;s=s.parentNode)u.push(s),c=s;c===(n.ownerDocument||nt)&&u.push(c.defaultView||c.parentWindow||t)}for(h=0;(s=u[h++])&&!e.isPropagationStopped();)e.type=h>1?l:d.bindType||f,a=(ft._data(s,"events")||{})[e.type]&&ft._data(s,"handle"),a&&a.apply(s,i),(a=r&&s[r])&&a.apply&&St(s)&&(e.result=a.apply(s,i),!1===e.result&&e.preventDefault());if(e.type=f,!o&&!e.isDefaultPrevented()&&(!d._default||!1===d._default.apply(u.pop(),i))&&St(n)&&r&&n[f]&&!ft.isWindow(n)){c=n[r],c&&(n[r]=null),ft.event.triggered=f;try{n[f]()}catch(t){}ft.event.triggered=undefined,c&&(n[r]=c)}return e.result}},dispatch:function(t){t=ft.event.fix(t);var e,i,n,o,a,r=[],s=ot.call(arguments),l=(ft._data(this,"events")||{})[t.type]||[],d=ft.event.special[t.type]||{};if(s[0]=t,t.delegateTarget=this,!d.preDispatch||!1!==d.preDispatch.call(this,t)){for(r=ft.event.handlers.call(this,t,l),e=0;(o=r[e++])&&!t.isPropagationStopped();)for(t.currentTarget=o.elem,i=0;(a=o.handlers[i++])&&!t.isImmediatePropagationStopped();)t.rnamespace&&!t.rnamespace.test(a.namespace)||(t.handleObj=a,t.data=a.data,(n=((ft.event.special[a.origType]||{}).handle||a.handler).apply(o.elem,s))!==undefined&&!1===(t.result=n)&&(t.preventDefault(),t.stopPropagation()));return d.postDispatch&&d.postDispatch.call(this,t),t.result}},handlers:function(t,e){var i,n,o,a,r=[],s=e.delegateCount,l=t.target;if(s&&l.nodeType&&("click"!==t.type||isNaN(t.button)||t.button<1))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==t.type)){for(n=[],i=0;i<s;i++)a=e[i],o=a.selector+" ",n[o]===undefined&&(n[o]=a.needsContext?ft(o,this).index(l)>-1:ft.find(o,this,null,[l]).length),n[o]&&n.push(a);n.length&&r.push({elem:l,handlers:n})}return s<e.length&&r.push({elem:this,handlers:e.slice(s)}),r},fix:function(t){if(t[ft.expando])return t;var e,i,n,o=t.type,a=t,r=this.fixHooks[o];for(r||(this.fixHooks[o]=r=Gt.test(o)?this.mouseHooks:Yt.test(o)?this.keyHooks:{}),n=r.props?this.props.concat(r.props):this.props,t=new ft.Event(a),e=n.length;e--;)i=n[e],t[i]=a[i];return t.target||(t.target=a.srcElement||nt),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,r.filter?r.filter(t,a):t},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var i,n,o,a=e.button,r=e.fromElement;return null==t.pageX&&null!=e.clientX&&(n=t.target.ownerDocument||nt,o=n.documentElement,i=n.body,t.pageX=e.clientX+(o&&o.scrollLeft||i&&i.scrollLeft||0)-(o&&o.clientLeft||i&&i.clientLeft||0),t.pageY=e.clientY+(o&&o.scrollTop||i&&i.scrollTop||0)-(o&&o.clientTop||i&&i.clientTop||0)),!t.relatedTarget&&r&&(t.relatedTarget=r===t.target?e.toElement:r),t.which||a===undefined||(t.which=1&a?1:2&a?3:4&a?2:0),t}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==E()&&this.focus)try{return this.focus(),!1}catch(t){}},delegateType:"focusin"},blur:{trigger:function(){if(this===E()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(ft.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(t){return ft.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){t.result!==undefined&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,i){var n=ft.extend(new ft.Event,i,{type:t,isSimulated:!0});ft.event.trigger(n,null,e),n.isDefaultPrevented()&&i.preventDefault()}},ft.removeEvent=nt.removeEventListener?function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i)}:function(t,e,i){var n="on"+e;t.detachEvent&&("undefined"==typeof t[n]&&(t[n]=null),t.detachEvent(n,i))},ft.Event=function(t,e){if(!(this instanceof ft.Event))return new ft.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||t.defaultPrevented===undefined&&!1===t.returnValue?b:T):this.type=t,e&&ft.extend(this,e),this.timeStamp=t&&t.timeStamp||ft.now(),this[ft.expando]=!0},ft.Event.prototype={constructor:ft.Event,isDefaultPrevented:T,isPropagationStopped:T,isImmediatePropagationStopped:T,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=b,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=b,t&&!this.isSimulated&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=b,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},ft.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){ft.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=this,o=t.relatedTarget,a=t.handleObj;return o&&(o===n||ft.contains(n,o))||(t.type=a.origType,i=a.handler.apply(this,arguments),t.type=e),i}}}),ht.submit||(ft.event.special.submit={setup:function(){if(ft.nodeName(this,"form"))return!1;ft.event.add(this,"click._submit keypress._submit",function(t){var e=t.target,i=ft.nodeName(e,"input")||ft.nodeName(e,"button")?ft.prop(e,"form"):undefined;i&&!ft._data(i,"submit")&&(ft.event.add(i,"submit._submit",function(t){t._submitBubble=!0}),ft._data(i,"submit",!0))})},postDispatch:function(t){t._submitBubble&&(delete t._submitBubble,this.parentNode&&!t.isTrigger&&ft.event.simulate("submit",this.parentNode,t))},teardown:function(){if(ft.nodeName(this,"form"))return!1;ft.event.remove(this,"._submit")}}),ht.change||(ft.event.special.change={setup:function(){if(Ut.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(ft.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._justChanged=!0)}),ft.event.add(this,"click._change",function(t){this._justChanged&&!t.isTrigger&&(this._justChanged=!1),ft.event.simulate("change",this,t)})),!1;ft.event.add(this,"beforeactivate._change",function(t){var e=t.target;Ut.test(e.nodeName)&&!ft._data(e,"change")&&(ft.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||ft.event.simulate("change",this.parentNode,t)}),ft._data(e,"change",!0))})},handle:function(t){var e=t.target;if(this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type)return t.handleObj.handler.apply(this,arguments)},teardown:function(){return ft.event.remove(this,"._change"),!Ut.test(this.nodeName)}}),ht.focusin||ft.each({focus:"focusin",blur:"focusout"},function(t,e){var i=function(t){ft.event.simulate(e,t.target,ft.event.fix(t))};ft.event.special[e]={setup:function(){var n=this.ownerDocument||this,o=ft._data(n,e);o||n.addEventListener(t,i,!0),ft._data(n,e,(o||0)+1)},teardown:function(){var n=this.ownerDocument||this,o=ft._data(n,e)-1;o?ft._data(n,e,o):(n.removeEventListener(t,i,!0),ft._removeData(n,e))}}}),ft.fn.extend({on:function(t,e,i,n){return C(this,t,e,i,n)},one:function(t,e,i,n){return C(this,t,e,i,n,1)},off:function(t,e,i){var n,o;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,ft(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof t){for(o in t)this.off(o,e,t[o]);return this}return!1!==e&&"function"!=typeof e||(i=e,e=undefined),!1===i&&(i=T),this.each(function(){ft.event.remove(this,t,i,e)})},trigger:function(t,e){return this.each(function(){ft.event.trigger(t,e,this)})},triggerHandler:function(t,e){var i=this[0];if(i)return ft.event.trigger(t,e,i,!0)}});var Qt=/ jQuery\d+="(?:null|\d+)"/g,Jt=new RegExp("<(?:"+Wt+")[\\s/>]","i"),te=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,ee=/<script|<style|<link/i,ie=/checked\s*(?:[^=]|=\s*.checked.)/i,ne=/^true\/(.*)/,oe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ae=f(nt),re=ae.appendChild(nt.createElement("div"));ft.extend({htmlPrefilter:function(t){return t.replace(te,"<$1></$2>")},clone:function(t,e,i){var n,o,a,r,s,l=ft.contains(t.ownerDocument,t);if(ht.html5Clone||ft.isXMLDoc(t)||!Jt.test("<"+t.nodeName+">")?a=t.cloneNode(!0):(re.innerHTML=t.outerHTML,re.removeChild(a=re.firstChild)),!(ht.noCloneEvent&&ht.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||ft.isXMLDoc(t)))for(n=p(a),s=p(t),r=0;null!=(o=s[r]);++r)n[r]&&R(o,n[r]);if(e)if(i)for(s=s||p(t),n=n||p(a),r=0;null!=(o=s[r]);r++)O(o,n[r]);else O(t,a);return n=p(a,"script"),n.length>0&&m(n,!l&&p(t,"script")),n=s=o=null,a},cleanData:function(t,e){for(var i,n,o,a,r=0,s=ft.expando,l=ft.cache,d=ht.attributes,c=ft.event.special;null!=(i=t[r]);r++)if((e||St(i))&&(o=i[s],a=o&&l[o])){if(a.events)for(n in a.events)c[n]?ft.event.remove(i,n):ft.removeEvent(i,n,a.handle);l[o]&&(delete l[o],d||"undefined"==typeof i.removeAttribute?i[s]=undefined:i.removeAttribute(s),it.push(o))}}}),ft.fn.extend({domManip:x,detach:function(t){return w(this,t,!0)},remove:function(t){return w(this,t)},text:function(t){return Pt(this,function(t){return t===undefined?ft.text(this):this.empty().append((this[0]&&this[0].ownerDocument||nt).createTextNode(t))},null,t,arguments.length)},append:function(){return x(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){y(this,t).appendChild(t)}})},prepend:function(){return x(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=y(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return x(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return x(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++){for(1===t.nodeType&&ft.cleanData(p(t,!1));t.firstChild;)t.removeChild(t.firstChild);t.options&&ft.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return ft.clone(this,t,e)})},html:function(t){return Pt(this,function(t){var e=this[0]||{},i=0,n=this.length;if(t===undefined)return 1===e.nodeType?e.innerHTML.replace(Qt,""):undefined
;if("string"==typeof t&&!ee.test(t)&&(ht.htmlSerialize||!Jt.test(t))&&(ht.leadingWhitespace||!Ht.test(t))&&!qt[($t.exec(t)||["",""])[1].toLowerCase()]){t=ft.htmlPrefilter(t);try{for(;i<n;i++)e=this[i]||{},1===e.nodeType&&(ft.cleanData(p(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return x(this,arguments,function(e){var i=this.parentNode;ft.inArray(this,t)<0&&(ft.cleanData(p(this)),i&&i.replaceChild(e,this))},t)}}),ft.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){ft.fn[t]=function(t){for(var i,n=0,o=[],a=ft(t),r=a.length-1;n<=r;n++)i=n===r?this:this.clone(!0),ft(a[n])[e](i),rt.apply(o,i.get());return this.pushStack(o)}});var se,le={HTML:"block",BODY:"block"},de=/^margin/,ce=new RegExp("^("+At+")(?!px)[a-z%]+$","i"),he=function(t,e,i,n){var o,a,r={};for(a in e)r[a]=t.style[a],t.style[a]=e[a];o=i.apply(t,n||[]);for(a in e)t.style[a]=r[a];return o},ue=nt.documentElement;!function(){function e(){var e,c,h=nt.documentElement;h.appendChild(l),d.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",i=o=s=!1,n=r=!0,t.getComputedStyle&&(c=t.getComputedStyle(d),i="1%"!==(c||{}).top,s="2px"===(c||{}).marginLeft,o="4px"===(c||{width:"4px"}).width,d.style.marginRight="50%",n="4px"===(c||{marginRight:"4px"}).marginRight,e=d.appendChild(nt.createElement("div")),e.style.cssText=d.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",e.style.marginRight=e.style.width="0",d.style.width="1px",r=!parseFloat((t.getComputedStyle(e)||{}).marginRight),d.removeChild(e)),d.style.display="none",a=0===d.getClientRects().length,a&&(d.style.display="",d.innerHTML="<table><tr><td></td><td>t</td></tr></table>",d.childNodes[0].style.borderCollapse="separate",e=d.getElementsByTagName("td"),e[0].style.cssText="margin:0;border:0;padding:0;display:none",(a=0===e[0].offsetHeight)&&(e[0].style.display="",e[1].style.display="none",a=0===e[0].offsetHeight)),h.removeChild(l)}var i,n,o,a,r,s,l=nt.createElement("div"),d=nt.createElement("div");d.style&&(d.style.cssText="float:left;opacity:.5",ht.opacity="0.5"===d.style.opacity,ht.cssFloat=!!d.style.cssFloat,d.style.backgroundClip="content-box",d.cloneNode(!0).style.backgroundClip="",ht.clearCloneStyle="content-box"===d.style.backgroundClip,l=nt.createElement("div"),l.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",d.innerHTML="",l.appendChild(d),ht.boxSizing=""===d.style.boxSizing||""===d.style.MozBoxSizing||""===d.style.WebkitBoxSizing,ft.extend(ht,{reliableHiddenOffsets:function(){return null==i&&e(),a},boxSizingReliable:function(){return null==i&&e(),o},pixelMarginRight:function(){return null==i&&e(),n},pixelPosition:function(){return null==i&&e(),i},reliableMarginRight:function(){return null==i&&e(),r},reliableMarginLeft:function(){return null==i&&e(),s}}))}();var fe,pe,me=/^(top|right|bottom|left)$/;t.getComputedStyle?(fe=function(e){var i=e.ownerDocument.defaultView;return i&&i.opener||(i=t),i.getComputedStyle(e)},pe=function(t,e,i){var n,o,a,r,s=t.style;return i=i||fe(t),r=i?i.getPropertyValue(e)||i[e]:undefined,""!==r&&r!==undefined||ft.contains(t.ownerDocument,t)||(r=ft.style(t,e)),i&&!ht.pixelMarginRight()&&ce.test(r)&&de.test(e)&&(n=s.width,o=s.minWidth,a=s.maxWidth,s.minWidth=s.maxWidth=s.width=r,r=i.width,s.width=n,s.minWidth=o,s.maxWidth=a),r===undefined?r:r+""}):ue.currentStyle&&(fe=function(t){return t.currentStyle},pe=function(t,e,i){var n,o,a,r,s=t.style;return i=i||fe(t),r=i?i[e]:undefined,null==r&&s&&s[e]&&(r=s[e]),ce.test(r)&&!me.test(e)&&(n=s.left,o=t.runtimeStyle,a=o&&o.left,a&&(o.left=t.currentStyle.left),s.left="fontSize"===e?"1em":r,r=s.pixelLeft+"px",s.left=n,a&&(o.left=a)),r===undefined?r:r+""||"auto"});var ge=/alpha\([^)]*\)/i,ve=/opacity\s*=\s*([^)]*)/i,be=/^(none|table(?!-c[ea]).+)/,Te=new RegExp("^("+At+")(.*)$","i"),Ee={position:"absolute",visibility:"hidden",display:"block"},Ce={letterSpacing:"0",fontWeight:"400"},ye=["Webkit","O","Moz","ms"],De=nt.createElement("div").style;ft.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=pe(t,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":ht.cssFloat?"cssFloat":"styleFloat"},style:function(t,e,i,n){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,a,r,s=ft.camelCase(e),l=t.style;if(e=ft.cssProps[s]||(ft.cssProps[s]=N(s)||s),r=ft.cssHooks[e]||ft.cssHooks[s],i===undefined)return r&&"get"in r&&(o=r.get(t,!1,n))!==undefined?o:l[e];if(a=typeof i,"string"===a&&(o=Mt.exec(i))&&o[1]&&(i=u(t,e,o),a="number"),null!=i&&i===i&&("number"===a&&(i+=o&&o[3]||(ft.cssNumber[s]?"":"px")),ht.clearCloneStyle||""!==i||0!==e.indexOf("background")||(l[e]="inherit"),!(r&&"set"in r&&(i=r.set(t,i,n))===undefined)))try{l[e]=i}catch(t){}}},css:function(t,e,i,n){var o,a,r,s=ft.camelCase(e);return e=ft.cssProps[s]||(ft.cssProps[s]=N(s)||s),r=ft.cssHooks[e]||ft.cssHooks[s],r&&"get"in r&&(a=r.get(t,!0,i)),a===undefined&&(a=pe(t,e,n)),"normal"===a&&e in Ce&&(a=Ce[e]),""===i||i?(o=parseFloat(a),!0===i||isFinite(o)?o||0:a):a}}),ft.each(["height","width"],function(t,e){ft.cssHooks[e]={get:function(t,i,n){if(i)return be.test(ft.css(t,"display"))&&0===t.offsetWidth?he(t,Ee,function(){return L(t,e,n)}):L(t,e,n)},set:function(t,i,n){var o=n&&fe(t);return A(t,i,n?M(t,e,n,ht.boxSizing&&"border-box"===ft.css(t,"boxSizing",!1,o),o):0)}}}),ht.opacity||(ft.cssHooks.opacity={get:function(t,e){return ve.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var i=t.style,n=t.currentStyle,o=ft.isNumeric(e)?"alpha(opacity="+100*e+")":"",a=n&&n.filter||i.filter||"";i.zoom=1,(e>=1||""===e)&&""===ft.trim(a.replace(ge,""))&&i.removeAttribute&&(i.removeAttribute("filter"),""===e||n&&!n.filter)||(i.filter=ge.test(a)?a.replace(ge,o):a+" "+o)}}),ft.cssHooks.marginRight=S(ht.reliableMarginRight,function(t,e){if(e)return he(t,{display:"inline-block"},pe,[t,"marginRight"])}),ft.cssHooks.marginLeft=S(ht.reliableMarginLeft,function(t,e){if(e)return(parseFloat(pe(t,"marginLeft"))||(ft.contains(t.ownerDocument,t)?t.getBoundingClientRect().left-he(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}):0))+"px"}),ft.each({margin:"",padding:"",border:"Width"},function(t,e){ft.cssHooks[t+e]={expand:function(i){for(var n=0,o={},a="string"==typeof i?i.split(" "):[i];n<4;n++)o[t+Lt[n]+e]=a[n]||a[n-2]||a[0];return o}},de.test(t)||(ft.cssHooks[t+e].set=A)}),ft.fn.extend({css:function(t,e){return Pt(this,function(t,e,i){var n,o,a={},r=0;if(ft.isArray(e)){for(n=fe(t),o=e.length;r<o;r++)a[e[r]]=ft.css(t,e[r],!1,n);return a}return i!==undefined?ft.style(t,e,i):ft.css(t,e)},t,e,arguments.length>1)},show:function(){return K(this,!0)},hide:function(){return K(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Ft(this)?ft(this).show():ft(this).hide()})}}),ft.Tween=F,F.prototype={constructor:F,init:function(t,e,i,n,o,a){this.elem=t,this.prop=i,this.easing=o||ft.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=a||(ft.cssNumber[i]?"":"px")},cur:function(){var t=F.propHooks[this.prop];return t&&t.get?t.get(this):F.propHooks._default.get(this)},run:function(t){var e,i=F.propHooks[this.prop];return this.options.duration?this.pos=e=ft.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):F.propHooks._default.set(this),this}},F.prototype.init.prototype=F.prototype,F.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=ft.css(t.elem,t.prop,""),e&&"auto"!==e?e:0)},set:function(t){ft.fx.step[t.prop]?ft.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[ft.cssProps[t.prop]]&&!ft.cssHooks[t.prop]?t.elem[t.prop]=t.now:ft.style(t.elem,t.prop,t.now+t.unit)}}},F.propHooks.scrollTop=F.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},ft.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},ft.fx=F.prototype.init,ft.fx.step={};var Ie,Oe,Re=/^(?:toggle|show|hide)$/,xe=/queueHooks$/;ft.Animation=ft.extend(W,{tweeners:{"*":[function(t,e){var i=this.createTween(t,e);return u(i.elem,t,Mt.exec(e),i),i}]},tweener:function(t,e){ft.isFunction(t)?(e=t,t=["*"]):t=t.match(wt);for(var i,n=0,o=t.length;n<o;n++)i=t[n],W.tweeners[i]=W.tweeners[i]||[],W.tweeners[i].unshift(e)},prefilters:[z],prefilter:function(t,e){e?W.prefilters.unshift(t):W.prefilters.push(t)}}),ft.speed=function(t,e,i){var n=t&&"object"==typeof t?ft.extend({},t):{complete:i||!i&&e||ft.isFunction(t)&&t,duration:t,easing:i&&e||e&&!ft.isFunction(e)&&e};return n.duration=ft.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in ft.fx.speeds?ft.fx.speeds[n.duration]:ft.fx.speeds._default,null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){ft.isFunction(n.old)&&n.old.call(this),n.queue&&ft.dequeue(this,n.queue)},n},ft.fn.extend({fadeTo:function(t,e,i,n){return this.filter(Ft).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){var o=ft.isEmptyObject(t),a=ft.speed(e,i,n),r=function(){var e=W(this,ft.extend({},t),a);(o||ft._data(this,"finish"))&&e.stop(!0)};return r.finish=r,o||!1===a.queue?this.each(r):this.queue(a.queue,r)},stop:function(t,e,i){var n=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof t&&(i=e,e=t,t=undefined),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,o=null!=t&&t+"queueHooks",a=ft.timers,r=ft._data(this);if(o)r[o]&&r[o].stop&&n(r[o]);else for(o in r)r[o]&&r[o].stop&&xe.test(o)&&n(r[o]);for(o=a.length;o--;)a[o].elem!==this||null!=t&&a[o].queue!==t||(a[o].anim.stop(i),e=!1,a.splice(o,1));!e&&i||ft.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,i=ft._data(this),n=i[t+"queue"],o=i[t+"queueHooks"],a=ft.timers,r=n?n.length:0;for(i.finish=!0,ft.queue(this,t,[]),o&&o.stop&&o.stop.call(this,!0),e=a.length;e--;)a[e].elem===this&&a[e].queue===t&&(a[e].anim.stop(!0),a.splice(e,1));for(e=0;e<r;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete i.finish})}}),ft.each(["toggle","show","hide"],function(t,e){var i=ft.fn[e];ft.fn[e]=function(t,n,o){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(B(e,!0),t,n,o)}}),ft.each({slideDown:B("show"),slideUp:B("hide"),slideToggle:B("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){ft.fn[t]=function(t,i,n){return this.animate(e,t,i,n)}}),ft.timers=[],ft.fx.tick=function(){var t,e=ft.timers,i=0;for(Ie=ft.now();i<e.length;i++)(t=e[i])()||e[i]!==t||e.splice(i--,1);e.length||ft.fx.stop(),Ie=undefined},ft.fx.timer=function(t){ft.timers.push(t),t()?ft.fx.start():ft.timers.pop()},ft.fx.interval=13,ft.fx.start=function(){Oe||(Oe=t.setInterval(ft.fx.tick,ft.fx.interval))},ft.fx.stop=function(){t.clearInterval(Oe),Oe=null},ft.fx.speeds={slow:600,fast:200,_default:400},ft.fn.delay=function(e,i){return e=ft.fx?ft.fx.speeds[e]||e:e,i=i||"fx",this.queue(i,function(i,n){var o=t.setTimeout(i,e);n.stop=function(){t.clearTimeout(o)}})},function(){var t,e=nt.createElement("input"),i=nt.createElement("div"),n=nt.createElement("select"),o=n.appendChild(nt.createElement("option"));i=nt.createElement("div"),i.setAttribute("className","t"),i.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",t=i.getElementsByTagName("a")[0],e.setAttribute("type","checkbox"),i.appendChild(e),t=i.getElementsByTagName("a")[0],t.style.cssText="top:1px",ht.getSetAttribute="t"!==i.className,ht.style=/top/.test(t.getAttribute("style")),ht.hrefNormalized="/a"===t.getAttribute("href"),ht.checkOn=!!e.value,ht.optSelected=o.selected,ht.enctype=!!nt.createElement("form").enctype,n.disabled=!0,ht.optDisabled=!o.disabled,e=nt.createElement("input"),e.setAttribute("value",""),ht.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),ht.radioValue="t"===e.value}();var we=/\r/g,ke=/[\x20\t\r\n\f]+/g;ft.fn.extend({val:function(t){var e,i,n,o=this[0];{if(arguments.length)return n=ft.isFunction(t),this.each(function(i){var o;1===this.nodeType&&(o=n?t.call(this,i,ft(this).val()):t,null==o?o="":"number"==typeof o?o+="":ft.isArray(o)&&(o=ft.map(o,function(t){return null==t?"":t+""})),(e=ft.valHooks[this.type]||ft.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&e.set(this,o,"value")!==undefined||(this.value=o))});if(o)return(e=ft.valHooks[o.type]||ft.valHooks[o.nodeName.toLowerCase()])&&"get"in e&&(i=e.get(o,"value"))!==undefined?i:(i=o.value,"string"==typeof i?i.replace(we,""):null==i?"":i)}}}),ft.extend({valHooks:{option:{get:function(t){var e=ft.find.attr(t,"value");return null!=e?e:ft.trim(ft.text(t)).replace(ke," ")}},select:{get:function(t){for(var e,i,n=t.options,o=t.selectedIndex,a="select-one"===t.type||o<0,r=a?null:[],s=a?o+1:n.length,l=o<0?s:a?o:0;l<s;l++)if(i=n[l],(i.selected||l===o)&&(ht.optDisabled?!i.disabled:null===i.getAttribute("disabled"))&&(!i.parentNode.disabled||!ft.nodeName(i.parentNode,"optgroup"))){if(e=ft(i).val(),a)return e;r.push(e)}return r},set:function(t,e){for(var i,n,o=t.options,a=ft.makeArray(e),r=o.length;r--;)if(n=o[r],ft.inArray(ft.valHooks.option.get(n),a)>-1)try{n.selected=i=!0}catch(t){n.scrollHeight}else n.selected=!1;return i||(t.selectedIndex=-1),o}}}}),ft.each(["radio","checkbox"],function(){ft.valHooks[this]={set:function(t,e){if(ft.isArray(e))return t.checked=ft.inArray(ft(t).val(),e)>-1}},ht.checkOn||(ft.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var _e,Se,Ne=ft.expr.attrHandle,Ke=/^(?:checked|selected)$/i,Ae=ht.getSetAttribute,Me=ht.input;ft.fn.extend({attr:function(t,e){return Pt(this,ft.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){ft.removeAttr(this,t)})}}),ft.extend({attr:function(t,e,i){var n,o,a=t.nodeType;if(3!==a&&8!==a&&2!==a)return"undefined"==typeof t.getAttribute?ft.prop(t,e,i):(1===a&&ft.isXMLDoc(t)||(e=e.toLowerCase(),o=ft.attrHooks[e]||(ft.expr.match.bool.test(e)?Se:_e)),i!==undefined?null===i?void ft.removeAttr(t,e):o&&"set"in o&&(n=o.set(t,i,e))!==undefined?n:(t.setAttribute(e,i+""),i):o&&"get"in o&&null!==(n=o.get(t,e))?n:(n=ft.find.attr(t,e),null==n?undefined:n))},attrHooks:{type:{set:function(t,e){if(!ht.radioValue&&"radio"===e&&ft.nodeName(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}},removeAttr:function(t,e){var i,n,o=0,a=e&&e.match(wt);if(a&&1===t.nodeType)for(;i=a[o++];)n=ft.propFix[i]||i,ft.expr.match.bool.test(i)?Me&&Ae||!Ke.test(i)?t[n]=!1:t[ft.camelCase("default-"+i)]=t[n]=!1:ft.attr(t,i,""),t.removeAttribute(Ae?i:n)}}),Se={set:function(t,e,i){return!1===e?ft.removeAttr(t,i):Me&&Ae||!Ke.test(i)?t.setAttribute(!Ae&&ft.propFix[i]||i,i):t[ft.camelCase("default-"+i)]=t[i]=!0,i}},ft.each(ft.expr.match.bool.source.match(/\w+/g),function(t,e){var i=Ne[e]||ft.find.attr;Me&&Ae||!Ke.test(e)?Ne[e]=function(t,e,n){var o,a;return n||(a=Ne[e],Ne[e]=o,o=null!=i(t,e,n)?e.toLowerCase():null,Ne[e]=a),o}:Ne[e]=function(t,e,i){if(!i)return t[ft.camelCase("default-"+e)]?e.toLowerCase():null}}),Me&&Ae||(ft.attrHooks.value={set:function(t,e,i){if(!ft.nodeName(t,"input"))return _e&&_e.set(t,e,i);t.defaultValue=e}}),Ae||(_e={set:function(t,e,i){var n=t.getAttributeNode(i);if(n||t.setAttributeNode(n=t.ownerDocument.createAttribute(i)),n.value=e+="","value"===i||e===t.getAttribute(i))return e}},Ne.id=Ne.name=Ne.coords=function(t,e,i){var n;if(!i)return(n=t.getAttributeNode(e))&&""!==n.value?n.value:null},ft.valHooks.button={get:function(t,e){var i=t.getAttributeNode(e);if(i&&i.specified)return i.value},set:_e.set},ft.attrHooks.contenteditable={set:function(t,e,i){_e.set(t,""!==e&&e,i)}},ft.each(["width","height"],function(t,e){ft.attrHooks[e]={set:function(t,i){if(""===i)return t.setAttribute(e,"auto"),i}}})),ht.style||(ft.attrHooks.style={get:function(t){return t.style.cssText||undefined},set:function(t,e){return t.style.cssText=e+""}});var Le=/^(?:input|select|textarea|button|object)$/i,Fe=/^(?:a|area)$/i;ft.fn.extend({prop:function(t,e){return Pt(this,ft.prop,t,e,arguments.length>1)},removeProp:function(t){return t=ft.propFix[t]||t,this.each(function(){try{this[t]=undefined,delete this[t]}catch(t){}})}}),ft.extend({prop:function(t,e,i){var n,o,a=t.nodeType;if(3!==a&&8!==a&&2!==a)return 1===a&&ft.isXMLDoc(t)||(e=ft.propFix[e]||e,o=ft.propHooks[e]),i!==undefined?o&&"set"in o&&(n=o.set(t,i,e))!==undefined?n:t[e]=i:o&&"get"in o&&null!==(n=o.get(t,e))?n:t[e]},propHooks:{tabIndex:{get:function(t){var e=ft.find.attr(t,"tabindex");return e?parseInt(e,10):Le.test(t.nodeName)||Fe.test(t.nodeName)&&t.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),ht.hrefNormalized||ft.each(["href","src"],function(t,e){ft.propHooks[e]={get:function(t){return t.getAttribute(e,4)}}}),ht.optSelected||(ft.propHooks.selected={get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),ft.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ft.propFix[this.toLowerCase()]=this}),ht.enctype||(ft.propFix.enctype="encoding");var Pe=/[\t\r\n\f]/g;ft.fn.extend({addClass:function(t){var e,i,n,o,a,r,s,l=0;if(ft.isFunction(t))return this.each(function(e){ft(this).addClass(t.call(this,e,q(this)))});if("string"==typeof t&&t)for(e=t.match(wt)||[];i=this[l++];)if(o=q(i),n=1===i.nodeType&&(" "+o+" ").replace(Pe," ")){for(r=0;a=e[r++];)n.indexOf(" "+a+" ")<0&&(n+=a+" ");s=ft.trim(n),o!==s&&ft.attr(i,"class",s)}return this},removeClass:function(t){var e,i,n,o,a,r,s,l=0;if(ft.isFunction(t))return this.each(function(e){ft(this).removeClass(t.call(this,e,q(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(wt)||[];i=this[l++];)if(o=q(i),n=1===i.nodeType&&(" "+o+" ").replace(Pe," ")){for(r=0;a=e[r++];)for(;n.indexOf(" "+a+" ")>-1;)n=n.replace(" "+a+" "," ");s=ft.trim(n),o!==s&&ft.attr(i,"class",s)}return this},toggleClass:function(t,e){var i=typeof t;return"boolean"==typeof e&&"string"===i?e?this.addClass(t):this.removeClass(t):ft.isFunction(t)?this.each(function(i){ft(this).toggleClass(t.call(this,i,q(this),e),e)}):this.each(function(){var e,n,o,a;if("string"===i)for(n=0,o=ft(this),a=t.match(wt)||[];e=a[n++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else t!==undefined&&"boolean"!==i||(e=q(this),e&&ft._data(this,"__className__",e),ft.attr(this,"class",e||!1===t?"":ft._data(this,"__className__")||""))})},hasClass:function(t){var e,i,n=0;for(e=" "+t+" ";i=this[n++];)if(1===i.nodeType&&(" "+q(i)+" ").replace(Pe," ").indexOf(e)>-1)return!0;return!1}}),ft.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){ft.fn[e]=function(t,i){return arguments.length>0?this.on(e,null,t,i):this.trigger(e)}}),ft.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}});var Be=t.location,$e=ft.now(),ze=/\?/,He=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;ft.parseJSON=function(e){if(t.JSON&&t.JSON.parse)return t.JSON.parse(e+"");var i,n=null,o=ft.trim(e+"");return o&&!ft.trim(o.replace(He,function(t,e,o,a){return i&&e&&(n=0),0===n?t:(i=o||e,n+=!a-!o,"")}))?Function("return "+o)():ft.error("Invalid JSON: "+e)},ft.parseXML=function(e){var i,n;if(!e||"string"!=typeof e)return null;try{t.DOMParser?(n=new t.DOMParser,i=n.parseFromString(e,"text/xml")):(i=new t.ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML(e))}catch(t){i=undefined}return i&&i.documentElement&&!i.getElementsByTagName("parsererror").length||ft.error("Invalid XML: "+e),i};var We=/#.*$/,qe=/([?&])_=[^&]*/,je=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Ve=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ue=/^(?:GET|HEAD)$/,Ye=/^\/\//,Ge=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Xe={},Ze={},Qe="*/".concat("*"),Je=Be.href,ti=Ge.exec(Je.toLowerCase())||[];ft.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Je,type:"GET",isLocal:Ve.test(ti[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Qe,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ft.parseJSON,"text xml":ft.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?U(U(t,ft.ajaxSettings),e):U(ft.ajaxSettings,t)},ajaxPrefilter:j(Xe),ajaxTransport:j(Ze),ajax:function(e,i){function n(e,i,n,o){var a,h,b,T,C,D=i;2!==E&&(E=2,l&&t.clearTimeout(l),c=undefined,s=o||"",y.readyState=e>0?4:0,a=e>=200&&e<300||304===e,n&&(T=Y(u,y,n)),T=G(u,T,y,a),a?(u.ifModified&&(C=y.getResponseHeader("Last-Modified"),C&&(ft.lastModified[r]=C),(C=y.getResponseHeader("etag"))&&(ft.etag[r]=C)),204===e||"HEAD"===u.type?D="nocontent":304===e?D="notmodified":(D=T.state,h=T.data,b=T.error,a=!b)):(b=D,!e&&D||(D="error",e<0&&(e=0))),y.status=e,y.statusText=(i||D)+"",a?m.resolveWith(f,[h,D,y]):m.rejectWith(f,[y,D,b]),y.statusCode(v),v=undefined,d&&p.trigger(a?"ajaxSuccess":"ajaxError",[y,u,a?h:b]),g.fireWith(f,[y,D]),d&&(p.trigger("ajaxComplete",[y,u]),--ft.active||ft.event.trigger("ajaxStop")))}"object"==typeof e&&(i=e,e=undefined),i=i||{};var o,a,r,s,l,d,c,h,u=ft.ajaxSetup({},i),f=u.context||u,p=u.context&&(f.nodeType||f.jquery)?ft(f):ft.event,m=ft.Deferred(),g=ft.Callbacks("once memory"),v=u.statusCode||{},b={},T={},E=0,C="canceled",y={readyState:0,getResponseHeader:function(t){var e;if(2===E){if(!h)for(h={};e=je.exec(s);)h[e[1].toLowerCase()]=e[2];e=h[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===E?s:null},setRequestHeader:function(t,e){var i=t.toLowerCase();return E||(t=T[i]=T[i]||t,b[t]=e),this},overrideMimeType:function(t){return E||(u.mimeType=t),this},statusCode:function(t){var e;if(t)if(E<2)for(e in t)v[e]=[v[e],t[e]];else y.always(t[y.status]);return this},abort:function(t){var e=t||C;return c&&c.abort(e),n(0,e),this}};if(m.promise(y).complete=g.add,y.success=y.done,y.error=y.fail,u.url=((e||u.url||Je)+"").replace(We,"").replace(Ye,ti[1]+"//"),u.type=i.method||i.type||u.method||u.type,u.dataTypes=ft.trim(u.dataType||"*").toLowerCase().match(wt)||[""],null==u.crossDomain&&(o=Ge.exec(u.url.toLowerCase()),u.crossDomain=!(!o||o[1]===ti[1]&&o[2]===ti[2]&&(o[3]||("http:"===o[1]?"80":"443"))===(ti[3]||("http:"===ti[1]?"80":"443")))),u.data&&u.processData&&"string"!=typeof u.data&&(u.data=ft.param(u.data,u.traditional)),V(Xe,u,i,y),2===E)return y;d=ft.event&&u.global,d&&0==ft.active++&&ft.event.trigger("ajaxStart"),u.type=u.type.toUpperCase(),u.hasContent=!Ue.test(u.type),r=u.url,u.hasContent||(u.data&&(r=u.url+=(ze.test(r)?"&":"?")+u.data,delete u.data),!1===u.cache&&(u.url=qe.test(r)?r.replace(qe,"$1_="+$e++):r+(ze.test(r)?"&":"?")+"_="+$e++)),u.ifModified&&(ft.lastModified[r]&&y.setRequestHeader("If-Modified-Since",ft.lastModified[r]),ft.etag[r]&&y.setRequestHeader("If-None-Match",ft.etag[r])),(u.data&&u.hasContent&&!1!==u.contentType||i.contentType)&&y.setRequestHeader("Content-Type",u.contentType),y.setRequestHeader("Accept",u.dataTypes[0]&&u.accepts[u.dataTypes[0]]?u.accepts[u.dataTypes[0]]+("*"!==u.dataTypes[0]?", "+Qe+"; q=0.01":""):u.accepts["*"]);for(a in u.headers)y.setRequestHeader(a,u.headers[a]);if(u.beforeSend&&(!1===u.beforeSend.call(f,y,u)||2===E))return y.abort();C="abort";for(a in{success:1,error:1,complete:1})y[a](u[a]);if(c=V(Ze,u,i,y)){if(y.readyState=1,d&&p.trigger("ajaxSend",[y,u]),2===E)return y;u.async&&u.timeout>0&&(l=t.setTimeout(function(){y.abort("timeout")},u.timeout));try{E=1,c.send(b,n)}catch(t){if(!(E<2))throw t;n(-1,t)}}else n(-1,"No Transport");return y},getJSON:function(t,e,i){return ft.get(t,e,i,"json")},getScript:function(t,e){return ft.get(t,undefined,e,"script")}}),ft.each(["get","post"],function(t,e){ft[e]=function(t,i,n,o){return ft.isFunction(i)&&(o=o||n,n=i,i=undefined),ft.ajax(ft.extend({url:t,type:e,dataType:o,data:i,success:n},ft.isPlainObject(t)&&t))}}),ft._evalUrl=function(t){return ft.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},ft.fn.extend({wrapAll:function(t){if(ft.isFunction(t))return this.each(function(e){ft(this).wrapAll(t.call(this,e))});if(this[0]){var e=ft(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(t){return ft.isFunction(t)?this.each(function(e){ft(this).wrapInner(t.call(this,e))}):this.each(function(){var e=ft(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)})},wrap:function(t){var e=ft.isFunction(t);return this.each(function(i){ft(this).wrapAll(e?t.call(this,i):t)})},unwrap:function(){return this.parent().each(function(){ft.nodeName(this,"body")||ft(this).replaceWith(this.childNodes)}).end()}}),ft.expr.filters.hidden=function(t){return ht.reliableHiddenOffsets()?t.offsetWidth<=0&&t.offsetHeight<=0&&!t.getClientRects().length:Z(t)},ft.expr.filters.visible=function(t){return!ft.expr.filters.hidden(t)};var ei=/%20/g,ii=/\[\]$/,ni=/\r?\n/g,oi=/^(?:submit|button|image|reset|file)$/i,ai=/^(?:input|select|textarea|keygen)/i;ft.param=function(t,e){var i,n=[],o=function(t,e){e=ft.isFunction(e)?e():null==e?"":e,n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(e===undefined&&(e=ft.ajaxSettings&&ft.ajaxSettings.traditional),ft.isArray(t)||t.jquery&&!ft.isPlainObject(t))ft.each(t,function(){o(this.name,this.value)});else for(i in t)Q(i,t[i],e,o);return n.join("&").replace(ei,"+")},ft.fn.extend({serialize:function(){return ft.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=ft.prop(this,"elements");return t?ft.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!ft(this).is(":disabled")&&ai.test(this.nodeName)&&!oi.test(t)&&(this.checked||!Bt.test(t))}).map(function(t,e){var i=ft(this).val();return null==i?null:ft.isArray(i)?ft.map(i,function(t){return{name:e.name,value:t.replace(ni,"\r\n")}}):{name:e.name,value:i.replace(ni,"\r\n")}}).get()}}),ft.ajaxSettings.xhr=t.ActiveXObject!==undefined?function(){return this.isLocal?tt():nt.documentMode>8?J():/^(get|post|head|put|delete|options)$/i.test(this.type)&&J()||tt()}:J;var ri=0,si={},li=ft.ajaxSettings.xhr();t.attachEvent&&t.attachEvent("onunload",function(){for(var t in si)si[t](undefined,!0)}),ht.cors=!!li&&"withCredentials"in li,li=ht.ajax=!!li,li&&ft.ajaxTransport(function(e){if(!e.crossDomain||ht.cors){var i;return{send:function(n,o){var a,r=e.xhr(),s=++ri;if(r.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)r[a]=e.xhrFields[a];e.mimeType&&r.overrideMimeType&&r.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(a in n)n[a]!==undefined&&r.setRequestHeader(a,n[a]+"");r.send(e.hasContent&&e.data||null),i=function(t,n){var a,l,d;if(i&&(n||4===r.readyState))if(delete si[s],i=undefined,r.onreadystatechange=ft.noop,n)4!==r.readyState&&r.abort();else{d={},a=r.status,"string"==typeof r.responseText&&(d.text=r.responseText);try{l=r.statusText}catch(t){l=""}a||!e.isLocal||e.crossDomain?1223===a&&(a=204):a=d.text?200:404}d&&o(a,l,d,r.getAllResponseHeaders())},e.async?4===r.readyState?t.setTimeout(i):r.onreadystatechange=si[s]=i:i()},abort:function(){i&&i(undefined,!0)}}}}),ft.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return ft.globalEval(t),t}}}),ft.ajaxPrefilter("script",function(t){t.cache===undefined&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),ft.ajaxTransport("script",function(t){if(t.crossDomain){var e,i=nt.head||ft("head")[0]||nt.documentElement;return{send:function(n,o){e=nt.createElement("script"),e.async=!0,t.scriptCharset&&(e.charset=t.scriptCharset),e.src=t.url,e.onload=e.onreadystatechange=function(t,i){(i||!e.readyState||/loaded|complete/.test(e.readyState))&&(e.onload=e.onreadystatechange=null,e.parentNode&&e.parentNode.removeChild(e),e=null,i||o(200,"success"))},i.insertBefore(e,i.firstChild)},abort:function(){e&&e.onload(undefined,!0)}}}});var di=[],ci=/(=)\?(?=&|$)|\?\?/;ft.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=di.pop()||ft.expando+"_"+$e++;return this[t]=!0,t}}),ft.ajaxPrefilter("json jsonp",function(e,i,n){var o,a,r,s=!1!==e.jsonp&&(ci.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&ci.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return o=e.jsonpCallback=ft.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(ci,"$1"+o):!1!==e.jsonp&&(e.url+=(ze.test(e.url)?"&":"?")+e.jsonp+"="+o),e.converters["script json"]=function(){return r||ft.error(o+" was not called"),r[0]},e.dataTypes[0]="json",a=t[o],t[o]=function(){r=arguments},n.always(function(){a===undefined?ft(t).removeProp(o):t[o]=a,e[o]&&(e.jsonpCallback=i.jsonpCallback,di.push(o)),r&&ft.isFunction(a)&&a(r[0]),r=a=undefined}),"script"}),ft.parseHTML=function(t,e,i){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(i=e,e=!1),e=e||nt;var n=yt.exec(t),o=!i&&[];return n?[e.createElement(n[1])]:(n=v([t],e,o),o&&o.length&&ft(o).remove(),ft.merge([],n.childNodes))};var hi=ft.fn.load;ft.fn.load=function(t,e,i){if("string"!=typeof t&&hi)return hi.apply(this,arguments);var n,o,a,r=this,s=t.indexOf(" ");return s>-1&&(n=ft.trim(t.slice(s,t.length)),t=t.slice(0,s)),ft.isFunction(e)?(i=e,e=undefined):e&&"object"==typeof e&&(o="POST"),r.length>0&&ft.ajax({url:t,type:o||"GET",dataType:"html",data:e}).done(function(t){a=arguments,r.html(n?ft("<div>").append(ft.parseHTML(t)).find(n):t)}).always(i&&function(t,e){r.each(function(){i.apply(this,a||[t.responseText,e,t])})}),this},ft.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){ft.fn[e]=function(t){return this.on(e,t)}}),ft.expr.filters.animated=function(t){return ft.grep(ft.timers,function(e){return t===e.elem}).length},ft.offset={setOffset:function(t,e,i){var n,o,a,r,s,l,d,c=ft.css(t,"position"),h=ft(t),u={};"static"===c&&(t.style.position="relative"),s=h.offset(),a=ft.css(t,"top"),l=ft.css(t,"left"),d=("absolute"===c||"fixed"===c)&&ft.inArray("auto",[a,l])>-1,d?(n=h.position(),r=n.top,o=n.left):(r=parseFloat(a)||0,o=parseFloat(l)||0),ft.isFunction(e)&&(e=e.call(t,i,ft.extend({},s))),null!=e.top&&(u.top=e.top-s.top+r),null!=e.left&&(u.left=e.left-s.left+o),"using"in e?e.using.call(t,u):h.css(u)}},ft.fn.extend({offset:function(t){if(arguments.length)return t===undefined?this:this.each(function(e){ft.offset.setOffset(this,t,e)});var e,i,n={top:0,left:0},o=this[0],a=o&&o.ownerDocument;if(a)return e=a.documentElement,ft.contains(e,o)?("undefined"!=typeof o.getBoundingClientRect&&(n=o.getBoundingClientRect()),i=et(a),{top:n.top+(i.pageYOffset||e.scrollTop)-(e.clientTop||0),left:n.left+(i.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}):n},position:function(){if(this[0]){var t,e,i={top:0,left:0},n=this[0];return"fixed"===ft.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),ft.nodeName(t[0],"html")||(i=t.offset()),i.top+=ft.css(t[0],"borderTopWidth",!0),i.left+=ft.css(t[0],"borderLeftWidth",!0)),{top:e.top-i.top-ft.css(n,"marginTop",!0),left:e.left-i.left-ft.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&!ft.nodeName(t,"html")&&"static"===ft.css(t,"position");)t=t.offsetParent;return t||ue})}}),ft.each({
scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var i=/Y/.test(e);ft.fn[t]=function(n){return Pt(this,function(t,n,o){var a=et(t);if(o===undefined)return a?e in a?a[e]:a.document.documentElement[n]:t[n];a?a.scrollTo(i?ft(a).scrollLeft():o,i?o:ft(a).scrollTop()):t[n]=o},t,n,arguments.length,null)}}),ft.each(["top","left"],function(t,e){ft.cssHooks[e]=S(ht.pixelPosition,function(t,i){if(i)return i=pe(t,e),ce.test(i)?ft(t).position()[e]+"px":i})}),ft.each({Height:"height",Width:"width"},function(t,e){ft.each({padding:"inner"+t,content:e,"":"outer"+t},function(i,n){ft.fn[n]=function(n,o){var a=arguments.length&&(i||"boolean"!=typeof n),r=i||(!0===n||!0===o?"margin":"border");return Pt(this,function(e,i,n){var o;return ft.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):n===undefined?ft.css(e,i,r):ft.style(e,i,n,r)},e,a?n:undefined,a,null)}})}),ft.fn.extend({bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)}}),ft.fn.size=function(){return this.length},ft.fn.andSelf=ft.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ft});var ui=t.jQuery,fi=t.$;return ft.noConflict=function(e){return t.$===ft&&(t.$=fi),e&&t.jQuery===ft&&(t.jQuery=ui),ft},e||(t.jQuery=t.$=ft),ft}),function(t,e){"use strict";t.rails!==e&&t.error("jquery-ujs has already been loaded!");var i,n=t(document);t.rails=i={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not([form]):not(form button), button[data-confirm]:not([form]):not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]), textarea[name][required]:not([disabled])",fileInputSelector:"input[name][type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",csrfToken:function(){return t("meta[name=csrf-token]").attr("content")},csrfParam:function(){return t("meta[name=csrf-param]").attr("content")},CSRFProtection:function(t){var e=i.csrfToken();e&&t.setRequestHeader("X-CSRF-Token",e)},refreshCSRFTokens:function(){t('form input[name="'+i.csrfParam()+'"]').val(i.csrfToken())},fire:function(e,i,n){var o=t.Event(i);return e.trigger(o,n),!1!==o.result},confirm:function(t){return confirm(t)},ajax:function(e){return t.ajax(e)},href:function(t){return t[0].href},isRemote:function(t){return t.data("remote")!==e&&!1!==t.data("remote")},handleRemote:function(n){var o,a,r,s,l,d;if(i.fire(n,"ajax:before")){if(s=n.data("with-credentials")||null,l=n.data("type")||t.ajaxSettings&&t.ajaxSettings.dataType,n.is("form")){o=n.data("ujs:submit-button-formmethod")||n.attr("method"),a=n.data("ujs:submit-button-formaction")||n.attr("action"),r=t(n[0]).serializeArray();var c=n.data("ujs:submit-button");c&&(r.push(c),n.data("ujs:submit-button",null)),n.data("ujs:submit-button-formmethod",null),n.data("ujs:submit-button-formaction",null)}else n.is(i.inputChangeSelector)?(o=n.data("method"),a=n.data("url"),r=n.serialize(),n.data("params")&&(r=r+"&"+n.data("params"))):n.is(i.buttonClickSelector)?(o=n.data("method")||"get",a=n.data("url"),r=n.serialize(),n.data("params")&&(r=r+"&"+n.data("params"))):(o=n.data("method"),a=i.href(n),r=n.data("params")||null);return d={type:o||"GET",data:r,dataType:l,beforeSend:function(t,o){if(o.dataType===e&&t.setRequestHeader("accept","*/*;q=0.5, "+o.accepts.script),!i.fire(n,"ajax:beforeSend",[t,o]))return!1;n.trigger("ajax:send",t)},success:function(t,e,i){n.trigger("ajax:success",[t,e,i])},complete:function(t,e){n.trigger("ajax:complete",[t,e])},error:function(t,e,i){n.trigger("ajax:error",[t,e,i])},crossDomain:i.isCrossDomain(a)},s&&(d.xhrFields={withCredentials:s}),a&&(d.url=a),i.ajax(d)}return!1},isCrossDomain:function(t){var e=document.createElement("a");e.href=location.href;var i=document.createElement("a");try{return i.href=t,i.href=i.href,!((!i.protocol||":"===i.protocol)&&!i.host||e.protocol+"//"+e.host==i.protocol+"//"+i.host)}catch(t){return!0}},handleMethod:function(n){var o=i.href(n),a=n.data("method"),r=n.attr("target"),s=i.csrfToken(),l=i.csrfParam(),d=t('<form method="post" action="'+o+'"></form>'),c='<input name="_method" value="'+a+'" type="hidden" />';l===e||s===e||i.isCrossDomain(o)||(c+='<input name="'+l+'" value="'+s+'" type="hidden" />'),r&&d.attr("target",r),d.hide().append(c).appendTo("body"),d.submit()},formElements:function(e,i){return e.is("form")?t(e[0].elements).filter(i):e.find(i)},disableFormElements:function(e){i.formElements(e,i.disableSelector).each(function(){i.disableFormElement(t(this))})},disableFormElement:function(t){var i,n;i=t.is("button")?"html":"val",n=t.data("disable-with"),n!==e&&(t.data("ujs:enable-with",t[i]()),t[i](n)),t.prop("disabled",!0),t.data("ujs:disabled",!0)},enableFormElements:function(e){i.formElements(e,i.enableSelector).each(function(){i.enableFormElement(t(this))})},enableFormElement:function(t){var i=t.is("button")?"html":"val";t.data("ujs:enable-with")!==e&&(t[i](t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.prop("disabled",!1),t.removeData("ujs:disabled")},allowAction:function(t){var e,n=t.data("confirm"),o=!1;if(!n)return!0;if(i.fire(t,"confirm")){try{o=i.confirm(n)}catch(t){(console.error||console.log).call(console,t.stack||t)}e=i.fire(t,"confirm:complete",[o])}return o&&e},blankInputs:function(e,i,n){var o,a,r,s,l=t(),d=i||"input,textarea",c=e.find(d),h={};return c.each(function(){o=t(this),o.is("input[type=radio]")?(s=o.attr("name"),h[s]||(0===e.find('input[type=radio]:checked[name="'+s+'"]').length&&(r=e.find('input[type=radio][name="'+s+'"]'),l=l.add(r)),h[s]=s)):(a=o.is("input[type=checkbox],input[type=radio]")?o.is(":checked"):!!o.val())===n&&(l=l.add(o))}),!!l.length&&l},nonBlankInputs:function(t,e){return i.blankInputs(t,e,!0)},stopEverything:function(e){return t(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},disableElement:function(t){var n=t.data("disable-with");n!==e&&(t.data("ujs:enable-with",t.html()),t.html(n)),t.bind("click.railsDisable",function(t){return i.stopEverything(t)}),t.data("ujs:disabled",!0)},enableElement:function(t){t.data("ujs:enable-with")!==e&&(t.html(t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.unbind("click.railsDisable"),t.removeData("ujs:disabled")}},i.fire(n,"rails:attachBindings")&&(t.ajaxPrefilter(function(t,e,n){t.crossDomain||i.CSRFProtection(n)}),t(window).on("pageshow.rails",function(){t(t.rails.enableSelector).each(function(){var e=t(this);e.data("ujs:disabled")&&t.rails.enableFormElement(e)}),t(t.rails.linkDisableSelector).each(function(){var e=t(this);e.data("ujs:disabled")&&t.rails.enableElement(e)})}),n.on("ajax:complete",i.linkDisableSelector,function(){i.enableElement(t(this))}),n.on("ajax:complete",i.buttonDisableSelector,function(){i.enableFormElement(t(this))}),n.on("click.rails",i.linkClickSelector,function(e){var n=t(this),o=n.data("method"),a=n.data("params"),r=e.metaKey||e.ctrlKey;if(!i.allowAction(n))return i.stopEverything(e);if(!r&&n.is(i.linkDisableSelector)&&i.disableElement(n),i.isRemote(n)){if(r&&(!o||"GET"===o)&&!a)return!0;var s=i.handleRemote(n);return!1===s?i.enableElement(n):s.fail(function(){i.enableElement(n)}),!1}return o?(i.handleMethod(n),!1):void 0}),n.on("click.rails",i.buttonClickSelector,function(e){var n=t(this);if(!i.allowAction(n)||!i.isRemote(n))return i.stopEverything(e);n.is(i.buttonDisableSelector)&&i.disableFormElement(n);var o=i.handleRemote(n);return!1===o?i.enableFormElement(n):o.fail(function(){i.enableFormElement(n)}),!1}),n.on("change.rails",i.inputChangeSelector,function(e){var n=t(this);return i.allowAction(n)&&i.isRemote(n)?(i.handleRemote(n),!1):i.stopEverything(e)}),n.on("submit.rails",i.formSubmitSelector,function(n){var o,a,r=t(this),s=i.isRemote(r);if(!i.allowAction(r))return i.stopEverything(n);if(r.attr("novalidate")===e)if(r.data("ujs:formnovalidate-button")===e){if((o=i.blankInputs(r,i.requiredInputSelector,!1))&&i.fire(r,"ajax:aborted:required",[o]))return i.stopEverything(n)}else r.data("ujs:formnovalidate-button",e);if(s){if(a=i.nonBlankInputs(r,i.fileInputSelector)){setTimeout(function(){i.disableFormElements(r)},13);var l=i.fire(r,"ajax:aborted:file",[a]);return l||setTimeout(function(){i.enableFormElements(r)},13),l}return i.handleRemote(r),!1}setTimeout(function(){i.disableFormElements(r)},13)}),n.on("click.rails",i.formInputClickSelector,function(e){var n=t(this);if(!i.allowAction(n))return i.stopEverything(e);var o=n.attr("name"),a=o?{name:o,value:n.val()}:null,r=n.closest("form");0===r.length&&(r=t("#"+n.attr("form"))),r.data("ujs:submit-button",a),r.data("ujs:formnovalidate-button",n.attr("formnovalidate")),r.data("ujs:submit-button-formaction",n.attr("formaction")),r.data("ujs:submit-button-formmethod",n.attr("formmethod"))}),n.on("ajax:send.rails",i.formSubmitSelector,function(e){this===e.target&&i.disableFormElements(t(this))}),n.on("ajax:complete.rails",i.formSubmitSelector,function(e){this===e.target&&i.enableFormElements(t(this))}),t(function(){i.refreshCSRFTokens()}))}(jQuery),function(t){"use strict";t.ajaxPrefilter(function(t){if(t.iframe)return"iframe"}),t.ajaxTransport("iframe",function(e,i,n){function o(){c.each(function(e){t(this).replaceWith(d[e]),c.splice(e,1)}),r.remove(),s.bind("load",function(){s.remove()}),s.attr("src","about:blank")}var a,r=null,s=null,l="iframe-"+t.now(),d=t(e.files).filter(":file:enabled"),c=null;if(e.dataTypes.shift(),d.length)return r=t("<form enctype='multipart/form-data' method='post'></form>").hide().attr({action:e.url,target:l}),"string"==typeof e.data&&e.data.length>0&&t.error("data must not be serialized"),t.each(e.data||{},function(e,i){t.isPlainObject(i)&&(e=i.name,i=i.value),t("<input type='hidden' />").attr({name:e,value:i}).appendTo(r)}),t("<input type='hidden' value='IFrame' name='X-Requested-With' />").appendTo(r),a=e.dataTypes[0]&&e.accepts[e.dataTypes[0]]?e.accepts[e.dataTypes[0]]+("*"!==e.dataTypes[0]?", */*; q=0.01":""):e.accepts["*"],t("<input type='hidden' name='X-Http-Accept'>").attr("value",a).appendTo(r),c=d.after(function(){return t(this).clone().prop("disabled",!0)}).next(),d.appendTo(r),{send:function(e,i){s=t("<iframe src='about:blank' name='"+l+"' id='"+l+"' style='display:none'></iframe>"),s.bind("load",function(){s.unbind("load").bind("load",function(){var t=this.contentWindow?this.contentWindow.document:this.contentDocument?this.contentDocument:this.document,e=t.documentElement?t.documentElement:t.body,a=e.getElementsByTagName("textarea")[0],r=a&&a.getAttribute("data-type")||null,s=a&&a.getAttribute("data-status")||200,l=a&&a.getAttribute("data-statusText")||"OK",d={html:e.innerHTML,text:r?a.value:e?e.textContent||e.innerText:null};o(),n.responseText||(n.responseText=d.text),i(s,l,d,r?"Content-Type: "+r:null)}),r[0].submit()}),t("body").append(r,s)},abort:function(){null!==s&&(s.unbind("load").attr("src","javascript:false;"),o())}}})}(jQuery),function(t){var e;t.remotipart=e={setup:function(i){var n=i.data("ujs:submit-button"),o=t('meta[name="csrf-param"]').attr("content"),a=t('meta[name="csrf-token"]').attr("content"),r=i.find('input[name="'+o+'"]').length;i.one("ajax:beforeSend.remotipart",function(s,l,d){return delete d.beforeSend,d.iframe=!0,d.files=t(t.rails.fileInputSelector,i),d.data=i.serializeArray(),n&&d.data.push(n),d.files.each(function(t,e){for(var i=d.data.length-1;i>=0;i--)d.data[i].name==e.name&&d.data.splice(i,1)}),d.processData=!1,d.dataType===undefined&&(d.dataType="script *"),d.data.push({name:"remotipart_submitted",value:!0}),a&&o&&!r&&d.data.push({name:o,value:a}),t.rails.fire(i,"ajax:remotipartSubmit",[l,d])&&(t.rails.ajax(d).complete(function(e){t.rails.fire(i,"ajax:remotipartComplete",[e])}),setTimeout(function(){t.rails.disableFormElements(i)},20)),e.teardown(i),!1}).data("remotipartSubmitted",!0)},teardown:function(t){t.unbind("ajax:beforeSend.remotipart").removeData("remotipartSubmitted")}},t(document).on("ajax:aborted:file","form",function(){var i=t(this);return e.setup(i),t.rails.handleRemote(i),!1})}(jQuery),function(t,e){"function"==typeof define&&define.amd?define(["jquery"],function(i){return t.returnExportsGlobal=e(i)}):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(this,function(t){"use strict";var e,i,n,o,a,r,s,l,d;e=function(){function e(t){this.$inputor=t,this.domInputor=this.$inputor[0]}return e.prototype.setPos=function(){return this.domInputor},e.prototype.getIEPosition=function(){return this.getPosition()},e.prototype.getPosition=function(){var t,e;return e=this.getOffset(),t=this.$inputor.offset(),e.left-=t.left,e.top-=t.top,e},e.prototype.getOldIEPos=function(){var t,e;return e=r.selection.createRange(),t=r.body.createTextRange(),t.moveToElementText(this.domInputor),t.setEndPoint("EndToEnd",e),t.text.length},e.prototype.getPos=function(){var t,e,i;return(i=this.range())?(t=i.cloneRange(),t.selectNodeContents(this.domInputor),t.setEnd(i.endContainer,i.endOffset),e=t.toString().length,t.detach(),e):r.selection?this.getOldIEPos():void 0},e.prototype.getOldIEOffset=function(){var t,e;return t=r.selection.createRange().duplicate(),t.moveStart("character",-1),e=t.getBoundingClientRect(),{height:e.bottom-e.top,left:e.left,top:e.top}},e.prototype.getOffset=function(){var e,i,n,o,a;return l.getSelection&&(n=this.range())?(n.endOffset-1>0&&n.endContainer===!this.domInputor&&(e=n.cloneRange(),e.setStart(n.endContainer,n.endOffset-1),e.setEnd(n.endContainer,n.endOffset),o=e.getBoundingClientRect(),i={height:o.height,left:o.left+o.width,top:o.top},e.detach()),i&&0!==(null!=i?i.height:void 0)||(e=n.cloneRange(),a=t(r.createTextNode("|")),e.insertNode(a[0]),e.selectNode(a[0]),o=e.getBoundingClientRect(),i={height:o.height,left:o.left,top:o.top},a.remove(),e.detach())):r.selection&&(i=this.getOldIEOffset()),i&&(i.top+=t(l).scrollTop(),i.left+=t(l).scrollLeft()),i},e.prototype.range=function(){var t;if(l.getSelection)return t=l.getSelection(),t.rangeCount>0?t.getRangeAt(0):null},e}(),i=function(){function e(t){this.$inputor=t,this.domInputor=this.$inputor[0]}return e.prototype.getIEPos=function(){var t,e,i,n,o,a,s;return e=this.domInputor,a=r.selection.createRange(),o=0,a&&a.parentElement()===e&&(n=e.value.replace(/\r\n/g,"\n"),i=n.length,s=e.createTextRange(),s.moveToBookmark(a.getBookmark()),t=e.createTextRange(),t.collapse(!1),o=s.compareEndPoints("StartToEnd",t)>-1?i:-s.moveStart("character",-i)),o},e.prototype.getPos=function(){return r.selection?this.getIEPos():this.domInputor.selectionStart},e.prototype.setPos=function(t){var e,i;return e=this.domInputor,r.selection?(i=e.createTextRange(),i.move("character",t),i.select()):e.setSelectionRange&&e.setSelectionRange(t,t),e},e.prototype.getIEOffset=function(t){var e,i,n,o;return i=this.domInputor.createTextRange(),t||(t=this.getPos()),i.move("character",t),n=i.boundingLeft,o=i.boundingTop,e=i.boundingHeight,{left:n,top:o,height:e}},e.prototype.getOffset=function(e){var i,n,o;return i=this.$inputor,r.selection?(n=this.getIEOffset(e),n.top+=t(l).scrollTop()+i.scrollTop(),n.left+=t(l).scrollLeft()+i.scrollLeft(),n):(n=i.offset(),o=this.getPosition(e),n={left:n.left+o.left-i.scrollLeft(),top:n.top+o.top-i.scrollTop(),height:o.height})},e.prototype.getPosition=function(t){var e,i,o,a,r,s;return e=this.$inputor,o=function(t){return t=t.replace(/<|>|`|"|&/g,"?").replace(/\r\n|\r|\n/g,"<br/>"),/firefox/i.test(navigator.userAgent)&&(t=t.replace(/\s/g,"&nbsp;")),t},void 0===t&&(t=this.getPos()),s=e.val().slice(0,t),i=e.val().slice(t),a="<span style='position: relative; display: inline;'>"+o(s)+"</span>",a+="<span id='caret' style='position: relative; display: inline;'>|</span>",a+="<span style='position: relative; display: inline;'>"+o(i)+"</span>",r=new n(e),r.create(a).rect()},e.prototype.getIEPosition=function(t){var e,i,n,o,a;return n=this.getIEOffset(t),i=this.$inputor.offset(),o=n.left-i.left,a=n.top-i.top,e=n.height,{left:o,top:a,height:e}},e}(),n=function(){function e(t){this.$inputor=t}return e.prototype.css_attr=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopStyle","borderRightStyle","borderBottomStyle","borderLeftStyle","borderTopWidth","boxSizing","fontFamily","fontSize","fontWeight","height","letterSpacing","lineHeight","marginBottom","marginLeft","marginRight","marginTop","outlineWidth","overflow","overflowX","overflowY","paddingBottom","paddingLeft","paddingRight","paddingTop","textAlign","textOverflow","textTransform","whiteSpace","wordBreak","wordWrap"],e.prototype.mirrorCss=function(){var e,i=this;return e={position:"absolute",left:-9999,top:0,zIndex:-2e4},"TEXTAREA"===this.$inputor.prop("tagName")&&this.css_attr.push("width"),t.each(this.css_attr,function(t,n){return e[n]=i.$inputor.css(n)}),e},e.prototype.create=function(e){return this.$mirror=t("<div></div>"),this.$mirror.css(this.mirrorCss()),this.$mirror.html(e),this.$inputor.after(this.$mirror),this},e.prototype.rect=function(){var t,e,i;return t=this.$mirror.find("#caret"),e=t.position(),i={left:e.left,top:e.top,height:t.height()},this.$mirror.remove(),i},e}(),o={contentEditable:function(t){return!(!t[0].contentEditable||"true"!==t[0].contentEditable)}},a={pos:function(t){return t||0===t?this.setPos(t):this.getPos()},position:function(t){return r.selection?this.getIEPosition(t):this.getPosition(t)},offset:function(t){return this.getOffset(t)}},r=null,l=null,s=null,d=function(t){var e;return(e=null!=t?t.iframe:void 0)?(s=e,l=e.contentWindow,r=e.contentDocument||l.document):(s=void 0,l=window,r=document)},t.fn.caret=function(n,r,s){var l;return a[n]?(t.isPlainObject(r)?(d(r),r=void 0):d(s),l=o.contentEditable(this)?new e(this):new i(this),a[n].apply(l,[r])):t.error("Method "+n+" does not exist on jQuery.caret")},t.fn.caret.EditableCaret=e,t.fn.caret.InputCaret=i,t.fn.caret.Utils=o,t.fn.caret.apis=a}),function(t,e){"function"==typeof define&&define.amd?define(["jquery"],function(t){return e(t)}):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(0,function(t){var e,i,n,o,a,r,s,l,d,c,h=[].slice,u=function(t,e){function i(){this.constructor=t}for(var n in e)f.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},f={}.hasOwnProperty;e=t,n=function(){function t(t){this.currentFlag=null,this.controllers={},this.aliasMaps={},this.$inputor=e(t),this.setupRootElement(),this.listen()}return t.prototype.createContainer=function(t){var i;return null!=(i=this.$el)&&i.remove(),e(t.body).append(this.$el=e("<div class='atwho-container'></div>"))},t.prototype.setupRootElement=function(t,i){var n;if(null==i&&(i=!1),t)this.window=t.contentWindow,this.document=t.contentDocument||this.window.document,this.iframe=t;else{this.document=this.$inputor[0].ownerDocument,this.window=this.document.defaultView||this.document.parentWindow;try{this.iframe=this.window.frameElement}catch(t){if(n=t,this.iframe=null,e.fn.atwho.debug)throw new Error("iframe auto-discovery is failed.\nPlease use `setIframe` to set the target iframe manually.\n"+n)}}return this.createContainer((this.iframeAsRoot=i)?this.document:document)},t.prototype.controller=function(t){var e,i,n,o;if(this.aliasMaps[t])i=this.controllers[this.aliasMaps[t]];else{o=this.controllers;for(n in o)if(e=o[n],n===t){i=e;break}}return i||this.controllers[this.currentFlag]},t.prototype.setContextFor=function(t){return this.currentFlag=t,this},t.prototype.reg=function(t,e){var i,n;return n=(i=this.controllers)[t]||(i[t]=this.$inputor.is("[contentEditable]")?new r(this,t):new d(this,t)),e.alias&&(this.aliasMaps[e.alias]=t),n.init(e),this},t.prototype.listen=function(){return this.$inputor.on("compositionstart",function(t){return function(){var e;return null!=(e=t.controller())&&e.view.hide(),t.isComposing=!0}}(this)).on("compositionend",function(t){return function(){return t.isComposing=!1}}(this)).on("keyup.atwhoInner",function(t){return function(e){return t.onKeyup(e)}}(this)).on("keydown.atwhoInner",function(t){return function(e){return t.onKeydown(e)}}(this)).on("blur.atwhoInner",function(t){return function(e){var i;if(i=t.controller())return i.expectedQueryCBId=null,i.view.hide(e,i.getOpt("displayTimeout"))}}(this)).on("click.atwhoInner",function(t){return function(e){return t.dispatch(e)}}(this)).on("scroll.atwhoInner",function(t){return function(){var e;return e=t.$inputor.scrollTop(),function(i){var n,o;return n=i.target.scrollTop,e!==n&&null!=(o=t.controller())&&o.view.hide(i),e=n,!0}}}(this)())},t.prototype.shutdown=function(){var t,e,i;i=this.controllers;for(t in i)e=i[t],e.destroy(),delete this.controllers[t];return this.$inputor.off(".atwhoInner"),this.$el.remove()},t.prototype.dispatch=function(t){var e,i,n,o;n=this.controllers,o=[];for(e in n)i=n[e],o.push(i.lookUp(t));return o},t.prototype.onKeyup=function(t){var i;switch(t.keyCode){case s.ESC:t.preventDefault(),null!=(i=this.controller())&&i.view.hide();break;case s.DOWN:case s.UP:case s.CTRL:e.noop();break;case s.P:case s.N:t.ctrlKey||this.dispatch(t);break;default:this.dispatch(t)}},t.prototype.onKeydown=function(t){var i,n;if((n=null!=(i=this.controller())?i.view:void 0)&&n.visible())switch(t.keyCode){case s.ESC:t.preventDefault(),n.hide(t);break;case s.UP:t.preventDefault(),n.prev();break;case s.DOWN:t.preventDefault(),n.next();break;case s.P:if(!t.ctrlKey)return;t.preventDefault(),n.prev();break;case s.N:if(!t.ctrlKey)return;t.preventDefault(),n.next();break;case s.TAB:case s.ENTER:case s.SPACE:if(!n.visible())return;if(!this.controller().getOpt("spaceSelectsMatch")&&t.keyCode===s.SPACE)return;if(!this.controller().getOpt("tabSelectsMatch")&&t.keyCode===s.TAB)return;n.highlighted()?(t.preventDefault(),n.choose(t)):n.hide(t);break;default:e.noop()}},t}(),o=function(){function t(t,i){this.app=t,this.at=i,this.$inputor=this.app.$inputor,this.id=this.$inputor[0].id||this.uid(),this.expectedQueryCBId=null,this.setting=null,this.query=null,this.pos=0,this.range=null,0===(this.$el=e("#atwho-ground-"+this.id,this.app.$el)).length&&this.app.$el.append(this.$el=e("<div id='atwho-ground-"+this.id+"'></div>")),this.model=new l(this),this.view=new c(this)}return t.prototype.uid=function(){return(Math.random().toString(16)+"000000000").substr(2,8)+(new Date).getTime()},t.prototype.init=function(t){return this.setting=e.extend({},this.setting||e.fn.atwho["default"],t),this.view.init(),this.model.reload(this.setting.data)},t.prototype.destroy=function(){return this.trigger("beforeDestroy"),this.model.destroy(),this.view.destroy(),this.$el.remove()},t.prototype.callDefault=function(){var t,i,n;n=arguments[0],t=2<=arguments.length?h.call(arguments,1):[];try{return a[n].apply(this,t)}catch(t){return i=t,e.error(i+" Or maybe At.js doesn't have function "+n)}},t.prototype.trigger=function(t,e){var i,n;return null==e&&(e=[]),e.push(this),i=this.getOpt("alias"),n=i?t+"-"+i+".atwho":t+".atwho",this.$inputor.trigger(n,e)},t.prototype.callbacks=function(t){return this.getOpt("callbacks")[t]||a[t]},t.prototype.getOpt=function(t){try{return this.setting[t]}catch(t){return t,null}},t.prototype.insertContentFor=function(t){var i,n;return n=this.getOpt("insertTpl"),i=e.extend({},t.data("item-data"),{"atwho-at":this.at}),this.callbacks("tplEval").call(this,n,i,"onInsert")},t.prototype.renderView=function(t){var e;return e=this.getOpt("searchKey"),t=this.callbacks("sorter").call(this,this.query.text,t.slice(0,1001),e),this.view.render(t.slice(0,this.getOpt("limit")))},t.arrayToDefaultHash=function(t){var i,n,o,a;if(!e.isArray(t))return t;for(a=[],i=0,o=t.length;i<o;i++)n=t[i],e.isPlainObject(n)?a.push(n):a.push({name:n});return a},t.prototype.lookUp=function(t){var e,i;return(e=this.catchQuery(t))?(this.app.setContextFor(this.at),(i=this.getOpt("delay"))?this._delayLookUp(e,i):this._lookUp(e),e):(this.expectedQueryCBId=null,e)},t.prototype._delayLookUp=function(t,e){var i,n;return i=Date.now?Date.now():(new Date).getTime(),this.previousCallTime||(this.previousCallTime=i),n=e-(i-this.previousCallTime),0<n&&n<e?(this.previousCallTime=i,this._stopDelayedCall(),this.delayedCallTimeout=setTimeout(function(e){return function(){return e.previousCallTime=0,e.delayedCallTimeout=null,e._lookUp(t)}}(this),e)):(this._stopDelayedCall(),this.previousCallTime!==i&&(this.previousCallTime=0),this._lookUp(t))},t.prototype._stopDelayedCall=function(){if(this.delayedCallTimeout)return clearTimeout(this.delayedCallTimeout),this.delayedCallTimeout=null},t.prototype._generateQueryCBId=function(){return{}},t.prototype._lookUp=function(t){var i;return i=function(t,e){if(t===this.expectedQueryCBId)return e&&e.length>0?this.renderView(this.constructor.arrayToDefaultHash(e)):this.view.hide()},this.expectedQueryCBId=this._generateQueryCBId(),this.model.query(t.text,e.proxy(i,this,this.expectedQueryCBId))},t}(),d=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return u(i,t),i.prototype.catchQuery=function(){var t,e,i,n,o,a;return e=this.$inputor.val(),t=this.$inputor.caret("pos",{iframe:this.app.iframe}),a=e.slice(0,t),n=this.callbacks("matcher").call(this,this.at,a,this.getOpt("startWithSpace")),"string"==typeof n&&n.length<=this.getOpt("maxLen",20)?(o=t-n.length,i=o+n.length,this.pos=o,n={text:n,headPos:o,endPos:i},this.trigger("matched",[this.at,n.text])):(n=null,this.view.hide()),this.query=n},i.prototype.rect=function(){var t,i,n;if(t=this.$inputor.caret("offset",this.pos-1,{iframe:this.app.iframe}))return this.app.iframe&&!this.app.iframeAsRoot&&(i=e(this.app.iframe).offset(),t.left+=i.left,t.top+=i.top),n=this.app.document.selection?0:2,{left:t.left,top:t.top,bottom:t.top+t.height+n}},i.prototype.insert=function(t){var e,i,n,o,a;return e=this.$inputor,i=e.val(),n=i.slice(0,Math.max(this.query.headPos-this.at.length,0)),o=""===(o=this.getOpt("suffix"))?o:o||" ",t+=o,a=""+n+t+i.slice(this.query.endPos||0),e.val(a),e.caret("pos",n.length+t.length,{iframe:this.app.iframe}),e.is(":focus")||e.focus(),e.change()},i}(o),r=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return u(i,t),i.prototype._getRange=function(){var t;if(t=this.app.window.getSelection(),t.rangeCount>0)return t.getRangeAt(0)},i.prototype._setRange=function(t,i,n){if(null==n&&(n=this._getRange()),n)return i=e(i)[0],"after"===t?(n.setEndAfter(i),n.setStartAfter(i)):(n.setEndBefore(i),n.setStartBefore(i)),n.collapse(!1),this._clearRange(n)},i.prototype._clearRange=function(t){var e;if(null==t&&(t=this._getRange()),e=this.app.window.getSelection(),null==this.ctrl_a_pressed)return e.removeAllRanges(),e.addRange(t)},i.prototype._movingEvent=function(t){var e;return"click"===t.type||(e=t.which)===s.RIGHT||e===s.LEFT||e===s.UP||e===s.DOWN},i.prototype._unwrap=function(t){var i;return t=e(t).unwrap().get(0),(i=t.nextSibling)&&i.nodeValue&&(t.nodeValue+=i.nodeValue,e(i).remove()),t},i.prototype.catchQuery=function(t){var i,n,o,a,r,l,d,c,h,u;if(!this.app.isComposing&&(u=this._getRange())){if(t.which===s.CTRL?this.ctrl_pressed=!0:t.which===s.A?null==this.ctrl_pressed&&(this.ctrl_a_pressed=!0):(delete this.ctrl_a_pressed,delete this.ctrl_pressed),t.which===s.ENTER)return(n=e(u.startContainer).closest(".atwho-query")).contents().unwrap(),n.is(":empty")&&n.remove(),(n=e(".atwho-query",this.app.document)).text(n.text()).contents().last().unwrap(),void this._clearRange();if(/firefox/i.test(navigator.userAgent)){if(e(u.startContainer).is(this.$inputor))return void this._clearRange();t.which===s.BACKSPACE&&u.startContainer.nodeType===document.ELEMENT_NODE&&(c=u.startOffset-1)>=0?(o=u.cloneRange(),o.setStart(u.startContainer,c),e(o.cloneContents()).contents().last().is(".atwho-inserted")&&(r=e(u.startContainer).contents().get(c),this._setRange("after",e(r).contents().last()))):t.which===s.LEFT&&u.startContainer.nodeType===document.TEXT_NODE&&(i=e(u.startContainer.previousSibling),i.is(".atwho-inserted")&&0===u.startOffset&&this._setRange("after",i.contents().last()))}return e(u.startContainer).closest(".atwho-inserted").addClass("atwho-query").siblings().removeClass("atwho-query"),(n=e(".atwho-query",this.app.document)).length>0&&n.is(":empty")&&0===n.text().length&&n.remove(),this._movingEvent(t)||n.removeClass("atwho-inserted"),o=u.cloneRange(),o.setStart(u.startContainer,0),d=this.callbacks("matcher").call(this,this.at,o.toString(),this.getOpt("startWithSpace")),0===n.length&&"string"==typeof d&&(a=u.startOffset-this.at.length-d.length)>=0&&(u.setStart(u.startContainer,a),n=e("<span/>",this.app.document).attr(this.getOpt("editableAtwhoQueryAttrs")).addClass("atwho-query"),u.surroundContents(n.get(0)),l=n.contents().last().get(0),/firefox/i.test(navigator.userAgent)?(u.setStart(l,l.length),u.setEnd(l,l.length),this._clearRange(u)):this._setRange("after",l,u)),"string"==typeof d&&d.length<=this.getOpt("maxLen",20)?(h={text:d,el:n},this.trigger("matched",[this.at,h.text]),this.query=h):(this.view.hide(),this.query={el:n},n.text().indexOf(this.at)>=0&&(this._movingEvent(t)&&n.hasClass("atwho-inserted")?n.removeClass("atwho-query"):!1!==this.callbacks("afterMatchFailed").call(this,this.at,n)&&this._setRange("after",this._unwrap(n.text(n.text()).contents().first()))),null)}},i.prototype.rect=function(){var t,i;return i=this.query.el.offset(),this.app.iframe&&!this.app.iframeAsRoot&&(t=e(this.app.iframe).offset(),i.left+=t.left-this.$inputor.scrollLeft(),i.top+=t.top-this.$inputor.scrollTop()),i.bottom=i.top+this.query.el.height(),i},i.prototype.insert=function(t){var e,i,n;return i=""===(i=this.getOpt("suffix"))?i:i||"\xa0",this.query.el.removeClass("atwho-query").addClass("atwho-inserted").html(t),(e=this._getRange())&&(e.setEndAfter(this.query.el[0]),e.collapse(!1),e.insertNode(n=this.app.document.createTextNode(i)),this._setRange("after",n,e)),this.$inputor.is(":focus")||this.$inputor.focus(),this.$inputor.change()},i}(o),l=function(){function t(t){this.context=t,this.at=this.context.at,this.storage=this.context.$inputor}return t.prototype.destroy=function(){return this.storage.data(this.at,null)},t.prototype.saved=function(){return this.fetch()>0},t.prototype.query=function(t,e){var i,n,o;return n=this.fetch(),o=this.context.getOpt("searchKey"),n=this.context.callbacks("filter").call(this.context,t,n,o)||[],i=this.context.callbacks("remoteFilter"),n.length>0||!i&&0===n.length?e(n):i.call(this.context,t,e)},t.prototype.fetch=function(){return this.storage.data(this.at)||[]},t.prototype.save=function(t){return this.storage.data(this.at,this.context.callbacks("beforeSave").call(this.context,t||[]))},t.prototype.load=function(t){if(!this.saved()&&t)return this._load(t)},t.prototype.reload=function(t){return this._load(t)},t.prototype._load=function(t){return"string"==typeof t?e.ajax(t,{dataType:"json"}).done(function(t){return function(e){return t.save(e)}}(this)):this.save(t)},t}(),c=function(){function t(t){this.context=t,this.$el=e("<div class='atwho-view'><ul class='atwho-view-ul'></ul></div>"),this.timeoutID=null,this.context.$el.append(this.$el),this.bindEvent()}return t.prototype.init=function(){var t;return t=this.context.getOpt("alias")||this.context.at.charCodeAt(0),this.$el.attr({id:"at-view-"+t})},t.prototype.destroy=function(){return this.$el.remove()},t.prototype.bindEvent=function(){var t;return t=this.$el.find("ul"),t.on("mouseenter.atwho-view","li",function(i){return t.find(".cur").removeClass("cur"),e(i.currentTarget).addClass("cur")}).on("click.atwho-view","li",function(i){return function(n){return t.find(".cur").removeClass("cur"),e(n.currentTarget).addClass("cur"),i.choose(n),n.preventDefault()}}(this))},t.prototype.visible=function(){return this.$el.is(":visible")},t.prototype.highlighted=function(){
return this.$el.find(".cur").length>0},t.prototype.choose=function(t){var e,i;if((e=this.$el.find(".cur")).length&&(i=this.context.insertContentFor(e),this.context.insert(this.context.callbacks("beforeInsert").call(this.context,i,e),e),this.context.trigger("inserted",[e,t]),this.hide(t)),this.context.getOpt("hideWithoutSuffix"))return this.stopShowing=!0},t.prototype.reposition=function(t){var i,n,o,a;return i=this.context.app.iframeAsRoot?this.context.app.window:window,t.bottom+this.$el.height()-e(i).scrollTop()>e(i).height()&&(t.bottom=t.top-this.$el.height()),t.left>(o=e(i).width()-this.$el.width()-5)&&(t.left=o),n={left:t.left,top:t.bottom},null!=(a=this.context.callbacks("beforeReposition"))&&a.call(this.context,n),this.$el.offset(n),this.context.trigger("reposition",[n])},t.prototype.next=function(){var t,e;return t=this.$el.find(".cur").removeClass("cur"),e=t.next(),e.length||(e=this.$el.find("li:first")),e.addClass("cur"),this.scrollTop(Math.max(0,t.innerHeight()*(e.index()+2)-this.$el.height()))},t.prototype.prev=function(){var t,e;return t=this.$el.find(".cur").removeClass("cur"),e=t.prev(),e.length||(e=this.$el.find("li:last")),e.addClass("cur"),this.scrollTop(Math.max(0,t.innerHeight()*(e.index()+2)-this.$el.height()))},t.prototype.scrollTop=function(t){var e;return e=this.context.getOpt("scrollDuration"),e?this.$el.animate({scrollTop:t},e):this.$el.scrollTop(t)},t.prototype.show=function(){var t;return this.stopShowing?void(this.stopShowing=!1):(this.visible()||(this.$el.show(),this.$el.scrollTop(0),this.context.trigger("shown")),(t=this.context.rect())?this.reposition(t):void 0)},t.prototype.hide=function(t,e){var i;if(this.visible())return isNaN(e)?(this.$el.hide(),this.context.trigger("hidden",[t])):(i=function(t){return function(){return t.hide()}}(this),clearTimeout(this.timeoutID),this.timeoutID=setTimeout(i,e))},t.prototype.render=function(t){var i,n,o,a,r,s,l;if(!(e.isArray(t)&&t.length>0))return void this.hide();for(this.$el.find("ul").empty(),n=this.$el.find("ul"),l=this.context.getOpt("displayTpl"),o=0,r=t.length;o<r;o++)a=t[o],a=e.extend({},a,{"atwho-at":this.context.at}),s=this.context.callbacks("tplEval").call(this.context,l,a,"onDisplay"),i=e(this.context.callbacks("highlighter").call(this.context,s,this.context.query.text)),i.data("item-data",a),n.append(i);return this.show(),this.context.getOpt("highlightFirst")?n.find("li:first").addClass("cur"):void 0},t}(),s={DOWN:40,UP:38,ESC:27,TAB:9,ENTER:13,CTRL:17,A:65,P:80,N:78,LEFT:37,UP:38,RIGHT:39,DOWN:40,BACKSPACE:8,SPACE:32},a={beforeSave:function(t){return o.arrayToDefaultHash(t)},matcher:function(t,e,i,n){var o,a,r,s,l;return t=t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),i&&(t="(?:^|\\s)"+t),o=decodeURI("%C3%80"),a=decodeURI("%C3%BF"),l=n?" ":"",s=new RegExp(t+"([A-Za-z"+o+"-"+a+"0-9_"+l+".+-]*)$|"+t+"([^\\x00-\\xff]*)$","gi"),r=s.exec(e),r?r[2]||r[1]:null},filter:function(t,e,i){var n,o,a,r;for(n=[],o=0,r=e.length;o<r;o++)a=e[o],~new String(a[i]).toLowerCase().indexOf(t.toLowerCase())&&n.push(a);return n},remoteFilter:null,sorter:function(t,e,i){var n,o,a,r;if(!t)return e;for(n=[],o=0,r=e.length;o<r;o++)a=e[o],a.atwho_order=new String(a[i]).toLowerCase().indexOf(t.toLowerCase()),a.atwho_order>-1&&n.push(a);return n.sort(function(t,e){return t.atwho_order-e.atwho_order})},tplEval:function(t,e){var i;i=t;try{return"string"!=typeof t&&(i=t(e)),i.replace(/\$\{([^\}]*)\}/g,function(t,i){return e[i]})}catch(t){return t,""}},highlighter:function(t,e){var i;return e?(i=new RegExp(">\\s*(\\w*?)("+e.replace("+","\\+")+")(\\w*)\\s*<","ig"),t.replace(i,function(t,e,i,n){return"> "+e+"<strong>"+i+"</strong>"+n+" <"})):t},beforeInsert:function(t){return t},beforeReposition:function(t){return t},afterMatchFailed:function(){}},i={load:function(t,e){var i;if(i=this.controller(t))return i.model.load(e)},isSelecting:function(){var t;return null!=(t=this.controller())?t.view.visible():void 0},hide:function(){var t;return null!=(t=this.controller())?t.view.hide():void 0},reposition:function(){var t;if(t=this.controller())return t.view.reposition(t.rect())},setIframe:function(t,e){return this.setupRootElement(t,e),null},run:function(){return this.dispatch()},destroy:function(){return this.shutdown(),this.$inputor.data("atwho",null)}},e.fn.atwho=function(t){var o,a;return o=arguments,a=null,this.filter('textarea, input, [contenteditable=""], [contenteditable=true]').each(function(){var r,s;return(s=(r=e(this)).data("atwho"))||r.data("atwho",s=new n(this)),"object"!=typeof t&&t?i[t]&&s?a=i[t].apply(s,Array.prototype.slice.call(o,1)):e.error("Method "+t+" does not exist on jQuery.atwho"):s.reg(t.at,t)}),null!=a?a:this},e.fn.atwho["default"]={at:void 0,alias:void 0,data:null,displayTpl:"<li>${name}</li>",insertTpl:"${atwho-at}${name}",callbacks:a,searchKey:"name",suffix:void 0,hideWithoutSuffix:!1,startWithSpace:!0,highlightFirst:!0,limit:5,maxLen:20,displayTimeout:300,delay:null,spaceSelectsMatch:!1,tabSelectsMatch:!0,editableAtwhoQueryAttrs:{},scrollDuration:150},e.fn.atwho.debug=!1}),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(t){"use strict";var e=t.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1||e[0]>3)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(jQuery),function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in e)if(t.style[i]!==undefined)return{end:e[i]};return!1}t.fn.emulateTransitionEnd=function(e){var i=!1,n=this;t(this).one("bsTransitionEnd",function(){i=!0});var o=function(){i||t(n).trigger(t.support.transition.end)};return setTimeout(o,e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){if(t(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}})})}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var i=t(this),o=i.data("bs.alert");o||i.data("bs.alert",o=new n(this)),"string"==typeof e&&o[e].call(i)})}var i='[data-dismiss="alert"]',n=function(e){t(e).on("click",i,this.close)};n.VERSION="3.3.7",n.TRANSITION_DURATION=150,n.prototype.close=function(e){function i(){r.detach().trigger("closed.bs.alert").remove()}var o=t(this),a=o.attr("data-target");a||(a=o.attr("href"),a=a&&a.replace(/.*(?=#[^\s]*$)/,""));var r=t("#"===a?[]:a);e&&e.preventDefault(),r.length||(r=o.closest(".alert")),r.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(r.removeClass("in"),t.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",i).emulateTransitionEnd(n.TRANSITION_DURATION):i())};var o=t.fn.alert;t.fn.alert=e,t.fn.alert.Constructor=n,t.fn.alert.noConflict=function(){return t.fn.alert=o,this},t(document).on("click.bs.alert.data-api",i,n.prototype.close)}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var n=t(this),o=n.data("bs.button"),a="object"==typeof e&&e;o||n.data("bs.button",o=new i(this,a)),"toggle"==e?o.toggle():e&&o.setState(e)})}var i=function(e,n){this.$element=t(e),this.options=t.extend({},i.DEFAULTS,n),this.isLoading=!1};i.VERSION="3.3.7",i.DEFAULTS={loadingText:"loading..."},i.prototype.setState=function(e){var i="disabled",n=this.$element,o=n.is("input")?"val":"html",a=n.data();e+="Text",null==a.resetText&&n.data("resetText",n[o]()),setTimeout(t.proxy(function(){n[o](null==a[e]?this.options[e]:a[e]),"loadingText"==e?(this.isLoading=!0,n.addClass(i).attr(i,i).prop(i,!0)):this.isLoading&&(this.isLoading=!1,n.removeClass(i).removeAttr(i).prop(i,!1))},this),0)},i.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var i=this.$element.find("input");"radio"==i.prop("type")?(i.prop("checked")&&(t=!1),e.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==i.prop("type")&&(i.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),i.prop("checked",this.$element.hasClass("active")),t&&i.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var n=t.fn.button;t.fn.button=e,t.fn.button.Constructor=i,t.fn.button.noConflict=function(){return t.fn.button=n,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(i){var n=t(i.target).closest(".btn");e.call(n,"toggle"),t(i.target).is('input[type="radio"], input[type="checkbox"]')||(i.preventDefault(),n.is("input,button")?n.trigger("focus"):n.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){t(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))})}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var n=t(this),o=n.data("bs.carousel"),a=t.extend({},i.DEFAULTS,n.data(),"object"==typeof e&&e),r="string"==typeof e?e:a.slide;o||n.data("bs.carousel",o=new i(this,a)),"number"==typeof e?o.to(e):r?o[r]():a.interval&&o.pause().cycle()})}var i=function(e,i){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};i.VERSION="3.3.7",i.TRANSITION_DURATION=600,i.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},i.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},i.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},i.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},i.prototype.getItemForDirection=function(t,e){var i=this.getItemIndex(e);if(("prev"==t&&0===i||"next"==t&&i==this.$items.length-1)&&!this.options.wrap)return e;var n="prev"==t?-1:1,o=(i+n)%this.$items.length;return this.$items.eq(o)},i.prototype.to=function(t){var e=this,i=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(t>this.$items.length-1||t<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):i==t?this.pause().cycle():this.slide(t>i?"next":"prev",this.$items.eq(t))},i.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},i.prototype.next=function(){if(!this.sliding)return this.slide("next")},i.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},i.prototype.slide=function(e,n){var o=this.$element.find(".item.active"),a=n||this.getItemForDirection(e,o),r=this.interval,s="next"==e?"left":"right",l=this;if(a.hasClass("active"))return this.sliding=!1;var d=a[0],c=t.Event("slide.bs.carousel",{relatedTarget:d,direction:s});if(this.$element.trigger(c),!c.isDefaultPrevented()){if(this.sliding=!0,r&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var h=t(this.$indicators.children()[this.getItemIndex(a)]);h&&h.addClass("active")}var u=t.Event("slid.bs.carousel",{relatedTarget:d,direction:s});return t.support.transition&&this.$element.hasClass("slide")?(a.addClass(e),a[0].offsetWidth,o.addClass(s),a.addClass(s),o.one("bsTransitionEnd",function(){a.removeClass([e,s].join(" ")).addClass("active"),o.removeClass(["active",s].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(u)},0)}).emulateTransitionEnd(i.TRANSITION_DURATION)):(o.removeClass("active"),a.addClass("active"),this.sliding=!1,this.$element.trigger(u)),r&&this.cycle(),this}};var n=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=i,t.fn.carousel.noConflict=function(){return t.fn.carousel=n,this};var o=function(i){var n,o=t(this),a=t(o.attr("data-target")||(n=o.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""));if(a.hasClass("carousel")){var r=t.extend({},a.data(),o.data()),s=o.attr("data-slide-to");s&&(r.interval=!1),e.call(a,r),s&&a.data("bs.carousel").to(s),i.preventDefault()}};t(document).on("click.bs.carousel.data-api","[data-slide]",o).on("click.bs.carousel.data-api","[data-slide-to]",o),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var i=t(this);e.call(i,i.data())})})}(jQuery),function(t){"use strict";function e(e){var i,n=e.attr("data-target")||(i=e.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"");return t(n)}function i(e){return this.each(function(){var i=t(this),o=i.data("bs.collapse"),a=t.extend({},n.DEFAULTS,i.data(),"object"==typeof e&&e);!o&&a.toggle&&/show|hide/.test(e)&&(a.toggle=!1),o||i.data("bs.collapse",o=new n(this,a)),"string"==typeof e&&o[e]()})}var n=function(e,i){this.$element=t(e),this.options=t.extend({},n.DEFAULTS,i),this.$trigger=t('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};n.VERSION="3.3.7",n.TRANSITION_DURATION=350,n.DEFAULTS={toggle:!0},n.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},n.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,o=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(o&&o.length&&(e=o.data("bs.collapse"))&&e.transitioning)){var a=t.Event("show.bs.collapse");if(this.$element.trigger(a),!a.isDefaultPrevented()){o&&o.length&&(i.call(o,"hide"),e||o.data("bs.collapse",null));var r=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[r](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var s=function(){this.$element.removeClass("collapsing").addClass("collapse in")[r](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return s.call(this);var l=t.camelCase(["scroll",r].join("-"));this.$element.one("bsTransitionEnd",t.proxy(s,this)).emulateTransitionEnd(n.TRANSITION_DURATION)[r](this.$element[0][l])}}}},n.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var o=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!t.support.transition)return o.call(this);this.$element[i](0).one("bsTransitionEnd",t.proxy(o,this)).emulateTransitionEnd(n.TRANSITION_DURATION)}}},n.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},n.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(i,n){var o=t(n);this.addAriaAndCollapsedClass(e(o),o)},this)).end()},n.prototype.addAriaAndCollapsedClass=function(t,e){var i=t.hasClass("in");t.attr("aria-expanded",i),e.toggleClass("collapsed",!i).attr("aria-expanded",i)};var o=t.fn.collapse;t.fn.collapse=i,t.fn.collapse.Constructor=n,t.fn.collapse.noConflict=function(){return t.fn.collapse=o,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(n){var o=t(this);o.attr("data-target")||n.preventDefault();var a=e(o),r=a.data("bs.collapse"),s=r?"toggle":o.data();i.call(a,s)})}(jQuery),function(t){"use strict";function e(e){var i=e.attr("data-target");i||(i=e.attr("href"),i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""));var n=i&&t(i);return n&&n.length?n:e.parent()}function i(i){i&&3===i.which||(t(o).remove(),t(a).each(function(){var n=t(this),o=e(n),a={relatedTarget:this};o.hasClass("open")&&(i&&"click"==i.type&&/input|textarea/i.test(i.target.tagName)&&t.contains(o[0],i.target)||(o.trigger(i=t.Event("hide.bs.dropdown",a)),i.isDefaultPrevented()||(n.attr("aria-expanded","false"),o.removeClass("open").trigger(t.Event("hidden.bs.dropdown",a)))))}))}function n(e){return this.each(function(){var i=t(this),n=i.data("bs.dropdown");n||i.data("bs.dropdown",n=new r(this)),"string"==typeof e&&n[e].call(i)})}var o=".dropdown-backdrop",a='[data-toggle="dropdown"]',r=function(e){t(e).on("click.bs.dropdown",this.toggle)};r.VERSION="3.3.7",r.prototype.toggle=function(n){var o=t(this);if(!o.is(".disabled, :disabled")){var a=e(o),r=a.hasClass("open");if(i(),!r){"ontouchstart"in document.documentElement&&!a.closest(".navbar-nav").length&&t(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(t(this)).on("click",i);var s={relatedTarget:this};if(a.trigger(n=t.Event("show.bs.dropdown",s)),n.isDefaultPrevented())return;o.trigger("focus").attr("aria-expanded","true"),a.toggleClass("open").trigger(t.Event("shown.bs.dropdown",s))}return!1}},r.prototype.keydown=function(i){if(/(38|40|27|32)/.test(i.which)&&!/input|textarea/i.test(i.target.tagName)){var n=t(this);if(i.preventDefault(),i.stopPropagation(),!n.is(".disabled, :disabled")){var o=e(n),r=o.hasClass("open");if(!r&&27!=i.which||r&&27==i.which)return 27==i.which&&o.find(a).trigger("focus"),n.trigger("click");var s=" li:not(.disabled):visible a",l=o.find(".dropdown-menu"+s);if(l.length){var d=l.index(i.target);38==i.which&&d>0&&d--,40==i.which&&d<l.length-1&&d++,~d||(d=0),l.eq(d).trigger("focus")}}}};var s=t.fn.dropdown;t.fn.dropdown=n,t.fn.dropdown.Constructor=r,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=s,this},t(document).on("click.bs.dropdown.data-api",i).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",a,r.prototype.toggle).on("keydown.bs.dropdown.data-api",a,r.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",r.prototype.keydown)}(jQuery),function(t){"use strict";function e(e,n){return this.each(function(){var o=t(this),a=o.data("bs.modal"),r=t.extend({},i.DEFAULTS,o.data(),"object"==typeof e&&e);a||o.data("bs.modal",a=new i(this,r)),"string"==typeof e?a[e](n):r.show&&a.show(n)})}var i=function(e,i){this.options=i,this.$body=t(document.body),this.$element=t(e),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};i.VERSION="3.3.7",i.TRANSITION_DURATION=300,i.BACKDROP_TRANSITION_DURATION=150,i.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},i.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},i.prototype.show=function(e){var n=this,o=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(o),this.isShown||o.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){n.$element.one("mouseup.dismiss.bs.modal",function(e){t(e.target).is(n.$element)&&(n.ignoreBackdropClick=!0)})}),this.backdrop(function(){var o=t.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(n.$body),n.$element.show().scrollTop(0),n.adjustDialog(),o&&n.$element[0].offsetWidth,n.$element.addClass("in"),n.enforceFocus();var a=t.Event("shown.bs.modal",{relatedTarget:e});o?n.$dialog.one("bsTransitionEnd",function(){n.$element.trigger("focus").trigger(a)}).emulateTransitionEnd(i.TRANSITION_DURATION):n.$element.trigger("focus").trigger(a)}))},i.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(i.TRANSITION_DURATION):this.hideModal())},i.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){document===t.target||this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},i.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},i.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},i.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},i.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},i.prototype.backdrop=function(e){var n=this,o=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var a=t.support.transition&&o;if(this.$backdrop=t(document.createElement("div")).addClass("modal-backdrop "+o).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){if(this.ignoreBackdropClick)return void(this.ignoreBackdropClick=!1);t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide())},this)),a&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;a?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var r=function(){n.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",r).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):r()}else e&&e()},i.prototype.handleUpdate=function(){this.adjustDialog()},i.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},i.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},i.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},i.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},i.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},i.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var n=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=i,t.fn.modal.noConflict=function(){return t.fn.modal=n,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(i){var n=t(this),o=n.attr("href"),a=t(n.attr("data-target")||o&&o.replace(/.*(?=#[^\s]+$)/,"")),r=a.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(o)&&o},a.data(),n.data());n.is("a")&&i.preventDefault(),a.one("show.bs.modal",function(t){t.isDefaultPrevented()||a.one("hidden.bs.modal",function(){n.is(":visible")&&n.trigger("focus")})}),e.call(a,r,this)})}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var n=t(this),o=n.data("bs.tooltip"),a="object"==typeof e&&e;!o&&/destroy|hide/.test(e)||(o||n.data("bs.tooltip",o=new i(this,a)),"string"==typeof e&&o[e]())})}var i=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};i.VERSION="3.3.7",i.TRANSITION_DURATION=150,i.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},i.prototype.init=function(e,i,n){if(this.enabled=!0,this.type=e,this.$element=t(i),this.options=this.getOptions(n),this.$viewport=this.options.viewport&&t(t.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var o=this.options.trigger.split(" "),a=o.length;a--;){var r=o[a];if("click"==r)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=r){var s="hover"==r?"mouseenter":"focusin",l="hover"==r?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},i.prototype.getDelegateOptions=function(){var e={},i=this.getDefaults();return this._options&&t.each(this._options,function(t,n){i[t]!=n&&(e[t]=n)}),e},i.prototype.enter=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),e instanceof t.Event&&(i.inState["focusin"==e.type?"focus":"hover"]=!0),i.tip().hasClass("in")||"in"==i.hoverState?void(i.hoverState="in"):(clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?void(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show())},i.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},i.prototype.leave=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);if(i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),e instanceof t.Event&&(i.inState["focusout"==e.type?"focus":"hover"]=!1),!i.isInStateTrue()){if(clearTimeout(i.timeout),i.hoverState="out",!i.options.delay||!i.options.delay.hide)return i.hide();i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)}},i.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var n=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!n)return;var o=this,a=this.tip(),r=this.getUID(this.type);this.setContent(),a.attr("id",r),this.$element.attr("aria-describedby",r),this.options.animation&&a.addClass("fade");var s="function"==typeof this.options.placement?this.options.placement.call(this,a[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,d=l.test(s);d&&(s=s.replace(l,"")||"top"),a.detach().css({top:0,left:0,display:"block"}).addClass(s).data("bs."+this.type,this),this.options.container?a.appendTo(this.options.container):a.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var c=this.getPosition(),h=a[0].offsetWidth,u=a[0].offsetHeight;if(d){var f=s,p=this.getPosition(this.$viewport);s="bottom"==s&&c.bottom+u>p.bottom?"top":"top"==s&&c.top-u<p.top?"bottom":"right"==s&&c.right+h>p.width?"left":"left"==s&&c.left-h<p.left?"right":s,a.removeClass(f).addClass(s)}var m=this.getCalculatedOffset(s,c,h,u);this.applyPlacement(m,s);var g=function(){var t=o.hoverState;o.$element.trigger("shown.bs."+o.type),o.hoverState=null,"out"==t&&o.leave(o)};t.support.transition&&this.$tip.hasClass("fade")?a.one("bsTransitionEnd",g).emulateTransitionEnd(i.TRANSITION_DURATION):g()}},i.prototype.applyPlacement=function(e,i){var n=this.tip(),o=n[0].offsetWidth,a=n[0].offsetHeight,r=parseInt(n.css("margin-top"),10),s=parseInt(n.css("margin-left"),10);isNaN(r)&&(r=0),isNaN(s)&&(s=0),e.top+=r,e.left+=s,t.offset.setOffset(n[0],t.extend({using:function(t){n.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),n.addClass("in");var l=n[0].offsetWidth,d=n[0].offsetHeight;"top"==i&&d!=a&&(e.top=e.top+a-d);var c=this.getViewportAdjustedDelta(i,e,l,d);c.left?e.left+=c.left:e.top+=c.top;var h=/top|bottom/.test(i),u=h?2*c.left-o+l:2*c.top-a+d,f=h?"offsetWidth":"offsetHeight";n.offset(e),this.replaceArrow(u,n[0][f],h)},i.prototype.replaceArrow=function(t,e,i){this.arrow().css(i?"left":"top",50*(1-t/e)+"%").css(i?"top":"left","")},i.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},i.prototype.hide=function(e){function n(){"in"!=o.hoverState&&a.detach(),o.$element&&o.$element.removeAttr("aria-describedby").trigger("hidden.bs."+o.type),e&&e()}var o=this,a=t(this.$tip),r=t.Event("hide.bs."+this.type);if(this.$element.trigger(r),!r.isDefaultPrevented())return a.removeClass("in"),t.support.transition&&a.hasClass("fade")?a.one("bsTransitionEnd",n).emulateTransitionEnd(i.TRANSITION_DURATION):n(),this.hoverState=null,this},i.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},i.prototype.hasContent=function(){return this.getTitle()},i.prototype.getPosition=function(e){e=e||this.$element;var i=e[0],n="BODY"==i.tagName,o=i.getBoundingClientRect();null==o.width&&(o=t.extend({},o,{width:o.right-o.left,height:o.bottom-o.top}));var a=window.SVGElement&&i instanceof window.SVGElement,r=n?{top:0,left:0}:a?null:e.offset(),s={scroll:n?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},l=n?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},o,s,l,r)},i.prototype.getCalculatedOffset=function(t,e,i,n){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-i/2}:"top"==t?{top:e.top-n,left:e.left+e.width/2-i/2}:"left"==t?{top:e.top+e.height/2-n/2,left:e.left-i}:{top:e.top+e.height/2-n/2,left:e.left+e.width}},i.prototype.getViewportAdjustedDelta=function(t,e,i,n){var o={top:0,left:0};if(!this.$viewport)return o;var a=this.options.viewport&&this.options.viewport.padding||0,r=this.getPosition(this.$viewport);if(/right|left/.test(t)){var s=e.top-a-r.scroll,l=e.top+a-r.scroll+n;s<r.top?o.top=r.top-s:l>r.top+r.height&&(o.top=r.top+r.height-l)}else{var d=e.left-a,c=e.left+a+i;d<r.left?o.left=r.left-d:c>r.right&&(o.left=r.left+r.width-c)}return o},i.prototype.getTitle=function(){var t=this.$element,e=this.options;return t.attr("data-original-title")||("function"==typeof e.title?e.title.call(t[0]):e.title)},i.prototype.getUID=function(t){do{t+=~~(1e6*Math.random())}while(document.getElementById(t));return t},i.prototype.tip=function(){if(!this.$tip&&(this.$tip=t(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},
i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},i.prototype.enable=function(){this.enabled=!0},i.prototype.disable=function(){this.enabled=!1},i.prototype.toggleEnabled=function(){this.enabled=!this.enabled},i.prototype.toggle=function(e){var i=this;e&&((i=t(e.currentTarget).data("bs."+this.type))||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i))),e?(i.inState.click=!i.inState.click,i.isInStateTrue()?i.enter(i):i.leave(i)):i.tip().hasClass("in")?i.leave(i):i.enter(i)},i.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null,t.$element=null})};var n=t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=i,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=n,this}}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var n=t(this),o=n.data("bs.popover"),a="object"==typeof e&&e;!o&&/destroy|hide/.test(e)||(o||n.data("bs.popover",o=new i(this,a)),"string"==typeof e&&o[e]())})}var i=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");i.VERSION="3.3.7",i.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),i.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),i.prototype.constructor=i,i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),i=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof i?"html":"append":"text"](i),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},i.prototype.hasContent=function(){return this.getTitle()||this.getContent()},i.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var n=t.fn.popover;t.fn.popover=e,t.fn.popover.Constructor=i,t.fn.popover.noConflict=function(){return t.fn.popover=n,this}}(jQuery),function(t){"use strict";function e(i,n){this.$body=t(document.body),this.$scrollElement=t(t(i).is(document.body)?window:i),this.options=t.extend({},e.DEFAULTS,n),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",t.proxy(this.process,this)),this.refresh(),this.process()}function i(i){return this.each(function(){var n=t(this),o=n.data("bs.scrollspy"),a="object"==typeof i&&i;o||n.data("bs.scrollspy",o=new e(this,a)),"string"==typeof i&&o[i]()})}e.VERSION="3.3.7",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e=this,i="offset",n=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),t.isWindow(this.$scrollElement[0])||(i="position",n=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var e=t(this),o=e.data("target")||e.attr("href"),a=/^#./.test(o)&&t(o);return a&&a.length&&a.is(":visible")&&[[a[i]().top+n,o]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){e.offsets.push(this[0]),e.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,i=this.getScrollHeight(),n=this.options.offset+i-this.$scrollElement.height(),o=this.offsets,a=this.targets,r=this.activeTarget;if(this.scrollHeight!=i&&this.refresh(),e>=n)return r!=(t=a[a.length-1])&&this.activate(t);if(r&&e<o[0])return this.activeTarget=null,this.clear();for(t=o.length;t--;)r!=a[t]&&e>=o[t]&&(o[t+1]===undefined||e<o[t+1])&&this.activate(a[t])},e.prototype.activate=function(e){this.activeTarget=e,this.clear();var i=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',n=t(i).parents("li").addClass("active");n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate.bs.scrollspy")},e.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var n=t.fn.scrollspy;t.fn.scrollspy=i,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=n,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);i.call(e,e.data())})})}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var n=t(this),o=n.data("bs.tab");o||n.data("bs.tab",o=new i(this)),"string"==typeof e&&o[e]()})}var i=function(e){this.element=t(e)};i.VERSION="3.3.7",i.TRANSITION_DURATION=150,i.prototype.show=function(){var e=this.element,i=e.closest("ul:not(.dropdown-menu)"),n=e.data("target");if(n||(n=e.attr("href"),n=n&&n.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var o=i.find(".active:last a"),a=t.Event("hide.bs.tab",{relatedTarget:e[0]}),r=t.Event("show.bs.tab",{relatedTarget:o[0]});if(o.trigger(a),e.trigger(r),!r.isDefaultPrevented()&&!a.isDefaultPrevented()){var s=t(n);this.activate(e.closest("li"),i),this.activate(s,s.parent(),function(){o.trigger({type:"hidden.bs.tab",relatedTarget:e[0]}),e.trigger({type:"shown.bs.tab",relatedTarget:o[0]})})}}},i.prototype.activate=function(e,n,o){function a(){r.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),s?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu").length&&e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),o&&o()}var r=n.find("> .active"),s=o&&t.support.transition&&(r.length&&r.hasClass("fade")||!!n.find("> .fade").length);r.length&&s?r.one("bsTransitionEnd",a).emulateTransitionEnd(i.TRANSITION_DURATION):a(),r.removeClass("in")};var n=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=i,t.fn.tab.noConflict=function(){return t.fn.tab=n,this};var o=function(i){i.preventDefault(),e.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',o).on("click.bs.tab.data-api",'[data-toggle="pill"]',o)}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var n=t(this),o=n.data("bs.affix"),a="object"==typeof e&&e;o||n.data("bs.affix",o=new i(this,a)),"string"==typeof e&&o[e]()})}var i=function(e,n){this.options=t.extend({},i.DEFAULTS,n),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(e),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};i.VERSION="3.3.7",i.RESET="affix affix-top affix-bottom",i.DEFAULTS={offset:0,target:window},i.prototype.getState=function(t,e,i,n){var o=this.$target.scrollTop(),a=this.$element.offset(),r=this.$target.height();if(null!=i&&"top"==this.affixed)return o<i&&"top";if("bottom"==this.affixed)return null!=i?!(o+this.unpin<=a.top)&&"bottom":!(o+r<=t-n)&&"bottom";var s=null==this.affixed,l=s?o:a.top,d=s?r:e;return null!=i&&o<=i?"top":null!=n&&l+d>=t-n&&"bottom"},i.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(i.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},i.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},i.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=this.$element.height(),n=this.options.offset,o=n.top,a=n.bottom,r=Math.max(t(document).height(),t(document.body).height());"object"!=typeof n&&(a=o=n),"function"==typeof o&&(o=n.top(this.$element)),"function"==typeof a&&(a=n.bottom(this.$element));var s=this.getState(r,e,o,a);if(this.affixed!=s){null!=this.unpin&&this.$element.css("top","");var l="affix"+(s?"-"+s:""),d=t.Event(l+".bs.affix");if(this.$element.trigger(d),d.isDefaultPrevented())return;this.affixed=s,this.unpin="bottom"==s?this.getPinnedOffset():null,this.$element.removeClass(i.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==s&&this.$element.offset({top:r-e-a})}};var n=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=i,t.fn.affix.noConflict=function(){return t.fn.affix=n,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var i=t(this),n=i.data();n.offset=n.offset||{},null!=n.offsetBottom&&(n.offset.bottom=n.offsetBottom),null!=n.offsetTop&&(n.offset.top=n.offsetTop),e.call(i,n)})})}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var n=t(this),o=n.data("bs.toggle"),a="object"==typeof e&&e;o||n.data("bs.toggle",o=new i(this,a)),"string"==typeof e&&o[e]&&o[e]()})}var i=function(e,i){this.$element=t(e),this.options=t.extend({},this.defaults(),i),this.render()};i.VERSION="2.2.0",i.DEFAULTS={on:"On",off:"Off",onstyle:"primary",offstyle:"default",size:"normal",style:"",width:null,height:null},i.prototype.defaults=function(){return{on:this.$element.attr("data-on")||i.DEFAULTS.on,off:this.$element.attr("data-off")||i.DEFAULTS.off,onstyle:this.$element.attr("data-onstyle")||i.DEFAULTS.onstyle,offstyle:this.$element.attr("data-offstyle")||i.DEFAULTS.offstyle,size:this.$element.attr("data-size")||i.DEFAULTS.size,style:this.$element.attr("data-style")||i.DEFAULTS.style,width:this.$element.attr("data-width")||i.DEFAULTS.width,height:this.$element.attr("data-height")||i.DEFAULTS.height}},i.prototype.render=function(){this._onstyle="btn-"+this.options.onstyle,this._offstyle="btn-"+this.options.offstyle;var e="large"===this.options.size?"btn-lg":"small"===this.options.size?"btn-sm":"mini"===this.options.size?"btn-xs":"",i=t('<label class="btn">').html(this.options.on).addClass(this._onstyle+" "+e),n=t('<label class="btn">').html(this.options.off).addClass(this._offstyle+" "+e+" active"),o=t('<span class="toggle-handle btn btn-default">').addClass(e),a=t('<div class="toggle-group">').append(i,n,o),r=t('<div class="toggle btn" data-toggle="toggle">').addClass(this.$element.prop("checked")?this._onstyle:this._offstyle+" off").addClass(e).addClass(this.options.style);this.$element.wrap(r),t.extend(this,{$toggle:this.$element.parent(),$toggleOn:i,$toggleOff:n,$toggleGroup:a}),this.$toggle.append(a);var s=this.options.width||Math.max(i.outerWidth(),n.outerWidth())+o.outerWidth()/2,l=this.options.height||Math.max(i.outerHeight(),n.outerHeight());i.addClass("toggle-on"),n.addClass("toggle-off"),this.$toggle.css({width:s,height:l}),this.options.height&&(i.css("line-height",i.height()+"px"),n.css("line-height",n.height()+"px")),this.update(!0),this.trigger(!0)},i.prototype.toggle=function(){this.$element.prop("checked")?this.off():this.on()},i.prototype.on=function(t){if(this.$element.prop("disabled"))return!1;this.$toggle.removeClass(this._offstyle+" off").addClass(this._onstyle),this.$element.prop("checked",!0),t||this.trigger()},i.prototype.off=function(t){if(this.$element.prop("disabled"))return!1;this.$toggle.removeClass(this._onstyle).addClass(this._offstyle+" off"),this.$element.prop("checked",!1),t||this.trigger()},i.prototype.enable=function(){this.$toggle.removeAttr("disabled"),this.$element.prop("disabled",!1)},i.prototype.disable=function(){this.$toggle.attr("disabled","disabled"),this.$element.prop("disabled",!0)},i.prototype.update=function(t){this.$element.prop("disabled")?this.disable():this.enable(),this.$element.prop("checked")?this.on(t):this.off(t)},i.prototype.trigger=function(e){this.$element.off("change.bs.toggle"),e||this.$element.change(),this.$element.on("change.bs.toggle",t.proxy(function(){this.update()},this))},i.prototype.destroy=function(){this.$element.off("change.bs.toggle"),this.$toggleGroup.remove(),this.$element.removeData("bs.toggle"),this.$element.unwrap()};var n=t.fn.bootstrapToggle;t.fn.bootstrapToggle=e,t.fn.bootstrapToggle.Constructor=i,t.fn.toggle.noConflict=function(){return t.fn.bootstrapToggle=n,this},t(function(){t("input[type=checkbox][data-toggle^=toggle]").bootstrapToggle()}),t(document).on("click.bs.toggle","div[data-toggle^=toggle]",function(e){t(this).find("input[type=checkbox]").bootstrapToggle("toggle"),e.preventDefault()})}(jQuery),function(t){"use strict";function e(e){var i=[{re:/[\xC0-\xC6]/g,ch:"A"},{re:/[\xE0-\xE6]/g,ch:"a"},{re:/[\xC8-\xCB]/g,ch:"E"},{re:/[\xE8-\xEB]/g,ch:"e"},{re:/[\xCC-\xCF]/g,ch:"I"},{re:/[\xEC-\xEF]/g,ch:"i"},{re:/[\xD2-\xD6]/g,ch:"O"},{re:/[\xF2-\xF6]/g,ch:"o"},{re:/[\xD9-\xDC]/g,ch:"U"},{re:/[\xF9-\xFC]/g,ch:"u"},{re:/[\xC7-\xE7]/g,ch:"c"},{re:/[\xD1]/g,ch:"N"},{re:/[\xF1]/g,ch:"n"}];return t.each(i,function(){e=e?e.replace(this.re,this.ch):""}),e}function i(e){var i=arguments,n=e;[].shift.apply(i);var o,a=this.each(function(){var e=t(this);if(e.is("select")){var a=e.data("selectpicker"),r="object"==typeof n&&n;if(a){if(r)for(var s in r)r.hasOwnProperty(s)&&(a.options[s]=r[s])}else{var l=t.extend({},c.DEFAULTS,t.fn.selectpicker.defaults||{},e.data(),r);l.template=t.extend({},c.DEFAULTS.template,t.fn.selectpicker.defaults?t.fn.selectpicker.defaults.template:{},e.data().template,r.template),e.data("selectpicker",a=new c(this,l))}"string"==typeof n&&(o=a[n]instanceof Function?a[n].apply(a,i):a.options[n])}});return void 0!==o?o:a}String.prototype.includes||function(){var t={}.toString,e=function(){try{var t={},e=Object.defineProperty,i=e(t,t,t)&&e}catch(t){}return i}(),i="".indexOf,n=function(e){if(null==this)throw new TypeError;var n=String(this);if(e&&"[object RegExp]"==t.call(e))throw new TypeError;var o=n.length,a=String(e),r=a.length,s=arguments.length>1?arguments[1]:undefined,l=s?Number(s):0;return l!=l&&(l=0),!(r+Math.min(Math.max(l,0),o)>o)&&-1!=i.call(n,a,l)};e?e(String.prototype,"includes",{value:n,configurable:!0,writable:!0}):String.prototype.includes=n}(),String.prototype.startsWith||function(){var t=function(){try{var t={},e=Object.defineProperty,i=e(t,t,t)&&e}catch(t){}return i}(),e={}.toString,i=function(t){if(null==this)throw new TypeError;var i=String(this);if(t&&"[object RegExp]"==e.call(t))throw new TypeError;var n=i.length,o=String(t),a=o.length,r=arguments.length>1?arguments[1]:undefined,s=r?Number(r):0;s!=s&&(s=0);var l=Math.min(Math.max(s,0),n);if(a+l>n)return!1;for(var d=-1;++d<a;)if(i.charCodeAt(l+d)!=o.charCodeAt(d))return!1;return!0};t?t(String.prototype,"startsWith",{value:i,configurable:!0,writable:!0}):String.prototype.startsWith=i}(),Object.keys||(Object.keys=function(t,e,i){i=[];for(e in t)i.hasOwnProperty.call(t,e)&&i.push(e);return i});var n={useDefault:!1,_set:t.valHooks.select.set};t.valHooks.select.set=function(e,i){return i&&!n.useDefault&&t(e).data("selected",!0),n._set.apply(this,arguments)};var o=null;t.fn.triggerNative=function(t){var e,i=this[0];i.dispatchEvent?("function"==typeof Event?e=new Event(t,{bubbles:!0}):(e=document.createEvent("Event"),e.initEvent(t,!0,!1)),i.dispatchEvent(e)):i.fireEvent?(e=document.createEventObject(),e.eventType=t,i.fireEvent("on"+t,e)):this.trigger(t)},t.expr.pseudos.icontains=function(e,i,n){var o=t(e);return(o.data("tokens")||o.text()).toString().toUpperCase().includes(n[3].toUpperCase())},t.expr.pseudos.ibegins=function(e,i,n){var o=t(e);return(o.data("tokens")||o.text()).toString().toUpperCase().startsWith(n[3].toUpperCase())},t.expr.pseudos.aicontains=function(e,i,n){var o=t(e);return(o.data("tokens")||o.data("normalizedText")||o.text()).toString().toUpperCase().includes(n[3].toUpperCase())},t.expr.pseudos.aibegins=function(e,i,n){var o=t(e);return(o.data("tokens")||o.data("normalizedText")||o.text()).toString().toUpperCase().startsWith(n[3].toUpperCase())};var a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},r={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#x27;":"'","&#x60;":"`"},s=function(t){var e=function(e){return t[e]},i="(?:"+Object.keys(t).join("|")+")",n=RegExp(i),o=RegExp(i,"g");return function(t){return t=null==t?"":""+t,n.test(t)?t.replace(o,e):t}},l=s(a),d=s(r),c=function(e,i){n.useDefault||(t.valHooks.select.set=n._set,n.useDefault=!0),this.$element=t(e),this.$newElement=null,this.$button=null,this.$menu=null,this.$lis=null,this.options=i,null===this.options.title&&(this.options.title=this.$element.attr("title"));var o=this.options.windowPadding;"number"==typeof o&&(this.options.windowPadding=[o,o,o,o]),this.val=c.prototype.val,this.render=c.prototype.render,this.refresh=c.prototype.refresh,this.setStyle=c.prototype.setStyle,this.selectAll=c.prototype.selectAll,this.deselectAll=c.prototype.deselectAll,this.destroy=c.prototype.destroy,this.remove=c.prototype.remove,this.show=c.prototype.show,this.hide=c.prototype.hide,this.init()};c.VERSION="1.12.1",c.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results matched {0}",countSelectedText:function(t){return 1==t?"{0} item selected":"{0} items selected"},maxOptionsText:function(t,e){return[1==t?"Limit reached ({n} item max)":"Limit reached ({n} items max)",1==e?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)"]},selectAllText:"Select All",deselectAllText:"Deselect All",doneButton:!1,doneButtonText:"Close",multipleSeparator:", ",styleBase:"btn",style:"btn-default",size:"auto",title:null,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,liveSearchPlaceholder:null,liveSearchNormalize:!1,liveSearchStyle:"contains",actionsBox:!1,iconBase:"glyphicon",tickIcon:"glyphicon-ok",showTick:!1,template:{caret:'<span class="caret"></span>'},maxOptions:!1,mobile:!1,selectOnTab:!1,dropdownAlignRight:!1,windowPadding:0},c.prototype={constructor:c,init:function(){var e=this,i=this.$element.attr("id");this.$element.addClass("bs-select-hidden"),this.liObj={},this.multiple=this.$element.prop("multiple"),this.autofocus=this.$element.prop("autofocus"),this.$newElement=this.createView(),this.$element.after(this.$newElement).appendTo(this.$newElement),this.$button=this.$newElement.children("button"),this.$menu=this.$newElement.children(".dropdown-menu"),this.$menuInner=this.$menu.children(".inner"),this.$searchbox=this.$menu.find("input"),this.$element.removeClass("bs-select-hidden"),!0===this.options.dropdownAlignRight&&this.$menu.addClass("dropdown-menu-right"),void 0!==i&&(this.$button.attr("data-id",i),t('label[for="'+i+'"]').click(function(t){t.preventDefault(),e.$button.focus()})),this.checkDisabled(),this.clickListener(),this.options.liveSearch&&this.liveSearchListener(),this.render(),this.setStyle(),this.setWidth(),this.options.container&&this.selectPosition(),this.$menu.data("this",this),this.$newElement.data("this",this),this.options.mobile&&this.mobile(),this.$newElement.on({"hide.bs.dropdown":function(t){e.$menuInner.attr("aria-expanded",!1),e.$element.trigger("hide.bs.select",t)},"hidden.bs.dropdown":function(t){e.$element.trigger("hidden.bs.select",t)},"show.bs.dropdown":function(t){e.$menuInner.attr("aria-expanded",!0),e.$element.trigger("show.bs.select",t)},"shown.bs.dropdown":function(t){e.$element.trigger("shown.bs.select",t)}}),e.$element[0].hasAttribute("required")&&this.$element.on("invalid",function(){e.$button.addClass("bs-invalid").focus(),e.$element.on({"focus.bs.select":function(){e.$button.focus(),e.$element.off("focus.bs.select")},"shown.bs.select":function(){e.$element.val(e.$element.val()).off("shown.bs.select")},"rendered.bs.select":function(){this.validity.valid&&e.$button.removeClass("bs-invalid"),e.$element.off("rendered.bs.select")}})}),setTimeout(function(){e.$element.trigger("loaded.bs.select")})},createDropdown:function(){var e=this.multiple||this.options.showTick?" show-tick":"",i=this.$element.parent().hasClass("input-group")?" input-group-btn":"",n=this.autofocus?" autofocus":"",o=this.options.header?'<div class="popover-title"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>":"",a=this.options.liveSearch?'<div class="bs-searchbox"><input type="text" class="form-control" autocomplete="off"'+(null===this.options.liveSearchPlaceholder?"":' placeholder="'+l(this.options.liveSearchPlaceholder)+'"')+' role="textbox" aria-label="Search"></div>':"",r=this.multiple&&this.options.actionsBox?'<div class="bs-actionsbox"><div class="btn-group btn-group-sm btn-block"><button type="button" class="actions-btn bs-select-all btn btn-default">'+this.options.selectAllText+'</button><button type="button" class="actions-btn bs-deselect-all btn btn-default">'+this.options.deselectAllText+"</button></div></div>":"",s=this.multiple&&this.options.doneButton?'<div class="bs-donebutton"><div class="btn-group btn-block"><button type="button" class="btn btn-sm btn-default">'+this.options.doneButtonText+"</button></div></div>":"",d='<div class="btn-group bootstrap-select'+e+i+'"><button type="button" class="'+this.options.styleBase+' dropdown-toggle" data-toggle="dropdown"'+n+' role="button"><span class="filter-option pull-left"></span>&nbsp;<span class="bs-caret">'+this.options.template.caret+'</span></button><div class="dropdown-menu open" role="combobox">'+o+a+r+'<ul class="dropdown-menu inner" role="listbox" aria-expanded="false"></ul>'+s+"</div></div>";return t(d)},createView:function(){var t=this.createDropdown(),e=this.createLi();return t.find("ul")[0].innerHTML=e,t},reloadLi:function(){var t=this.createLi();this.$menuInner[0].innerHTML=t},createLi:function(){var i=this,n=[],o=0,a=document.createElement("option"),r=-1,s=function(t,e,i,n){return"<li"+(void 0!==i&""!==i?' class="'+i+'"':"")+(void 0!==e&null!==e?' data-original-index="'+e+'"':"")+(void 0!==n&null!==n?'data-optgroup="'+n+'"':"")+">"+t+"</li>"},d=function(n,o,a,r){return'<a tabindex="0"'+(void 0!==o?' class="'+o+'"':"")+(a?' style="'+a+'"':"")+(i.options.liveSearchNormalize?' data-normalized-text="'+e(l(t(n).html()))+'"':"")+(void 0!==r||null!==r?' data-tokens="'+r+'"':"")+' role="option">'+n+'<span class="'+i.options.iconBase+" "+i.options.tickIcon+' check-mark"></span></a>'};if(this.options.title&&!this.multiple&&(r--,!this.$element.find(".bs-title-option").length)){var c=this.$element[0];a.className="bs-title-option",a.innerHTML=this.options.title,a.value="",c.insertBefore(a,c.firstChild);t(c.options[c.selectedIndex]).attr("selected")===undefined&&this.$element.data("selected")===undefined&&(a.selected=!0)}return this.$element.find("option").each(function(e){var a=t(this);if(r++,!a.hasClass("bs-title-option")){var c=this.className||"",h=this.style.cssText,u=a.data("content")?a.data("content"):a.html(),f=a.data("tokens")?a.data("tokens"):null,p=void 0!==a.data("subtext")?'<small class="text-muted">'+a.data("subtext")+"</small>":"",m=void 0!==a.data("icon")?'<span class="'+i.options.iconBase+" "+a.data("icon")+'"></span> ':"",g=a.parent(),v="OPTGROUP"===g[0].tagName,b=v&&g[0].disabled,T=this.disabled||b;if(""!==m&&T&&(m="<span>"+m+"</span>"),i.options.hideDisabled&&(T&&!v||b))return void r--;if(a.data("content")||(u=m+'<span class="text">'+u+p+"</span>"),v&&!0!==a.data("divider")){if(i.options.hideDisabled&&T){if(g.data("allOptionsDisabled")===undefined){var E=g.children();g.data("allOptionsDisabled",E.filter(":disabled").length===E.length)}if(g.data("allOptionsDisabled"))return void r--}var C=" "+g[0].className||"";if(0===a.index()){o+=1;var y=g[0].label,D=void 0!==g.data("subtext")?'<small class="text-muted">'+g.data("subtext")+"</small>":"";y=(g.data("icon")?'<span class="'+i.options.iconBase+" "+g.data("icon")+'"></span> ':"")+'<span class="text">'+l(y)+D+"</span>",0!==e&&n.length>0&&(r++,n.push(s("",null,"divider",o+"div"))),r++,n.push(s(y,null,"dropdown-header"+C,o))}if(i.options.hideDisabled&&T)return void r--;n.push(s(d(u,"opt "+c+C,h,f),e,"",o))}else if(!0===a.data("divider"))n.push(s("",e,"divider"));else if(!0===a.data("hidden"))n.push(s(d(u,c,h,f),e,"hidden is-hidden"));else{var I=this.previousElementSibling&&"OPTGROUP"===this.previousElementSibling.tagName;if(!I&&i.options.hideDisabled)for(var O=t(this).prevAll(),R=0;R<O.length;R++)if("OPTGROUP"===O[R].tagName){for(var x=0,w=0;w<R;w++){var k=O[w];(k.disabled||!0===t(k).data("hidden"))&&x++}x===R&&(I=!0);break}I&&(r++,n.push(s("",null,"divider",o+"div"))),n.push(s(d(u,c,h,f),e))}i.liObj[e]=r}}),this.multiple||0!==this.$element.find("option:selected").length||this.options.title||this.$element.find("option").eq(0).prop("selected",!0).attr("selected","selected"),n.join("")},findLis:function(){return null==this.$lis&&(this.$lis=this.$menu.find("li")),this.$lis},render:function(e){var i,n=this;!1!==e&&this.$element.find("option").each(function(t){var e=n.findLis().eq(n.liObj[t]);n.setDisabled(t,this.disabled||"OPTGROUP"===this.parentNode.tagName&&this.parentNode.disabled,e),n.setSelected(t,this.selected,e)}),this.togglePlaceholder(),this.tabIndex();var o=this.$element.find("option").map(function(){if(this.selected){if(n.options.hideDisabled&&(this.disabled||"OPTGROUP"===this.parentNode.tagName&&this.parentNode.disabled))return;var e,i=t(this),o=i.data("icon")&&n.options.showIcon?'<i class="'+n.options.iconBase+" "+i.data("icon")+'"></i> ':"";return e=n.options.showSubtext&&i.data("subtext")&&!n.multiple?' <small class="text-muted">'+i.data("subtext")+"</small>":"",void 0!==i.attr("title")?i.attr("title"):i.data("content")&&n.options.showContent?i.data("content").toString():o+i.html()+e}}).toArray(),a=this.multiple?o.join(this.options.multipleSeparator):o[0];if(this.multiple&&this.options.selectedTextFormat.indexOf("count")>-1){var r=this.options.selectedTextFormat.split(">");if(r.length>1&&o.length>r[1]||1==r.length&&o.length>=2){i=this.options.hideDisabled?", [disabled]":"";var s=this.$element.find("option").not('[data-divider="true"], [data-hidden="true"]'+i).length;a=("function"==typeof this.options.countSelectedText?this.options.countSelectedText(o.length,s):this.options.countSelectedText).replace("{0}",o.length.toString()).replace("{1}",s.toString())}}this.options.title==undefined&&(this.options.title=this.$element.attr("title")),"static"==this.options.selectedTextFormat&&(a=this.options.title),a||(a="undefined"!=typeof this.options.title?this.options.title:this.options.noneSelectedText),this.$button.attr("title",d(t.trim(a.replace(/<[^>]*>?/g,"")))),this.$button.children(".filter-option").html(a),this.$element.trigger("rendered.bs.select")},setStyle:function(t,e){this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi,""));var i=t||this.options.style;"add"==e?this.$button.addClass(i):"remove"==e?this.$button.removeClass(i):(this.$button.removeClass(this.options.style),this.$button.addClass(i))},liHeight:function(e){if(e||!1!==this.options.size&&!this.sizeInfo){var i=document.createElement("div"),n=document.createElement("div"),o=document.createElement("ul"),a=document.createElement("li"),r=document.createElement("li"),s=document.createElement("a"),l=document.createElement("span"),d=this.options.header&&this.$menu.find(".popover-title").length>0?this.$menu.find(".popover-title")[0].cloneNode(!0):null,c=this.options.liveSearch?document.createElement("div"):null,h=this.options.actionsBox&&this.multiple&&this.$menu.find(".bs-actionsbox").length>0?this.$menu.find(".bs-actionsbox")[0].cloneNode(!0):null,u=this.options.doneButton&&this.multiple&&this.$menu.find(".bs-donebutton").length>0?this.$menu.find(".bs-donebutton")[0].cloneNode(!0):null;if(l.className="text",i.className=this.$menu[0].parentNode.className+" open",n.className="dropdown-menu open",o.className="dropdown-menu inner",a.className="divider",l.appendChild(document.createTextNode("Inner text")),s.appendChild(l),r.appendChild(s),o.appendChild(r),o.appendChild(a),d&&n.appendChild(d),c){var f=document.createElement("span");c.className="bs-searchbox",f.className="form-control",c.appendChild(f),n.appendChild(c)}h&&n.appendChild(h),n.appendChild(o),u&&n.appendChild(u),i.appendChild(n),document.body.appendChild(i);var p=s.offsetHeight,m=d?d.offsetHeight:0,g=c?c.offsetHeight:0,v=h?h.offsetHeight:0,b=u?u.offsetHeight:0,T=t(a).outerHeight(!0),E="function"==typeof getComputedStyle&&getComputedStyle(n),C=E?null:t(n),y={vert:parseInt(E?E.paddingTop:C.css("paddingTop"))+parseInt(E?E.paddingBottom:C.css("paddingBottom"))+parseInt(E?E.borderTopWidth:C.css("borderTopWidth"))+parseInt(E?E.borderBottomWidth:C.css("borderBottomWidth")),horiz:parseInt(E?E.paddingLeft:C.css("paddingLeft"))+parseInt(E?E.paddingRight:C.css("paddingRight"))+parseInt(E?E.borderLeftWidth:C.css("borderLeftWidth"))+parseInt(E?E.borderRightWidth:C.css("borderRightWidth"))},D={vert:y.vert+parseInt(E?E.marginTop:C.css("marginTop"))+parseInt(E?E.marginBottom:C.css("marginBottom"))+2,horiz:y.horiz+parseInt(E?E.marginLeft:C.css("marginLeft"))+parseInt(E?E.marginRight:C.css("marginRight"))+2};document.body.removeChild(i),this.sizeInfo={liHeight:p,headerHeight:m,searchHeight:g,actionsHeight:v,doneButtonHeight:b,dividerHeight:T,menuPadding:y,menuExtras:D}}},setSize:function(){if(this.findLis(),this.liHeight(),this.options.header&&this.$menu.css("padding-top",0),!1!==this.options.size){var e,i,n,o,a,r,s,l,d=this,c=this.$menu,h=this.$menuInner,u=t(window),f=this.$newElement[0].offsetHeight,p=this.$newElement[0].offsetWidth,m=this.sizeInfo.liHeight,g=this.sizeInfo.headerHeight,v=this.sizeInfo.searchHeight,b=this.sizeInfo.actionsHeight,T=this.sizeInfo.doneButtonHeight,E=this.sizeInfo.dividerHeight,C=this.sizeInfo.menuPadding,y=this.sizeInfo.menuExtras,D=this.options.hideDisabled?".disabled":"",I=function(){var e,i=d.$newElement.offset(),n=t(d.options.container);d.options.container&&!n.is("body")?(e=n.offset(),e.top+=parseInt(n.css("borderTopWidth")),e.left+=parseInt(n.css("borderLeftWidth"))):e={top:0,left:0};var o=d.options.windowPadding;a=i.top-e.top-u.scrollTop(),r=u.height()-a-f-e.top-o[2],s=i.left-e.left-u.scrollLeft(),l=u.width()-s-p-e.left-o[1],a-=o[0],s-=o[3]};if(I(),"auto"===this.options.size){var O=function(){var u,f=function(e,i){return function(n){return i?n.classList?n.classList.contains(e):t(n).hasClass(e):!(n.classList?n.classList.contains(e):t(n).hasClass(e))}},E=d.$menuInner[0].getElementsByTagName("li"),D=Array.prototype.filter?Array.prototype.filter.call(E,f("hidden",!1)):d.$lis.not(".hidden"),O=Array.prototype.filter?Array.prototype.filter.call(D,f("dropdown-header",!0)):D.filter(".dropdown-header");I(),e=r-y.vert,i=l-y.horiz,d.options.container?(c.data("height")||c.data("height",c.height()),n=c.data("height"),c.data("width")||c.data("width",c.width()),o=c.data("width")):(n=c.height(),o=c.width()),d.options.dropupAuto&&d.$newElement.toggleClass("dropup",a>r&&e-y.vert<n),d.$newElement.hasClass("dropup")&&(e=a-y.vert),"auto"===d.options.dropdownAlignRight&&c.toggleClass("dropdown-menu-right",s>l&&i-y.horiz<o-p),u=D.length+O.length>3?3*m+y.vert-2:0,c.css({"max-height":e+"px",overflow:"hidden","min-height":u+g+v+b+T+"px"}),h.css({"max-height":e-g-v-b-T-C.vert+"px","overflow-y":"auto","min-height":Math.max(u-C.vert,0)+"px"})};O(),this.$searchbox.off("input.getSize propertychange.getSize").on("input.getSize propertychange.getSize",O),u.off("resize.getSize scroll.getSize").on("resize.getSize scroll.getSize",O)}else if(this.options.size&&"auto"!=this.options.size&&this.$lis.not(D).length>this.options.size){var R=this.$lis.not(".divider").not(D).children().slice(0,this.options.size).last().parent().index(),x=this.$lis.slice(0,R+1).filter(".divider").length;e=m*this.options.size+x*E+C.vert,d.options.container?(c.data("height")||c.data("height",c.height()),n=c.data("height")):n=c.height(),d.options.dropupAuto&&this.$newElement.toggleClass("dropup",a>r&&e-y.vert<n),c.css({"max-height":e+g+v+b+T+"px",overflow:"hidden","min-height":""}),h.css({"max-height":e-C.vert+"px","overflow-y":"auto","min-height":""})}}},setWidth:function(){if("auto"===this.options.width){this.$menu.css("min-width","0");var t=this.$menu.parent().clone().appendTo("body"),e=this.options.container?this.$newElement.clone().appendTo("body"):t,i=t.children(".dropdown-menu").outerWidth(),n=e.css("width","auto").children("button").outerWidth();t.remove(),e.remove(),
this.$newElement.css("width",Math.max(i,n)+"px")}else"fit"===this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width",""));this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement.removeClass("fit-width")},selectPosition:function(){this.$bsContainer=t('<div class="bs-container" />');var e,i,n,o=this,a=t(this.options.container),r=function(t){o.$bsContainer.addClass(t.attr("class").replace(/form-control|fit-width/gi,"")).toggleClass("dropup",t.hasClass("dropup")),e=t.offset(),a.is("body")?i={top:0,left:0}:(i=a.offset(),i.top+=parseInt(a.css("borderTopWidth"))-a.scrollTop(),i.left+=parseInt(a.css("borderLeftWidth"))-a.scrollLeft()),n=t.hasClass("dropup")?0:t[0].offsetHeight,o.$bsContainer.css({top:e.top-i.top+n,left:e.left-i.left,width:t[0].offsetWidth})};this.$button.on("click",function(){var e=t(this);o.isDisabled()||(r(o.$newElement),o.$bsContainer.appendTo(o.options.container).toggleClass("open",!e.hasClass("open")).append(o.$menu))}),t(window).on("resize scroll",function(){r(o.$newElement)}),this.$element.on("hide.bs.select",function(){o.$menu.data("height",o.$menu.height()),o.$bsContainer.detach()})},setSelected:function(t,e,i){i||(this.togglePlaceholder(),i=this.findLis().eq(this.liObj[t])),i.toggleClass("selected",e).find("a").attr("aria-selected",e)},setDisabled:function(t,e,i){i||(i=this.findLis().eq(this.liObj[t])),e?i.addClass("disabled").children("a").attr("href","#").attr("tabindex",-1).attr("aria-disabled",!0):i.removeClass("disabled").children("a").removeAttr("href").attr("tabindex",0).attr("aria-disabled",!1)},isDisabled:function(){return this.$element[0].disabled},checkDisabled:function(){var t=this;this.isDisabled()?(this.$newElement.addClass("disabled"),this.$button.addClass("disabled").attr("tabindex",-1).attr("aria-disabled",!0)):(this.$button.hasClass("disabled")&&(this.$newElement.removeClass("disabled"),this.$button.removeClass("disabled").attr("aria-disabled",!1)),-1!=this.$button.attr("tabindex")||this.$element.data("tabindex")||this.$button.removeAttr("tabindex")),this.$button.click(function(){return!t.isDisabled()})},togglePlaceholder:function(){var t=this.$element.val();this.$button.toggleClass("bs-placeholder",null===t||""===t||t.constructor===Array&&0===t.length)},tabIndex:function(){this.$element.data("tabindex")!==this.$element.attr("tabindex")&&-98!==this.$element.attr("tabindex")&&"-98"!==this.$element.attr("tabindex")&&(this.$element.data("tabindex",this.$element.attr("tabindex")),this.$button.attr("tabindex",this.$element.data("tabindex"))),this.$element.attr("tabindex",-98)},clickListener:function(){var e=this,i=t(document);i.data("spaceSelect",!1),this.$button.on("keyup",function(t){/(32)/.test(t.keyCode.toString(10))&&i.data("spaceSelect")&&(t.preventDefault(),i.data("spaceSelect",!1))}),this.$button.on("click",function(){e.setSize()}),this.$element.on("shown.bs.select",function(){if(e.options.liveSearch||e.multiple){if(!e.multiple){var t=e.liObj[e.$element[0].selectedIndex];if("number"!=typeof t||!1===e.options.size)return;var i=e.$lis.eq(t)[0].offsetTop-e.$menuInner[0].offsetTop;i=i-e.$menuInner[0].offsetHeight/2+e.sizeInfo.liHeight/2,e.$menuInner[0].scrollTop=i}}else e.$menuInner.find(".selected a").focus()}),this.$menuInner.on("click","li a",function(i){var n=t(this),a=n.parent().data("originalIndex"),r=e.$element.val(),s=e.$element.prop("selectedIndex"),l=!0;if(e.multiple&&1!==e.options.maxOptions&&i.stopPropagation(),i.preventDefault(),!e.isDisabled()&&!n.parent().hasClass("disabled")){var d=e.$element.find("option"),c=d.eq(a),h=c.prop("selected"),u=c.parent("optgroup"),f=e.options.maxOptions,p=u.data("maxOptions")||!1;if(e.multiple){if(c.prop("selected",!h),e.setSelected(a,!h),n.blur(),!1!==f||!1!==p){var m=f<d.filter(":selected").length,g=p<u.find("option:selected").length;if(f&&m||p&&g)if(f&&1==f)d.prop("selected",!1),c.prop("selected",!0),e.$menuInner.find(".selected").removeClass("selected"),e.setSelected(a,!0);else if(p&&1==p){u.find("option:selected").prop("selected",!1),c.prop("selected",!0);var v=n.parent().data("optgroup");e.$menuInner.find('[data-optgroup="'+v+'"]').removeClass("selected"),e.setSelected(a,!0)}else{var b="string"==typeof e.options.maxOptionsText?[e.options.maxOptionsText,e.options.maxOptionsText]:e.options.maxOptionsText,T="function"==typeof b?b(f,p):b,E=T[0].replace("{n}",f),C=T[1].replace("{n}",p),y=t('<div class="notify"></div>');T[2]&&(E=E.replace("{var}",T[2][f>1?0:1]),C=C.replace("{var}",T[2][p>1?0:1])),c.prop("selected",!1),e.$menu.append(y),f&&m&&(y.append(t("<div>"+E+"</div>")),l=!1,e.$element.trigger("maxReached.bs.select")),p&&g&&(y.append(t("<div>"+C+"</div>")),l=!1,e.$element.trigger("maxReachedGrp.bs.select")),setTimeout(function(){e.setSelected(a,!1)},10),y.delay(750).fadeOut(300,function(){t(this).remove()})}}}else d.prop("selected",!1),c.prop("selected",!0),e.$menuInner.find(".selected").removeClass("selected").find("a").attr("aria-selected",!1),e.setSelected(a,!0);!e.multiple||e.multiple&&1===e.options.maxOptions?e.$button.focus():e.options.liveSearch&&e.$searchbox.focus(),l&&(r!=e.$element.val()&&e.multiple||s!=e.$element.prop("selectedIndex")&&!e.multiple)&&(o=[a,c.prop("selected"),h],e.$element.triggerNative("change"))}}),this.$menu.on("click","li.disabled a, .popover-title, .popover-title :not(.close)",function(i){i.currentTarget==this&&(i.preventDefault(),i.stopPropagation(),e.options.liveSearch&&!t(i.target).hasClass("close")?e.$searchbox.focus():e.$button.focus())}),this.$menuInner.on("click",".divider, .dropdown-header",function(t){t.preventDefault(),t.stopPropagation(),e.options.liveSearch?e.$searchbox.focus():e.$button.focus()}),this.$menu.on("click",".popover-title .close",function(){e.$button.click()}),this.$searchbox.on("click",function(t){t.stopPropagation()}),this.$menu.on("click",".actions-btn",function(i){e.options.liveSearch?e.$searchbox.focus():e.$button.focus(),i.preventDefault(),i.stopPropagation(),t(this).hasClass("bs-select-all")?e.selectAll():e.deselectAll()}),this.$element.change(function(){e.render(!1),e.$element.trigger("changed.bs.select",o),o=null})},liveSearchListener:function(){var i=this,n=t('<li class="no-results"></li>');this.$button.on("click.dropdown.data-api",function(){i.$menuInner.find(".active").removeClass("active"),i.$searchbox.val()&&(i.$searchbox.val(""),i.$lis.not(".is-hidden").removeClass("hidden"),n.parent().length&&n.remove()),i.multiple||i.$menuInner.find(".selected").addClass("active"),setTimeout(function(){i.$searchbox.focus()},10)}),this.$searchbox.on("click.dropdown.data-api focus.dropdown.data-api touchend.dropdown.data-api",function(t){t.stopPropagation()}),this.$searchbox.on("input propertychange",function(){if(i.$lis.not(".is-hidden").removeClass("hidden"),i.$lis.filter(".active").removeClass("active"),n.remove(),i.$searchbox.val()){var o,a=i.$lis.not(".is-hidden, .divider, .dropdown-header");if(o=i.options.liveSearchNormalize?a.find("a").not(":a"+i._searchStyle()+'("'+e(i.$searchbox.val())+'")'):a.find("a").not(":"+i._searchStyle()+'("'+i.$searchbox.val()+'")'),o.length===a.length)n.html(i.options.noneResultsText.replace("{0}",'"'+l(i.$searchbox.val())+'"')),i.$menuInner.append(n),i.$lis.addClass("hidden");else{o.parent().addClass("hidden");var r,s=i.$lis.not(".hidden");s.each(function(e){var i=t(this);i.hasClass("divider")?r===undefined?i.addClass("hidden"):(r&&r.addClass("hidden"),r=i):i.hasClass("dropdown-header")&&s.eq(e+1).data("optgroup")!==i.data("optgroup")?i.addClass("hidden"):r=null}),r&&r.addClass("hidden"),a.not(".hidden").first().addClass("active")}}})},_searchStyle:function(){return{begins:"ibegins",startsWith:"ibegins"}[this.options.liveSearchStyle]||"icontains"},val:function(t){return void 0!==t?(this.$element.val(t),this.render(),this.$element):this.$element.val()},changeAll:function(e){if(this.multiple){void 0===e&&(e=!0),this.findLis();var i=this.$element.find("option"),n=this.$lis.not(".divider, .dropdown-header, .disabled, .hidden"),o=n.length,a=[];if(e){if(n.filter(".selected").length===n.length)return}else if(0===n.filter(".selected").length)return;n.toggleClass("selected",e);for(var r=0;r<o;r++){var s=n[r].getAttribute("data-original-index");a[a.length]=i.eq(s)[0]}t(a).prop("selected",e),this.render(!1),this.togglePlaceholder(),this.$element.triggerNative("change")}},selectAll:function(){return this.changeAll(!0)},deselectAll:function(){return this.changeAll(!1)},toggle:function(t){t=t||window.event,t&&t.stopPropagation(),this.$button.trigger("click")},keydown:function(i){var n,o,a,r,s,l,d,c,h,u=t(this),f=u.is("input")?u.parent().parent():u.parent(),p=f.data("this"),m=":not(.disabled, .hidden, .dropdown-header, .divider)",g={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"};if(p.options.liveSearch&&(f=u.parent().parent()),p.options.container&&(f=p.$menu),n=t('[role="listbox"] li',f),!(h=p.$newElement.hasClass("open"))&&(i.keyCode>=48&&i.keyCode<=57||i.keyCode>=96&&i.keyCode<=105||i.keyCode>=65&&i.keyCode<=90))return p.options.container?p.$button.trigger("click"):(p.setSize(),p.$menu.parent().addClass("open"),h=!0),void p.$searchbox.focus();if(p.options.liveSearch&&(/(^9$|27)/.test(i.keyCode.toString(10))&&h&&(i.preventDefault(),i.stopPropagation(),p.$menuInner.click(),p.$button.focus()),n=t('[role="listbox"] li'+m,f),u.val()||/(38|40)/.test(i.keyCode.toString(10))||0===n.filter(".active").length&&(n=p.$menuInner.find("li"),n=p.options.liveSearchNormalize?n.filter(":a"+p._searchStyle()+"("+e(g[i.keyCode])+")"):n.filter(":"+p._searchStyle()+"("+g[i.keyCode]+")"))),n.length){if(/(38|40)/.test(i.keyCode.toString(10)))o=n.index(n.find("a").filter(":focus").parent()),r=n.filter(m).first().index(),s=n.filter(m).last().index(),a=n.eq(o).nextAll(m).eq(0).index(),l=n.eq(o).prevAll(m).eq(0).index(),d=n.eq(a).prevAll(m).eq(0).index(),p.options.liveSearch&&(n.each(function(e){t(this).hasClass("disabled")||t(this).data("index",e)}),o=n.index(n.filter(".active")),r=n.first().data("index"),s=n.last().data("index"),a=n.eq(o).nextAll().eq(0).data("index"),l=n.eq(o).prevAll().eq(0).data("index"),d=n.eq(a).prevAll().eq(0).data("index")),c=u.data("prevIndex"),38==i.keyCode?(p.options.liveSearch&&o--,o!=d&&o>l&&(o=l),o<r&&(o=r),o==c&&(o=s)):40==i.keyCode&&(p.options.liveSearch&&o++,-1==o&&(o=0),o!=d&&o<a&&(o=a),o>s&&(o=s),o==c&&(o=r)),u.data("prevIndex",o),p.options.liveSearch?(i.preventDefault(),u.hasClass("dropdown-toggle")||(n.removeClass("active").eq(o).addClass("active").children("a").focus(),u.focus())):n.eq(o).children("a").focus();else if(!u.is("input")){var v,b,T=[];n.each(function(){t(this).hasClass("disabled")||t.trim(t(this).children("a").text().toLowerCase()).substring(0,1)==g[i.keyCode]&&T.push(t(this).index())}),v=t(document).data("keycount"),v++,t(document).data("keycount",v),b=t.trim(t(":focus").text().toLowerCase()).substring(0,1),b!=g[i.keyCode]?(v=1,t(document).data("keycount",v)):v>=T.length&&(t(document).data("keycount",0),v>T.length&&(v=1)),n.eq(T[v-1]).children("a").focus()}if((/(13|32)/.test(i.keyCode.toString(10))||/(^9$)/.test(i.keyCode.toString(10))&&p.options.selectOnTab)&&h){if(/(32)/.test(i.keyCode.toString(10))||i.preventDefault(),p.options.liveSearch)/(32)/.test(i.keyCode.toString(10))||(p.$menuInner.find(".active a").click(),u.focus());else{var E=t(":focus");E.click(),E.focus(),i.preventDefault(),t(document).data("spaceSelect",!0)}t(document).data("keycount",0)}(/(^9$|27)/.test(i.keyCode.toString(10))&&h&&(p.multiple||p.options.liveSearch)||/(27)/.test(i.keyCode.toString(10))&&!h)&&(p.$menu.parent().removeClass("open"),p.options.container&&p.$newElement.removeClass("open"),p.$button.focus())}},mobile:function(){this.$element.addClass("mobile-device")},refresh:function(){this.$lis=null,this.liObj={},this.reloadLi(),this.render(),this.checkDisabled(),this.liHeight(!0),this.setStyle(),this.setWidth(),this.$lis&&this.$searchbox.trigger("propertychange"),this.$element.trigger("refreshed.bs.select")},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove(),this.$element.remove()},destroy:function(){this.$newElement.before(this.$element).remove(),this.$bsContainer?this.$bsContainer.remove():this.$menu.remove(),this.$element.off(".bs.select").removeData("selectpicker").removeClass("bs-select-hidden selectpicker")}};var h=t.fn.selectpicker;t.fn.selectpicker=i,t.fn.selectpicker.Constructor=c,t.fn.selectpicker.noConflict=function(){return t.fn.selectpicker=h,this},t(document).data("keycount",0).on("keydown.bs.select",'.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="listbox"], .bs-searchbox input',c.prototype.keydown).on("focusin.modal",'.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="listbox"], .bs-searchbox input',function(t){t.stopPropagation()}),t(window).on("load.bs.select.data-api",function(){t(".selectpicker").each(function(){var e=t(this);i.call(e,e.data())})})}(jQuery),function(t,e,i,n){var o=i(t),a=i(e),r=i.fancybox=function(){r.open.apply(this,arguments)},s=navigator.userAgent.match(/msie/),l=null,d=e.createTouch!==n,c=function(t){return t&&t.hasOwnProperty&&t instanceof i},h=function(t){return t&&"string"===i.type(t)},u=function(t){return h(t)&&0<t.indexOf("%")},f=function(t,e){var i=parseInt(t,10)||0;return e&&u(t)&&(i*=r.getViewport()[e]/100),Math.ceil(i)},p=function(t,e){return f(t,e)+"px"};i.extend(r,{version:"2.1.4",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,autoSize:!0,autoHeight:!1,autoWidth:!1,autoResize:!0,autoCenter:!d,fitToView:!0,aspectRatio:!1,topRatio:.5,leftRatio:.5,scrolling:"auto",wrapCSS:"",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3e3,preload:3,modal:!1,loop:!0,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},iframe:{scrolling:"auto",preload:!0},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:!0,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+(s?' allowtransparency="true"':"")+"></iframe>",error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',next:'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:!0,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:!0,title:!0},onCancel:i.noop,beforeLoad:i.noop,afterLoad:i.noop,beforeShow:i.noop,afterShow:i.noop,beforeChange:i.noop,beforeClose:i.noop,afterClose:i.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:!1,isOpen:!1,isOpened:!1,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(t,e){if(t&&(i.isPlainObject(e)||(e={}),!1!==r.close(!0)))return i.isArray(t)||(t=c(t)?i(t).get():[t]),i.each(t,function(o,a){var s,l,d,u,f,p={};"object"===i.type(a)&&(a.nodeType&&(a=i(a)),c(a)?(p={href:a.data("fancybox-href")||a.attr("href"),title:a.data("fancybox-title")||a.attr("title"),isDom:!0,element:a},i.metadata&&i.extend(!0,p,a.metadata())):p=a),s=e.href||p.href||(h(a)?a:null),l=e.title!==n?e.title:p.title||"",u=(d=e.content||p.content)?"html":e.type||p.type,!u&&p.isDom&&((u=a.data("fancybox-type"))||(u=(u=a.prop("class").match(/fancybox\.(\w+)/))?u[1]:null)),h(s)&&(u||(r.isImage(s)?u="image":r.isSWF(s)?u="swf":"#"===s.charAt(0)?u="inline":h(a)&&(u="html",d=a)),"ajax"===u&&(f=s.split(/\s+/,2),s=f.shift(),f=f.shift())),d||("inline"===u?s?d=i(h(s)?s.replace(/.*(?=#[^\s]+$)/,""):s):p.isDom&&(d=a):"html"===u?d=s:!u&&!s&&p.isDom&&(u="inline",d=a)),i.extend(p,{href:s,type:u,content:d,title:l,selector:f}),t[o]=p}),r.opts=i.extend(!0,{},r.defaults,e),e.keys!==n&&(r.opts.keys=!!e.keys&&i.extend({},r.defaults.keys,e.keys)),r.group=t,r._start(r.opts.index)},cancel:function(){var t=r.coming;t&&!1!==r.trigger("onCancel")&&(r.hideLoading(),r.ajaxLoad&&r.ajaxLoad.abort(),r.ajaxLoad=null,r.imgPreload&&(r.imgPreload.onload=r.imgPreload.onerror=null),t.wrap&&t.wrap.stop(!0,!0).trigger("onReset").remove(),r.coming=null,r.current||r._afterZoomOut(t))},close:function(t){r.cancel(),!1!==r.trigger("beforeClose")&&(r.unbindEvents(),r.isActive&&(r.isOpen&&!0!==t?(r.isOpen=r.isOpened=!1,r.isClosing=!0,i(".fancybox-item, .fancybox-nav").remove(),r.wrap.stop(!0,!0).removeClass("fancybox-opened"),r.transitions[r.current.closeMethod]()):(i(".fancybox-wrap").stop(!0).trigger("onReset").remove(),r._afterZoomOut())))},play:function(t){var e=function(){clearTimeout(r.player.timer)},n=function(){e(),r.current&&r.player.isActive&&(r.player.timer=setTimeout(r.next,r.current.playSpeed))},o=function(){e(),i("body").unbind(".player"),r.player.isActive=!1,r.trigger("onPlayEnd")};!0===t||!r.player.isActive&&!1!==t?r.current&&(r.current.loop||r.current.index<r.group.length-1)&&(r.player.isActive=!0,i("body").bind({"afterShow.player onUpdate.player":n,"onCancel.player beforeClose.player":o,"beforeLoad.player":e}),n(),r.trigger("onPlayStart")):o()},next:function(t){var e=r.current;e&&(h(t)||(t=e.direction.next),r.jumpto(e.index+1,t,"next"))},prev:function(t){var e=r.current;e&&(h(t)||(t=e.direction.prev),r.jumpto(e.index-1,t,"prev"))},jumpto:function(t,e,i){var o=r.current;o&&(t=f(t),r.direction=e||o.direction[t>=o.index?"next":"prev"],r.router=i||"jumpto",o.loop&&(0>t&&(t=o.group.length+t%o.group.length),t%=o.group.length),o.group[t]!==n&&(r.cancel(),r._start(t)))},reposition:function(t,e){var n,o=r.current,a=o?o.wrap:null;a&&(n=r._getPosition(e),t&&"scroll"===t.type?(delete n.position,a.stop(!0,!0).animate(n,200)):(a.css(n),o.pos=i.extend({},o.dim,n)))},update:function(t){var e=t&&t.type,i=!e||"orientationchange"===e;i&&(clearTimeout(l),l=null),r.isOpen&&!l&&(l=setTimeout(function(){var n=r.current;n&&!r.isClosing&&(r.wrap.removeClass("fancybox-tmp"),(i||"load"===e||"resize"===e&&n.autoResize)&&r._setDimension(),"scroll"===e&&n.canShrink||r.reposition(t),r.trigger("onUpdate"),l=null)},i&&!d?0:300))},toggle:function(t){r.isOpen&&(r.current.fitToView="boolean"===i.type(t)?t:!r.current.fitToView,d&&(r.wrap.removeAttr("style").addClass("fancybox-tmp"),r.trigger("onUpdate")),r.update())},hideLoading:function(){a.unbind(".loading"),i("#fancybox-loading").remove()},showLoading:function(){var t,e;r.hideLoading(),t=i('<div id="fancybox-loading"><div></div></div>').click(r.cancel).appendTo("body"),a.bind("keydown.loading",function(t){27===(t.which||t.keyCode)&&(t.preventDefault(),r.cancel())}),r.defaults.fixed||(e=r.getViewport(),t.css({position:"absolute",top:.5*e.h+e.y,left:.5*e.w+e.x}))},getViewport:function(){var e=r.current&&r.current.locked||!1,i={x:o.scrollLeft(),y:o.scrollTop()};return e?(i.w=e[0].clientWidth,i.h=e[0].clientHeight):(i.w=d&&t.innerWidth?t.innerWidth:o.width(),i.h=d&&t.innerHeight?t.innerHeight:o.height()),i},unbindEvents:function(){r.wrap&&c(r.wrap)&&r.wrap.unbind(".fb"),a.unbind(".fb"),o.unbind(".fb")},bindEvents:function(){var t,e=r.current;e&&(o.bind("orientationchange.fb"+(d?"":" resize.fb")+(e.autoCenter&&!e.locked?" scroll.fb":""),r.update),(t=e.keys)&&a.bind("keydown.fb",function(o){var a=o.which||o.keyCode,s=o.target||o.srcElement;if(27===a&&r.coming)return!1;!o.ctrlKey&&!o.altKey&&!o.shiftKey&&!o.metaKey&&(!s||!s.type&&!i(s).is("[contenteditable]"))&&i.each(t,function(t,s){return 1<e.group.length&&s[a]!==n?(r[t](s[a]),o.preventDefault(),!1):-1<i.inArray(a,s)?(r[t](),o.preventDefault(),!1):void 0})}),i.fn.mousewheel&&e.mouseWheel&&r.wrap.bind("mousewheel.fb",function(t,n,o,a){for(var s=i(t.target||null),l=!1;s.length&&!l&&!s.is(".fancybox-skin")&&!s.is(".fancybox-wrap");)l=s[0]&&!(s[0].style.overflow&&"hidden"===s[0].style.overflow)&&(s[0].clientWidth&&s[0].scrollWidth>s[0].clientWidth||s[0].clientHeight&&s[0].scrollHeight>s[0].clientHeight),s=i(s).parent();0!==n&&!l&&1<r.group.length&&!e.canShrink&&(0<a||0<o?r.prev(0<a?"down":"left"):(0>a||0>o)&&r.next(0>a?"up":"right"),t.preventDefault())}))},trigger:function(t,e){var n,o=e||r.coming||r.current;if(o){if(i.isFunction(o[t])&&(n=o[t].apply(o,Array.prototype.slice.call(arguments,1))),!1===n)return!1;o.helpers&&i.each(o.helpers,function(e,n){n&&r.helpers[e]&&i.isFunction(r.helpers[e][t])&&(n=i.extend(!0,{},r.helpers[e].defaults,n),r.helpers[e][t](n,o))}),i.event.trigger(t+".fb")}},isImage:function(t){return h(t)&&t.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp)((\?|#).*)?$)/i)},isSWF:function(t){return h(t)&&t.match(/\.(swf)((\?|#).*)?$/i)},_start:function(t){var e,n,o={};if(t=f(t),!(e=r.group[t]||null))return!1;if(o=i.extend(!0,{},r.opts,e),e=o.margin,n=o.padding,"number"===i.type(e)&&(o.margin=[e,e,e,e]),"number"===i.type(n)&&(o.padding=[n,n,n,n]),o.modal&&i.extend(!0,o,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{closeClick:!1}}}),o.autoSize&&(o.autoWidth=o.autoHeight=!0),"auto"===o.width&&(o.autoWidth=!0),"auto"===o.height&&(o.autoHeight=!0),o.group=r.group,o.index=t,r.coming=o,!1===r.trigger("beforeLoad"))r.coming=null;else{if(n=o.type,e=o.href,!n)return r.coming=null,!(!r.current||!r.router||"jumpto"===r.router)&&(r.current.index=t,r[r.router](r.direction));if(r.isActive=!0,"image"!==n&&"swf"!==n||(o.autoHeight=o.autoWidth=!1,o.scrolling="visible"),"image"===n&&(o.aspectRatio=!0),"iframe"===n&&d&&(o.scrolling="scroll"),o.wrap=i(o.tpl.wrap).addClass("fancybox-"+(d?"mobile":"desktop")+" fancybox-type-"+n+" fancybox-tmp "+o.wrapCSS).appendTo(o.parent||"body"),i.extend(o,{skin:i(".fancybox-skin",o.wrap),outer:i(".fancybox-outer",o.wrap),inner:i(".fancybox-inner",o.wrap)}),i.each(["Top","Right","Bottom","Left"],function(t,e){o.skin.css("padding"+e,p(o.padding[t]))}),r.trigger("onReady"),"inline"===n||"html"===n){if(!o.content||!o.content.length)return r._error("content")}else if(!e)return r._error("href");"image"===n?r._loadImage():"ajax"===n?r._loadAjax():"iframe"===n?r._loadIframe():r._afterLoad()}},_error:function(t){i.extend(r.coming,{type:"html",autoWidth:!0,autoHeight:!0,minWidth:0,minHeight:0,scrolling:"no",hasError:t,content:r.coming.tpl.error}),r._afterLoad()},_loadImage:function(){var t=r.imgPreload=new Image;t.onload=function(){this.onload=this.onerror=null,r.coming.width=this.width,r.coming.height=this.height,r._afterLoad()},t.onerror=function(){this.onload=this.onerror=null,r._error("image")},t.src=r.coming.href,!0!==t.complete&&r.showLoading()},_loadAjax:function(){var t=r.coming;r.showLoading(),r.ajaxLoad=i.ajax(i.extend({},t.ajax,{url:t.href,error:function(t,e){r.coming&&"abort"!==e?r._error("ajax",t):r.hideLoading()},success:function(e,i){"success"===i&&(t.content=e,r._afterLoad())}}))},_loadIframe:function(){var t=r.coming,e=i(t.tpl.iframe.replace(/\{rnd\}/g,(new Date).getTime())).attr("scrolling",d?"auto":t.iframe.scrolling).attr("src",t.href);i(t.wrap).bind("onReset",function(){try{i(this).find("iframe").hide().attr("src","//about:blank").end().empty()}catch(t){}}),t.iframe.preload&&(r.showLoading(),e.one("load",function(){i(this).data("ready",1),d||i(this).bind("load.fb",r.update),i(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show(),r._afterLoad()})),t.content=e.appendTo(t.inner),t.iframe.preload||r._afterLoad()},_preloadImages:function(){var t,e,i=r.group,n=r.current,o=i.length,a=n.preload?Math.min(n.preload,o-1):0;for(e=1;e<=a;e+=1)t=i[(n.index+e)%o],"image"===t.type&&t.href&&((new Image).src=t.href)},_afterLoad:function(){var t,e,n,o,a,s=r.coming,l=r.current;if(r.hideLoading(),s&&!1!==r.isActive)if(!1===r.trigger("afterLoad",s,l))s.wrap.stop(!0).trigger("onReset").remove(),r.coming=null;else{switch(l&&(r.trigger("beforeChange",l),l.wrap.stop(!0).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove()),r.unbindEvents(),t=s.content,e=s.type,n=s.scrolling,i.extend(r,{wrap:s.wrap,skin:s.skin,outer:s.outer,inner:s.inner,current:s,previous:l}),o=s.href,e){case"inline":case"ajax":case"html":s.selector?t=i("<div>").html(t).find(s.selector):c(t)&&(t.data("fancybox-placeholder")||t.data("fancybox-placeholder",i('<div class="fancybox-placeholder"></div>').insertAfter(t).hide()),t=t.show().detach(),s.wrap.bind("onReset",function(){i(this).find(t).length&&t.hide().replaceAll(t.data("fancybox-placeholder")).data("fancybox-placeholder",!1)}));break;case"image":t=s.tpl.image.replace("{href}",o);break;case"swf":t='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+o+'"></param>',a="",i.each(s.swf,function(e,i){t+='<param name="'+e+'" value="'+i+'"></param>',a+=" "+e+'="'+i+'"'}),t+='<embed src="'+o+'" type="application/x-shockwave-flash" width="100%" height="100%"'+a+"></embed></object>"}(!c(t)||!t.parent().is(s.inner))&&s.inner.append(t),r.trigger("beforeShow"),s.inner.css("overflow","yes"===n?"scroll":"no"===n?"hidden":n),r._setDimension(),r.reposition(),r.isOpen=!1,r.coming=null,r.bindEvents(),r.isOpened?l.prevMethod&&r.transitions[l.prevMethod]():i(".fancybox-wrap").not(s.wrap).stop(!0).trigger("onReset").remove(),r.transitions[r.isOpened?s.nextMethod:s.openMethod](),r._preloadImages()}},_setDimension:function(){var t,e,n,o,a,s,l,d,c,h=r.getViewport(),m=0,g=!1,v=!1,g=r.wrap,b=r.skin,T=r.inner,E=r.current,v=E.width,C=E.height,y=E.minWidth,D=E.minHeight,I=E.maxWidth,O=E.maxHeight,R=E.scrolling,x=E.scrollOutside?E.scrollbarWidth:0,w=E.margin,k=f(w[1]+w[3]),_=f(w[0]+w[2]);if(g.add(b).add(T).width("auto").height("auto").removeClass("fancybox-tmp"),w=f(b.outerWidth(!0)-b.width()),t=f(b.outerHeight(!0)-b.height()),e=k+w,n=_+t,o=u(v)?(h.w-e)*f(v)/100:v,a=u(C)?(h.h-n)*f(C)/100:C,"iframe"===E.type){if(c=E.content,E.autoHeight&&1===c.data("ready"))try{c[0].contentWindow.document.location&&(T.width(o).height(9999),s=c.contents().find("body"),x&&s.css("overflow-x","hidden"),a=s.height())}catch(t){}}else(E.autoWidth||E.autoHeight)&&(T.addClass("fancybox-tmp"),E.autoWidth||T.width(o),E.autoHeight||T.height(a),E.autoWidth&&(o=T.width()),E.autoHeight&&(a=T.height()),T.removeClass("fancybox-tmp"));if(v=f(o),C=f(a),d=o/a,y=f(u(y)?f(y,"w")-e:y),I=f(u(I)?f(I,"w")-e:I),D=f(u(D)?f(D,"h")-n:D),O=f(u(O)?f(O,"h")-n:O),s=I,l=O,E.fitToView&&(I=Math.min(h.w-e,I),O=Math.min(h.h-n,O)),e=h.w-k,_=h.h-_,E.aspectRatio?(v>I&&(v=I,C=f(v/d)),C>O&&(C=O,v=f(C*d)),v<y&&(v=y,C=f(v/d)),C<D&&(C=D,v=f(C*d))):(v=Math.max(y,Math.min(v,I)),E.autoHeight&&"iframe"!==E.type&&(T.width(v),C=T.height()),C=Math.max(D,Math.min(C,O))),E.fitToView)if(T.width(v).height(C),g.width(v+w),h=g.width(),k=g.height(),E.aspectRatio)for(;(h>e||k>_)&&v>y&&C>D&&!(19<m++);)C=Math.max(D,Math.min(O,C-10)),v=f(C*d),v<y&&(v=y,C=f(v/d)),v>I&&(v=I,C=f(v/d)),T.width(v).height(C),g.width(v+w),h=g.width(),k=g.height();else v=Math.max(y,Math.min(v,v-(h-e))),C=Math.max(D,Math.min(C,C-(k-_)));x&&"auto"===R&&C<a&&v+w+x<e&&(v+=x),T.width(v).height(C),g.width(v+w),h=g.width(),k=g.height(),g=(h>e||k>_)&&v>y&&C>D,v=E.aspectRatio?v<s&&C<l&&v<o&&C<a:(v<s||C<l)&&(v<o||C<a),i.extend(E,{dim:{width:p(h),height:p(k)},origWidth:o,origHeight:a,canShrink:g,canExpand:v,wPadding:w,hPadding:t,wrapSpace:k-b.outerHeight(!0),skinSpace:b.height()-C}),!c&&E.autoHeight&&C>D&&C<O&&!v&&T.height("auto")},_getPosition:function(t){var e=r.current,i=r.getViewport(),n=e.margin,o=r.wrap.width()+n[1]+n[3],a=r.wrap.height()+n[0]+n[2],n={position:"absolute",top:n[0],left:n[3]};return e.autoCenter&&e.fixed&&!t&&a<=i.h&&o<=i.w?n.position="fixed":e.locked||(n.top+=i.y,n.left+=i.x),n.top=p(Math.max(n.top,n.top+(i.h-a)*e.topRatio)),n.left=p(Math.max(n.left,n.left+(i.w-o)*e.leftRatio)),n},_afterZoomIn:function(){var t=r.current;t&&(r.isOpen=r.isOpened=!0,r.wrap.css("overflow","visible").addClass("fancybox-opened"),r.update(),(t.closeClick||t.nextClick&&1<r.group.length)&&r.inner.css("cursor","pointer").bind("click.fb",function(e){!i(e.target).is("a")&&!i(e.target).parent().is("a")&&(e.preventDefault(),r[t.closeClick?"close":"next"]())}),t.closeBtn&&i(t.tpl.closeBtn).appendTo(r.skin).bind("click.fb",function(t){t.preventDefault(),r.close()}),t.arrows&&1<r.group.length&&((t.loop||0<t.index)&&i(t.tpl.prev).appendTo(r.outer).bind("click.fb",r.prev),(t.loop||t.index<r.group.length-1)&&i(t.tpl.next).appendTo(r.outer).bind("click.fb",r.next)),r.trigger("afterShow"),t.loop||t.index!==t.group.length-1?r.opts.autoPlay&&!r.player.isActive&&(r.opts.autoPlay=!1,r.play()):r.play(!1))},_afterZoomOut:function(t){t=t||r.current,i(".fancybox-wrap").trigger("onReset").remove(),i.extend(r,{group:{},opts:{},router:!1,current:null,isActive:!1,isOpened:!1,isOpen:!1,isClosing:!1,wrap:null,skin:null,outer:null,inner:null}),r.trigger("afterClose",t)}}),r.transitions={getOrigPosition:function(){var t=r.current,e=t.element,i=t.orig,n={},o=50,a=50,s=t.hPadding,l=t.wPadding,d=r.getViewport();return!i&&t.isDom&&e.is(":visible")&&(i=e.find("img:first"),i.length||(i=e)),c(i)?(n=i.offset(),i.is("img")&&(o=i.outerWidth(),a=i.outerHeight())):(n.top=d.y+(d.h-a)*t.topRatio,n.left=d.x+(d.w-o)*t.leftRatio),("fixed"===r.wrap.css("position")||t.locked)&&(n.top-=d.y,n.left-=d.x),n={top:p(n.top-s*t.topRatio),left:p(n.left-l*t.leftRatio),width:p(o+l),height:p(a+s)}},step:function(t,e){var i,n,o=e.prop;n=r.current;var a=n.wrapSpace,s=n.skinSpace;"width"!==o&&"height"!==o||(i=e.end===e.start?1:(t-e.start)/(e.end-e.start),r.isClosing&&(i=1-i),n="width"===o?n.wPadding:n.hPadding,n=t-n,r.skin[o](f("width"===o?n:n-a*i)),r.inner[o](f("width"===o?n:n-a*i-s*i)))},zoomIn:function(){var t=r.current,e=t.pos,n=t.openEffect,o="elastic"===n,a=i.extend({opacity:1},e);delete a.position,o?(e=this.getOrigPosition(),t.openOpacity&&(e.opacity=.1)):"fade"===n&&(e.opacity=.1),r.wrap.css(e).animate(a,{duration:"none"===n?0:t.openSpeed,easing:t.openEasing,step:o?this.step:null,complete:r._afterZoomIn})},zoomOut:function(){var t=r.current,e=t.closeEffect,i="elastic"===e,n={opacity:.1};i&&(n=this.getOrigPosition(),t.closeOpacity&&(n.opacity=.1)),r.wrap.animate(n,{duration:"none"===e?0:t.closeSpeed,easing:t.closeEasing,step:i?this.step:null,complete:r._afterZoomOut})},changeIn:function(){var t,e=r.current,i=e.nextEffect,n=e.pos,o={opacity:1},a=r.direction;n.opacity=.1,"elastic"===i&&(t="down"===a||"up"===a?"top":"left","down"===a||"right"===a?(n[t]=p(f(n[t])-200),o[t]="+=200px"):(n[t]=p(f(n[t])+200),o[t]="-=200px")),"none"===i?r._afterZoomIn():r.wrap.css(n).animate(o,{duration:e.nextSpeed,easing:e.nextEasing,complete:r._afterZoomIn})},changeOut:function(){var t=r.previous,e=t.prevEffect,n={opacity:.1},o=r.direction;"elastic"===e&&(n["down"===o||"up"===o?"top":"left"]=("up"===o||"left"===o?"-":"+")+"=200px"),t.wrap.animate(n,{duration:"none"===e?0:t.prevSpeed,easing:t.prevEasing,complete:function(){i(this).trigger("onReset").remove()}})}},r.helpers.overlay={defaults:{closeClick:!0,speedOut:200,showEarly:!0,css:{},locked:!d,fixed:!0},overlay:null,fixed:!1,create:function(t){t=i.extend({},this.defaults,t),this.overlay&&this.close(),this.overlay=i('<div class="fancybox-overlay"></div>').appendTo("body"),this.fixed=!1,t.fixed&&r.defaults.fixed&&(this.overlay.addClass("fancybox-overlay-fixed"),this.fixed=!0)},open:function(t){var e=this;t=i.extend({},this.defaults,t),this.overlay?this.overlay.unbind(".overlay").width("auto").height("auto"):this.create(t),this.fixed||(o.bind("resize.overlay",i.proxy(this.update,this)),this.update()),
t.closeClick&&this.overlay.bind("click.overlay",function(t){i(t.target).hasClass("fancybox-overlay")&&(r.isActive?r.close():e.close())}),this.overlay.css(t.css).show()},close:function(){i(".fancybox-overlay").remove(),o.unbind("resize.overlay"),this.overlay=null,!1!==this.margin&&(i("body").css("margin-right",this.margin),this.margin=!1),this.el&&this.el.removeClass("fancybox-lock")},update:function(){var t,i="100%";this.overlay.width(i).height("100%"),s?(t=Math.max(e.documentElement.offsetWidth,e.body.offsetWidth),a.width()>t&&(i=a.width())):a.width()>o.width()&&(i=a.width()),this.overlay.width(i).height(a.height())},onReady:function(t,n){i(".fancybox-overlay").stop(!0,!0),this.overlay||(this.margin=(a.height()>o.height()||"scroll"===i("body").css("overflow-y"))&&i("body").css("margin-right"),this.el=i(e.all&&!e.querySelector?"html":"body"),this.create(t)),t.locked&&this.fixed&&(n.locked=this.overlay.append(n.wrap),n.fixed=!1),!0===t.showEarly&&this.beforeShow.apply(this,arguments)},beforeShow:function(t,e){e.locked&&(this.el.addClass("fancybox-lock"),!1!==this.margin&&i("body").css("margin-right",f(this.margin)+e.scrollbarWidth)),this.open(t)},onUpdate:function(){this.fixed||this.update()},afterClose:function(t){this.overlay&&!r.isActive&&this.overlay.fadeOut(t.speedOut,i.proxy(this.close,this))}},r.helpers.title={defaults:{type:"float",position:"bottom"},beforeShow:function(t){var e=r.current,n=e.title,o=t.type;if(i.isFunction(n)&&(n=n.call(e.element,e)),h(n)&&""!==i.trim(n)){switch(e=i('<div class="fancybox-title fancybox-title-'+o+'-wrap">'+n+"</div>"),o){case"inside":o=r.skin;break;case"outside":o=r.wrap;break;case"over":o=r.inner;break;default:o=r.skin,e.appendTo("body"),s&&e.width(e.width()),e.wrapInner('<span class="child"></span>'),r.current.margin[2]+=Math.abs(f(e.css("margin-bottom")))}e["top"===t.position?"prependTo":"appendTo"](o)}}},i.fn.fancybox=function(t){var e,n=i(this),o=this.selector||"",s=function(a){var s,l,d=i(this).blur(),c=e;!a.ctrlKey&&!a.altKey&&!a.shiftKey&&!a.metaKey&&!d.is(".fancybox-wrap")&&(s=t.groupAttr||"data-fancybox-group",l=d.attr(s),l||(s="rel",l=d.get(0)[s]),l&&""!==l&&"nofollow"!==l&&(d=o.length?i(o):n,d=d.filter("["+s+'="'+l+'"]'),c=d.index(this)),t.index=c,!1!==r.open(d,t)&&a.preventDefault())};return t=t||{},e=t.index||0,o&&!1!==t.live?a.undelegate(o,"click.fb-start").delegate(o+":not('.fancybox-item, .fancybox-nav')","click.fb-start",s):n.unbind("click.fb-start").bind("click.fb-start",s),this.filter("[data-fancybox-start=1]").trigger("click"),this},a.ready(function(){if(i.scrollbarWidth===n&&(i.scrollbarWidth=function(){var t=i('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),e=t.children(),e=e.innerWidth()-e.height(99).innerWidth();return t.remove(),e}),i.support.fixedPosition===n){var t=i.support,e=i('<div style="position:fixed;top:20px;"></div>').appendTo("body"),o=20===e[0].offsetTop||15===e[0].offsetTop;e.remove(),t.fixedPosition=o}i.extend(r.defaults,{scrollbarWidth:i.scrollbarWidth(),fixed:i.support.fixedPosition,parent:i("body")})})}(window,document,jQuery),function(t){t.Jcrop=function(e,i){function n(t){return Math.round(t)+"px"}function o(t){return M.baseClass+"-"+t}function a(){return t.fx.step.hasOwnProperty("backgroundColor")}function r(e){var i=t(e).offset();return[i.left,i.top]}function s(t){return[t.pageX-A[0],t.pageY-A[1]]}function l(e){"object"!=typeof e&&(e={}),M=t.extend(M,e),t.each(["onChange","onSelect","onRelease","onDblClick"],function(t,e){"function"!=typeof M[e]&&(M[e]=function(){})})}function d(t,e,i){if(A=r(W),pt.setCursor("move"===t?t:t+"-resize"),"move"===t)return pt.activateHandlers(h(e),g,i);var n=ht.getFixed(),o=u(t),a=ht.getCorner(u(o));ht.setPressed(ht.getCorner(o)),ht.setCurrent(a),pt.activateHandlers(c(t,n),g,i)}function c(t,e){return function(i){if(M.aspectRatio)switch(t){case"e":case"w":i[1]=e.y+1;break;case"n":case"s":i[0]=e.x+1}else switch(t){case"e":case"w":i[1]=e.y2;break;case"n":case"s":i[0]=e.x2}ht.setCurrent(i),ft.update()}}function h(t){var e=t;return mt.watchKeys(),function(t){ht.moveOffset([t[0]-e[0],t[1]-e[1]]),e=t,ft.update()}}function u(t){switch(t){case"n":return"sw";case"s":case"e":return"nw";case"w":return"ne";case"ne":return"sw";case"nw":return"se";case"se":return"nw";case"sw":return"ne"}}function f(t){return function(e){return!M.disabled&&(!("move"===t&&!M.allowMove)&&(A=r(W),nt=!0,d(t,s(e)),e.stopPropagation(),e.preventDefault(),!1))}}function p(t,e,i){var n=t.width(),o=t.height();n>e&&e>0&&(n=e,o=e/t.width()*t.height()),o>i&&i>0&&(o=i,n=i/t.height()*t.width()),et=t.width()/n,it=t.height()/o,t.width(n).height(o)}function m(t){return{x:t.x*et,y:t.y*it,x2:t.x2*et,y2:t.y2*it,w:t.w*et,h:t.h*it}}function g(){var t=ht.getFixed();t.w>M.minSelect[0]&&t.h>M.minSelect[1]?(ft.enableHandles(),ft.done()):ft.release(),pt.setCursor(M.allowSelect?"crosshair":"default")}function v(t){if(M.disabled)return!1;if(!M.allowSelect)return!1;nt=!0,A=r(W),ft.disableHandles(),pt.setCursor("crosshair");var e=s(t);return ht.setPressed(e),ft.update(),pt.activateHandlers(b,g,"touch"===t.type.substring(0,5)),mt.watchKeys(),t.stopPropagation(),t.preventDefault(),!1}function b(t){ht.setCurrent(t),ft.update()}function T(){var e=t("<div></div>").addClass(o("tracker"));return F&&e.css({opacity:0,backgroundColor:"white"}),e}function E(t){V.removeClass().addClass(o("holder")).addClass(t)}function C(t,e){function i(){window.setTimeout(b,h)}var n=t[0]/et,o=t[1]/it,a=t[2]/et,r=t[3]/it;if(!ot){var s=ht.flipCoords(n,o,a,r),l=ht.getFixed(),d=[l.x,l.y,l.x2,l.y2],c=d,h=M.animationDelay,u=s[0]-d[0],f=s[1]-d[1],p=s[2]-d[2],m=s[3]-d[3],g=0,v=M.swingSpeed;n=c[0],o=c[1],a=c[2],r=c[3],ft.animMode(!0);var b=function(){return function(){g+=(100-g)/v,c[0]=Math.round(n+g/100*u),c[1]=Math.round(o+g/100*f),c[2]=Math.round(a+g/100*p),c[3]=Math.round(r+g/100*m),g>=99.8&&(g=100),g<100?(D(c),i()):(ft.done(),ft.animMode(!1),"function"==typeof e&&e.call(gt))}}();i()}}function y(t){D([t[0]/et,t[1]/it,t[2]/et,t[3]/it]),M.onSelect.call(gt,m(ht.getFixed())),ft.enableHandles()}function D(t){ht.setPressed([t[0],t[1]]),ht.setCurrent([t[2],t[3]]),ft.update()}function I(){return m(ht.getFixed())}function O(){return ht.getFixed()}function R(t){l(t),K()}function x(){M.disabled=!0,ft.disableHandles(),ft.setCursor("default"),pt.setCursor("default")}function w(){M.disabled=!1,K()}function k(){ft.done(),pt.activateHandlers(null,null)}function _(){V.remove(),$.show(),$.css("visibility","visible"),t(e).removeData("Jcrop")}function S(t,e){ft.release(),x();var i=new Image;i.onload=function(){var n=i.width,o=i.height,a=M.boxWidth,r=M.boxHeight;W.width(n).height(o),W.attr("src",t),U.attr("src",t),p(W,a,r),q=W.width(),j=W.height(),U.width(q).height(j),st.width(q+2*rt).height(j+2*rt),V.width(q).height(j),ut.resize(q,j),w(),"function"==typeof e&&e.call(gt)},i.src=t}function N(t,e,i){var n=e||M.bgColor;M.bgFade&&a()&&M.fadeTime&&!i?t.animate({backgroundColor:n},{queue:!1,duration:M.fadeTime}):t.css("backgroundColor",n)}function K(t){M.allowResize?t?ft.enableOnly():ft.enableHandles():ft.disableHandles(),pt.setCursor(M.allowSelect?"crosshair":"default"),ft.setCursor(M.allowMove?"move":"default"),M.hasOwnProperty("trueSize")&&(et=M.trueSize[0]/q,it=M.trueSize[1]/j),M.hasOwnProperty("setSelect")&&(y(M.setSelect),ft.done(),delete M.setSelect),ut.refresh(),M.bgColor!=lt&&(N(M.shade?ut.getShades():V,M.shade?M.shadeColor||M.bgColor:M.bgColor),lt=M.bgColor),dt!=M.bgOpacity&&(dt=M.bgOpacity,M.shade?ut.refresh():ft.setBgOpacity(dt)),Z=M.maxSize[0]||0,Q=M.maxSize[1]||0,J=M.minSize[0]||0,tt=M.minSize[1]||0,M.hasOwnProperty("outerImage")&&(W.attr("src",M.outerImage),delete M.outerImage),ft.refresh()}var A,M=t.extend({},t.Jcrop.defaults),L=navigator.userAgent.toLowerCase(),F=/msie/.test(L),P=/msie [1-6]\./.test(L);"object"!=typeof e&&(e=t(e)[0]),"object"!=typeof i&&(i={}),l(i);var B={border:"none",visibility:"visible",margin:0,padding:0,position:"absolute",top:0,left:0},$=t(e),z=!0;if("IMG"==e.tagName){if(0!=$[0].width&&0!=$[0].height)$.width($[0].width),$.height($[0].height);else{var H=new Image;H.src=$[0].src,$.width(H.width),$.height(H.height)}var W=$.clone().removeAttr("id").css(B).show();W.width($.width()),W.height($.height()),$.after(W).hide()}else W=$.css(B).show(),z=!1,null===M.shade&&(M.shade=!0);p(W,M.boxWidth,M.boxHeight);var q=W.width(),j=W.height(),V=t("<div />").width(q).height(j).addClass(o("holder")).css({position:"relative",backgroundColor:M.bgColor}).insertAfter($).append(W);M.addClass&&V.addClass(M.addClass);var U=t("<div />"),Y=t("<div />").width("100%").height("100%").css({zIndex:310,position:"absolute",overflow:"hidden"}),G=t("<div />").width("100%").height("100%").css("zIndex",320),X=t("<div />").css({position:"absolute",zIndex:600}).dblclick(function(){var t=ht.getFixed();M.onDblClick.call(gt,t)}).insertBefore(W).append(Y,G);z&&(U=t("<img />").attr("src",W.attr("src")).css(B).width(q).height(j),Y.append(U)),P&&X.css({overflowY:"hidden"});var Z,Q,J,tt,et,it,nt,ot,at,rt=M.boundary,st=T().width(q+2*rt).height(j+2*rt).css({position:"absolute",top:n(-rt),left:n(-rt),zIndex:290}).mousedown(v),lt=M.bgColor,dt=M.bgOpacity;A=r(W);var ct=function(){function t(){var t,e={},i=["touchstart","touchmove","touchend"],n=document.createElement("div");try{for(t=0;t<i.length;t++){var o=i[t];o="on"+o;var a=o in n;a||(n.setAttribute(o,"return;"),a="function"==typeof n[o]),e[i[t]]=a}return e.touchstart&&e.touchend&&e.touchmove}catch(t){return!1}}function e(){return!0===M.touchSupport||!1===M.touchSupport?M.touchSupport:t()}return{createDragger:function(t){return function(e){return!M.disabled&&(!("move"===t&&!M.allowMove)&&(A=r(W),nt=!0,d(t,s(ct.cfilter(e)),!0),e.stopPropagation(),e.preventDefault(),!1))}},newSelection:function(t){return v(ct.cfilter(t))},cfilter:function(t){return t.pageX=t.originalEvent.changedTouches[0].pageX,t.pageY=t.originalEvent.changedTouches[0].pageY,t},isSupported:t,support:e()}}(),ht=function(){function t(t){t=r(t),p=u=t[0],m=f=t[1]}function e(t){t=r(t),c=t[0]-p,h=t[1]-m,p=t[0],m=t[1]}function i(){return[c,h]}function n(t){var e=t[0],i=t[1];0>u+e&&(e-=e+u),0>f+i&&(i-=i+f),j<m+i&&(i+=j-(m+i)),q<p+e&&(e+=q-(p+e)),u+=e,p+=e,f+=i,m+=i}function o(t){var e=a();switch(t){case"ne":return[e.x2,e.y];case"nw":return[e.x,e.y];case"se":return[e.x2,e.y2];case"sw":return[e.x,e.y2]}}function a(){if(!M.aspectRatio)return l();var t,e,i,n,o=M.aspectRatio,a=M.minSize[0]/et,r=M.maxSize[0]/et,c=M.maxSize[1]/it,h=p-u,g=m-f,v=Math.abs(h),b=Math.abs(g),T=v/b;return 0===r&&(r=10*q),0===c&&(c=10*j),T<o?(e=m,i=b*o,t=h<0?u-i:i+u,t<0?(t=0,n=Math.abs((t-u)/o),e=g<0?f-n:n+f):t>q&&(t=q,n=Math.abs((t-u)/o),e=g<0?f-n:n+f)):(t=p,n=v/o,e=g<0?f-n:f+n,e<0?(e=0,i=Math.abs((e-f)*o),t=h<0?u-i:i+u):e>j&&(e=j,i=Math.abs(e-f)*o,t=h<0?u-i:i+u)),t>u?(t-u<a?t=u+a:t-u>r&&(t=u+r),e=e>f?f+(t-u)/o:f-(t-u)/o):t<u&&(u-t<a?t=u-a:u-t>r&&(t=u-r),e=e>f?f+(u-t)/o:f-(u-t)/o),t<0?(u-=t,t=0):t>q&&(u-=t-q,t=q),e<0?(f-=e,e=0):e>j&&(f-=e-j,e=j),d(s(u,f,t,e))}function r(t){return t[0]<0&&(t[0]=0),t[1]<0&&(t[1]=0),t[0]>q&&(t[0]=q),t[1]>j&&(t[1]=j),[Math.round(t[0]),Math.round(t[1])]}function s(t,e,i,n){var o=t,a=i,r=e,s=n;return i<t&&(o=i,a=t),n<e&&(r=n,s=e),[o,r,a,s]}function l(){var t,e=p-u,i=m-f;return Z&&Math.abs(e)>Z&&(p=e>0?u+Z:u-Z),Q&&Math.abs(i)>Q&&(m=i>0?f+Q:f-Q),tt/it&&Math.abs(i)<tt/it&&(m=i>0?f+tt/it:f-tt/it),J/et&&Math.abs(e)<J/et&&(p=e>0?u+J/et:u-J/et),u<0&&(p-=u,u-=u),f<0&&(m-=f,f-=f),p<0&&(u-=p,p-=p),m<0&&(f-=m,m-=m),p>q&&(t=p-q,u-=t,p-=t),m>j&&(t=m-j,f-=t,m-=t),u>q&&(t=u-j,m-=t,f-=t),f>j&&(t=f-j,m-=t,f-=t),d(s(u,f,p,m))}function d(t){return{x:t[0],y:t[1],x2:t[2],y2:t[3],w:t[2]-t[0],h:t[3]-t[1]}}var c,h,u=0,f=0,p=0,m=0;return{flipCoords:s,setPressed:t,setCurrent:e,getOffset:i,moveOffset:n,getCorner:o,getFixed:a}}(),ut=function(){function e(t,e){p.left.css({height:n(e)}),p.right.css({height:n(e)})}function i(){return o(ht.getFixed())}function o(t){p.top.css({left:n(t.x),width:n(t.w),height:n(t.y)}),p.bottom.css({top:n(t.y2),left:n(t.x),width:n(t.w),height:n(j-t.y2)}),p.right.css({left:n(t.x2),width:n(q-t.x2)}),p.left.css({width:n(t.x)})}function a(){return t("<div />").css({position:"absolute",backgroundColor:M.shadeColor||M.bgColor}).appendTo(f)}function r(){u||(u=!0,f.insertBefore(W),i(),ft.setBgOpacity(1,0,1),U.hide(),s(M.shadeColor||M.bgColor,1),ft.isAwake()?d(M.bgOpacity,1):d(1,1))}function s(t,e){N(h(),t,e)}function l(){u&&(f.remove(),U.show(),u=!1,ft.isAwake()?ft.setBgOpacity(M.bgOpacity,1,1):(ft.setBgOpacity(1,1,1),ft.disableHandles()),N(V,0,1))}function d(t,e){u&&(M.bgFade&&!e?f.animate({opacity:1-t},{queue:!1,duration:M.fadeTime}):f.css({opacity:1-t}))}function c(){M.shade?r():l(),ft.isAwake()&&d(M.bgOpacity)}function h(){return f.children()}var u=!1,f=t("<div />").css({position:"absolute",zIndex:240,opacity:0}),p={top:a(),left:a().height(j),right:a().height(j),bottom:a()};return{update:i,updateRaw:o,getShades:h,setBgColor:s,enable:r,disable:l,resize:e,refresh:c,opacity:d}}(),ft=function(){function e(e){var i=t("<div />").css({position:"absolute",opacity:M.borderOpacity}).addClass(o(e));return Y.append(i),i}function i(e,i){var n=t("<div />").mousedown(f(e)).css({cursor:e+"-resize",position:"absolute",zIndex:i}).addClass("ord-"+e);return ct.support&&n.bind("touchstart.jcrop",ct.createDragger(e)),G.append(n),n}function a(t){var e=M.handleSize,n=i(t,x++).css({opacity:M.handleOpacity}).addClass(o("handle"));return e&&n.width(e).height(e),n}function r(t){return i(t,x++).addClass("jcrop-dragbar")}function s(t){var e;for(e=0;e<t.length;e++)_[t[e]]=r(t[e])}function l(t){var i,n;for(n=0;n<t.length;n++){switch(t[n]){case"n":i="hline";break;case"s":i="hline bottom";break;case"e":i="vline right";break;case"w":i="vline"}w[t[n]]=e(i)}}function d(t){var e;for(e=0;e<t.length;e++)k[t[e]]=a(t[e])}function c(t,e){M.shade||U.css({top:n(-e),left:n(-t)}),X.css({top:n(e),left:n(t)})}function h(t,e){X.width(Math.round(t)).height(Math.round(e))}function u(){var t=ht.getFixed();ht.setPressed([t.x,t.y]),ht.setCurrent([t.x2,t.y2]),p()}function p(t){if(R)return g(t)}function g(t){var e=ht.getFixed();h(e.w,e.h),c(e.x,e.y),M.shade&&ut.updateRaw(e),R||b(),t?M.onSelect.call(gt,m(e)):M.onChange.call(gt,m(e))}function v(t,e,i){(R||e)&&(M.bgFade&&!i?W.animate({opacity:t},{queue:!1,duration:M.fadeTime}):W.css("opacity",t))}function b(){X.show(),M.shade?ut.opacity(dt):v(dt,!0),R=!0}function E(){D(),X.hide(),M.shade?ut.opacity(1):v(1),R=!1,M.onRelease.call(gt)}function C(){S&&G.show()}function y(){if(S=!0,M.allowResize)return G.show(),!0}function D(){S=!1,G.hide()}function I(t){t?(ot=!0,D()):(ot=!1,y())}function O(){I(!1),u()}var R,x=370,w={},k={},_={},S=!1;M.dragEdges&&t.isArray(M.createDragbars)&&s(M.createDragbars),t.isArray(M.createHandles)&&d(M.createHandles),M.drawBorders&&t.isArray(M.createBorders)&&l(M.createBorders),t(document).bind("touchstart.jcrop-ios",function(e){t(e.currentTarget).hasClass("jcrop-tracker")&&e.stopPropagation()});var N=T().mousedown(f("move")).css({cursor:"move",position:"absolute",zIndex:360});return ct.support&&N.bind("touchstart.jcrop",ct.createDragger("move")),Y.append(N),D(),{updateVisible:p,update:g,release:E,refresh:u,isAwake:function(){return R},setCursor:function(t){N.css("cursor",t)},enableHandles:y,enableOnly:function(){S=!0},showHandles:C,disableHandles:D,animMode:I,setBgOpacity:v,done:O}}(),pt=function(){function e(e){st.css({zIndex:450}),e?t(document).bind("touchmove.jcrop",r).bind("touchend.jcrop",l):u&&t(document).bind("mousemove.jcrop",n).bind("mouseup.jcrop",o)}function i(){st.css({zIndex:290}),t(document).unbind(".jcrop")}function n(t){return c(s(t)),!1}function o(t){return t.preventDefault(),t.stopPropagation(),nt&&(nt=!1,h(s(t)),ft.isAwake()&&M.onSelect.call(gt,m(ht.getFixed())),i(),c=function(){},h=function(){}),!1}function a(t,i,n){return nt=!0,c=t,h=i,e(n),!1}function r(t){return c(s(ct.cfilter(t))),!1}function l(t){return o(ct.cfilter(t))}function d(t){st.css("cursor",t)}var c=function(){},h=function(){},u=M.trackDocument;return u||st.mousemove(n).mouseup(o).mouseout(o),W.before(st),{activateHandlers:a,setCursor:d}}(),mt=function(){function e(){M.keySupport&&(a.show(),a.focus())}function i(){a.hide()}function n(t,e,i){M.allowMove&&(ht.moveOffset([e,i]),ft.updateVisible(!0)),t.preventDefault(),t.stopPropagation()}function o(t){if(t.ctrlKey||t.metaKey)return!0;at=!!t.shiftKey;var e=at?10:1;switch(t.keyCode){case 37:n(t,-e,0);break;case 39:n(t,e,0);break;case 38:n(t,0,-e);break;case 40:n(t,0,e);break;case 27:M.allowSelect&&ft.release();break;case 9:return!0}return!1}var a=t('<input type="radio" />').css({position:"fixed",left:"-120px",width:"12px"}).addClass("jcrop-keymgr"),r=t("<div />").css({position:"absolute",overflow:"hidden"}).append(a);return M.keySupport&&(a.keydown(o).blur(i),P||!M.fixedSupport?(a.css({position:"absolute",left:"-20px"}),r.append(a).insertBefore(W)):a.insertBefore(W)),{watchKeys:e}}();ct.support&&st.bind("touchstart.jcrop",ct.newSelection),G.hide(),K(!0);var gt={setImage:S,animateTo:C,setSelect:y,setOptions:R,tellSelect:I,tellScaled:O,setClass:E,disable:x,enable:w,cancel:k,release:ft.release,destroy:_,focus:mt.watchKeys,getBounds:function(){return[q*et,j*it]},getWidgetSize:function(){return[q,j]},getScaleFactor:function(){return[et,it]},getOptions:function(){return M},ui:{holder:V,selection:X}};return F&&V.bind("selectstart",function(){return!1}),$.data("Jcrop",gt),gt},t.fn.Jcrop=function(e,i){var n;return this.each(function(){if(t(this).data("Jcrop")){if("api"===e)return t(this).data("Jcrop");t(this).data("Jcrop").setOptions(e)}else"IMG"==this.tagName?t.Jcrop.Loader(this,function(){t(this).css({display:"block",visibility:"hidden"}),n=t.Jcrop(this,e),t.isFunction(i)&&i.call(n)}):(t(this).css({display:"block",visibility:"hidden"}),n=t.Jcrop(this,e),t.isFunction(i)&&i.call(n))}),this},t.Jcrop.Loader=function(e,i,n){function o(){r.complete?(a.unbind(".jcloader"),t.isFunction(i)&&i.call(r)):window.setTimeout(o,50)}var a=t(e),r=a[0];a.bind("load.jcloader",o).bind("error.jcloader",function(){a.unbind(".jcloader"),t.isFunction(n)&&n.call(r)}),r.complete&&t.isFunction(i)&&(a.unbind(".jcloader"),i.call(r))},t.Jcrop.defaults={allowSelect:!0,allowMove:!0,allowResize:!0,trackDocument:!0,baseClass:"jcrop",addClass:null,bgColor:"black",bgOpacity:.6,bgFade:!1,borderOpacity:.4,handleOpacity:.5,handleSize:null,aspectRatio:0,keySupport:!0,createHandles:["n","s","e","w","nw","ne","se","sw"],createDragbars:["n","s","e","w"],createBorders:["n","s","e","w"],drawBorders:!0,dragEdges:!0,fixedSupport:!0,touchSupport:null,shade:null,boxWidth:0,boxHeight:0,boundary:2,fadeTime:400,animationDelay:20,swingSpeed:3,minSelect:[0,0],maxSize:[0,0],minSize:[0,0],onChange:function(){},onSelect:function(){},onDblClick:function(){},onRelease:function(){}}}(jQuery),function(){var t,e,i,n,o,a,r,s,l,d=[].slice,c=function(t,e){function i(){this.constructor=t}for(var n in e)h.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},h={}.hasOwnProperty;s=function(){},e=function(){function t(){}return t.prototype.addEventListener=t.prototype.on,t.prototype.on=function(t,e){return this._callbacks=this._callbacks||{},this._callbacks[t]||(this._callbacks[t]=[]),this._callbacks[t].push(e),this},t.prototype.emit=function(){var t,e,i,n,o,a;if(n=arguments[0],t=2<=arguments.length?d.call(arguments,1):[],this._callbacks=this._callbacks||{},i=this._callbacks[n])for(o=0,a=i.length;o<a;o++)e=i[o],e.apply(this,t);return this},t.prototype.removeListener=t.prototype.off,t.prototype.removeAllListeners=t.prototype.off,t.prototype.removeEventListener=t.prototype.off,t.prototype.off=function(t,e){var i,n,o,a;if(!this._callbacks||0===arguments.length)return this._callbacks={},this;if(!(i=this._callbacks[t]))return this;if(1===arguments.length)return delete this._callbacks[t],this;for(n=o=0,a=i.length;o<a;n=++o)if(i[n]===e){i.splice(n,1);break}return this},t}(),t=function(t){function n(t,e){var i,a,r;if(this.element=t,this.version=n.version,this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,""),this.clickableElements=[],this.listeners=[],this.files=[],"string"==typeof this.element&&(this.element=document.querySelector(this.element)),!this.element||null==this.element.nodeType)throw new Error("Invalid dropzone element.");if(this.element.dropzone)throw new Error("Dropzone already attached.");if(n.instances.push(this),this.element.dropzone=this,i=null!=(r=n.optionsForElement(this.element))?r:{},this.options=o({},this.defaultOptions,i,null!=e?e:{}),this.options.forceFallback||!n.isBrowserSupported())return this.options.fallback.call(this);if(null==this.options.url&&(this.options.url=this.element.getAttribute("action")),!this.options.url)throw new Error("No URL provided.");if(this.options.acceptedFiles&&this.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes),null!=this.options.renameFilename&&(this.options.renameFile=function(t){return function(e){return t.options.renameFilename.call(t,e.name,e)}}(this)),this.options.method=this.options.method.toUpperCase(),(a=this.getExistingFallback())&&a.parentNode&&a.parentNode.removeChild(a),!1!==this.options.previewsContainer&&(this.options.previewsContainer?this.previewsContainer=n.getElement(this.options.previewsContainer,"previewsContainer"):this.previewsContainer=this.element),this.options.clickable&&(!0===this.options.clickable?this.clickableElements=[this.element]:this.clickableElements=n.getElements(this.options.clickable,"clickable")),this.init()}var o,a;return c(n,t),n.prototype.Emitter=e,n.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],n.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,timeout:3e4,parallelUploads:2,uploadMultiple:!1,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,thumbnailMethod:"crop",resizeWidth:null,resizeHeight:null,resizeMimeType:null,resizeQuality:.8,resizeMethod:"contain",filesizeBase:1e3,maxFiles:null,params:{},headers:null,clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,hiddenInputContainer:"body",capture:null,renameFilename:null,renameFile:null,forceFallback:!1,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",dictFileSizeUnits:{tb:"TB",gb:"GB",mb:"MB",kb:"KB",b:"b"},init:function(){return s},accept:function(t,e){return e()},fallback:function(){var t,e,i,o,a,r;for(this.element.className=this.element.className+" dz-browser-not-supported",a=this.element.getElementsByTagName("div"),e=0,i=a.length;e<i;e++)t=a[e],/(^| )dz-message($| )/.test(t.className)&&(o=t,t.className="dz-message");return o||(o=n.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(o)),r=o.getElementsByTagName("span")[0],r&&(null!=r.textContent?r.textContent=this.options.dictFallbackMessage:null!=r.innerText&&(r.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize:function(t,e,i,n){var o,a,r;if(o={srcX:0,srcY:0,srcWidth:t.width,srcHeight:t.height},a=t.width/t.height,null==e&&null==i?(e=o.srcWidth,i=o.srcHeight):null==e?e=i*a:null==i&&(i=e/a),e=Math.min(e,o.srcWidth),i=Math.min(i,o.srcHeight),r=e/i,o.srcWidth>e||o.srcHeight>i)if("crop"===n)a>r?(o.srcHeight=t.height,o.srcWidth=o.srcHeight*r):(o.srcWidth=t.width,o.srcHeight=o.srcWidth/r);else{if("contain"!==n)throw new Error("Unknown resizeMethod '"+n+"'");a>r?i=e/a:e=i*a}return o.srcX=(t.width-o.srcWidth)/2,o.srcY=(t.height-o.srcHeight)/2,o.trgWidth=e,o.trgHeight=i,o},transformFile:function(t,e){return(this.options.resizeWidth||this.options.resizeHeight)&&t.type.match(/image.*/)?this.resizeImage(t,this.options.resizeWidth,this.options.resizeHeight,this.options.resizeMethod,e):e(t)},previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Check</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Error</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>',drop:function(){return this.element.classList.remove("dz-drag-hover")},dragstart:s,dragend:function(){return this.element.classList.remove("dz-drag-hover")},dragenter:function(){return this.element.classList.add("dz-drag-hover")},dragover:function(){return this.element.classList.add("dz-drag-hover")},dragleave:function(){return this.element.classList.remove("dz-drag-hover")},paste:s,reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(t){var e,i,o,a,r,s,l,d,c,h,u,f,p;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){for(t.previewElement=n.createElement(this.options.previewTemplate.trim()),t.previewTemplate=t.previewElement,this.previewsContainer.appendChild(t.previewElement),d=t.previewElement.querySelectorAll("[data-dz-name]"),e=0,a=d.length;e<a;e++)l=d[e],l.textContent=t.name;for(c=t.previewElement.querySelectorAll("[data-dz-size]"),i=0,r=c.length;i<r;i++)l=c[i],l.innerHTML=this.filesize(t.size);for(this.options.addRemoveLinks&&(t._removeLink=n.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>"),t.previewElement.appendChild(t._removeLink)),u=function(e){return function(i){return i.preventDefault(),i.stopPropagation(),t.status===n.UPLOADING?n.confirm(e.options.dictCancelUploadConfirmation,function(){return e.removeFile(t)}):e.options.dictRemoveFileConfirmation?n.confirm(e.options.dictRemoveFileConfirmation,function(){return e.removeFile(t)}):e.removeFile(t)}}(this),h=t.previewElement.querySelectorAll("[data-dz-remove]"),p=[],o=0,s=h.length;o<s;o++)f=h[o],p.push(f.addEventListener("click",u));return p}},removedfile:function(t){var e;return t.previewElement&&null!=(e=t.previewElement)&&e.parentNode.removeChild(t.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(t,e){var i,n,o,a;if(t.previewElement){for(t.previewElement.classList.remove("dz-file-preview"),o=t.previewElement.querySelectorAll("[data-dz-thumbnail]"),i=0,n=o.length;i<n;i++)a=o[i],a.alt=t.name,a.src=e;return setTimeout(function(){return function(){return t.previewElement.classList.add("dz-image-preview")}}(),1)}},error:function(t,e){var i,n,o,a,r;if(t.previewElement){for(t.previewElement.classList.add("dz-error"),"String"!=typeof e&&e.error&&(e=e.error),a=t.previewElement.querySelectorAll("[data-dz-errormessage]"),r=[],i=0,n=a.length;i<n;i++)o=a[i],r.push(o.textContent=e);return r}},errormultiple:s,processing:function(t){if(t.previewElement&&(t.previewElement.classList.add("dz-processing"),t._removeLink))return t._removeLink.textContent=this.options.dictCancelUpload},processingmultiple:s,uploadprogress:function(t,e){var i,n,o,a,r;if(t.previewElement){for(a=t.previewElement.querySelectorAll("[data-dz-uploadprogress]"),r=[],i=0,n=a.length;i<n;i++)o=a[i],"PROGRESS"===o.nodeName?r.push(o.value=e):r.push(o.style.width=e+"%");return r}},totaluploadprogress:s,sending:s,sendingmultiple:s,success:function(t){if(t.previewElement)return t.previewElement.classList.add("dz-success")},successmultiple:s,canceled:function(t){return this.emit("error",t,"Upload canceled.")},canceledmultiple:s,complete:function(t){if(t._removeLink&&(t._removeLink.textContent=this.options.dictRemoveFile),t.previewElement)return t.previewElement.classList.add("dz-complete")},completemultiple:s,maxfilesexceeded:s,maxfilesreached:s,queuecomplete:s,addedfiles:s},o=function(){var t,e,i,n,o,a,r;for(a=arguments[0],o=2<=arguments.length?d.call(arguments,1):[],t=0,i=o.length;t<i;t++){n=o[t];for(e in n)r=n[e],a[e]=r}return a},n.prototype.getAcceptedFiles=function(){var t,e,i,n,o;for(n=this.files,o=[],e=0,i=n.length;e<i;e++)t=n[e],t.accepted&&o.push(t);return o},n.prototype.getRejectedFiles=function(){var t,e,i,n,o;for(n=this.files,o=[],e=0,i=n.length;e<i;e++)t=n[e],t.accepted||o.push(t);return o},n.prototype.getFilesWithStatus=function(t){var e,i,n,o,a;for(o=this.files,a=[],i=0,n=o.length;i<n;i++)e=o[i],e.status===t&&a.push(e);return a},n.prototype.getQueuedFiles=function(){return this.getFilesWithStatus(n.QUEUED)},n.prototype.getUploadingFiles=function(){return this.getFilesWithStatus(n.UPLOADING)},n.prototype.getAddedFiles=function(){return this.getFilesWithStatus(n.ADDED)},n.prototype.getActiveFiles=function(){var t,e,i,o,a;for(o=this.files,a=[],e=0,i=o.length;e<i;e++)t=o[e],t.status!==n.UPLOADING&&t.status!==n.QUEUED||a.push(t);return a},n.prototype.init=function(){var t,e,i,o,a,r,s;for("form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),
this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(n.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>")),this.clickableElements.length&&(s=function(t){return function(){return t.hiddenFileInput&&t.hiddenFileInput.parentNode.removeChild(t.hiddenFileInput),t.hiddenFileInput=document.createElement("input"),t.hiddenFileInput.setAttribute("type","file"),(null==t.options.maxFiles||t.options.maxFiles>1)&&t.hiddenFileInput.setAttribute("multiple","multiple"),t.hiddenFileInput.className="dz-hidden-input",null!=t.options.acceptedFiles&&t.hiddenFileInput.setAttribute("accept",t.options.acceptedFiles),null!=t.options.capture&&t.hiddenFileInput.setAttribute("capture",t.options.capture),t.hiddenFileInput.style.visibility="hidden",t.hiddenFileInput.style.position="absolute",t.hiddenFileInput.style.top="0",t.hiddenFileInput.style.left="0",t.hiddenFileInput.style.height="0",t.hiddenFileInput.style.width="0",document.querySelector(t.options.hiddenInputContainer).appendChild(t.hiddenFileInput),t.hiddenFileInput.addEventListener("change",function(){var e,i,n,o;if(i=t.hiddenFileInput.files,i.length)for(n=0,o=i.length;n<o;n++)e=i[n],t.addFile(e);return t.emit("addedfiles",i),s()})}}(this))(),this.URL=null!=(a=window.URL)?a:window.webkitURL,r=this.events,e=0,i=r.length;e<i;e++)t=r[e],this.on(t,this.options[t]);return this.on("uploadprogress",function(t){return function(){return t.updateTotalUploadProgress()}}(this)),this.on("removedfile",function(t){return function(){return t.updateTotalUploadProgress()}}(this)),this.on("canceled",function(t){return function(e){return t.emit("complete",e)}}(this)),this.on("complete",function(t){return function(){if(0===t.getAddedFiles().length&&0===t.getUploadingFiles().length&&0===t.getQueuedFiles().length)return setTimeout(function(){return t.emit("queuecomplete")},0)}}(this)),o=function(t){return t.stopPropagation(),t.preventDefault?t.preventDefault():t.returnValue=!1},this.listeners=[{element:this.element,events:{dragstart:function(t){return function(e){return t.emit("dragstart",e)}}(this),dragenter:function(t){return function(e){return o(e),t.emit("dragenter",e)}}(this),dragover:function(t){return function(e){var i;try{i=e.dataTransfer.effectAllowed}catch(t){}return e.dataTransfer.dropEffect="move"===i||"linkMove"===i?"move":"copy",o(e),t.emit("dragover",e)}}(this),dragleave:function(t){return function(e){return t.emit("dragleave",e)}}(this),drop:function(t){return function(e){return o(e),t.drop(e)}}(this),dragend:function(t){return function(e){return t.emit("dragend",e)}}(this)}}],this.clickableElements.forEach(function(t){return function(e){return t.listeners.push({element:e,events:{click:function(i){return(e!==t.element||i.target===t.element||n.elementInside(i.target,t.element.querySelector(".dz-message")))&&t.hiddenFileInput.click(),!0}}})}}(this)),this.enable(),this.options.init.call(this)},n.prototype.destroy=function(){var t;return this.disable(),this.removeAllFiles(!0),(null!=(t=this.hiddenFileInput)?t.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,n.instances.splice(n.instances.indexOf(this),1)},n.prototype.updateTotalUploadProgress=function(){var t,e,i,n,o,a,r,s;if(r=0,a=0,t=this.getActiveFiles(),t.length){for(o=this.getActiveFiles(),i=0,n=o.length;i<n;i++)e=o[i],r+=e.upload.bytesSent,a+=e.upload.total;s=100*r/a}else s=100;return this.emit("totaluploadprogress",s,a,r)},n.prototype._getParamName=function(t){return"function"==typeof this.options.paramName?this.options.paramName(t):this.options.paramName+(this.options.uploadMultiple?"["+t+"]":"")},n.prototype._renameFile=function(t){return"function"!=typeof this.options.renameFile?t.name:this.options.renameFile(t)},n.prototype.getFallbackForm=function(){var t,e,i,o;return(t=this.getExistingFallback())?t:(i='<div class="dz-fallback">',this.options.dictFallbackText&&(i+="<p>"+this.options.dictFallbackText+"</p>"),i+='<input type="file" name="'+this._getParamName(0)+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>',e=n.createElement(i),"FORM"!==this.element.tagName?(o=n.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>'),o.appendChild(e)):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=o?o:e)},n.prototype.getExistingFallback=function(){var t,e,i,n,o,a;for(e=function(t){var e,i,n;for(i=0,n=t.length;i<n;i++)if(e=t[i],/(^| )fallback($| )/.test(e.className))return e},o=["div","form"],i=0,n=o.length;i<n;i++)if(a=o[i],t=e(this.element.getElementsByTagName(a)))return t},n.prototype.setupEventListeners=function(){var t,e,i,n,o,a,r;for(a=this.listeners,r=[],i=0,n=a.length;i<n;i++)t=a[i],r.push(function(){var i,n;i=t.events,n=[];for(e in i)o=i[e],n.push(t.element.addEventListener(e,o,!1));return n}());return r},n.prototype.removeEventListeners=function(){var t,e,i,n,o,a,r;for(a=this.listeners,r=[],i=0,n=a.length;i<n;i++)t=a[i],r.push(function(){var i,n;i=t.events,n=[];for(e in i)o=i[e],n.push(t.element.removeEventListener(e,o,!1));return n}());return r},n.prototype.disable=function(){var t,e,i,n,o;for(this.clickableElements.forEach(function(t){return t.classList.remove("dz-clickable")}),this.removeEventListeners(),n=this.files,o=[],e=0,i=n.length;e<i;e++)t=n[e],o.push(this.cancelUpload(t));return o},n.prototype.enable=function(){return this.clickableElements.forEach(function(t){return t.classList.add("dz-clickable")}),this.setupEventListeners()},n.prototype.filesize=function(t){var e,i,n,o,a,r,s,l;if(a=0,r="b",t>0){for(l=["tb","gb","mb","kb","b"],i=n=0,o=l.length;n<o;i=++n)if(s=l[i],e=Math.pow(this.options.filesizeBase,4-i)/10,t>=e){a=t/Math.pow(this.options.filesizeBase,4-i),r=s;break}a=Math.round(10*a)/10}return"<strong>"+a+"</strong> "+this.options.dictFileSizeUnits[r]},n.prototype._updateMaxFilesReachedClass=function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")},n.prototype.drop=function(t){var e,i;t.dataTransfer&&(this.emit("drop",t),e=t.dataTransfer.files,this.emit("addedfiles",e),e.length&&(i=t.dataTransfer.items,i&&i.length&&null!=i[0].webkitGetAsEntry?this._addFilesFromItems(i):this.handleFiles(e)))},n.prototype.paste=function(t){var e,i;if(null!=(null!=t&&null!=(i=t.clipboardData)?i.items:void 0))return this.emit("paste",t),e=t.clipboardData.items,e.length?this._addFilesFromItems(e):void 0},n.prototype.handleFiles=function(t){var e,i,n,o;for(o=[],i=0,n=t.length;i<n;i++)e=t[i],o.push(this.addFile(e));return o},n.prototype._addFilesFromItems=function(t){var e,i,n,o,a;for(a=[],n=0,o=t.length;n<o;n++)i=t[n],null!=i.webkitGetAsEntry&&(e=i.webkitGetAsEntry())?e.isFile?a.push(this.addFile(i.getAsFile())):e.isDirectory?a.push(this._addFilesFromDirectory(e,e.name)):a.push(void 0):null!=i.getAsFile&&(null==i.kind||"file"===i.kind)?a.push(this.addFile(i.getAsFile())):a.push(void 0);return a},n.prototype._addFilesFromDirectory=function(t,e){var i,n,o;return i=t.createReader(),n=function(t){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.log?console.log(t):void 0},(o=function(t){return function(){return i.readEntries(function(i){var n,a,r;if(i.length>0){for(a=0,r=i.length;a<r;a++)n=i[a],n.isFile?n.file(function(i){if(!t.options.ignoreHiddenFiles||"."!==i.name.substring(0,1))return i.fullPath=e+"/"+i.name,t.addFile(i)}):n.isDirectory&&t._addFilesFromDirectory(n,e+"/"+n.name);o()}return null},n)}}(this))()},n.prototype.accept=function(t,e){return t.size>1024*this.options.maxFilesize*1024?e(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(t.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):n.isValidFile(t,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(e(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",t)):this.options.accept.call(this,t,e):e(this.options.dictInvalidFileType)},n.prototype.addFile=function(t){return t.upload={progress:0,total:t.size,bytesSent:0,filename:this._renameFile(t)},this.files.push(t),t.status=n.ADDED,this.emit("addedfile",t),this._enqueueThumbnail(t),this.accept(t,function(e){return function(i){return i?(t.accepted=!1,e._errorProcessing([t],i)):(t.accepted=!0,e.options.autoQueue&&e.enqueueFile(t)),e._updateMaxFilesReachedClass()}}(this))},n.prototype.enqueueFiles=function(t){var e,i,n;for(i=0,n=t.length;i<n;i++)e=t[i],this.enqueueFile(e);return null},n.prototype.enqueueFile=function(t){if(t.status!==n.ADDED||!0!==t.accepted)throw new Error("This file can't be queued because it has already been processed or was rejected.");if(t.status=n.QUEUED,this.options.autoProcessQueue)return setTimeout(function(t){return function(){return t.processQueue()}}(this),0)},n.prototype._thumbnailQueue=[],n.prototype._processingThumbnail=!1,n.prototype._enqueueThumbnail=function(t){if(this.options.createImageThumbnails&&t.type.match(/image.*/)&&t.size<=1024*this.options.maxThumbnailFilesize*1024)return this._thumbnailQueue.push(t),setTimeout(function(t){return function(){return t._processThumbnailQueue()}}(this),0)},n.prototype._processThumbnailQueue=function(){var t;if(!this._processingThumbnail&&0!==this._thumbnailQueue.length)return this._processingThumbnail=!0,t=this._thumbnailQueue.shift(),this.createThumbnail(t,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,!0,function(e){return function(i){return e.emit("thumbnail",t,i),e._processingThumbnail=!1,e._processThumbnailQueue()}}(this))},n.prototype.removeFile=function(t){if(t.status===n.UPLOADING&&this.cancelUpload(t),this.files=l(this.files,t),this.emit("removedfile",t),0===this.files.length)return this.emit("reset")},n.prototype.removeAllFiles=function(t){var e,i,o,a;for(null==t&&(t=!1),a=this.files.slice(),i=0,o=a.length;i<o;i++)e=a[i],(e.status!==n.UPLOADING||t)&&this.removeFile(e);return null},n.prototype.resizeImage=function(t,e,o,a,r){return this.createThumbnail(t,e,o,a,!1,function(e){return function(o,a){var s,l;return null===a?r(t):(s=e.options.resizeMimeType,null==s&&(s=t.type),l=a.toDataURL(s,e.options.resizeQuality),"image/jpeg"!==s&&"image/jpg"!==s||(l=i.restore(t.dataURL,l)),r(n.dataURItoBlob(l)))}}(this))},n.prototype.createThumbnail=function(t,e,i,n,o,a){var r;return r=new FileReader,r.onload=function(s){return function(){return t.dataURL=r.result,"image/svg+xml"===t.type?void(null!=a&&a(r.result)):s.createThumbnailFromUrl(t,e,i,n,o,a)}}(this),r.readAsDataURL(t)},n.prototype.createThumbnailFromUrl=function(t,e,i,n,o,a,s){var l;return l=document.createElement("img"),s&&(l.crossOrigin=s),l.onload=function(s){return function(){var d;return d=function(t){return t(1)},"undefined"!=typeof EXIF&&null!==EXIF&&o&&(d=function(t){return EXIF.getData(l,function(){return t(EXIF.getTag(this,"Orientation"))})}),d(function(o){var d,c,h,u,f,p,m,g;switch(t.width=l.width,t.height=l.height,m=s.options.resize.call(s,t,e,i,n),d=document.createElement("canvas"),c=d.getContext("2d"),d.width=m.trgWidth,d.height=m.trgHeight,o>4&&(d.width=m.trgHeight,d.height=m.trgWidth),o){case 2:c.translate(d.width,0),c.scale(-1,1);break;case 3:c.translate(d.width,d.height),c.rotate(Math.PI);break;case 4:c.translate(0,d.height),c.scale(1,-1);break;case 5:c.rotate(.5*Math.PI),c.scale(1,-1);break;case 6:c.rotate(.5*Math.PI),c.translate(0,-d.height);break;case 7:c.rotate(.5*Math.PI),c.translate(d.width,-d.height),c.scale(-1,1);break;case 8:c.rotate(-.5*Math.PI),c.translate(-d.width,0)}if(r(c,l,null!=(h=m.srcX)?h:0,null!=(u=m.srcY)?u:0,m.srcWidth,m.srcHeight,null!=(f=m.trgX)?f:0,null!=(p=m.trgY)?p:0,m.trgWidth,m.trgHeight),g=d.toDataURL("image/png"),null!=a)return a(g,d)})}}(this),null!=a&&(l.onerror=a),l.src=t.dataURL},n.prototype.processQueue=function(){var t,e,i,n;if(e=this.options.parallelUploads,i=this.getUploadingFiles().length,t=i,!(i>=e)&&(n=this.getQueuedFiles(),n.length>0)){if(this.options.uploadMultiple)return this.processFiles(n.slice(0,e-i));for(;t<e;){if(!n.length)return;this.processFile(n.shift()),t++}}},n.prototype.processFile=function(t){return this.processFiles([t])},n.prototype.processFiles=function(t){var e,i,o;for(i=0,o=t.length;i<o;i++)e=t[i],e.processing=!0,e.status=n.UPLOADING,this.emit("processing",e);return this.options.uploadMultiple&&this.emit("processingmultiple",t),this.uploadFiles(t)},n.prototype._getFilesWithXhr=function(t){var e;return function(){var i,n,o,a;for(o=this.files,a=[],i=0,n=o.length;i<n;i++)e=o[i],e.xhr===t&&a.push(e);return a}.call(this)},n.prototype.cancelUpload=function(t){var e,i,o,a,r,s,l;if(t.status===n.UPLOADING){for(i=this._getFilesWithXhr(t.xhr),o=0,r=i.length;o<r;o++)e=i[o],e.status=n.CANCELED;for(t.xhr.abort(),a=0,s=i.length;a<s;a++)e=i[a],this.emit("canceled",e);this.options.uploadMultiple&&this.emit("canceledmultiple",i)}else(l=t.status)!==n.ADDED&&l!==n.QUEUED||(t.status=n.CANCELED,this.emit("canceled",t),this.options.uploadMultiple&&this.emit("canceledmultiple",[t]));if(this.options.autoProcessQueue)return this.processQueue()},a=function(){var t,e;return e=arguments[0],t=2<=arguments.length?d.call(arguments,1):[],"function"==typeof e?e.apply(this,t):e},n.prototype.uploadFile=function(t){return this.uploadFiles([t])},n.prototype.uploadFiles=function(t){var e,i,r,s,l,d,c,h,u,f,p,m,g,v,b,T,E,C,y,D,I,O,R,x,w,k,_,S,N,K,A,M,L,F,P,B,$;for($=new XMLHttpRequest,g=0,E=t.length;g<E;g++)r=t[g],r.xhr=$;O=a(this.options.method,t),P=a(this.options.url,t),$.open(O,P,!0),$.timeout=a(this.options.timeout,t),$.withCredentials=!!this.options.withCredentials,M=null,l=function(e){return function(){var i,n,o;for(o=[],i=0,n=t.length;i<n;i++)r=t[i],o.push(e._errorProcessing(t,M||e.options.dictResponseError.replace("{{statusCode}}",$.status),$));return o}}(this),F=function(e){return function(i){var n,o,a,s,l,d,c,h,u;if(null!=i)for(h=100*i.loaded/i.total,o=0,s=t.length;o<s;o++)r=t[o],r.upload.progress=h,r.upload.total=i.total,r.upload.bytesSent=i.loaded;else{for(n=!0,h=100,a=0,l=t.length;a<l;a++)r=t[a],100===r.upload.progress&&r.upload.bytesSent===r.upload.total||(n=!1),r.upload.progress=h,r.upload.bytesSent=r.upload.total;if(n)return}for(u=[],c=0,d=t.length;c<d;c++)r=t[c],u.push(e.emit("uploadprogress",r,h,r.upload.bytesSent));return u}}(this),$.onload=function(e){return function(i){var o;if(t[0].status!==n.CANCELED&&4===$.readyState){if("arraybuffer"!==$.responseType&&"blob"!==$.responseType&&(M=$.responseText,$.getResponseHeader("content-type")&&~$.getResponseHeader("content-type").indexOf("application/json")))try{M=JSON.parse(M)}catch(t){i=t,M="Invalid JSON response from server."}return F(),200<=(o=$.status)&&o<300?e._finished(t,M,i):l()}}}(this),$.onerror=function(){return function(){if(t[0].status!==n.CANCELED)return l()}}(),w=null!=(k=$.upload)?k:$,w.onprogress=F,h={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"},this.options.headers&&o(h,this.options.headers);for(d in h)(c=h[d])&&$.setRequestHeader(d,c);if(s=new FormData,this.options.params){_=this.options.params;for(b in _)B=_[b],s.append(b,B)}for(v=0,C=t.length;v<C;v++)r=t[v],this.emit("sending",r,$,s);if(this.options.uploadMultiple&&this.emit("sendingmultiple",t,$,s),"FORM"===this.element.tagName)for(S=this.element.querySelectorAll("input, textarea, select, button"),T=0,y=S.length;T<y;T++)if(f=S[T],p=f.getAttribute("name"),m=f.getAttribute("type"),"SELECT"===f.tagName&&f.hasAttribute("multiple"))for(N=f.options,I=0,D=N.length;I<D;I++)x=N[I],x.selected&&s.append(p,x.value);else(!m||"checkbox"!==(K=m.toLowerCase())&&"radio"!==K||f.checked)&&s.append(p,f.value);for(e=0,L=[],u=R=0,A=t.length-1;0<=A?R<=A:R>=A;u=0<=A?++R:--R)i=function(i){return function(n,o,a){return function(n){if(s.append(o,n,a),++e===t.length)return i.submitRequest($,s,t)}}}(this),L.push(this.options.transformFile.call(this,t[u],i(t[u],this._getParamName(u),t[u].upload.filename)));return L},n.prototype.submitRequest=function(t,e){return t.send(e)},n.prototype._finished=function(t,e,i){var o,a,r;for(a=0,r=t.length;a<r;a++)o=t[a],o.status=n.SUCCESS,this.emit("success",o,e,i),this.emit("complete",o);if(this.options.uploadMultiple&&(this.emit("successmultiple",t,e,i),this.emit("completemultiple",t)),this.options.autoProcessQueue)return this.processQueue()},n.prototype._errorProcessing=function(t,e,i){var o,a,r;for(a=0,r=t.length;a<r;a++)o=t[a],o.status=n.ERROR,this.emit("error",o,e,i),this.emit("complete",o);if(this.options.uploadMultiple&&(this.emit("errormultiple",t,e,i),this.emit("completemultiple",t)),this.options.autoProcessQueue)return this.processQueue()},n}(e),t.version="5.1.1",t.options={},t.optionsForElement=function(e){return e.getAttribute("id")?t.options[n(e.getAttribute("id"))]:void 0},t.instances=[],t.forElement=function(t){if("string"==typeof t&&(t=document.querySelector(t)),null==(null!=t?t.dropzone:void 0))throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return t.dropzone},t.autoDiscover=!0,t.discover=function(){var e,i,n,o,a,r;for(document.querySelectorAll?n=document.querySelectorAll(".dropzone"):(n=[],e=function(t){var e,i,o,a;for(a=[],i=0,o=t.length;i<o;i++)e=t[i],/(^| )dropzone($| )/.test(e.className)?a.push(n.push(e)):a.push(void 0);return a},e(document.getElementsByTagName("div")),e(document.getElementsByTagName("form"))),r=[],o=0,a=n.length;o<a;o++)i=n[o],!1!==t.optionsForElement(i)?r.push(new t(i)):r.push(void 0);return r},t.blacklistedBrowsers=[/opera.*Macintosh.*version\/12/i],t.isBrowserSupported=function(){var e,i,n,o,a;if(e=!0,window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a"))for(o=t.blacklistedBrowsers,i=0,n=o.length;i<n;i++)a=o[i],a.test(navigator.userAgent)&&(e=!1);else e=!1;else e=!1;return e},t.dataURItoBlob=function(t){var e,i,n,o,a,r,s;for(i=atob(t.split(",")[1]),r=t.split(",")[0].split(":")[1].split(";")[0],e=new ArrayBuffer(i.length),o=new Uint8Array(e),n=a=0,s=i.length;0<=s?a<=s:a>=s;n=0<=s?++a:--a)o[n]=i.charCodeAt(n);return new Blob([e],{type:r})},l=function(t,e){var i,n,o,a;for(a=[],n=0,o=t.length;n<o;n++)(i=t[n])!==e&&a.push(i);return a},n=function(t){return t.replace(/[\-_](\w)/g,function(t){return t.charAt(1).toUpperCase()})},t.createElement=function(t){var e;return e=document.createElement("div"),e.innerHTML=t,e.childNodes[0]},t.elementInside=function(t,e){if(t===e)return!0;for(;t=t.parentNode;)if(t===e)return!0;return!1},t.getElement=function(t,e){var i;if("string"==typeof t?i=document.querySelector(t):null!=t.nodeType&&(i=t),null==i)throw new Error("Invalid `"+e+"` option provided. Please provide a CSS selector or a plain HTML element.");return i},t.getElements=function(t,e){var i,n,o,a,r,s,l;if(t instanceof Array){n=[];try{for(o=0,r=t.length;o<r;o++)i=t[o],n.push(this.getElement(i,e))}catch(t){t,n=null}}else if("string"==typeof t)for(n=[],l=document.querySelectorAll(t),a=0,s=l.length;a<s;a++)i=l[a],n.push(i);else null!=t.nodeType&&(n=[t]);if(null==n||!n.length)throw new Error("Invalid `"+e+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return n},t.confirm=function(t,e,i){return window.confirm(t)?e():null!=i?i():void 0},t.isValidFile=function(t,e){var i,n,o,a,r;if(!e)return!0;for(e=e.split(","),a=t.type,i=a.replace(/\/.*$/,""),n=0,o=e.length;n<o;n++)if(r=e[n],r=r.trim(),"."===r.charAt(0)){if(-1!==t.name.toLowerCase().indexOf(r.toLowerCase(),t.name.length-r.length))return!0}else if(/\/\*$/.test(r)){if(i===r.replace(/\/.*$/,""))return!0}else if(a===r)return!0;return!1},"undefined"!=typeof jQuery&&null!==jQuery&&(jQuery.fn.dropzone=function(e){return this.each(function(){return new t(this,e)})}),"undefined"!=typeof module&&null!==module?module.exports=t:window.Dropzone=t,t.ADDED="added",t.QUEUED="queued",t.ACCEPTED=t.QUEUED,t.UPLOADING="uploading",t.PROCESSING=t.UPLOADING,t.CANCELED="canceled",t.ERROR="error",t.SUCCESS="success",a=function(t){var e,i,n,o,a,r,s,l,d;for(t.naturalWidth,r=t.naturalHeight,i=document.createElement("canvas"),i.width=1,i.height=r,n=i.getContext("2d"),n.drawImage(t,0,0),o=n.getImageData(1,0,1,r).data,d=0,a=r,s=r;s>d;)e=o[4*(s-1)+3],0===e?a=s:d=s,s=a+d>>1;return l=s/r,0===l?1:l},r=function(t,e,i,n,o,r,s,l,d,c){var h;return h=a(e),t.drawImage(e,i,n,o,r,s,l,d,c/h)},i=function(){function t(){}return t.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",t.encode64=function(t){var e,i,n,o,a,r,s,l,d;for(d="",e=void 0,i=void 0,n="",o=void 0,a=void 0,r=void 0,s="",l=0;;)if(e=t[l++],i=t[l++],n=t[l++],o=e>>2,a=(3&e)<<4|i>>4,r=(15&i)<<2|n>>6,s=63&n,isNaN(i)?r=s=64:isNaN(n)&&(s=64),d=d+this.KEY_STR.charAt(o)+this.KEY_STR.charAt(a)+this.KEY_STR.charAt(r)+this.KEY_STR.charAt(s),e=i=n="",o=a=r=s="",!(l<t.length))break;return d},t.restore=function(t,e){var i,n,o;return t.match("data:image/jpeg;base64,")?(n=this.decode64(t.replace("data:image/jpeg;base64,","")),o=this.slice2Segments(n),i=this.exifManipulation(e,o),"data:image/jpeg;base64,"+this.encode64(i)):e},t.exifManipulation=function(t,e){var i,n;return i=this.getExifArray(e),n=this.insertExif(t,i),new Uint8Array(n)},t.getExifArray=function(t){var e,i;for(e=void 0,i=0;i<t.length;){if(e=t[i],255===e[0]&225===e[1])return e;i++}return[]},t.insertExif=function(t,e){var i,n,o,a,r,s;return a=t.replace("data:image/jpeg;base64,",""),o=this.decode64(a),s=o.indexOf(255,3),r=o.slice(0,s),n=o.slice(s),i=r,i=i.concat(e),i=i.concat(n)},t.slice2Segments=function(t){var e,i,n,o,a;for(i=0,a=[];;){if(255===t[i]&218===t[i+1])break;if(255===t[i]&216===t[i+1]?i+=2:(n=256*t[i+2]+t[i+3],e=i+n+2,o=t.slice(i,e),a.push(o),i=e),i>t.length)break}return a},t.decode64=function(t){var e,i,n,o,a,r,s,l,d,c;for("",n=void 0,o=void 0,a="",r=void 0,s=void 0,l=void 0,d="",c=0,i=[],e=/[^A-Za-z0-9\+\/\=]/g,e.exec(t)&&console.warning("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding."),t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");;)if(r=this.KEY_STR.indexOf(t.charAt(c++)),s=this.KEY_STR.indexOf(t.charAt(c++)),l=this.KEY_STR.indexOf(t.charAt(c++)),d=this.KEY_STR.indexOf(t.charAt(c++)),n=r<<2|s>>4,o=(15&s)<<4|l>>2,a=(3&l)<<6|d,i.push(n),64!==l&&i.push(o),64!==d&&i.push(a),n=o=a="",r=s=l=d="",!(c<t.length))break;return i},t}(),o=function(t,e){var i,n,o,a,r,s,l,d,c;if(o=!1,c=!0,n=t.document,d=n.documentElement,i=n.addEventListener?"addEventListener":"attachEvent",l=n.addEventListener?"removeEventListener":"detachEvent",s=n.addEventListener?"":"on",a=function(i){if("readystatechange"!==i.type||"complete"===n.readyState)return("load"===i.type?t:n)[l](s+i.type,a,!1),!o&&(o=!0)?e.call(t,i.type||i):void 0},r=function(){try{d.doScroll("left")}catch(t){return t,void setTimeout(r,50)}return a("poll")},"complete"!==n.readyState){if(n.createEventObject&&d.doScroll){try{c=!t.frameElement}catch(t){}c&&r()}return n[i](s+"DOMContentLoaded",a,!1),n[i](s+"readystatechange",a,!1),t[i](s+"load",a,!1)}},t._autoDiscoverFunction=function(){if(t.autoDiscover)return t.discover()},o(window,t._autoDiscoverFunction)}.call(this),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){t.extend(t.fn,{validate:function(e){if(!this.length)return void(e&&e.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var i=t.data(this[0],"validator");return i||(this.attr("novalidate","novalidate"),i=new t.validator(e,this[0]),t.data(this[0],"validator",i),i.settings.onsubmit&&(this.on("click.validate",":submit",function(e){i.settings.submitHandler&&(i.submitButton=e.target),t(this).hasClass("cancel")&&(i.cancelSubmit=!0),t(this).attr("formnovalidate")!==undefined&&(i.cancelSubmit=!0)}),this.on("submit.validate",function(e){function n(){var n,o;return!i.settings.submitHandler||(i.submitButton&&(n=t("<input type='hidden'/>").attr("name",i.submitButton.name).val(t(i.submitButton).val()).appendTo(i.currentForm)),o=i.settings.submitHandler.call(i,i.currentForm,e),i.submitButton&&n.remove(),o!==undefined&&o)}return i.settings.debug&&e.preventDefault(),i.cancelSubmit?(i.cancelSubmit=!1,n()):i.form()?i.pendingRequest?(i.formSubmitted=!0,!1):n():(i.focusInvalid(),!1)})),i)},valid:function(){var e,i,n;return t(this[0]).is("form")?e=this.validate().form():(n=[],e=!0,i=t(this[0].form).validate(),this.each(function(){(e=i.element(this)&&e)||(n=n.concat(i.errorList))}),i.errorList=n),e},rules:function(e,i){var n,o,a,r,s,l,d=this[0];if(null!=d&&null!=d.form){if(e)switch(n=t.data(d.form,"validator").settings,o=n.rules,a=t.validator.staticRules(d),e){case"add":t.extend(a,t.validator.normalizeRule(i)),delete a.messages,o[d.name]=a,i.messages&&(n.messages[d.name]=t.extend(n.messages[d.name],i.messages));break;case"remove":return i?(l={},t.each(i.split(/\s/),function(e,i){l[i]=a[i],delete a[i],"required"===i&&t(d).removeAttr("aria-required")}),l):(delete o[d.name],a)}return r=t.validator.normalizeRules(t.extend({},t.validator.classRules(d),t.validator.attributeRules(d),t.validator.dataRules(d),t.validator.staticRules(d)),d),r.required&&(s=r.required,delete r.required,r=t.extend({required:s},r),t(d).attr("aria-required","true")),r.remote&&(s=r.remote,delete r.remote,r=t.extend(r,{remote:s})),r}}}),t.extend(t.expr.pseudos||t.expr[":"],{blank:function(e){return!t.trim(""+t(e).val())},filled:function(e){var i=t(e).val();return null!==i&&!!t.trim(""+i)},unchecked:function(e){return!t(e).prop("checked")}}),t.validator=function(e,i){this.settings=t.extend(!0,{},t.validator.defaults,e),this.currentForm=i,this.init()},t.validator.format=function(e,i){return 1===arguments.length?function(){var i=t.makeArray(arguments);return i.unshift(e),t.validator.format.apply(this,i)}:i===undefined?e:(arguments.length>2&&i.constructor!==Array&&(i=t.makeArray(arguments).slice(1)),i.constructor!==Array&&(i=[i]),t.each(i,function(t,i){e=e.replace(new RegExp("\\{"+t+"\\}","g"),function(){return i})}),e)},t.extend(t.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:t([]),errorLabelContainer:t([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(t){this.lastActive=t,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,t,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(t)))},onfocusout:function(t){this.checkable(t)||!(t.name in this.submitted)&&this.optional(t)||this.element(t)},onkeyup:function(e,i){var n=[16,17,18,20,35,36,37,38,39,40,45,144,225];9===i.which&&""===this.elementValue(e)||-1!==t.inArray(i.keyCode,n)||(e.name in this.submitted||e.name in this.invalid)&&this.element(e)},onclick:function(t){t.name in this.submitted?this.element(t):t.parentNode.name in this.submitted&&this.element(t.parentNode)},highlight:function(e,i,n){"radio"===e.type?this.findByName(e.name).addClass(i).removeClass(n):t(e).addClass(i).removeClass(n)},unhighlight:function(e,i,n){"radio"===e.type?this.findByName(e.name).removeClass(i).addClass(n):t(e).removeClass(i).addClass(n)}},setDefaults:function(e){t.extend(t.validator.defaults,e)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:t.validator.format("Please enter no more than {0} characters."),minlength:t.validator.format("Please enter at least {0} characters."),rangelength:t.validator.format("Please enter a value between {0} and {1} characters long."),range:t.validator.format("Please enter a value between {0} and {1}."),max:t.validator.format("Please enter a value less than or equal to {0}."),min:t.validator.format("Please enter a value greater than or equal to {0}."),step:t.validator.format("Please enter a multiple of {0}.")},autoCreateRanges:!1,prototype:{init:function(){function e(e){!this.form&&this.hasAttribute("contenteditable")&&(this.form=t(this).closest("form")[0]);var i=t.data(this.form,"validator"),n="on"+e.type.replace(/^validate/,""),o=i.settings;o[n]&&!t(this).is(o.ignore)&&o[n].call(i,this,e)}this.labelContainer=t(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||t(this.currentForm),this.containers=t(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var i,n=this.groups={};t.each(this.settings.groups,function(e,i){"string"==typeof i&&(i=i.split(/\s/)),t.each(i,function(t,i){n[i]=e})}),i=this.settings.rules,t.each(i,function(e,n){i[e]=t.validator.normalizeRule(n)}),t(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable], [type='button']",e).on("click.validate","select, option, [type='radio'], [type='checkbox']",e),this.settings.invalidHandler&&t(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler),t(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),t.extend(this.submitted,this.errorMap),this.invalid=t.extend({},this.errorMap),this.valid()||t(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var t=0,e=this.currentElements=this.elements();e[t];t++)this.check(e[t]);return this.valid()},element:function(e){var i,n,o=this.clean(e),a=this.validationTargetFor(o),r=this,s=!0;return a===undefined?delete this.invalid[o.name]:(this.prepareElement(a),this.currentElements=t(a),n=this.groups[a.name],n&&t.each(this.groups,function(t,e){e===n&&t!==a.name&&(o=r.validationTargetFor(r.clean(r.findByName(t))))&&o.name in r.invalid&&(r.currentElements.push(o),s=r.check(o)&&s)}),i=!1!==this.check(a),s=s&&i,this.invalid[a.name]=!i,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),t(e).attr("aria-invalid",!i)),s},showErrors:function(e){if(e){var i=this;t.extend(this.errorMap,e),this.errorList=t.map(this.errorMap,function(t,e){return{message:t,element:i.findByName(e)[0]}}),this.successList=t.grep(this.successList,function(t){return!(t.name in e)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){t.fn.resetForm&&t(this.currentForm).resetForm(),this.invalid={},this.submitted={},this.prepareForm(),this.hideErrors();var e=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(e)},resetElements:function(t){var e;if(this.settings.unhighlight)for(e=0;t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,""),this.findByName(t[e].name).removeClass(this.settings.validClass);else t.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(t){var e,i=0;for(e in t)t[e]&&i++;return i},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(t){t.not(this.containers).text(""),this.addWrapper(t).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{t(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(t){}},findLastActive:function(){var e=this.lastActive;return e&&1===t.grep(this.errorList,function(t){
return t.element.name===e.name}).length&&e},elements:function(){var e=this,i={};return t(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){var n=this.name||t(this).attr("name");return!n&&e.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.hasAttribute("contenteditable")&&(this.form=t(this).closest("form")[0]),!(n in i||!e.objectLength(t(this).rules()))&&(i[n]=!0,!0)})},clean:function(e){return t(e)[0]},errors:function(){var e=this.settings.errorClass.split(" ").join(".");return t(this.settings.errorElement+"."+e,this.errorContext)},resetInternals:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=t([]),this.toHide=t([])},reset:function(){this.resetInternals(),this.currentElements=t([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(t){this.reset(),this.toHide=this.errorsFor(t)},elementValue:function(e){var i,n,o=t(e),a=e.type;return"radio"===a||"checkbox"===a?this.findByName(e.name).filter(":checked").val():"number"===a&&"undefined"!=typeof e.validity?e.validity.badInput?"NaN":o.val():(i=e.hasAttribute("contenteditable")?o.text():o.val(),"file"===a?"C:\\fakepath\\"===i.substr(0,12)?i.substr(12):(n=i.lastIndexOf("/"))>=0?i.substr(n+1):(n=i.lastIndexOf("\\"),n>=0?i.substr(n+1):i):"string"==typeof i?i.replace(/\r/g,""):i)},check:function(e){e=this.validationTargetFor(this.clean(e));var i,n,o,a=t(e).rules(),r=t.map(a,function(t,e){return e}).length,s=!1,l=this.elementValue(e);if("function"==typeof a.normalizer){if("string"!=typeof(l=a.normalizer.call(e,l)))throw new TypeError("The normalizer should return a string value.");delete a.normalizer}for(n in a){o={method:n,parameters:a[n]};try{if("dependency-mismatch"===(i=t.validator.methods[n].call(this,l,e,o.parameters))&&1===r){s=!0;continue}if(s=!1,"pending"===i)return void(this.toHide=this.toHide.not(this.errorsFor(e)));if(!i)return this.formatAndAdd(e,o),!1}catch(t){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+e.id+", check the '"+o.method+"' method.",t),t instanceof TypeError&&(t.message+=".  Exception occurred when checking element "+e.id+", check the '"+o.method+"' method."),t}}if(!s)return this.objectLength(a)&&this.successList.push(e),!0},customDataMessage:function(e,i){return t(e).data("msg"+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase())||t(e).data("msg")},customMessage:function(t,e){var i=this.settings.messages[t];return i&&(i.constructor===String?i:i[e])},findDefined:function(){for(var t=0;t<arguments.length;t++)if(arguments[t]!==undefined)return arguments[t];return undefined},defaultMessage:function(e,i){"string"==typeof i&&(i={method:i});var n=this.findDefined(this.customMessage(e.name,i.method),this.customDataMessage(e,i.method),!this.settings.ignoreTitle&&e.title||undefined,t.validator.messages[i.method],"<strong>Warning: No message defined for "+e.name+"</strong>"),o=/\$?\{(\d+)\}/g;return"function"==typeof n?n=n.call(this,i.parameters,e):o.test(n)&&(n=t.validator.format(n.replace(o,"{$1}"),i.parameters)),n},formatAndAdd:function(t,e){var i=this.defaultMessage(t,e);this.errorList.push({message:i,element:t,method:e.method}),this.errorMap[t.name]=i,this.submitted[t.name]=i},addWrapper:function(t){return this.settings.wrapper&&(t=t.add(t.parent(this.settings.wrapper))),t},defaultShowErrors:function(){var t,e,i;for(t=0;this.errorList[t];t++)i=this.errorList[t],this.settings.highlight&&this.settings.highlight.call(this,i.element,this.settings.errorClass,this.settings.validClass),this.showLabel(i.element,i.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(t=0;this.successList[t];t++)this.showLabel(this.successList[t]);if(this.settings.unhighlight)for(t=0,e=this.validElements();e[t];t++)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return t(this.errorList).map(function(){return this.element})},showLabel:function(e,i){var n,o,a,r,s=this.errorsFor(e),l=this.idOrName(e),d=t(e).attr("aria-describedby");s.length?(s.removeClass(this.settings.validClass).addClass(this.settings.errorClass),s.html(i)):(s=t("<"+this.settings.errorElement+">").attr("id",l+"-error").addClass(this.settings.errorClass).html(i||""),n=s,this.settings.wrapper&&(n=s.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(n):this.settings.errorPlacement?this.settings.errorPlacement.call(this,n,t(e)):n.insertAfter(e),s.is("label")?s.attr("for",l):0===s.parents("label[for='"+this.escapeCssMeta(l)+"']").length&&(a=s.attr("id"),d?d.match(new RegExp("\\b"+this.escapeCssMeta(a)+"\\b"))||(d+=" "+a):d=a,t(e).attr("aria-describedby",d),(o=this.groups[e.name])&&(r=this,t.each(r.groups,function(e,i){i===o&&t("[name='"+r.escapeCssMeta(e)+"']",r.currentForm).attr("aria-describedby",s.attr("id"))})))),!i&&this.settings.success&&(s.text(""),"string"==typeof this.settings.success?s.addClass(this.settings.success):this.settings.success(s,e)),this.toShow=this.toShow.add(s)},errorsFor:function(e){var i=this.escapeCssMeta(this.idOrName(e)),n=t(e).attr("aria-describedby"),o="label[for='"+i+"'], label[for='"+i+"'] *";return n&&(o=o+", #"+this.escapeCssMeta(n).replace(/\s+/g,", #")),this.errors().filter(o)},escapeCssMeta:function(t){return t.replace(/([\\!"#$%&'()*+,.\/:;<=>?@\[\]^`{|}~])/g,"\\$1")},idOrName:function(t){return this.groups[t.name]||(this.checkable(t)?t.name:t.id||t.name)},validationTargetFor:function(e){return this.checkable(e)&&(e=this.findByName(e.name)),t(e).not(this.settings.ignore)[0]},checkable:function(t){return/radio|checkbox/i.test(t.type)},findByName:function(e){return t(this.currentForm).find("[name='"+this.escapeCssMeta(e)+"']")},getLength:function(e,i){switch(i.nodeName.toLowerCase()){case"select":return t("option:selected",i).length;case"input":if(this.checkable(i))return this.findByName(i.name).filter(":checked").length}return e.length},depend:function(t,e){return!this.dependTypes[typeof t]||this.dependTypes[typeof t](t,e)},dependTypes:{"boolean":function(t){return t},string:function(e,i){return!!t(e,i.form).length},"function":function(t,e){return t(e)}},optional:function(e){var i=this.elementValue(e);return!t.validator.methods.required.call(this,i,e)&&"dependency-mismatch"},startRequest:function(e){this.pending[e.name]||(this.pendingRequest++,t(e).addClass(this.settings.pendingClass),this.pending[e.name]=!0)},stopRequest:function(e,i){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[e.name],t(e).removeClass(this.settings.pendingClass),i&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(t(this.currentForm).submit(),this.formSubmitted=!1):!i&&0===this.pendingRequest&&this.formSubmitted&&(t(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(e,i){return i="string"==typeof i&&i||"remote",t.data(e,"previousValue")||t.data(e,"previousValue",{old:null,valid:!0,message:this.defaultMessage(e,{method:i})})},destroy:function(){this.resetForm(),t(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(e,i){e.constructor===String?this.classRuleSettings[e]=i:t.extend(this.classRuleSettings,e)},classRules:function(e){var i={},n=t(e).attr("class");return n&&t.each(n.split(" "),function(){this in t.validator.classRuleSettings&&t.extend(i,t.validator.classRuleSettings[this])}),i},normalizeAttributeRule:function(t,e,i,n){/min|max|step/.test(i)&&(null===e||/number|range|text/.test(e))&&(n=Number(n),isNaN(n)&&(n=undefined)),n||0===n?t[i]=n:e===i&&"range"!==e&&(t[i]=!0)},attributeRules:function(e){var i,n,o={},a=t(e),r=e.getAttribute("type");for(i in t.validator.methods)"required"===i?(n=e.getAttribute(i),""===n&&(n=!0),n=!!n):n=a.attr(i),this.normalizeAttributeRule(o,r,i,n);return o.maxlength&&/-1|2147483647|524288/.test(o.maxlength)&&delete o.maxlength,o},dataRules:function(e){var i,n,o={},a=t(e),r=e.getAttribute("type");for(i in t.validator.methods)n=a.data("rule"+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase()),this.normalizeAttributeRule(o,r,i,n);return o},staticRules:function(e){var i={},n=t.data(e.form,"validator");return n.settings.rules&&(i=t.validator.normalizeRule(n.settings.rules[e.name])||{}),i},normalizeRules:function(e,i){return t.each(e,function(n,o){if(!1===o)return void delete e[n];if(o.param||o.depends){var a=!0;switch(typeof o.depends){case"string":a=!!t(o.depends,i.form).length;break;case"function":a=o.depends.call(i,i)}a?e[n]=o.param===undefined||o.param:(t.data(i.form,"validator").resetElements(t(i)),delete e[n])}}),t.each(e,function(n,o){e[n]=t.isFunction(o)&&"normalizer"!==n?o(i):o}),t.each(["minlength","maxlength"],function(){e[this]&&(e[this]=Number(e[this]))}),t.each(["rangelength","range"],function(){var i;e[this]&&(t.isArray(e[this])?e[this]=[Number(e[this][0]),Number(e[this][1])]:"string"==typeof e[this]&&(i=e[this].replace(/[\[\]]/g,"").split(/[\s,]+/),e[this]=[Number(i[0]),Number(i[1])]))}),t.validator.autoCreateRanges&&(null!=e.min&&null!=e.max&&(e.range=[e.min,e.max],delete e.min,delete e.max),null!=e.minlength&&null!=e.maxlength&&(e.rangelength=[e.minlength,e.maxlength],delete e.minlength,delete e.maxlength)),e},normalizeRule:function(e){if("string"==typeof e){var i={};t.each(e.split(/\s/),function(){i[this]=!0}),e=i}return e},addMethod:function(e,i,n){t.validator.methods[e]=i,t.validator.messages[e]=n!==undefined?n:t.validator.messages[e],i.length<3&&t.validator.addClassRules(e,t.validator.normalizeRule(e))},methods:{required:function(e,i,n){if(!this.depend(n,i))return"dependency-mismatch";if("select"===i.nodeName.toLowerCase()){var o=t(i).val();return o&&o.length>0}return this.checkable(i)?this.getLength(e,i)>0:e.length>0},email:function(t,e){return this.optional(e)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(t)},url:function(t,e){return this.optional(e)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[\/?#]\S*)?$/i.test(t)},date:function(t,e){return this.optional(e)||!/Invalid|NaN/.test(new Date(t).toString())},dateISO:function(t,e){return this.optional(e)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(t)},number:function(t,e){return this.optional(e)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(t)},digits:function(t,e){return this.optional(e)||/^\d+$/.test(t)},minlength:function(e,i,n){var o=t.isArray(e)?e.length:this.getLength(e,i);return this.optional(i)||o>=n},maxlength:function(e,i,n){var o=t.isArray(e)?e.length:this.getLength(e,i);return this.optional(i)||o<=n},rangelength:function(e,i,n){var o=t.isArray(e)?e.length:this.getLength(e,i);return this.optional(i)||o>=n[0]&&o<=n[1]},min:function(t,e,i){return this.optional(e)||t>=i},max:function(t,e,i){return this.optional(e)||t<=i},range:function(t,e,i){return this.optional(e)||t>=i[0]&&t<=i[1]},step:function(e,i,n){var o,a=t(i).attr("type"),r="Step attribute on input type "+a+" is not supported.",s=["text","number","range"],l=new RegExp("\\b"+a+"\\b"),d=a&&!l.test(s.join()),c=function(t){var e=(""+t).match(/(?:\.(\d+))?$/);return e&&e[1]?e[1].length:0},h=function(t){return Math.round(t*Math.pow(10,o))},u=!0;if(d)throw new Error(r);return o=c(n),(c(e)>o||h(e)%h(n)!=0)&&(u=!1),this.optional(i)||u},equalTo:function(e,i,n){var o=t(n);return this.settings.onfocusout&&o.not(".validate-equalTo-blur").length&&o.addClass("validate-equalTo-blur").on("blur.validate-equalTo",function(){t(i).valid()}),e===o.val()},remote:function(e,i,n,o){if(this.optional(i))return"dependency-mismatch";o="string"==typeof o&&o||"remote";var a,r,s,l=this.previousValue(i,o);return this.settings.messages[i.name]||(this.settings.messages[i.name]={}),l.originalMessage=l.originalMessage||this.settings.messages[i.name][o],this.settings.messages[i.name][o]=l.message,n="string"==typeof n&&{url:n}||n,s=t.param(t.extend({data:e},n.data)),l.old===s?l.valid:(l.old=s,a=this,this.startRequest(i),r={},r[i.name]=e,t.ajax(t.extend(!0,{mode:"abort",port:"validate"+i.name,dataType:"json",data:r,context:a.currentForm,success:function(t){var n,r,s,d=!0===t||"true"===t;a.settings.messages[i.name][o]=l.originalMessage,d?(s=a.formSubmitted,a.resetInternals(),a.toHide=a.errorsFor(i),a.formSubmitted=s,a.successList.push(i),a.invalid[i.name]=!1,a.showErrors()):(n={},r=t||a.defaultMessage(i,{method:o,parameters:e}),n[i.name]=l.message=r,a.invalid[i.name]=!0,a.showErrors(n)),l.valid=d,a.stopRequest(i,d)}},n)),"pending")}}});var e,i={};return t.ajaxPrefilter?t.ajaxPrefilter(function(t,e,n){var o=t.port;"abort"===t.mode&&(i[o]&&i[o].abort(),i[o]=n)}):(e=t.ajax,t.ajax=function(n){var o=("mode"in n?n:t.ajaxSettings).mode,a=("port"in n?n:t.ajaxSettings).port;return"abort"===o?(i[a]&&i[a].abort(),i[a]=e.apply(this,arguments),i[a]):e.apply(this,arguments)}),t}),function(t){"function"==typeof define&&define.amd?define(["jquery","./jquery.validate"],t):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){return function(){function e(t){return t.replace(/<.[^<>]*?>/g," ").replace(/&nbsp;|&#160;/gi," ").replace(/[.(),;:!?%#$'\"_+=\/\-\u201c\u201d\u2019]*/g,"")}t.validator.addMethod("maxWords",function(t,i,n){return this.optional(i)||e(t).match(/\b\w+\b/g).length<=n},t.validator.format("Please enter {0} words or less.")),t.validator.addMethod("minWords",function(t,i,n){return this.optional(i)||e(t).match(/\b\w+\b/g).length>=n},t.validator.format("Please enter at least {0} words.")),t.validator.addMethod("rangeWords",function(t,i,n){var o=e(t),a=/\b\w+\b/g;return this.optional(i)||o.match(a).length>=n[0]&&o.match(a).length<=n[1]},t.validator.format("Please enter between {0} and {1} words."))}(),t.validator.addMethod("accept",function(e,i,n){var o,a,r,s="string"==typeof n?n.replace(/\s/g,""):"image/*",l=this.optional(i);if(l)return l;if("file"===t(i).attr("type")&&(s=s.replace(/[\-\[\]\/\{\}\(\)\+\?\.\\\^\$\|]/g,"\\$&").replace(/,/g,"|").replace(/\/\*/g,"/.*"),i.files&&i.files.length))for(r=new RegExp(".?("+s+")$","i"),o=0;o<i.files.length;o++)if(a=i.files[o],!a.type.match(r))return!1;return!0},t.validator.format("Please enter a value with a valid mimetype.")),t.validator.addMethod("alphanumeric",function(t,e){return this.optional(e)||/^\w+$/i.test(t)},"Letters, numbers, and underscores only please"),t.validator.addMethod("bankaccountNL",function(t,e){if(this.optional(e))return!0;if(!/^[0-9]{9}|([0-9]{2} ){3}[0-9]{3}$/.test(t))return!1;var i,n,o,a=t.replace(/ /g,""),r=0,s=a.length;for(i=0;i<s;i++)n=s-i,o=a.substring(i,i+1),r+=n*o;return r%11==0},"Please specify a valid bank account number"),t.validator.addMethod("bankorgiroaccountNL",function(e,i){return this.optional(i)||t.validator.methods.bankaccountNL.call(this,e,i)||t.validator.methods.giroaccountNL.call(this,e,i)},"Please specify a valid bank or giro account number"),t.validator.addMethod("bic",function(t,e){return this.optional(e)||/^([A-Z]{6}[A-Z2-9][A-NP-Z1-9])(X{3}|[A-WY-Z0-9][A-Z0-9]{2})?$/.test(t.toUpperCase())},"Please specify a valid BIC code"),t.validator.addMethod("cifES",function(t){"use strict";function e(t){return t%2==0}var i,n,o,a,r=new RegExp(/^([ABCDEFGHJKLMNPQRSUVW])(\d{7})([0-9A-J])$/gi),s=t.substring(0,1),l=t.substring(1,8),d=t.substring(8,9),c=0,h=0,u=0;if(9!==t.length||!r.test(t))return!1;for(i=0;i<l.length;i++)n=parseInt(l[i],10),e(i)?(n*=2,u+=n<10?n:n-9):h+=n;return c=h+u,o=(10-c.toString().substr(-1)).toString(),o=parseInt(o,10)>9?"0":o,a="JABCDEFGHI".substr(o,1).toString(),s.match(/[ABEH]/)?d===o:s.match(/[KPQS]/)?d===a:d===o||d===a},"Please specify a valid CIF number."),t.validator.addMethod("cpfBR",function(t){if(t=t.replace(/([~!@#$%^&*()_+=`{}\[\]\-|\\:;'<>,.\/? ])+/g,""),11!==t.length)return!1;var e,i,n,o,a=0;if(e=parseInt(t.substring(9,10),10),i=parseInt(t.substring(10,11),10),n=function(t,e){var i=10*t%11;return 10!==i&&11!==i||(i=0),i===e},""===t||"00000000000"===t||"11111111111"===t||"22222222222"===t||"33333333333"===t||"44444444444"===t||"55555555555"===t||"66666666666"===t||"77777777777"===t||"88888888888"===t||"99999999999"===t)return!1;for(o=1;o<=9;o++)a+=parseInt(t.substring(o-1,o),10)*(11-o);if(n(a,e)){for(a=0,o=1;o<=10;o++)a+=parseInt(t.substring(o-1,o),10)*(12-o);return n(a,i)}return!1},"Please specify a valid CPF number"),t.validator.addMethod("creditcard",function(t,e){if(this.optional(e))return"dependency-mismatch";if(/[^0-9 \-]+/.test(t))return!1;var i,n,o=0,a=0,r=!1;if(t=t.replace(/\D/g,""),t.length<13||t.length>19)return!1;for(i=t.length-1;i>=0;i--)n=t.charAt(i),a=parseInt(n,10),r&&(a*=2)>9&&(a-=9),o+=a,r=!r;return o%10==0},"Please enter a valid credit card number."),t.validator.addMethod("creditcardtypes",function(t,e,i){if(/[^0-9\-]+/.test(t))return!1;t=t.replace(/\D/g,"");var n=0;return i.mastercard&&(n|=1),i.visa&&(n|=2),i.amex&&(n|=4),i.dinersclub&&(n|=8),i.enroute&&(n|=16),i.discover&&(n|=32),i.jcb&&(n|=64),i.unknown&&(n|=128),i.all&&(n=255),1&n&&/^(5[12345])/.test(t)?16===t.length:2&n&&/^(4)/.test(t)?16===t.length:4&n&&/^(3[47])/.test(t)?15===t.length:8&n&&/^(3(0[012345]|[68]))/.test(t)?14===t.length:16&n&&/^(2(014|149))/.test(t)?15===t.length:32&n&&/^(6011)/.test(t)?16===t.length:64&n&&/^(3)/.test(t)?16===t.length:64&n&&/^(2131|1800)/.test(t)?15===t.length:!!(128&n)},"Please enter a valid credit card number."),t.validator.addMethod("currency",function(t,e,i){var n,o="string"==typeof i,a=o?i:i[0],r=!!o||i[1];return a=a.replace(/,/g,""),a=r?a+"]":a+"]?",n="^["+a+"([1-9]{1}[0-9]{0,2}(\\,[0-9]{3})*(\\.[0-9]{0,2})?|[1-9]{1}[0-9]{0,}(\\.[0-9]{0,2})?|0(\\.[0-9]{0,2})?|(\\.[0-9]{1,2})?)$",n=new RegExp(n),this.optional(e)||n.test(t)},"Please specify a valid currency"),t.validator.addMethod("dateFA",function(t,e){return this.optional(e)||/^[1-4]\d{3}\/((0?[1-6]\/((3[0-1])|([1-2][0-9])|(0?[1-9])))|((1[0-2]|(0?[7-9]))\/(30|([1-2][0-9])|(0?[1-9]))))$/.test(t)},t.validator.messages.date),t.validator.addMethod("dateITA",function(t,e){var i,n,o,a,r,s=!1,l=/^\d{1,2}\/\d{1,2}\/\d{4}$/;return l.test(t)?(i=t.split("/"),n=parseInt(i[0],10),o=parseInt(i[1],10),a=parseInt(i[2],10),r=new Date(Date.UTC(a,o-1,n,12,0,0,0)),s=r.getUTCFullYear()===a&&r.getUTCMonth()===o-1&&r.getUTCDate()===n):s=!1,this.optional(e)||s},t.validator.messages.date),t.validator.addMethod("dateNL",function(t,e){return this.optional(e)||/^(0?[1-9]|[12]\d|3[01])[\.\/\-](0?[1-9]|1[012])[\.\/\-]([12]\d)?(\d\d)$/.test(t)},t.validator.messages.date),t.validator.addMethod("extension",function(t,e,i){return i="string"==typeof i?i.replace(/,/g,"|"):"png|jpe?g|gif",this.optional(e)||t.match(new RegExp("\\.("+i+")$","i"))},t.validator.format("Please enter a value with a valid extension.")),t.validator.addMethod("giroaccountNL",function(t,e){return this.optional(e)||/^[0-9]{1,7}$/.test(t)},"Please specify a valid giro account number"),t.validator.addMethod("iban",function(t,e){if(this.optional(e))return!0;var i,n,o,a,r,s,l,d,c,h=t.replace(/ /g,"").toUpperCase(),u="",f=!0,p="",m="";if(h.length<5)return!1;if(i=h.substring(0,2),s={AL:"\\d{8}[\\dA-Z]{16}",AD:"\\d{8}[\\dA-Z]{12}",AT:"\\d{16}",AZ:"[\\dA-Z]{4}\\d{20}",BE:"\\d{12}",BH:"[A-Z]{4}[\\dA-Z]{14}",BA:"\\d{16}",BR:"\\d{23}[A-Z][\\dA-Z]",BG:"[A-Z]{4}\\d{6}[\\dA-Z]{8}",CR:"\\d{17}",HR:"\\d{17}",CY:"\\d{8}[\\dA-Z]{16}",CZ:"\\d{20}",DK:"\\d{14}",DO:"[A-Z]{4}\\d{20}",EE:"\\d{16}",FO:"\\d{14}",FI:"\\d{14}",FR:"\\d{10}[\\dA-Z]{11}\\d{2}",GE:"[\\dA-Z]{2}\\d{16}",DE:"\\d{18}",GI:"[A-Z]{4}[\\dA-Z]{15}",GR:"\\d{7}[\\dA-Z]{16}",GL:"\\d{14}",GT:"[\\dA-Z]{4}[\\dA-Z]{20}",HU:"\\d{24}",IS:"\\d{22}",IE:"[\\dA-Z]{4}\\d{14}",IL:"\\d{19}",IT:"[A-Z]\\d{10}[\\dA-Z]{12}",KZ:"\\d{3}[\\dA-Z]{13}",KW:"[A-Z]{4}[\\dA-Z]{22}",LV:"[A-Z]{4}[\\dA-Z]{13}",LB:"\\d{4}[\\dA-Z]{20}",LI:"\\d{5}[\\dA-Z]{12}",LT:"\\d{16}",LU:"\\d{3}[\\dA-Z]{13}",MK:"\\d{3}[\\dA-Z]{10}\\d{2}",MT:"[A-Z]{4}\\d{5}[\\dA-Z]{18}",MR:"\\d{23}",MU:"[A-Z]{4}\\d{19}[A-Z]{3}",MC:"\\d{10}[\\dA-Z]{11}\\d{2}",MD:"[\\dA-Z]{2}\\d{18}",ME:"\\d{18}",NL:"[A-Z]{4}\\d{10}",NO:"\\d{11}",PK:"[\\dA-Z]{4}\\d{16}",PS:"[\\dA-Z]{4}\\d{21}",PL:"\\d{24}",PT:"\\d{21}",RO:"[A-Z]{4}[\\dA-Z]{16}",SM:"[A-Z]\\d{10}[\\dA-Z]{12}",SA:"\\d{2}[\\dA-Z]{18}",RS:"\\d{18}",SK:"\\d{20}",SI:"\\d{15}",ES:"\\d{20}",SE:"\\d{20}",CH:"\\d{5}[\\dA-Z]{12}",TN:"\\d{20}",TR:"\\d{5}[\\dA-Z]{17}",AE:"\\d{3}\\d{16}",GB:"[A-Z]{4}\\d{14}",VG:"[\\dA-Z]{4}\\d{16}"},void 0!==(r=s[i])&&(l=new RegExp("^[A-Z]{2}\\d{2}"+r+"$",""),!l.test(h)))return!1;for(n=h.substring(4,h.length)+h.substring(0,4),d=0;d<n.length;d++)o=n.charAt(d),"0"!==o&&(f=!1),f||(u+="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".indexOf(o));for(c=0;c<u.length;c++)a=u.charAt(c),m=""+p+a,p=m%97;return 1===p},"Please specify a valid IBAN"),t.validator.addMethod("integer",function(t,e){return this.optional(e)||/^-?\d+$/.test(t)},"A positive or negative non-decimal number please"),t.validator.addMethod("ipv4",function(t,e){return this.optional(e)||/^(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)$/i.test(t)},"Please enter a valid IP v4 address."),t.validator.addMethod("ipv6",function(t,e){return this.optional(e)||/^((([0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}:[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){5}:([0-9A-Fa-f]{1,4}:)?[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){4}:([0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){3}:([0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){2}:([0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(([0-9A-Fa-f]{1,4}:){0,5}:((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(::([0-9A-Fa-f]{1,4}:){0,5}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|([0-9A-Fa-f]{1,4}::([0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})|(::([0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){1,7}:))$/i.test(t)},"Please enter a valid IP v6 address."),t.validator.addMethod("lettersonly",function(t,e){return this.optional(e)||/^[a-z]+$/i.test(t)},"Letters only please"),t.validator.addMethod("letterswithbasicpunc",function(t,e){return this.optional(e)||/^[a-z\-.,()'"\s]+$/i.test(t)},"Letters or punctuation only please"),t.validator.addMethod("mobileNL",function(t,e){return this.optional(e)||/^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)6((\s|\s?\-\s?)?[0-9]){8}$/.test(t)},"Please specify a valid mobile number"),t.validator.addMethod("mobileUK",function(t,e){return t=t.replace(/\(|\)|\s+|-/g,""),this.optional(e)||t.length>9&&t.match(/^(?:(?:(?:00\s?|\+)44\s?|0)7(?:[1345789]\d{2}|624)\s?\d{3}\s?\d{3})$/)},"Please specify a valid mobile number"),t.validator.addMethod("nieES",function(t){"use strict";var e,i=new RegExp(/^[MXYZ]{1}[0-9]{7,8}[TRWAGMYFPDXBNJZSQVHLCKET]{1}$/gi),n="TRWAGMYFPDXBNJZSQVHLCKET",o=t.substr(t.length-1).toUpperCase();return t=t.toString().toUpperCase(),!(t.length>10||t.length<9||!i.test(t))&&(t=t.replace(/^[X]/,"0").replace(/^[Y]/,"1").replace(/^[Z]/,"2"),e=9===t.length?t.substr(0,8):t.substr(0,9),n.charAt(parseInt(e,10)%23)===o)},"Please specify a valid NIE number."),t.validator.addMethod("nifES",function(t){"use strict";return t=t.toUpperCase(),!!t.match("((^[A-Z]{1}[0-9]{7}[A-Z0-9]{1}$|^[T]{1}[A-Z0-9]{8}$)|^[0-9]{8}[A-Z]{1}$)")&&(/^[0-9]{8}[A-Z]{1}$/.test(t)?"TRWAGMYFPDXBNJZSQVHLCKE".charAt(t.substring(8,0)%23)===t.charAt(8):!!/^[KLM]{1}/.test(t)&&t[8]===String.fromCharCode(64))},"Please specify a valid NIF number."),t.validator.addMethod("notEqualTo",function(e,i,n){return this.optional(i)||!t.validator.methods.equalTo.call(this,e,i,n)},"Please enter a different value, values must not be the same."),t.validator.addMethod("nowhitespace",function(t,e){return this.optional(e)||/^\S+$/i.test(t)},"No white space please"),t.validator.addMethod("pattern",function(t,e,i){return!!this.optional(e)||("string"==typeof i&&(i=new RegExp("^(?:"+i+")$")),i.test(t))},"Invalid format."),t.validator.addMethod("phoneNL",function(t,e){return this.optional(e)||/^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)[1-9]((\s|\s?\-\s?)?[0-9]){8}$/.test(t)},"Please specify a valid phone number."),t.validator.addMethod("phonesUK",function(t,e){return t=t.replace(/\(|\)|\s+|-/g,""),this.optional(e)||t.length>9&&t.match(/^(?:(?:(?:00\s?|\+)44\s?|0)(?:1\d{8,9}|[23]\d{9}|7(?:[1345789]\d{8}|624\d{6})))$/)},"Please specify a valid uk phone number"),t.validator.addMethod("phoneUK",function(t,e){return t=t.replace(/\(|\)|\s+|-/g,""),this.optional(e)||t.length>9&&t.match(/^(?:(?:(?:00\s?|\+)44\s?)|(?:\(?0))(?:\d{2}\)?\s?\d{4}\s?\d{4}|\d{3}\)?\s?\d{3}\s?\d{3,4}|\d{4}\)?\s?(?:\d{5}|\d{3}\s?\d{3})|\d{5}\)?\s?\d{4,5})$/)},"Please specify a valid phone number"),t.validator.addMethod("phoneUS",function(t,e){return t=t.replace(/\s+/g,""),this.optional(e)||t.length>9&&t.match(/^(\+?1-?)?(\([2-9]([02-9]\d|1[02-9])\)|[2-9]([02-9]\d|1[02-9]))-?[2-9]([02-9]\d|1[02-9])-?\d{4}$/)},"Please specify a valid phone number"),t.validator.addMethod("postalcodeBR",function(t,e){return this.optional(e)||/^\d{2}.\d{3}-\d{3}?$|^\d{5}-?\d{3}?$/.test(t)},"Informe um CEP v\xe1lido."),t.validator.addMethod("postalCodeCA",function(t,e){return this.optional(e)||/^[ABCEGHJKLMNPRSTVXY]\d[ABCEGHJKLMNPRSTVWXYZ] *\d[ABCEGHJKLMNPRSTVWXYZ]\d$/i.test(t)},"Please specify a valid postal code"),t.validator.addMethod("postalcodeIT",function(t,e){return this.optional(e)||/^\d{5}$/.test(t)},"Please specify a valid postal code"),t.validator.addMethod("postalcodeNL",function(t,e){return this.optional(e)||/^[1-9][0-9]{3}\s?[a-zA-Z]{2}$/.test(t)},"Please specify a valid postal code"),t.validator.addMethod("postcodeUK",function(t,e){return this.optional(e)||/^((([A-PR-UWYZ][0-9])|([A-PR-UWYZ][0-9][0-9])|([A-PR-UWYZ][A-HK-Y][0-9])|([A-PR-UWYZ][A-HK-Y][0-9][0-9])|([A-PR-UWYZ][0-9][A-HJKSTUW])|([A-PR-UWYZ][A-HK-Y][0-9][ABEHMNPRVWXY]))\s?([0-9][ABD-HJLNP-UW-Z]{2})|(GIR)\s?(0AA))$/i.test(t)},"Please specify a valid UK postcode"),t.validator.addMethod("require_from_group",function(e,i,n){var o=t(n[1],i.form),a=o.eq(0),r=a.data("valid_req_grp")?a.data("valid_req_grp"):t.extend({},this),s=o.filter(function(){return r.elementValue(this)}).length>=n[0];return a.data("valid_req_grp",r),t(i).data("being_validated")||(o.data("being_validated",!0),o.each(function(){r.element(this)}),o.data("being_validated",!1)),s},t.validator.format("Please fill at least {0} of these fields.")),t.validator.addMethod("skip_or_fill_minimum",function(e,i,n){var o=t(n[1],i.form),a=o.eq(0),r=a.data("valid_skip")?a.data("valid_skip"):t.extend({},this),s=o.filter(function(){return r.elementValue(this)}).length,l=0===s||s>=n[0];return a.data("valid_skip",r),t(i).data("being_validated")||(o.data("being_validated",!0),o.each(function(){r.element(this)}),o.data("being_validated",!1)),l},t.validator.format("Please either skip these fields or fill at least {0} of them.")),t.validator.addMethod("stateUS",function(t,e,i){var n,o=void 0===i,a=!o&&"undefined"!=typeof i.caseSensitive&&i.caseSensitive,r=!o&&"undefined"!=typeof i.includeTerritories&&i.includeTerritories,s=!o&&"undefined"!=typeof i.includeMilitary&&i.includeMilitary;return n=r||s?r&&s?"^(A[AEKLPRSZ]|C[AOT]|D[CE]|FL|G[AU]|HI|I[ADLN]|K[SY]|LA|M[ADEINOPST]|N[CDEHJMVY]|O[HKR]|P[AR]|RI|S[CD]|T[NX]|UT|V[AIT]|W[AIVY])$":r?"^(A[KLRSZ]|C[AOT]|D[CE]|FL|G[AU]|HI|I[ADLN]|K[SY]|LA|M[ADEINOPST]|N[CDEHJMVY]|O[HKR]|P[AR]|RI|S[CD]|T[NX]|UT|V[AIT]|W[AIVY])$":"^(A[AEKLPRZ]|C[AOT]|D[CE]|FL|GA|HI|I[ADLN]|K[SY]|LA|M[ADEINOST]|N[CDEHJMVY]|O[HKR]|PA|RI|S[CD]|T[NX]|UT|V[AT]|W[AIVY])$":"^(A[KLRZ]|C[AOT]|D[CE]|FL|GA|HI|I[ADLN]|K[SY]|LA|M[ADEINOST]|N[CDEHJMVY]|O[HKR]|PA|RI|S[CD]|T[NX]|UT|V[AT]|W[AIVY])$",n=a?new RegExp(n):new RegExp(n,"i"),this.optional(e)||n.test(t)},"Please specify a valid state"),t.validator.addMethod("strippedminlength",function(e,i,n){return t(e).text().length>=n},t.validator.format("Please enter at least {0} characters")),t.validator.addMethod("time",function(t,e){return this.optional(e)||/^([01]\d|2[0-3]|[0-9])(:[0-5]\d){1,2}$/.test(t)},"Please enter a valid time, between 00:00 and 23:59"),t.validator.addMethod("time12h",function(t,e){return this.optional(e)||/^((0?[1-9]|1[012])(:[0-5]\d){1,2}(\ ?[AP]M))$/i.test(t)},"Please enter a valid time in 12-hour am/pm format"),t.validator.addMethod("url2",function(t,e){return this.optional(e)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)*(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(t)},t.validator.messages.url),t.validator.addMethod("vinUS",function(t){if(17!==t.length)return!1;var e,i,n,o,a,r,s=["A","B","C","D","E","F","G","H","J","K","L","M","N","P","R","S","T","U","V","W","X","Y","Z"],l=[1,2,3,4,5,6,7,8,1,2,3,4,5,7,9,2,3,4,5,6,7,8,9],d=[8,7,6,5,4,3,2,10,0,9,8,7,6,5,4,3,2],c=0;for(e=0;e<17;e++){if(o=d[e],n=t.slice(e,e+1),8===e&&(r=n),isNaN(n)){for(i=0;i<s.length;i++)if(n.toUpperCase()===s[i]){n=l[i],n*=o,isNaN(r)&&8===i&&(r=s[i]);break}}else n*=o;c+=n}return a=c%11,10===a&&(a="X"),a===r},"The specified vehicle identification number (VIN) is invalid."),t.validator.addMethod("zipcodeUS",function(t,e){return this.optional(e)||/^\d{5}(-\d{4})?$/.test(t)},"The specified US ZIP Code is invalid"),t.validator.addMethod("ziprange",function(t,e){return this.optional(e)||/^90[2-5]\d\{2\}-\d{4}$/.test(t)},"Your ZIP-code must be in the range 902xx-xxxx to 905xx-xxxx"),t}),function(){var t,e,i,n;i=function(){return $(document).on("click",".btn-toolbar .btn-group button",function(){var t,i,n,o,a;if(t=this.classList,n=/md_/,i=$.grep(t,function(t){return n.test(t)}),0!==i.length)return i=i[0].toString(),
o="md_h1"===i?"# Your Title here":"md_h2"===i?"## Your Title here":"md_h3"===i?"### Your Title here":"md_h4"===i?"#### Your Title here":"md_h5"===i?"##### Your Title here":"md_italic"===i?"_Your italic text here_":"md_bold"===i?"__Your bold text here__":"md_text_specific_color"===i?"<span class='text-special-color'>Your text with special color here</span>":"md_list-ul"===i?"\n\n* Item 1\n* Item 2\n* Item 3 \n\n<br>":"md_list-ol"===i?"\n\n1. Item 1\n2. Item 2\n3. Item 3 \n\n<br> ":"md_indent"===i?">Your indented text here":"md_underline"===i?"<u>Your undelined text here </u>":"md_table"===i?"\n|Header|Header|Header|\n|:------|:-------:|------:|\n|Left alignment|Centered|Right alignment|\n\n<br>":"md_minus"===i?"\n<hr>\n":"md_square"===i?"\n\t Lorem ipsum dolor sit amet, consectetur adipiscing elit. Etiam ut aliquet velit. Nam fermentum, mi quis egestas ornare, massa velit pharetra ante, sed pellentesque tortor nisl non quam. Nunc eget egestas orci.\n\n<br> ":"md_terminal"===i?"<div class='terminal-block'> \n\t<div class='terminal-block-head'>Terminal</div> \n\t<div class='terminal-block-body'> \n\t\t<div class='terminal-code-line'> \n\t\t\t<span class='terminal-path'>Your path here </span><span class='terminal-command'>$ Your command</span> \n\t\t</div> \n\t</div> \n</div>\n":"md_link"===i?"\n[This is a link](http://google.com)\n":"md_camera-retro"===i?"\n![Alt](https://www.google.com.co/images/srpr/logo11w.png)\n":"md_external_link_block"===i?"<div class='external-link-block'> \n\t<h5>Further reading</h5> \n\t<ul> \n\t\t<li><a target='_blank' href='Your link here'>Text to display</a></li> \n\t</ul> \n</div>":"md_notice_block"===i?"<div class='notice-block'> \n\t<i class='fa fa-exclamation-circle fa-5x notice-icon'></i> \n\t<div class='notice-text-wrapper'> \n\t\t<p class='notice-text'>Your notice texts here. To add another paragraph, simply copy and paster this line with 'p' and '/p' tag.</p> \n\t</div> \n</div>":void 0,a=$(this).parents(".md-editor").find("#md-text textarea"),e(a.attr("id"),o)})},n=function(t){var e,i;return i=$(t).parents(".md-editor"),e=i.find("#md-text"),e.prop("hidden")?($(t).text("Preview"),e.removeAttr("hidden"),i.find(".preview-panel").attr("hidden","true"),!1):$.post("/md_simple_editor/preview",{md:i.find("#md-text textarea").val()},function(n){return $(t).text("Editor"),e.attr("hidden","true"),i.find(".preview-panel").removeAttr("hidden"),i.find("#md-preview").html(n)})},e=function(t,e){var i,n,o,a,r,s,l;return l=document.getElementById(t),r=l.scrollTop,s=0,n=l.selectionStart||"0"===l.selectionStart?"ff":!!document.selection&&"ie","ie"===n?(l.focus(),a=document.selection.createRange(),a.moveStart("character",-l.value.length),s=a.text.length):"ff"===n&&(s=l.selectionStart),o=l.value.substring(0,s),i=l.value.substring(s,l.value.length),l.value=o+e+i,s+=e.length,"ie"===n?(l.focus(),a=document.selection.createRange(),a.moveStart("character",-l.value.length),a.moveStart("character",s),a.moveEnd("character",0),a.select()):"ff"===n&&(l.selectionStart=s,l.selectionEnd=s,l.focus()),l.scrollTop=r},t=function(){return i(),$(document).off("turbolinks:load page:load ready",t),$(document).on("click",".previw_md",function(){}),$(".preview_md").click(function(t){return n(t.target)})},$(document).on("turbolinks:load page:load ready",t)}.call(this),$(document).on("click","a[data-remote][data-pushstate]",function(){var t;return t=this.href,history.pushState(null,"",t)}),$(window).on("popstate",function(){window.location=document.location.href}),$(document).ready(function(){$.each($(".unit-content img"),function(t,e){var i=$(e).attr("src"),n=/\/uploads\/image\/file\/\d+\/(.*\.gif)/.exec(i);if(n){var o=n[1],a=$(e).width(),r=$(e).height();if(a>0&&r>0)var s="width: "+a+"px;height:"+r+"px;display: inline-block;";else s="";$(e).attr("src",i.replace(o,"gif_preview_"+o)),$(this).replaceWith("<span class='gif_preview' style='"+s+"'>"+$(this).prop("outerHTML")+"</span>")}}),$(document).on("click","span.gif_preview",function(){var t=$(this).find("img"),e=t.attr("src");t.attr("src",e.replace("gif_preview_","")),$(this).removeClass("gif_preview")})}),$(function(){$("body").tooltip({selector:'[data-toggle="tooltip"]'}),$(document).on("click",".atwho-inserted .mentioned_name",function(){location="/user/abouts/"+$(this).data("mentioned-id")}),$('[type="submit"]').click(function(){window.onbeforeunload=function(){return null}})}),$(document).on("click",".sidebar-item-wrapper .section-link.folder, .sidebar-item-wrapper i.fa-chevron-right, .sidebar-item-wrapper .lesson-link.folder",function(t){t.preventDefault(),$(this).toggleClass("active"),toggleChevronRight($(this).closest(".sidebar-item-wrapper"))}),$(document).ready(function(){$(document).on("click","#sidebar a[disabled=disabled]",function(t){t.preventDefault()})}),function(){var t;window.AmCharts?t=window.AmCharts:(t={},window.AmCharts=t,t.themes={},t.maps={},t.inheriting={},t.charts=[],t.onReadyArray=[],t.useUTC=!1,t.updateRate=60,t.uid=0,t.lang={},t.translations={},t.mapTranslations={},t.windows={},t.initHandlers=[],t.amString="am",t.pmString="pm"),t.Class=function(e){var i=function(){arguments[0]!==t.inheriting&&(this.events={},this.construct.apply(this,arguments))};e.inherits?(i.prototype=new e.inherits(t.inheriting),i.base=e.inherits.prototype,delete e.inherits):(i.prototype.createEvents=function(){for(var t=0;t<arguments.length;t++)this.events[arguments[t]]=[]},i.prototype.listenTo=function(t,e,i){this.removeListener(t,e,i),t.events[e].push({handler:i,scope:this})},i.prototype.addListener=function(t,e,i){this.removeListener(this,t,e),t&&this.events[t]&&this.events[t].push({handler:e,scope:i})},i.prototype.removeListener=function(t,e,i){if(t&&t.events&&(t=t.events[e]))for(e=t.length-1;0<=e;e--)t[e].handler===i&&t.splice(e,1)},i.prototype.fire=function(t){for(var e=this.events[t.type],i=0;i<e.length;i++){var n=e[i];n.handler.call(n.scope,t)}});for(var n in e)i.prototype[n]=e[n];return i},t.addChart=function(e){window.requestAnimationFrame?t.animationRequested||(t.animationRequested=!0,window.requestAnimationFrame(t.update)):t.updateInt||(t.updateInt=setInterval(function(){t.update()},Math.round(1e3/t.updateRate))),t.charts.push(e)},t.removeChart=function(e){for(var i=t.charts,n=i.length-1;0<=n;n--)i[n]==e&&i.splice(n,1);0===i.length&&(t.requestAnimation&&(window.cancelAnimationFrame(t.requestAnimation),t.animationRequested=!1),t.updateInt&&(clearInterval(t.updateInt),t.updateInt=NaN))},t.isModern=!0,t.getIEVersion=function(){var t,e,i=0;return"Microsoft Internet Explorer"==navigator.appName&&(t=navigator.userAgent,e=/MSIE ([0-9]{1,}[.0-9]{0,})/,null!==e.exec(t)&&(i=parseFloat(RegExp.$1))),i},t.applyLang=function(e,i){var n=t.translations;i.dayNames=t.extend({},t.dayNames),i.shortDayNames=t.extend({},t.shortDayNames),i.monthNames=t.extend({},t.monthNames),i.shortMonthNames=t.extend({},t.shortMonthNames),i.amString="am",i.pmString="pm",n&&(n=n[e])&&(t.lang=n,i.langObj=n,n.monthNames&&(i.dayNames=t.extend({},n.dayNames),i.shortDayNames=t.extend({},n.shortDayNames),i.monthNames=t.extend({},n.monthNames),i.shortMonthNames=t.extend({},n.shortMonthNames)),n.am&&(i.amString=n.am),n.pm&&(i.pmString=n.pm)),t.amString=i.amString,t.pmString=i.pmString},t.IEversion=t.getIEVersion(),9>t.IEversion&&0<t.IEversion&&(t.isModern=!1,t.isIE=!0),t.dx=0,t.dy=0,(document.addEventListener||window.opera)&&(t.isNN=!0,t.isIE=!1,t.dx=.5,t.dy=.5),document.attachEvent&&(t.isNN=!1,t.isIE=!0,t.isModern||(t.dx=0,t.dy=0)),window.chrome&&(t.chrome=!0),t.handleMouseUp=function(e){for(var i=t.charts,n=0;n<i.length;n++){var o=i[n];o&&o.handleReleaseOutside&&o.handleReleaseOutside(e)}},t.handleMouseMove=function(e){for(var i=t.charts,n=0;n<i.length;n++){var o=i[n];o&&o.handleMouseMove&&o.handleMouseMove(e)}},t.handleWheel=function(e){for(var i=t.charts,n=0;n<i.length;n++){var o=i[n];if(o&&o.mouseIsOver){(o.mouseWheelScrollEnabled||o.mouseWheelZoomEnabled)&&o.handleWheel&&o.handleWheel(e);break}}},t.resetMouseOver=function(){for(var e=t.charts,i=0;i<e.length;i++){var n=e[i];n&&(n.mouseIsOver=!1)}},t.ready=function(e){t.onReadyArray.push(e)},t.handleLoad=function(){t.isReady=!0;for(var e=t.onReadyArray,i=0;i<e.length;i++){var n=e[i];isNaN(t.processDelay)?n():setTimeout(n,t.processDelay*i)}t.onReadyArray=[]},t.addInitHandler=function(e,i){t.initHandlers.push({method:e,types:i})},t.callInitHandler=function(e){var i=t.initHandlers;if(t.initHandlers)for(var n=0;n<i.length;n++){var o=i[n];o.types?t.isInArray(o.types,e.type)&&o.method(e):o.method(e)}},t.getUniqueId=function(){return"AmChartsEl-"+ ++t.uid},t.isNN&&(document.addEventListener("mousemove",t.handleMouseMove),document.addEventListener("mouseup",t.handleMouseUp,!0),window.addEventListener("load",t.handleLoad,!0)),t.isIE&&(document.attachEvent("onmousemove",t.handleMouseMove),document.attachEvent("onmouseup",t.handleMouseUp),window.attachEvent("onload",t.handleLoad)),t.addWheelListeners=function(){t.wheelIsListened||(t.isNN&&(window.addEventListener("DOMMouseScroll",t.handleWheel,!0),document.addEventListener("mousewheel",t.handleWheel,!0)),t.isIE&&document.attachEvent("onmousewheel",t.handleWheel)),t.wheelIsListened=!0},t.clear=function(){var e=t.charts;if(e)for(var i=e.length-1;0<=i;i--)e[i].clear();t.updateInt&&clearInterval(t.updateInt),t.requestAnimation&&window.cancelAnimationFrame(t.requestAnimation),t.charts=[],t.isNN&&(document.removeEventListener("mousemove",t.handleMouseMove,!0),document.removeEventListener("mouseup",t.handleMouseUp,!0),window.removeEventListener("load",t.handleLoad,!0),window.removeEventListener("DOMMouseScroll",t.handleWheel,!0),document.removeEventListener("mousewheel",t.handleWheel,!0)),t.isIE&&(document.detachEvent("onmousemove",t.handleMouseMove),document.detachEvent("onmouseup",t.handleMouseUp),window.detachEvent("onload",t.handleLoad))},t.makeChart=function(e,i,n){var o=i.type,a=i.theme;t.isString(a)&&(a=t.themes[a],i.theme=a);var r;switch(o){case"serial":r=new t.AmSerialChart(a);break;case"xy":r=new t.AmXYChart(a);break;case"pie":r=new t.AmPieChart(a);break;case"radar":r=new t.AmRadarChart(a);break;case"gauge":r=new t.AmAngularGauge(a);break;case"funnel":r=new t.AmFunnelChart(a);break;case"map":r=new t.AmMap(a);break;case"stock":r=new t.AmStockChart(a);break;case"gantt":r=new t.AmGanttChart(a)}return t.extend(r,i),t.isReady?isNaN(n)?r.write(e):setTimeout(function(){t.realWrite(r,e)},n):t.ready(function(){isNaN(n)?r.write(e):setTimeout(function(){t.realWrite(r,e)},n)}),r},t.realWrite=function(t,e){t.write(e)},t.updateCount=0,t.validateAt=Math.round(t.updateRate/10),t.update=function(){var e=t.charts;t.updateCount++;var i=!1;if(t.updateCount==t.validateAt&&(i=!0,t.updateCount=0),e)for(var n=e.length-1;0<=n;n--)e[n].update&&e[n].update(),i&&(e[n].autoResize?e[n].validateSize&&e[n].validateSize():e[n].premeasure&&e[n].premeasure());window.requestAnimationFrame&&(t.requestAnimation=window.requestAnimationFrame(t.update))},"complete"==document.readyState&&t.handleLoad()}(),function(){var t=window.AmCharts;t.toBoolean=function(t,e){if(void 0===t)return e;switch(String(t).toLowerCase()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case null:return!1;default:return!!t}},t.removeFromArray=function(t,e){var i;if(void 0!==e&&void 0!==t)for(i=t.length-1;0<=i;i--)t[i]==e&&t.splice(i,1)},t.getPath=function(){var t=document.getElementsByTagName("script");if(t)for(var e=0;e<t.length;e++){var i=t[e].src;if(-1!==i.search(/\/(amcharts|ammap)\.js/))return i.replace(/\/(amcharts|ammap)\.js.*/,"/")}},t.normalizeUrl=function(t){return""!==t&&-1===t.search(/\/$/)?t+"/":t},t.isAbsolute=function(t){return 0===t.search(/^http[s]?:|^\//)},t.isInArray=function(t,e){for(var i=0;i<t.length;i++)if(t[i]==e)return!0;return!1},t.getDecimals=function(t){var e=0;return isNaN(t)||(t=String(t),-1!=t.indexOf("e-")?e=Number(t.split("-")[1]):-1!=t.indexOf(".")&&(e=t.split(".")[1].length)),e},t.wordwrap=function(e,i,n,o){var a,r,s,l;if(e+="",1>i)return e;for(a=-1,e=(l=e.split(/\r\n|\n|\r/)).length;++a<e;l[a]+=s){for(s=l[a],l[a]="";s.length>i;l[a]+=t.trim(s.slice(0,r))+((s=s.slice(r)).length?n:""))r=2==o||(r=s.slice(0,i+1).match(/\S*(\s)?$/))[1]?i:r.input.length-r[0].length||1==o&&i||r.input.length+(r=s.slice(i).match(/^\S*/))[0].length;s=t.trim(s)}return l.join(n)},t.trim=function(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},t.wrappedText=function(e,i,n,o,a,r,s,l){var d=t.text(e,i,n,o,a,r,s);if(d){var c=d.getBBox();if(c.width>l){var h="\n";t.isModern||(h="<br>"),l=Math.floor(l/(c.width/i.length)),2<l&&(l-=2),i=t.wordwrap(i,l,h,!0),d.remove(),d=t.text(e,i,n,o,a,r,s)}}return d},t.getStyle=function(t,e){var i="";if(document.defaultView&&document.defaultView.getComputedStyle)try{i=document.defaultView.getComputedStyle(t,"").getPropertyValue(e)}catch(t){}else t.currentStyle&&(e=e.replace(/\-(\w)/g,function(t,e){return e.toUpperCase()}),i=t.currentStyle[e]);return i},t.removePx=function(t){if(void 0!==t)return Number(t.substring(0,t.length-2))},t.getURL=function(e,i){if(e)if("_self"!=i&&i)if("_top"==i&&window.top)window.top.location.href=e;else if("_parent"==i&&window.parent)window.parent.location.href=e;else if("_blank"==i)window.open(e);else{var n=document.getElementsByName(i)[0];n?n.src=e:(n=t.windows[i])&&n.opener&&!n.opener.closed?n.location.href=e:t.windows[i]=window.open(e)}else window.location.href=e},t.ifArray=function(t){return!!(t&&"object"==typeof t&&0<t.length)},t.callMethod=function(t,e){var i;for(i=0;i<e.length;i++){var n=e[i];if(n){n[t]&&n[t]();var o=n.length;if(0<o){var a;for(a=0;a<o;a++){var r=n[a];r&&r[t]&&r[t]()}}}}},t.toNumber=function(t){return"number"==typeof t?t:Number(String(t).replace(/[^0-9\-.]+/g,""))},t.toColor=function(t){if(""!==t&&void 0!==t)if(-1!=t.indexOf(",")){t=t.split(",");var e;for(e=0;e<t.length;e++){var i=t[e].substring(t[e].length-6,t[e].length);t[e]="#"+i}}else t=t.substring(t.length-6,t.length),t="#"+t;return t},t.toCoordinate=function(t,e,i){var n;return void 0!==t&&(t=String(t),i&&i<e&&(e=i),n=Number(t),-1!=t.indexOf("!")&&(n=e-Number(t.substr(1))),-1!=t.indexOf("%")&&(n=e*Number(t.substr(0,t.length-1))/100)),n},t.fitToBounds=function(t,e,i){return t<e&&(t=e),t>i&&(t=i),t},t.isDefined=function(t){return void 0!==t},t.stripNumbers=function(t){return t.replace(/[0-9]+/g,"")},t.roundTo=function(t,e){if(0>e)return t;var i=Math.pow(10,e);return Math.round(t*i)/i},t.toFixed=function(t,e){var i=!1;0>t&&(i=!0,t=Math.abs(t));var n=String(Math.round(t*Math.pow(10,e)));if(0<e){var o=n.length;if(o<e){var a;for(a=0;a<e-o;a++)n="0"+n}return o=n.substring(0,n.length-e),""===o&&(o=0),n=o+"."+n.substring(n.length-e,n.length),i?"-"+n:n}return String(n)},t.formatDuration=function(e,i,n,o,a,r){var s=t.intervals,l=r.decimalSeparator;if(e>=s[i].contains){var d=e-Math.floor(e/s[i].contains)*s[i].contains;return"ss"==i?(d=t.formatNumber(d,r),1==d.split(l)[0].length&&(d="0"+d)):d=t.roundTo(d,r.precision),("mm"==i||"hh"==i)&&10>d&&(d="0"+d),n=d+""+o[i]+n,e=Math.floor(e/s[i].contains),i=s[i].nextInterval,t.formatDuration(e,i,n,o,a,r)}if("ss"==i&&(e=t.formatNumber(e,r),1==e.split(l)[0].length&&(e="0"+e)),"mm"==i&&(e=t.roundTo(e,r.precision)),("mm"==i||"hh"==i)&&10>e&&(e="0"+e),n=e+""+o[i]+n,s[a].count>s[i].count)for(e=s[i].count;e<s[a].count;e++)i=s[i].nextInterval,"ss"==i||"mm"==i||"hh"==i?n="00"+o[i]+n:"DD"==i&&(n="0"+o[i]+n);return":"==n.charAt(n.length-1)&&(n=n.substring(0,n.length-1)),n},t.formatNumber=function(e,i,n,o,a){e=t.roundTo(e,i.precision),isNaN(n)&&(n=i.precision);var r=i.decimalSeparator;i=i.thousandsSeparator,void 0==r&&(r=","),void 0==i&&(i=" ");var s;s=0>e?"-":"",e=Math.abs(e);var l=String(e),d=!1;-1!=l.indexOf("e")&&(d=!0),0<=n&&!d&&(l=t.toFixed(e,n));var c="";if(d)c=l;else{var h,l=l.split("."),d=String(l[0]);for(h=d.length;0<=h;h-=3)c=h!=d.length?0!==h?d.substring(h-3,h)+i+c:d.substring(h-3,h)+c:d.substring(h-3,h);void 0!==l[1]&&(c=c+r+l[1]),void 0!==n&&0<n&&"0"!=c&&(c=t.addZeroes(c,r,n))}return c=s+c,""===s&&!0===o&&0!==e&&(c="+"+c),!0===a&&(c+="%"),c},t.addZeroes=function(e,i,n){return e=e.split(i),void 0===e[1]&&0<n&&(e[1]="0"),e[1].length<n?(e[1]+="0",t.addZeroes(e[0]+i+e[1],i,n)):void 0!==e[1]?e[0]+i+e[1]:e[0]},t.scientificToNormal=function(t){var e;t=String(t).split("e");var i;if("-"==t[1].substr(0,1)){for(e="0.",i=0;i<Math.abs(Number(t[1]))-1;i++)e+="0";e+=t[0].split(".").join("")}else{var n=0;for(e=t[0].split("."),e[1]&&(n=e[1].length),e=t[0].split(".").join(""),i=0;i<Math.abs(Number(t[1]))-n;i++)e+="0"}return e},t.toScientific=function(t,e){if(0===t)return"0";var i=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),n=String(n).split(".").join(e);return String(n)+"e"+i},t.randomColor=function(){return"#"+("00000"+(16777216*Math.random()<<0).toString(16)).substr(-6)},t.hitTest=function(e,i,n){var o=!1,a=e.x,r=e.x+e.width,s=e.y,l=e.y+e.height,d=t.isInRectangle;return o||(o=d(a,s,i)),o||(o=d(a,l,i)),o||(o=d(r,s,i)),o||(o=d(r,l,i)),o||!0===n||(o=t.hitTest(i,e,!0)),o},t.isInRectangle=function(t,e,i){return t>=i.x-5&&t<=i.x+i.width+5&&e>=i.y-5&&e<=i.y+i.height+5},t.isPercents=function(t){if(-1!=String(t).indexOf("%"))return!0},t.formatValue=function(e,i,n,o,a,r,s,l){if(i){void 0===a&&(a="");var d;for(d=0;d<n.length;d++){var c=n[d],h=i[c];void 0!==h&&(h=r?t.addPrefix(h,l,s,o):t.formatNumber(h,o),e=e.replace(new RegExp("\\[\\["+a+c+"\\]\\]","g"),h))}}return e},t.formatDataContextValue=function(t,e){if(t){var i,n=t.match(/\[\[.*?\]\]/g);for(i=0;i<n.length;i++){var o=n[i],o=o.substr(2,o.length-4);void 0!==e[o]&&(t=t.replace(new RegExp("\\[\\["+o+"\\]\\]","g"),e[o]))}}return t},t.massReplace=function(t,e){for(var i in e)if(e.hasOwnProperty(i)){var n=e[i];void 0===n&&(n=""),t=t.replace(i,n)}return t},t.cleanFromEmpty=function(t){return t.replace(/\[\[[^\]]*\]\]/g,"")},t.addPrefix=function(e,i,n,o,a){var r,s,l,d=t.formatNumber(e,o),c="";if(0===e)return"0";if(0>e&&(c="-"),1<(e=Math.abs(e))){for(r=i.length-1;-1<r;r--)if(e>=i[r].number&&(s=e/i[r].number,l=Number(o.precision),1>l&&(l=1),n=t.roundTo(s,l),l=t.formatNumber(n,{precision:-1,decimalSeparator:o.decimalSeparator,thousandsSeparator:o.thousandsSeparator}),!a||s==n)){d=c+""+l+i[r].prefix;break}}else for(r=0;r<n.length;r++)if(e<=n[r].number){s=e/n[r].number,l=Math.abs(Math.floor(Math.log(s)*Math.LOG10E)),s=t.roundTo(s,l),d=c+""+s+n[r].prefix;break}return d},t.remove=function(t){t&&t.remove()},t.getEffect=function(t){return">"==t&&(t="easeOutSine"),"<"==t&&(t="easeInSine"),"elastic"==t&&(t="easeOutElastic"),t},t.getObjById=function(t,e){var i,n;for(n=0;n<t.length;n++){var o=t[n];if(o.id==e){i=o;break}}return i},t.applyTheme=function(e,i,n){i||(i=t.theme);try{i=JSON.parse(JSON.stringify(i))}catch(t){}i&&i[n]&&t.extend(e,i[n])},t.isString=function(t){return"string"==typeof t},t.extend=function(t,e,i){var n;t||(t={});for(n in e)i?t.hasOwnProperty(n)||(t[n]=e[n]):t[n]=e[n];return t},t.copyProperties=function(t,e){for(var i in t)t.hasOwnProperty(i)&&"events"!=i&&void 0!==t[i]&&"function"!=typeof t[i]&&"cname"!=i&&(e[i]=t[i])},t.processObject=function(e,i,n,o){if(!1==e instanceof i&&(e=o?t.extend(new i(n),e):t.extend(e,new i(n),!0),e.listeners))for(var a in e.listeners)i=e.listeners[a],e.addListener(i.event,i.method);return e},t.fixNewLines=function(t){var e=RegExp("\\n","g");return t&&(t=t.replace(e,"<br />")),t},t.fixBrakes=function(e){if(t.isModern){var i=RegExp("<br>","g");e&&(e=e.replace(i,"\n"))}else e=t.fixNewLines(e);return e},t.deleteObject=function(e,i){if(e&&(void 0!==i&&null!==i||(i=20),0!==i))if("[object Array]"===Object.prototype.toString.call(e))for(var n=0;n<e.length;n++)t.deleteObject(e[n],i-1),e[n]=null;else if(e&&!e.tagName)try{for(n in e.theme=null,e)e[n]&&("object"==typeof e[n]&&t.deleteObject(e[n],i-1),"function"!=typeof e[n]&&(e[n]=null))}catch(t){}},t.bounce=function(t,e,i,n,o){return(e/=o)<1/2.75?7.5625*n*e*e+i:e<2/2.75?n*(7.5625*(e-=1.5/2.75)*e+.75)+i:e<2.5/2.75?n*(7.5625*(e-=2.25/2.75)*e+.9375)+i:n*(7.5625*(e-=2.625/2.75)*e+.984375)+i},t.easeInOutQuad=function(t,e,i,n,o){return 1>(e/=o/2)?n/2*e*e+i:(e--,-n/2*(e*(e-2)-1)+i)},t.easeInSine=function(t,e,i,n,o){return-n*Math.cos(e/o*(Math.PI/2))+n+i},t.easeOutSine=function(t,e,i,n,o){return n*Math.sin(e/o*(Math.PI/2))+i},t.easeOutElastic=function(t,e,i,n,o){t=1.70158;var a=0,r=n;return 0===e?i:1==(e/=o)?i+n:(a||(a=.3*o),r<Math.abs(n)?(r=n,t=a/4):t=a/(2*Math.PI)*Math.asin(n/r),r*Math.pow(2,-10*e)*Math.sin(2*(e*o-t)*Math.PI/a)+n+i)},t.fixStepE=function(e){e=e.toExponential(0).split("e");var i=Number(e[1]);return 9==Number(e[0])&&i++,t.generateNumber(1,i)},t.generateNumber=function(t,e){var i,n="";i=0>e?Math.abs(e)-1:Math.abs(e);var o;for(o=0;o<i;o++)n+="0";return 0>e?Number("0."+n+String(t)):Number(String(t)+n)},t.setCN=function(t,e,i,n){if(t.addClassNames&&e&&(e=e.node)&&i){var o=e.getAttribute("class");t=t.classNamePrefix+"-",n&&(t=""),o?e.setAttribute("class",o+" "+t+i):e.setAttribute("class",t+i)}},t.removeCN=function(t,e,i){e&&(e=e.node)&&i&&(e=e.classList)&&e.remove(t.classNamePrefix+"-"+i)},t.parseDefs=function(e,i){for(var n in e){var o=typeof e[n];if(0<e[n].length&&"object"==o)for(var a=0;a<e[n].length;a++)o=document.createElementNS(t.SVG_NS,n),i.appendChild(o),t.parseDefs(e[n][a],o);else"object"==o?(o=document.createElementNS(t.SVG_NS,n),i.appendChild(o),t.parseDefs(e[n],o)):i.setAttribute(n,e[n])}}}(),function(){var t=window.AmCharts;t.AxisBase=t.Class({construct:function(e){this.createEvents("clickItem","rollOverItem","rollOutItem","rollOverGuide","rollOutGuide","clickGuide"),this.titleDY=this.y=this.x=this.dy=this.dx=0,this.axisThickness=1,this.axisColor="#000000",this.axisAlpha=1,this.gridCount=this.tickLength=5,this.gridAlpha=.15,this.gridThickness=1,this.gridColor="#000000",this.dashLength=0,this.labelFrequency=1,this.showLastLabel=this.showFirstLabel=!0,this.fillColor="#FFFFFF",this.fillAlpha=0,this.labelsEnabled=!0,this.labelRotation=0,this.autoGridCount=!0,this.offset=0,this.guides=[],this.visible=!0,this.counter=0,this.guides=[],this.ignoreAxisWidth=this.inside=!1,this.minHorizontalGap=75,this.minVerticalGap=35,this.titleBold=!0,this.minorGridEnabled=!1,this.minorGridAlpha=.07,this.autoWrap=!1,this.titleAlign="middle",this.labelOffset=0,this.bcn="axis-",this.centerLabels=!1,this.firstDayOfWeek=1,this.centerLabelOnFullPeriod=this.markPeriodChange=this.boldPeriodBeginning=!0,this.titleWidth=0,this.periods=[{period:"fff",count:1},{period:"fff",count:5},{period:"fff",count:10},{period:"fff",count:50},{period:"fff",count:100},{period:"fff",count:500},{period:"ss",count:1},{period:"ss",count:5},{period:"ss",count:10},{period:"ss",count:30},{period:"mm",count:1},{period:"mm",count:5},{period:"mm",count:10},{period:"mm",count:30},{period:"hh",count:1},{period:"hh",count:3},{period:"hh",count:6},{period:"hh",count:12},{period:"DD",count:1},{period:"DD",count:2},{period:"DD",count:3},{period:"DD",count:4},{period:"DD",count:5},{period:"WW",count:1},{period:"MM",count:1},{period:"MM",count:2},{period:"MM",count:3},{period:"MM",count:6},{period:"YYYY",count:1},{period:"YYYY",count:2},{period:"YYYY",count:5},{period:"YYYY",count:10},{period:"YYYY",count:50},{period:"YYYY",count:100}],this.dateFormats=[{period:"fff",format:"NN:SS.QQQ"},{period:"ss",format:"JJ:NN:SS"},{period:"mm",format:"JJ:NN"},{period:"hh",format:"JJ:NN"},{period:"DD",format:"MMM DD"},{period:"WW",format:"MMM DD"},{period:"MM",format:"MMM"},{period:"YYYY",format:"YYYY"}],this.nextPeriod={fff:"ss",ss:"mm",mm:"hh",hh:"DD",DD:"MM",MM:"YYYY"},t.applyTheme(this,e,"AxisBase")},zoom:function(t,e){this.start=t,this.end=e,this.dataChanged=!0,this.draw()},fixAxisPosition:function(){var t=this.position;"H"==this.orientation?("left"==t&&(t="bottom"),"right"==t&&(t="top")):("bottom"==t&&(t="left"),"top"==t&&(t="right")),this.position=t},init:function(){this.createBalloon()},draw:function(){var t=this.chart;this.prevBY=this.prevBX=NaN,this.allLabels=[],this.counter=0,this.destroy(),this.fixAxisPosition(),this.setBalloonBounds(),this.labels=[];var e=t.container,i=e.set();t.gridSet.push(i),this.set=i,e=e.set(),t.axesLabelsSet.push(e),this.labelsSet=e,this.axisLine=new this.axisRenderer(this),this.autoGridCount?("V"==this.orientation?3>(t=this.height/this.minVerticalGap)&&(t=3):t=this.width/this.minHorizontalGap,this.gridCountR=Math.max(t,1)):this.gridCountR=this.gridCount,this.axisWidth=this.axisLine.axisWidth,this.addTitle()},setOrientation:function(t){this.orientation=t?"H":"V"},addTitle:function(){var e=this.title;if(this.titleLabel=null,e){var i=this.chart,n=this.titleColor;void 0===n&&(n=i.color);var o=this.titleFontSize;isNaN(o)&&(o=i.fontSize+1),e=t.text(i.container,e,n,i.fontFamily,o,this.titleAlign,this.titleBold),t.setCN(i,e,this.bcn+"title"),this.titleLabel=e}},positionTitle:function(){var e=this.titleLabel;if(e){var i,n,o=this.labelsSet,a={};0<o.length()?a=o.getBBox():(a.x=0,a.y=0,a.width=this.width,a.height=this.height,t.VML&&(a.y+=this.y,a.x+=this.x)),o.push(e);var o=a.x,r=a.y;t.VML&&(r-=this.y,o-=this.x);var s=a.width,a=a.height,l=this.width,d=this.height,c=0,h=e.getBBox().height/2,u=this.inside,f=this.titleAlign;switch(this.position){case"top":i="left"==f?-1:"right"==f?l:l/2,n=r-10-h;break;case"bottom":i="left"==f?-1:"right"==f?l:l/2,n=r+a+10+h;break;case"left":i=o-10-h,u&&(i-=5),c=-90,n=("left"==f?d+1:"right"==f?-1:d/2)+this.titleDY,this.titleWidth=h+10;break;case"right":i=o+s+10+h,u&&(i+=7),n=("left"==f?d+2:"right"==f?-2:d/2)+this.titleDY,this.titleWidth=h+10,c=-90}this.marginsChanged?(e.translate(i,n),this.tx=i,this.ty=n):e.translate(this.tx,this.ty),this.marginsChanged=!1,isNaN(this.titleRotation)||(c=this.titleRotation),0!==c&&e.rotate(c)}},pushAxisItem:function(t,e){var i=this,n=t.graphics();0<n.length()&&(e?i.labelsSet.push(n):i.set.push(n)),(n=t.getLabel())&&(i.labelsSet.push(n),n.click(function(e){i.handleMouse(e,t,"clickItem")}).touchend(function(e){i.handleMouse(e,t,"clickItem")}).mouseover(function(e){i.handleMouse(e,t,"rollOverItem")}).mouseout(function(e){i.handleMouse(e,t,"rollOutItem")}))},handleMouse:function(t,e,i){this.fire({type:i,value:e.value,serialDataItem:e.serialDataItem,axis:this,target:e.label,chart:this.chart,event:t})},addGuide:function(e){for(var i=this.guides,n=!1,o=i.length,a=0;a<i.length;a++)i[a]==e&&(n=!0,o=a);e=t.processObject(e,t.Guide,this.theme),e.id||(e.id="guideAuto"+o+"_"+(new Date).getTime()),n||i.push(e)},removeGuide:function(t){var e,i=this.guides;for(e=0;e<i.length;e++)i[e]==t&&i.splice(e,1)},handleGuideOver:function(t){clearTimeout(this.chart.hoverInt);var e=t.graphics.getBBox(),i=this.x+e.x+e.width/2,e=this.y+e.y+e.height/2,n=t.fillColor;void 0===n&&(n=t.lineColor),this.chart.showBalloon(t.balloonText,n,!0,i,e),this.fire({type:"rollOverGuide",guide:t,chart:this.chart})},handleGuideOut:function(t){this.chart.hideBalloon(),this.fire({type:"rollOutGuide",guide:t,chart:this.chart})},handleGuideClick:function(t){this.chart.hideBalloon(),this.fire({type:"clickGuide",guide:t,chart:this.chart})},addEventListeners:function(t,e){var i=this;t.mouseover(function(){i.handleGuideOver(e)}),t.mouseup(function(){i.handleGuideClick(e)}),t.touchstart(function(){i.handleGuideOver(e)}),t.mouseout(function(){i.handleGuideOut(e)})},getBBox:function(){var e;return this.labelsSet&&(e=this.labelsSet.getBBox()),e?t.VML||(e={x:e.x+this.x,y:e.y+this.y,width:e.width,height:e.height}):e={x:0,y:0,width:0,height:0},e},destroy:function(){t.remove(this.set),t.remove(this.labelsSet);var e=this.axisLine;e&&t.remove(e.axisSet),t.remove(this.grid0)},chooseMinorFrequency:function(t){for(var e=10;0<e;e--)if(t/e==Math.round(t/e))return t/e},parseDatesDraw:function(){var e,i,n,o,a,r,s,l=this.chart,d=this.showFirstLabel,c=this.showLastLabel,h="",u=t.extractPeriod(this.minPeriod),f=t.getPeriodDuration(u.period,u.count),p=this.firstDayOfWeek,m=this.boldPeriodBeginning;e=this.minorGridEnabled;var g,v,b=this.gridAlpha,T=this.choosePeriod(0),E=T.period,T=T.count,C=t.getPeriodDuration(E,T);C<f&&(E=u.period,T=u.count,C=f),u=E,"WW"==u&&(u="DD"),this.stepWidth=this.getStepWidth(this.timeDifference);var y=Math.ceil(this.timeDifference/C)+5,D=n=t.resetDateToMin(new Date(this.startTime-C),E,T,p).getTime();(u==E&&1==T&&this.centerLabelOnFullPeriod||this.autoWrap||this.centerLabels)&&(a=C*this.stepWidth,this.autoWrap&&!this.centerLabels&&(a=-a)),this.cellWidth=f*this.stepWidth,r=Math.round(n/C),f=-1,r/2==Math.round(r/2)&&(f=-2,n-=C),r=this.firstTime;var I=0,O=0;if(e&&1<T&&(g=this.chooseMinorFrequency(T),v=t.getPeriodDuration(E,g),"DD"==E&&(v+=t.getPeriodDuration("hh")),"fff"==E&&(v=1)),0<this.gridCountR)for(y-5-f>this.autoRotateCount&&!isNaN(this.autoRotateAngle)&&(this.labelRotationR=this.autoRotateAngle),e=f;e<=y;e++){if(s=r+C*(e+Math.floor((D-r)/C))-I,"DD"==E&&(s+=36e5),s=t.resetDateToMin(new Date(s),E,T,p).getTime(),"MM"==E&&(i=(s-n)/C,1.5<=(s-n)/C&&(s=s-(i-1)*C+t.getPeriodDuration("DD",3),s=t.resetDateToMin(new Date(s),E,1).getTime(),I+=C)),i=(s-this.startTime)*this.stepWidth,"radar"==l.type){if(0>(i=this.axisWidth-i)||i>this.axisWidth)continue}else this.rotate?"date"==this.type&&"middle"==this.gridPosition&&(O=-C*this.stepWidth/2):"date"==this.type&&(i=this.axisWidth-i);if(h=!1,this.nextPeriod[u]&&(h=this.checkPeriodChange(this.nextPeriod[u],1,s,n,u)),n=!1,h&&this.markPeriodChange?(h=this.dateFormatsObject[this.nextPeriod[u]],this.twoLineMode&&(h=this.dateFormatsObject[u]+"\n"+h,h=t.fixBrakes(h)),n=!0):h=this.dateFormatsObject[u],m||(n=!1),this.currentDateFormat=h,h=t.formatDate(new Date(s),h,l),(e==f&&!d||e==y&&!c)&&(h=" "),this.labelFunction&&(h=this.labelFunction(h,new Date(s),this,E,T,o).toString()),this.boldLabels&&(n=!0),o=new this.axisItemRenderer(this,i,h,!1,a,O,!1,n),this.pushAxisItem(o),o=n=s,!isNaN(g))for(i=1;i<T;i+=g)this.gridAlpha=this.minorGridAlpha,h=s+v*i,h=t.resetDateToMin(new Date(h),E,g,p).getTime(),h=new this.axisItemRenderer(this,(h-this.startTime)*this.stepWidth,void 0,void 0,void 0,void 0,void 0,void 0,void 0,!0),this.pushAxisItem(h);this.gridAlpha=b}},choosePeriod:function(e){var i=t.getPeriodDuration(this.periods[e].period,this.periods[e].count),n=this.periods;return this.timeDifference<i&&0<e?n[e-1]:Math.ceil(this.timeDifference/i)<=this.gridCountR?n[e]:e+1<n.length?this.choosePeriod(e+1):n[e]},getStepWidth:function(t){var e;return this.startOnAxis?(e=this.axisWidth/(t-1),1==t&&(e=this.axisWidth)):e=this.axisWidth/t,e},timeZoom:function(t,e){this.startTime=t,this.endTime=e},minDuration:function(){var e=t.extractPeriod(this.minPeriod);return t.getPeriodDuration(e.period,e.count)},checkPeriodChange:function(e,i,n,o,a){n=new Date(n);var r=new Date(o),s=this.firstDayOfWeek;return o=i,"DD"==e&&(i=1),n=t.resetDateToMin(n,e,i,s).getTime(),i=t.resetDateToMin(r,e,i,s).getTime(),!("DD"==e&&"hh"!=a&&n-i<t.getPeriodDuration(e,o)-t.getPeriodDuration("hh",1))&&n!=i},generateDFObject:function(){this.dateFormatsObject={};var t;for(t=0;t<this.dateFormats.length;t++){var e=this.dateFormats[t];this.dateFormatsObject[e.period]=e.format}},hideBalloon:function(){this.balloon&&this.balloon.hide&&this.balloon.hide(),this.prevBY=this.prevBX=NaN},formatBalloonText:function(t){return t},showBalloon:function(t,e,i,n){var o=this.offset;switch(this.position){case"bottom":e=this.height+o;break;case"top":e=-o;break;case"left":t=-o;break;case"right":t=this.width+o}if(i||(i=this.currentDateFormat),"V"==this.orientation){if(0>e||e>this.height)return;if(isNaN(e))return void this.hideBalloon();e=this.adjustBalloonCoordinate(e,n),n=this.coordinateToValue(e)}else{if(0>t||t>this.width)return;if(isNaN(t))return void this.hideBalloon();t=this.adjustBalloonCoordinate(t,n),n=this.coordinateToValue(t)}var a;(o=this.chart.chartCursor)&&(a=o.index),this.balloon&&void 0!==n&&this.balloon.enabled&&(this.balloonTextFunction?("date"!=this.type&&!0!==this.parseDates||(n=new Date(n)),n=this.balloonTextFunction(n)):this.balloonText?n=this.formatBalloonText(this.balloonText,a,i):isNaN(n)||(n=this.formatValue(n,i)),t==this.prevBX&&e==this.prevBY||(this.balloon.setPosition(t,e),this.prevBX=t,this.prevBY=e,n&&this.balloon.showBalloon(n)))},adjustBalloonCoordinate:function(t){return t},createBalloon:function(){var e=this.chart,i=e.chartCursor;i&&(i=i.cursorPosition,"mouse"!=i&&(this.stickBalloonToCategory=!0),"start"==i&&(this.stickBalloonToStart=!0),"ValueAxis"==this.cname&&(this.stickBalloonToCategory=!1)),this.balloon&&(this.balloon.destroy&&this.balloon.destroy(),t.extend(this.balloon,e.balloon,!0))},setBalloonBounds:function(){var t=this.balloon;if(t){var e=this.chart;t.cornerRadius=0,t.shadowAlpha=0,t.borderThickness=1,t.borderAlpha=1,t.adjustBorderColor=!1,t.showBullet=!1,this.balloon=t,t.chart=e,t.mainSet=e.plotBalloonsSet,t.pointerWidth=this.tickLength,(this.parseDates||"date"==this.type)&&(t.pointerWidth=0),t.className=this.id,e="V","V"==this.orientation&&(e="H"),this.stickBalloonToCategory||(t.animationDuration=0)
;var i,n,o,a,r=this.inside,s=this.width,l=this.height;switch(this.position){case"bottom":i=0,n=s,r?(o=0,a=l):(o=l,a=l+1e3);break;case"top":i=0,n=s,r?(o=0,a=l):(o=-1e3,a=0);break;case"left":o=0,a=l,r?(i=0,n=s):(i=-1e3,n=0);break;case"right":o=0,a=l,r?(i=0,n=s):(i=s,n=s+1e3)}t.drop||(t.pointerOrientation=e),t.setBounds(i,o,n,a)}}})}(),function(){var t=window.AmCharts;t.ValueAxis=t.Class({inherits:t.AxisBase,construct:function(e){this.cname="ValueAxis",this.createEvents("axisChanged","logarithmicAxisFailed","axisZoomed","axisIntZoomed"),t.ValueAxis.base.construct.call(this,e),this.dataChanged=!0,this.stackType="none",this.position="left",this.unitPosition="right",this.includeAllValues=this.recalculateToPercents=this.includeHidden=this.includeGuidesInMinMax=this.integersOnly=!1,this.durationUnits={DD:"d. ",hh:":",mm:":",ss:""},this.scrollbar=!1,this.baseValue=0,this.radarCategoriesEnabled=!0,this.axisFrequency=1,this.gridType="polygons",this.useScientificNotation=!1,this.axisTitleOffset=10,this.pointPosition="axis",this.minMaxMultiplier=1,this.logGridLimit=2,this.totalTextOffset=this.treatZeroAs=0,this.minPeriod="ss",this.relativeStart=0,this.relativeEnd=1,t.applyTheme(this,e,this.cname)},updateData:function(){0>=this.gridCountR&&(this.gridCountR=1),this.totals=[],this.data=this.chart.chartData;var e=this.chart;"xy"!=e.type&&(this.stackGraphs("smoothedLine"),this.stackGraphs("line"),this.stackGraphs("column"),this.stackGraphs("step")),this.recalculateToPercents&&this.recalculate(),this.synchronizationMultiplier&&this.synchronizeWith?(t.isString(this.synchronizeWith)&&(this.synchronizeWith=e.getValueAxisById(this.synchronizeWith)),this.synchronizeWith&&(this.synchronizeWithAxis(this.synchronizeWith),this.foundGraphs=!0)):(this.foundGraphs=!1,this.getMinMax(),(0===this.start&&this.end==this.data.length-1&&isNaN(this.minZoom)&&isNaN(this.maxZoom)||isNaN(this.fullMin)&&isNaN(this.fullMax))&&(this.fullMin=this.min,this.fullMax=this.max,"date"!=this.type&&this.strictMinMax&&(isNaN(this.minimum)||(this.fullMin=this.minimum),isNaN(this.maximum)||(this.fullMax=this.maximum)),this.logarithmic&&(this.fullMin=this.logMin,0===this.fullMin&&(this.fullMin=this.treatZeroAs)),"date"==this.type&&(this.minimumDate||(this.fullMin=this.minRR),this.maximumDate||(this.fullMax=this.maxRR),this.strictMinMax&&(this.minimumDate&&(this.fullMin=this.minimumDate.getTime()),this.maximumDate&&(this.fullMax=this.maximumDate.getTime())))))},draw:function(){t.ValueAxis.base.draw.call(this);var e=this.chart,i=this.set;this.labelRotationR=this.labelRotation,t.setCN(e,this.set,"value-axis value-axis-"+this.id),t.setCN(e,this.labelsSet,"value-axis value-axis-"+this.id),t.setCN(e,this.axisLine.axisSet,"value-axis value-axis-"+this.id);var n=this.type;if("duration"==n&&(this.duration="ss"),!0===this.dataChanged&&(this.updateData(),this.dataChanged=!1),"date"==n&&(this.logarithmic=!1,this.min=this.minRR,this.max=this.maxRR,this.reversed=!1,this.getDateMinMax()),this.logarithmic){var o=this.treatZeroAs,a=this.getExtremes(0,this.data.length-1).min;if(!isNaN(this.minimum)&&this.minimum<a&&(a=this.minimum),this.logMin=a,this.minReal<a&&(this.minReal=a),isNaN(this.minReal)&&(this.minReal=a),0<o&&0===a&&(this.minReal=a=o),0>=a||0>=this.minimum)return void this.fire({type:"logarithmicAxisFailed",chart:e})}this.grid0=null;var r,s,l=e.dx,d=e.dy,o=!1,a=this.logarithmic;if(isNaN(this.min)||isNaN(this.max)||!this.foundGraphs||Infinity==this.min||-Infinity==this.max)o=!0;else{"date"==this.type&&this.min==this.max&&(this.max+=this.minDuration(),this.min-=this.minDuration());var c=this.labelFrequency,h=this.showFirstLabel,u=this.showLastLabel,f=1,p=0;if(this.minCalc=this.min,this.maxCalc=this.max,this.strictMinMax&&(isNaN(this.minimum)||(this.min=this.minimum),isNaN(this.maximum)||(this.max=this.maximum),this.min==this.max))return;if(isNaN(this.minZoom)||(this.minReal=this.min=this.minZoom),isNaN(this.maxZoom)||(this.max=this.maxZoom),this.logarithmic){s=this.fullMin;var m=this.fullMax;isNaN(this.minimum)||(s=this.minimum),isNaN(this.maximum)||(m=this.maximum);var m=Math.log(m)*Math.LOG10E-Math.log(s)*Math.LOG10E,g=Math.log(this.max)/Math.LN10-Math.log(s)*Math.LOG10E;this.relativeStart=t.roundTo((Math.log(this.minReal)/Math.LN10-Math.log(s)*Math.LOG10E)/m,5),this.relativeEnd=t.roundTo(g/m,5)}else this.relativeStart=t.roundTo(t.fitToBounds((this.min-this.fullMin)/(this.fullMax-this.fullMin),0,1),5),this.relativeEnd=t.roundTo(t.fitToBounds((this.max-this.fullMin)/(this.fullMax-this.fullMin),0,1),5);var v,m=Math.round((this.maxCalc-this.minCalc)/this.step)+1;!0===a?(v=Math.log(this.max)*Math.LOG10E-Math.log(this.minReal)*Math.LOG10E,this.stepWidth=this.axisWidth/v,v>this.logGridLimit&&(m=Math.ceil(Math.log(this.max)*Math.LOG10E)+1,p=Math.round(Math.log(this.minReal)*Math.LOG10E),m>this.gridCountR&&(f=Math.ceil(m/this.gridCountR)))):this.stepWidth=this.axisWidth/(this.max-this.min);var b=0;1>this.step&&-1<this.step&&(b=t.getDecimals(this.step)),this.integersOnly&&(b=0),b>this.maxDecCount&&(b=this.maxDecCount),g=this.precision,isNaN(g)||(b=g),isNaN(this.maxZoom)&&(this.max=t.roundTo(this.max,this.maxDecCount),this.min=t.roundTo(this.min,this.maxDecCount)),s={},s.precision=b,s.decimalSeparator=e.nf.decimalSeparator,s.thousandsSeparator=e.nf.thousandsSeparator,this.numberFormatter=s;var T;for(this.exponential=!1,s=p;s<m;s+=f){var E=t.roundTo(this.step*s+this.min,b);-1!=String(E).indexOf("e")&&(this.exponential=!0)}this.duration&&(this.maxInterval=t.getMaxInterval(this.max,this.duration));var C,b=this.step,E=this.minorGridAlpha;if(this.minorGridEnabled&&(C=this.getMinorGridStep(b,this.stepWidth*b)),this.autoGridCount||0!==this.gridCount)if("date"==n)this.generateDFObject(),this.timeDifference=this.max-this.min,this.maxTime=this.lastTime=this.max,this.startTime=this.firstTime=this.min,this.parseDatesDraw();else for(m>=this.autoRotateCount&&!isNaN(this.autoRotateAngle)&&(this.labelRotationR=this.autoRotateAngle),n=this.minCalc,a&&(m++,n=this.maxCalc-m*b),this.gridCountReal=m,s=this.startCount=p;s<m;s+=f)if(p=b*s+n,p=t.roundTo(p,this.maxDecCount+1),(!this.integersOnly||Math.round(p)==p)&&(isNaN(g)||Number(t.toFixed(p,g))==p)){if(!0===a)if(v>this.logGridLimit){if((p=Math.pow(10,s))>this.max)continue}else if(0>=p&&0>=(p=n+b*s+b/2))continue;T=this.formatValue(p,!1,s),Math.round(s/c)!=s/c&&(T=void 0),(0===s&&!h||s==m-1&&!u)&&(T=" "),r=this.getCoordinate(p);var y;if(this.rotate&&this.autoWrap&&(y=this.stepWidth*b-10),T=new this.axisItemRenderer(this,r,T,void 0,y,void 0,void 0,this.boldLabels),this.pushAxisItem(T),p==this.baseValue&&"radar"!=e.type){var D,I,O=this.width,R=this.height;"H"==this.orientation?0<=r&&r<=O+1&&(D=[r,r,r+l],I=[R,0,d]):0<=r&&r<=R+1&&(D=[0,O,O+l],I=[r,r,r+d]),D&&(r=t.fitToBounds(2*this.gridAlpha,0,1),isNaN(this.zeroGridAlpha)||(r=this.zeroGridAlpha),r=t.line(e.container,D,I,this.gridColor,r,1,this.dashLength),r.translate(this.x,this.y),this.grid0=r,e.axesSet.push(r),r.toBack(),t.setCN(e,r,this.bcn+"zero-grid-"+this.id),t.setCN(e,r,this.bcn+"zero-grid"))}if(!isNaN(C)&&0<E&&s<m-1){for(r=b/C,a&&(C=b*(s+f)+this.minCalc,C=t.roundTo(C,this.maxDecCount+1),v>this.logGridLimit&&(C=Math.pow(10,s+f)),r=9,C=(C-p)/r),O=this.gridAlpha,this.gridAlpha=this.minorGridAlpha,R=1;R<r;R++){var x=this.getCoordinate(p+C*R),x=new this.axisItemRenderer(this,x,"",!1,0,0,!1,!1,0,!0);this.pushAxisItem(x)}this.gridAlpha=O}}if(v=this.guides,0<(y=v.length)){for(D=this.fillAlpha,s=this.fillAlpha=0;s<y;s++)I=v[s],l=NaN,C=I.above,isNaN(I.toValue)||(l=this.getCoordinate(I.toValue),T=new this.axisItemRenderer(this,l,"",!0,NaN,NaN,I),this.pushAxisItem(T,C)),d=NaN,isNaN(I.value)||(d=this.getCoordinate(I.value),T=new this.axisItemRenderer(this,d,I.label,!0,NaN,(l-d)/2,I),this.pushAxisItem(T,C)),isNaN(l)&&(d-=3,l=d+3),T&&(c=T.label)&&this.addEventListeners(c,I),isNaN(l-d)||0>d&&0>l||(l=new this.guideFillRenderer(this,d,l,I),this.pushAxisItem(l,C),C=l.graphics(),I.graphics=C,this.addEventListeners(C,I));this.fillAlpha=D}T=this.baseValue,this.min>this.baseValue&&this.max>this.baseValue&&(T=this.min),this.min<this.baseValue&&this.max<this.baseValue&&(T=this.max),a&&T<this.minReal&&(T=this.minReal),this.baseCoord=this.getCoordinate(T,!0),T={type:"axisChanged",target:this,chart:e},T.min=a?this.minReal:this.min,T.max=this.max,this.fire(T),this.axisCreated=!0}a=this.axisLine.set,T=this.labelsSet,i.translate(this.x,this.y),T.translate(this.x,this.y),this.positionTitle(),"radar"!=e.type&&a.toFront(),!this.visible||o?(i.hide(),a.hide(),T.hide()):(i.show(),a.show(),T.show()),this.axisY=this.y,this.axisX=this.x},getDateMinMax:function(){this.minimumDate&&(this.minimumDate instanceof Date||(this.minimumDate=t.getDate(this.minimumDate,this.chart.dataDateFormat,"fff")),this.min=this.minimumDate.getTime()),this.maximumDate&&(this.maximumDate instanceof Date||(this.maximumDate=t.getDate(this.maximumDate,this.chart.dataDateFormat,"fff")),this.max=this.maximumDate.getTime())},formatValue:function(e,i,n){var o=this.exponential,a=this.logarithmic,r=this.numberFormatter,s=this.chart;if(r)return!0===this.logarithmic&&(o=-1!=String(e).indexOf("e")),this.useScientificNotation&&(o=!0),this.usePrefixes&&(o=!1),o?(n=-1==String(e).indexOf("e")?e.toExponential(15):String(e),o=n.split("e"),n=Number(o[0]),o=Number(o[1]),n=t.roundTo(n,14),i||isNaN(this.precision)||(n=t.roundTo(n,this.precision)),10==n&&(n=1,o+=1),n=n+"e"+o,0===e&&(n="0"),1==e&&(n="1")):(a&&(o=String(e).split("."),o[1]?(r.precision=o[1].length,0>n&&(r.precision=Math.abs(n)),i&&1<e&&(r.precision=0),i||isNaN(this.precision)||(r.precision=this.precision)):r.precision=-1),n=this.usePrefixes?t.addPrefix(e,s.prefixesOfBigNumbers,s.prefixesOfSmallNumbers,r,!i):t.formatNumber(e,r,r.precision)),this.duration&&(i&&(r.precision=0),n=t.formatDuration(e,this.duration,"",this.durationUnits,this.maxInterval,r)),"date"==this.type&&(n=t.formatDate(new Date(e),this.currentDateFormat,s)),this.recalculateToPercents?n+="%":(i=this.unit)&&(n="left"==this.unitPosition?i+n:n+i),this.labelFunction&&(n="date"==this.type?this.labelFunction(n,new Date(e),this).toString():this.labelFunction(e,n,this).toString()),n},getMinorGridStep:function(t,e){var i=[5,4,2];60>e&&i.shift();for(var n=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),o=0;o<i.length;o++){var a=t/i[o],r=Math.floor(Math.log(Math.abs(a))*Math.LOG10E);if(!(1<Math.abs(n-r)))if(1>t){if((r=Math.pow(10,-r)*a)==Math.round(r))return a}else if(a==Math.round(a))return a}},stackGraphs:function(e){var i=this.stackType;"stacked"==i&&(i="regular"),"line"==i&&(i="none"),"100% stacked"==i&&(i="100%"),this.stackType=i;var n,o,a,r,s,l,d=[],c=[],h=[],u=[],f=this.chart.graphs,p=this.baseValue,m=!1;if("line"!=e&&"step"!=e&&"smoothedLine"!=e||(m=!0),m&&("regular"==i||"100%"==i))for(s=0;s<f.length;s++)r=f[s],r.stackGraph=null,r.hidden||(a=r.type,r.chart==this.chart&&r.valueAxis==this&&e==a&&r.stackable&&(o&&(r.stackGraph=o),o=r));for(r=this.start-10,o=this.end+10,s=this.data.length-1,r=t.fitToBounds(r,0,s),o=t.fitToBounds(o,0,s),l=r;l<=o;l++){var g=0;for(s=0;s<f.length;s++)if(r=f[s],r.hidden)r.newStack&&(h[l]=NaN,c[l]=NaN);else if(a=r.type,r.chart==this.chart&&r.valueAxis==this&&e==a&&r.stackable)if(a=this.data[l].axes[this.id].graphs[r.id],n=a.values.value,isNaN(n))r.newStack&&(h[l]=NaN,c[l]=NaN);else{var v=t.getDecimals(n);g<v&&(g=v),isNaN(u[l])?u[l]=Math.abs(n):u[l]+=Math.abs(n),u[l]=t.roundTo(u[l],g),v=r.fillToGraph,m&&v&&(v=this.data[l].axes[this.id].graphs[v.id])&&(a.values.open=v.values.value),"regular"==i&&(m&&(isNaN(d[l])?(d[l]=n,a.values.close=n,a.values.open=this.baseValue):(isNaN(n)?a.values.close=d[l]:a.values.close=n+d[l],a.values.open=d[l],d[l]=a.values.close)),"column"==e&&(r.newStack&&(h[l]=NaN,c[l]=NaN),a.values.close=n,0>n?(a.values.close=n,isNaN(c[l])?a.values.open=p:(a.values.close+=c[l],a.values.open=c[l]),c[l]=a.values.close):(a.values.close=n,isNaN(h[l])?a.values.open=p:(a.values.close+=h[l],a.values.open=h[l]),h[l]=a.values.close)))}}for(l=this.start;l<=this.end;l++)for(s=0;s<f.length;s++)r=f[s],r.hidden?r.newStack&&(h[l]=NaN,c[l]=NaN):(a=r.type,r.chart==this.chart&&r.valueAxis==this&&e==a&&r.stackable&&(a=this.data[l].axes[this.id].graphs[r.id],n=a.values.value,isNaN(n)||(d=n/u[l]*100,a.values.percents=d,a.values.total=u[l],r.newStack&&(h[l]=NaN,c[l]=NaN),"100%"==i&&(isNaN(c[l])&&(c[l]=0),isNaN(h[l])&&(h[l]=0),0>d?(a.values.close=t.fitToBounds(d+c[l],-100,100),a.values.open=c[l],c[l]=a.values.close):(a.values.close=t.fitToBounds(d+h[l],-100,100),a.values.open=h[l],h[l]=a.values.close)))))},recalculate:function(){var e,i=this.chart,n=i.graphs;for(e=0;e<n.length;e++){var o=n[e];if(o.valueAxis==this){var a="value";"candlestick"!=o.type&&"ohlc"!=o.type||(a="open");var r,s,l=this.end+2,l=t.fitToBounds(this.end+1,0,this.data.length-1),d=this.start;0<d&&d--;var c;if(s=this.start,o.compareFromStart&&(s=0),!isNaN(i.startTime)&&(c=i.categoryAxis)){var h=c.minDuration(),h=new Date(i.startTime+h/2),u=t.resetDateToMin(new Date(i.startTime),c.minPeriod).getTime();t.resetDateToMin(new Date(h),c.minPeriod).getTime()>u&&s++}for((c=i.recalculateFromDate)&&(c=t.getDate(c,i.dataDateFormat,"fff"),s=i.getClosestIndex(i.chartData,"time",c.getTime(),!0,0,i.chartData.length),l=i.chartData.length-1),c=s;c<=l&&(s=this.data[c].axes[this.id].graphs[o.id],r=s.values[a],o.recalculateValue&&(r=s.dataContext[o.valueField+o.recalculateValue]),isNaN(r));c++);for(this.recBaseValue=r,a=d;a<=l;a++){s=this.data[a].axes[this.id].graphs[o.id],s.percents={};var f,d=s.values;for(f in d)s.percents[f]="percents"!=f?d[f]/r*100-100:d[f]}}}},getMinMax:function(){var e,i=!1,n=this.chart,o=n.graphs;for(e=0;e<o.length;e++){var a=o[e].type;("line"==a||"step"==a||"smoothedLine"==a)&&this.expandMinMax&&(i=!0)}if(i&&(0<this.start&&this.start--,this.end<this.data.length-1&&this.end++),"serial"==n.type&&(!0!==n.categoryAxis.parseDates||i||this.end<this.data.length-1&&this.end++),this.includeAllValues&&(this.start=0,this.end=this.data.length-1),i=this.minMaxMultiplier,n=this.getExtremes(this.start,this.end),this.min=n.min,this.max=n.max,this.minRR=this.min,this.maxRR=this.max,i=(this.max-this.min)*(i-1),this.min-=i,this.max+=i,i=this.guides.length,this.includeGuidesInMinMax&&0<i)for(n=0;n<i;n++)o=this.guides[n],o.toValue<this.min&&(this.min=o.toValue),o.value<this.min&&(this.min=o.value),o.toValue>this.max&&(this.max=o.toValue),o.value>this.max&&(this.max=o.value);isNaN(this.minimum)||(this.min=this.minimum),isNaN(this.maximum)||(this.max=this.maximum),"date"==this.type&&this.getDateMinMax(),this.min>this.max&&(i=this.max,this.max=this.min,this.min=i),isNaN(this.minZoom)||(this.min=this.minZoom),isNaN(this.maxZoom)||(this.max=this.maxZoom),this.minCalc=this.min,this.maxCalc=this.max,this.minReal=this.min,this.maxReal=this.max,0===this.min&&0===this.max&&(this.max=9),this.min>this.max&&(this.min=this.max-1),i=this.min,n=this.max,o=this.max-this.min,e=0===o?Math.pow(10,Math.floor(Math.log(Math.abs(this.max))*Math.LOG10E))/10:Math.pow(10,Math.floor(Math.log(Math.abs(o))*Math.LOG10E))/10,isNaN(this.maximum)&&(this.max=Math.ceil(this.max/e)*e+e),isNaN(this.minimum)&&(this.min=Math.floor(this.min/e)*e-e),0>this.min&&0<=i&&(this.min=0),0<this.max&&0>=n&&(this.max=0),"100%"==this.stackType&&(this.min=0>this.min?-100:0,this.max=0>this.max?0:100),o=this.max-this.min,e=Math.pow(10,Math.floor(Math.log(Math.abs(o))*Math.LOG10E))/10,this.step=Math.ceil(o/this.gridCountR/e)*e,o=Math.pow(10,Math.floor(Math.log(Math.abs(this.step))*Math.LOG10E)),o=t.fixStepE(o),e=Math.ceil(this.step/o),5<e&&(e=10),5>=e&&2<e&&(e=5),this.step=Math.ceil(this.step/(o*e))*o*e,isNaN(this.setStep)||(this.step=this.setStep),1>o?(this.maxDecCount=Math.abs(Math.log(Math.abs(o))*Math.LOG10E),this.maxDecCount=Math.round(this.maxDecCount),this.step=t.roundTo(this.step,this.maxDecCount+1)):this.maxDecCount=0,this.min=this.step*Math.floor(this.min/this.step),this.max=this.step*Math.ceil(this.max/this.step),0>this.min&&0<=i&&(this.min=0),0<this.max&&0>=n&&(this.max=0),1<this.minReal&&1<this.max-this.minReal&&(this.minReal=Math.floor(this.minReal)),o=Math.pow(10,Math.floor(Math.log(Math.abs(this.minReal))*Math.LOG10E)),0===this.min&&(this.minReal=o),0===this.min&&1<this.minReal&&(this.minReal=1),0<this.min&&0<this.minReal-this.step&&(this.minReal=this.min+this.step<this.minReal?this.min+this.step:this.min),this.logarithmic&&(2<Math.log(n)*Math.LOG10E-Math.log(i)*Math.LOG10E?(this.minReal=this.min=Math.pow(10,Math.floor(Math.log(Math.abs(i))*Math.LOG10E)),this.maxReal=this.max=Math.pow(10,Math.ceil(Math.log(Math.abs(n))*Math.LOG10E))):(i=Math.pow(10,Math.floor(Math.log(Math.abs(i))*Math.LOG10E))/10,Math.pow(10,Math.floor(Math.log(Math.abs(this.min))*Math.LOG10E))/10<i&&(this.minReal=this.min=10*i)))},getExtremes:function(t,e){var i,n,o;for(o=t;o<=e;o++){var a,r=this.data[o].axes[this.id].graphs;for(a in r)if(r.hasOwnProperty(a)){var s=this.chart.graphsById[a];if(s.includeInMinMax&&(!s.hidden||this.includeHidden)){isNaN(i)&&(i=Infinity),isNaN(n)&&(n=-Infinity),this.foundGraphs=!0,s=r[a].values,this.recalculateToPercents&&(s=r[a].percents);var l;if(this.minMaxField)l=s[this.minMaxField],l<i&&(i=l),l>n&&(n=l);else for(var d in s)s.hasOwnProperty(d)&&"percents"!=d&&"total"!=d&&"error"!=d&&(l=s[d],l<i&&(i=l),l>n&&(n=l))}}}return{min:i,max:n}},zoomOut:function(t){this.maxZoom=this.minZoom=NaN,this.zoomToRelativeValues(0,1,t)},zoomToRelativeValues:function(t,e,i){if(this.reversed){var n=t;t=1-e,e=1-n}var o=this.fullMax,n=this.fullMin,a=n+(o-n)*t,r=n+(o-n)*e;return 0<=this.minimum&&0>a&&(a=0),this.logarithmic&&(isNaN(this.minimum)||(n=this.minimum),isNaN(this.maximum)||(o=this.maximum),o=Math.log(o)*Math.LOG10E-Math.log(n)*Math.LOG10E,a=Math.pow(10,o*t+Math.log(n)*Math.LOG10E),r=Math.pow(10,o*e+Math.log(n)*Math.LOG10E)),this.zoomToValues(a,r,i)},zoomToValues:function(e,i,n){if(i<e){var o=i;i=e,e=o}var a=this.fullMax,o=this.fullMin;if(this.relativeStart=t.roundTo((e-o)/(a-o),9),this.relativeEnd=t.roundTo((i-o)/(a-o),9),this.logarithmic){isNaN(this.minimum)||(o=this.minimum),isNaN(this.maximum)||(a=this.maximum);var a=Math.log(a)*Math.LOG10E-Math.log(o)*Math.LOG10E,r=Math.log(i)/Math.LN10-Math.log(o)*Math.LOG10E;this.relativeStart=t.roundTo((Math.log(e)/Math.LN10-Math.log(o)*Math.LOG10E)/a,9),this.relativeEnd=t.roundTo(r/a,9)}if(this.minZoom!=e||this.maxZoom!=i)return this.minZoom=e,this.maxZoom=i,o={type:"axisZoomed"},o.chart=this.chart,o.valueAxis=this,o.startValue=e,o.endValue=i,o.relativeStart=this.relativeStart,o.relativeEnd=this.relativeEnd,this.prevStartValue==e&&this.prevEndValue==i||this.fire(o),this.prevStartValue=e,this.prevEndValue=i,n||(e={},t.copyProperties(o,e),e.type="axisIntZoomed",this.fire(e)),0===this.relativeStart&&1==this.relativeEnd&&(this.maxZoom=this.minZoom=NaN),!0},coordinateToValue:function(t){if(isNaN(t))return NaN;var e=this.axisWidth,i=this.stepWidth,n=this.reversed,o=this.rotate,a=this.min,r=this.minReal;return!0===this.logarithmic?Math.pow(10,(o?!0===n?(e-t)/i:t/i:!0===n?t/i:(e-t)/i)+Math.log(r)*Math.LOG10E):!0===n?o?a-(t-e)/i:t/i+a:o?t/i+a:a-(t-e)/i},getCoordinate:function(t,e){if(isNaN(t))return NaN;var i=this.rotate,n=this.reversed,o=this.axisWidth,a=this.stepWidth,r=this.min,s=this.minReal;return!0===this.logarithmic?(0===t&&(t=this.treatZeroAs),r=Math.log(t)*Math.LOG10E-Math.log(s)*Math.LOG10E,i=i?!0===n?o-a*r:a*r:!0===n?a*r:o-a*r):i=!0===n?i?o-a*(t-r):a*(t-r):i?a*(t-r):o-a*(t-r),1e7<Math.abs(i)&&(i=i/Math.abs(i)*1e7),e||(i=Math.round(i)),i},synchronizeWithAxis:function(t){this.synchronizeWith=t,this.listenTo(this.synchronizeWith,"axisChanged",this.handleSynchronization)},handleSynchronization:function(){if(this.synchronizeWith){t.isString(this.synchronizeWith)&&(this.synchronizeWith=this.chart.getValueAxisById(this.synchronizeWith));var e=this.synchronizeWith,i=e.min,n=e.max,e=e.step,o=this.synchronizationMultiplier;o&&(this.min=i*o,this.max=n*o,this.step=e*o,i=Math.abs(Math.log(Math.abs(Math.pow(10,Math.floor(Math.log(Math.abs(this.step))*Math.LOG10E))))*Math.LOG10E),this.maxDecCount=i=Math.round(i),this.draw())}}})}(),function(){var t=window.AmCharts;t.RecAxis=t.Class({construct:function(e){var i=e.chart,n=e.axisThickness,o=e.axisColor,a=e.axisAlpha,r=e.offset,s=e.dx,l=e.dy,d=e.x,c=e.y,h=e.height,u=e.width,f=i.container;"H"==e.orientation?(o=t.line(f,[0,u],[0,0],o,a,n),this.axisWidth=e.width,"bottom"==e.position?(l=n/2+r+h+c-1,n=d):(l=-n/2-r+c+l,n=s+d)):(this.axisWidth=e.height,"right"==e.position?(o=t.line(f,[0,0,-s],[0,h,h-l],o,a,n),l=c+l,n=n/2+r+s+u+d-1):(o=t.line(f,[0,0],[0,h],o,a,n),l=c,n=-n/2-r+d)),o.translate(n,l),n=i.container.set(),n.push(o),i.axesSet.push(n),t.setCN(i,o,e.bcn+"line"),this.axisSet=n,this.set=o}})}(),function(){var t=window.AmCharts;t.RecItem=t.Class({construct:function(e,i,n,o,a,r,s,l,d,c,h,u){i=Math.round(i);var f=e.chart;this.value=n,void 0==n&&(n=""),d||(d=0),void 0==o&&(o=!0);var p=f.fontFamily,m=e.fontSize;void 0==m&&(m=f.fontSize);var g=e.color;void 0==g&&(g=f.color),void 0!==h&&(g=h);var v=e.chart.container,b=v.set();this.set=b;var T=e.axisThickness,E=e.axisColor,C=e.axisAlpha,y=e.tickLength,D=e.gridAlpha,I=e.gridThickness,O=e.gridColor,R=e.dashLength,x=e.fillColor,w=e.fillAlpha,k=e.labelsEnabled;h=e.labelRotationR;var _,S,N=e.counter,K=e.inside,A=e.labelOffset,M=e.dx,L=e.dy,F=e.orientation,P=e.position,B=e.previousCoord,$=e.height,z=e.width,H=e.offset;s?(void 0!==s.id&&(u=f.classNamePrefix+"-guide-"+s.id),k=!0,isNaN(s.tickLength)||(y=s.tickLength),void 0!=s.lineColor&&(O=s.lineColor),void 0!=s.color&&(g=s.color),isNaN(s.lineAlpha)||(D=s.lineAlpha),isNaN(s.dashLength)||(R=s.dashLength),isNaN(s.lineThickness)||(I=s.lineThickness),!0===s.inside&&(K=!0,0<H&&(H=0)),isNaN(s.labelRotation)||(h=s.labelRotation),isNaN(s.fontSize)||(m=s.fontSize),s.position&&(P=s.position),void 0!==s.boldLabel&&(l=s.boldLabel),isNaN(s.labelOffset)||(A=s.labelOffset)):""===n&&(y=0),c&&!isNaN(e.minorTickLength)&&(y=e.minorTickLength);var W="start";0<a&&(W="middle"),e.centerLabels&&(W="middle");var q,j,V=h*Math.PI/180,U=0,Y=0,G=0,X=q=0,Z=0;"V"==F&&(h=0);var Q;k&&""!==n&&(Q=e.autoWrap&&0===h?t.wrappedText(v,n,g,p,m,W,l,Math.abs(a),0):t.text(v,n,g,p,m,W,l),W=Q.getBBox(),X=W.width,Z=W.height),"H"==F?(0<=i&&i<=z+1&&(0<y&&0<C&&i+d<=z+1&&(_=t.line(v,[i+d,i+d],[0,y],E,C,I),b.push(_)),0<D&&(S=t.line(v,[i,i+M,i+M],[$,$+L,L],O,D,I,R),b.push(S))),Y=0,U=i,s&&90==h&&K&&(U-=m),!1===o?(W="start",Y="bottom"==P?K?Y+y:Y-y:K?Y-y:Y+y,U+=3,0<a&&(U+=a/2-3,W="middle"),0<h&&(W="middle")):W="middle",1==N&&0<w&&!s&&!c&&B<z&&(o=t.fitToBounds(i,0,z),B=t.fitToBounds(B,0,z),0<(q=o-B)&&(j=t.rect(v,q,e.height,x,w),j.translate(o-q+M,L),b.push(j))),"bottom"==P?(Y+=$+m/2+H,K?(0<h?(Y=$-X/2*Math.sin(V)-y-3,e.centerRotatedLabels||(U+=X/2*Math.cos(V)-4+2)):0>h?(Y=$+X*Math.sin(V)-y-3+2,U+=-X*Math.cos(V)-Z*Math.sin(V)-4):Y-=y+m+3+3,Y-=A):(0<h?(Y=$+X/2*Math.sin(V)+y+3,e.centerRotatedLabels||(U-=X/2*Math.cos(V))):0>h?(Y=$+y+3-X/2*Math.sin(V)+2,U+=X/2*Math.cos(V)):Y+=y+T+3+3,Y+=A)):(Y+=L+m/2-H,U+=M,K?(0<h?(Y=X/2*Math.sin(V)+y+3,e.centerRotatedLabels||(U-=X/2*Math.cos(V))):Y+=y+3,Y+=A):(0<h?(Y=-X/2*Math.sin(V)-y-6,e.centerRotatedLabels||(U+=X/2*Math.cos(V))):Y-=y+m+3+T+3,Y-=A)),"bottom"==P?q=(K?$-y-1:$+T-1)+H:(G=M,q=(K?L:L-y-T+1)-H),r&&(U+=r),m=U,0<h&&(m+=X/2*Math.cos(V)),Q&&(r=0,K&&(r=X/2*Math.cos(V)),m+r>z+2||0>m)&&(Q.remove(),Q=null)):(0<=i&&i<=$+1&&(0<y&&0<C&&i+d<=$+1&&(_=t.line(v,[0,y+1],[i+d,i+d],E,C,I),b.push(_)),0<D&&(S=t.line(v,[0,M,z+M],[i,i+L,i+L],O,D,I,R),b.push(S))),W="end",(!0===K&&"left"==P||!1===K&&"right"==P)&&(W="start"),Y=i-Z/2+2,1==N&&0<w&&!s&&!c&&(o=t.fitToBounds(i,0,$),B=t.fitToBounds(B,0,$),V=o-B,j=t.polygon(v,[0,e.width,e.width,0],[0,0,V,V],x,w),j.translate(M,o-V+L),b.push(j)),Y+=m/2,"right"==P?(U+=M+z+H,Y+=L,K?(r||(Y-=m/2+3),U=U-(y+4)-A):(U+=y+4+T,Y-=2,U+=A)):K?(U+=y+4-H,r||(Y-=m/2+3),s&&(U+=M,Y+=L),U+=A):(U+=-y-T-4-2-H,Y-=2,U-=A),_&&("right"==P?(G+=M+H+z-1,q+=L,G=K?G-T:G+T):(G-=H,K||(G-=y+T))),r&&(Y+=r),K=-3,"right"==P&&(K+=L),Q&&(Y>$+1||Y<K-m/10)&&(Q.remove(),Q=null)),_&&(_.translate(G,q),t.setCN(f,_,e.bcn+"tick"),t.setCN(f,_,u,!0),s&&t.setCN(f,_,"guide")),!1===e.visible&&(_&&_.remove(),Q&&(Q.remove(),Q=null)),Q&&(Q.attr({"text-anchor":W}),Q.translate(U,Y,NaN,!0),0!==h&&Q.rotate(-h,e.chart.backgroundColor),e.allLabels.push(Q),this.label=Q,t.setCN(f,Q,e.bcn+"label"),t.setCN(f,Q,u,!0),s&&t.setCN(f,Q,"guide")),S&&(t.setCN(f,S,e.bcn+"grid"),t.setCN(f,S,u,!0),s&&t.setCN(f,S,"guide")),j&&(t.setCN(f,j,e.bcn+"fill"),t.setCN(f,j,u,!0)),c?S&&t.setCN(f,S,e.bcn+"grid-minor"):(e.counter=0===N?1:0,e.previousCoord=i),0===this.set.node.childNodes.length&&this.set.remove()},graphics:function(){return this.set},getLabel:function(){return this.label}})}(),function(){var t=window.AmCharts;t.RecFill=t.Class({construct:function(e,i,n,o){var a=e.dx,r=e.dy,s=e.orientation,l=0;if(n<i){var d=i;i=n,n=d}var c=o.fillAlpha;isNaN(c)&&(c=0);var d=e.chart.container,h=o.fillColor;"V"==s?(i=t.fitToBounds(i,0,e.height),n=t.fitToBounds(n,0,e.height)):(i=t.fitToBounds(i,0,e.width),n=t.fitToBounds(n,0,e.width)),n-=i,isNaN(n)&&(n=4,l=2,c=0),0>n&&"object"==typeof h&&(h=h.join(",").split(",").reverse()),"V"==s?(s=t.rect(d,e.width,n,h,c),s.translate(a,i-l+r)):(s=t.rect(d,n,e.height,h,c),s.translate(i-l+a,r)),t.setCN(e.chart,s,"guide-fill"),o.id&&t.setCN(e.chart,s,"guide-fill-"+o.id),this.set=d.set([s])},graphics:function(){return this.set},getLabel:function(){}})}(),function(){var t=window.AmCharts;t.AmChart=t.Class({construct:function(e){this.svgIcons=this.tapToActivate=!0,this.theme=e,this.classNamePrefix="amcharts",this.addClassNames=!1,this.version="3.21.12",t.addChart(this),this.createEvents("buildStarted","dataUpdated","init","rendered","drawn","failed","resized","animationFinished"),this.height=this.width="100%",this.dataChanged=!0,this.chartCreated=!1,this.previousWidth=this.previousHeight=0,this.backgroundColor="#FFFFFF",this.borderAlpha=this.backgroundAlpha=0,this.color=this.borderColor="#000000",this.fontFamily="Verdana",this.fontSize=11,this.usePrefixes=!1,this.autoResize=!0,this.autoDisplay=!1,this.addCodeCredits=this.accessible=!0,this.touchStartTime=this.touchClickDuration=0,this.precision=-1,this.percentPrecision=2,this.decimalSeparator=".",this.thousandsSeparator=",",this.labels=[],this.allLabels=[],this.titles=[],this.marginRight=this.marginLeft=this.autoMarginOffset=0,this.timeOuts=[],this.creditsPosition="top-left";var i=document.createElement("div"),n=i.style;n.overflow="hidden",n.position="relative",n.textAlign="left",this.chartDiv=i,i=document.createElement("div"),n=i.style,n.overflow="hidden",n.position="relative",n.textAlign="left",this.legendDiv=i,this.titleHeight=0,this.hideBalloonTime=150,this.handDrawScatter=2,this.cssScale=this.handDrawThickness=1,this.cssAngle=0,this.prefixesOfBigNumbers=[{number:1e3,prefix:"k"},{number:1e6,prefix:"M"},{number:1e9,prefix:"G"},{number:1e12,prefix:"T"},{number:1e15,prefix:"P"},{number:1e18,prefix:"E"},{number:1e21,prefix:"Z"},{number:1e24,prefix:"Y"}],this.prefixesOfSmallNumbers=[{number:1e-24,prefix:"y"},{number:1e-21,prefix:"z"},{number:1e-18,prefix:"a"},{number:1e-15,prefix:"f"},{number:1e-12,prefix:"p"},{number:1e-9,prefix:"n"},{number:1e-6,prefix:"\u03bc"},{number:.001,prefix:"m"}],this.panEventsEnabled=!0,this.product="amcharts",this.animations=[],this.balloon=new t.AmBalloon(this.theme),this.balloon.chart=this,this.processTimeout=0,this.processCount=1e3,this.animatable=[],this.langObj={},t.applyTheme(this,e,"AmChart")},drawChart:function(){0<this.realWidth&&0<this.realHeight&&(this.drawBackground(),this.redrawLabels(),this.drawTitles(),this.brr(),this.renderFix(),this.chartDiv&&(this.boundingRect=this.chartDiv.getBoundingClientRect()))},makeAccessible:function(t,e,i){this.accessible&&t&&(i&&t.setAttr("role",i),t.setAttr("aria-label",e))},drawBackground:function(){t.remove(this.background);var e=this.container,i=this.backgroundColor,n=this.backgroundAlpha,o=this.set;t.isModern||0!==n||(n=.001);var a=this.updateWidth();this.realWidth=a;var r=this.updateHeight();this.realHeight=r,i=t.polygon(e,[0,a-1,a-1,0],[0,0,r-1,r-1],i,n,1,this.borderColor,this.borderAlpha),t.setCN(this,i,"bg"),this.background=i,o.push(i),(i=this.backgroundImage)&&(e=e.image(i,0,0,a,r),t.setCN(this,i,"bg-image"),this.bgImg=e,o.push(e))},drawTitles:function(e){var i=this.titles;if(this.titleHeight=0,t.ifArray(i)){var n,o=20;for(n=0;n<i.length;n++){var a=i[n],a=t.processObject(a,t.Title,this.theme);if(!1!==a.enabled){var r=a.color;void 0===r&&(r=this.color);var s=a.size;isNaN(s)&&(s=this.fontSize+2),isNaN(a.alpha);var l=this.marginLeft,d=!0;void 0!==a.bold&&(d=a.bold),r=t.wrappedText(this.container,a.text,r,this.fontFamily,s,"middle",d,this.realWidth-35-this.marginRight-l),r.translate(l+(this.realWidth-this.marginRight-l)/2,o),r.node.style.pointerEvents="none",a.sprite=r,void 0!==a.tabIndex&&r.setAttr("tabindex",a.tabIndex),t.setCN(this,r,"title"),a.id&&t.setCN(this,r,"title-"+a.id),r.attr({opacity:a.alpha}),o+=r.getBBox().height+5,e?r.remove():this.freeLabelsSet.push(r)}}this.titleHeight=o-10}},write:function(t){var e=this;if(e.listeners)for(var i=0;i<e.listeners.length;i++){var n=e.listeners[i];e.addListener(n.event,n.method)}e.fire({type:"buildStarted",chart:e}),e.afterWriteTO&&clearTimeout(e.afterWriteTO),0<e.processTimeout?e.afterWriteTO=setTimeout(function(){e.afterWrite.call(e,t)},e.processTimeout):e.afterWrite(t)},afterWrite:function(e){var i;if(i="object"!=typeof e?document.getElementById(e):e){for(;i.firstChild;)i.removeChild(i.firstChild);this.div=i,i.style.overflow="hidden",i.style.textAlign="left",e=this.chartDiv;var n=this.legendDiv,o=this.legend,a=n.style,r=e.style;this.measure(),this.previousHeight=this.divRealHeight,this.previousWidth=this.divRealWidth;var s,l=document.createElement("div");if(s=l.style,s.position="relative",this.containerDiv=l,l.className=this.classNamePrefix+"-main-div",e.className=this.classNamePrefix+"-chart-div",i.appendChild(l),(i=this.exportConfig)&&t.AmExport&&!this.AmExport&&(this.AmExport=new t.AmExport(this,i)),this.amExport&&t.AmExport&&(this.AmExport=t.extend(this.amExport,new t.AmExport(this),!0)),this.AmExport&&this.AmExport.init&&this.AmExport.init(),o){if(o=this.addLegend(o,o.divId),o.enabled)switch(a.left=null,a.top=null,a.right=null,r.left=null,r.right=null,r.top=null,a.position="relative",r.position="relative",s.width="100%",s.height="100%",o.position){case"bottom":l.appendChild(e),l.appendChild(n);break;case"top":l.appendChild(n),l.appendChild(e);break;case"absolute":a.position="absolute",r.position="absolute",void 0!==o.left&&(a.left=o.left+"px"),void 0!==o.right&&(a.right=o.right+"px"),void 0!==o.top&&(a.top=o.top+"px"),void 0!==o.bottom&&(a.bottom=o.bottom+"px"),o.marginLeft=0,o.marginRight=0,l.appendChild(e),l.appendChild(n);break;case"right":a.position="relative",r.position="absolute",l.appendChild(e),l.appendChild(n);break;case"left":a.position="absolute",r.position="relative",l.appendChild(e),l.appendChild(n);break;case"outside":l.appendChild(e)}else l.appendChild(e);this.prevLegendPosition=o.position}else l.appendChild(e);this.listenersAdded||(this.addListeners(),this.listenersAdded=!0),(this.mouseWheelScrollEnabled||this.mouseWheelZoomEnabled)&&t.addWheelListeners(),this.initChart()}},createLabelsSet:function(){t.remove(this.labelsSet),this.labelsSet=this.container.set(),this.freeLabelsSet.push(this.labelsSet)},initChart:function(){this.balloon=t.processObject(this.balloon,t.AmBalloon,this.theme),window.AmCharts_path&&(this.path=window.AmCharts_path),void 0===this.path&&(this.path=t.getPath()),void 0===this.path&&(this.path="amcharts/"),this.path=t.normalizeUrl(this.path),void 0===this.pathToImages&&(this.pathToImages=this.path+"images/"),this.initHC||(t.callInitHandler(this),this.initHC=!0),t.applyLang(this.language,this);var e=this.numberFormatter;e&&(isNaN(e.precision)||(this.precision=e.precision),void 0!==e.thousandsSeparator&&(this.thousandsSeparator=e.thousandsSeparator),void 0!==e.decimalSeparator&&(this.decimalSeparator=e.decimalSeparator)),(e=this.percentFormatter)&&!isNaN(e.precision)&&(this.percentPrecision=e.precision),this.nf={precision:this.precision,thousandsSeparator:this.thousandsSeparator,decimalSeparator:this.decimalSeparator},this.pf={precision:this.percentPrecision,thousandsSeparator:this.thousandsSeparator,decimalSeparator:this.decimalSeparator},this.destroy(),(e=this.container)?(e.container.innerHTML="",e.width=this.realWidth,e.height=this.realHeight,e.addDefs(this),this.chartDiv.appendChild(e.container)):e=new t.AmDraw(this.chartDiv,this.realWidth,this.realHeight,this),this.container=e,this.extension=".png",this.svgIcons&&t.SVG&&(this.extension=".svg"),this.checkDisplay(),this.checkTransform(this.div),e.chart=this,t.VML||t.SVG?(e.handDrawn=this.handDrawn,e.handDrawScatter=this.handDrawScatter,e.handDrawThickness=this.handDrawThickness,t.remove(this.set),
this.set=e.set(),t.remove(this.gridSet),this.gridSet=e.set(),t.remove(this.cursorLineSet),this.cursorLineSet=e.set(),t.remove(this.graphsBehindSet),this.graphsBehindSet=e.set(),t.remove(this.bulletBehindSet),this.bulletBehindSet=e.set(),t.remove(this.columnSet),this.columnSet=e.set(),t.remove(this.graphsSet),this.graphsSet=e.set(),t.remove(this.trendLinesSet),this.trendLinesSet=e.set(),t.remove(this.axesSet),this.axesSet=e.set(),t.remove(this.cursorSet),this.cursorSet=e.set(),t.remove(this.scrollbarsSet),this.scrollbarsSet=e.set(),t.remove(this.bulletSet),this.bulletSet=e.set(),t.remove(this.freeLabelsSet),this.freeLabelsSet=e.set(),t.remove(this.axesLabelsSet),this.axesLabelsSet=e.set(),t.remove(this.balloonsSet),this.balloonsSet=e.set(),t.remove(this.plotBalloonsSet),this.plotBalloonsSet=e.set(),t.remove(this.zoomButtonSet),this.zoomButtonSet=e.set(),t.remove(this.zbSet),this.zbSet=null,t.remove(this.linkSet),this.linkSet=e.set()):this.fire({type:"failed",chart:this})},premeasure:function(){var t=this.div;if(t){try{this.boundingRect=this.chartDiv.getBoundingClientRect()}catch(t){}var e=t.offsetWidth,i=t.offsetHeight;t.clientHeight&&(e=t.clientWidth,i=t.clientHeight),e==this.mw&&i==this.mh||(this.mw=e,this.mh=i,this.measure())}},measure:function(){var e=this.div;if(e){var i=this.chartDiv,n=e.offsetWidth,o=e.offsetHeight,a=this.container;e.clientHeight&&(n=e.clientWidth,o=e.clientHeight);var o=Math.round(o),n=Math.round(n),e=Math.round(t.toCoordinate(this.width,n)),r=Math.round(t.toCoordinate(this.height,o));(n!=this.previousWidth||o!=this.previousHeight)&&0<e&&0<r&&(i.style.width=e+"px",i.style.height=r+"px",i.style.padding=0,a&&a.setSize(e,r),this.balloon=t.processObject(this.balloon,t.AmBalloon,this.theme)),this.balloon&&this.balloon.setBounds&&this.balloon.setBounds(2,2,e-2,r),this.updateWidth(),this.balloon.chart=this,this.realWidth=e,this.realHeight=r,this.divRealWidth=n,this.divRealHeight=o}},checkDisplay:function(){if(this.autoDisplay&&this.container){var e=t.rect(this.container,10,10),i=e.getBBox();0===i.width&&0===i.height&&(this.divRealHeight=this.divRealWidth=this.realHeight=this.realWidth=0,this.previousWidth=this.previousHeight=NaN),e.remove()}},checkTransform:function(t){if(this.autoTransform&&window.getComputedStyle&&t){if(t.style){var e=window.getComputedStyle(t,null);if(e&&(e=e.getPropertyValue("-webkit-transform")||e.getPropertyValue("-moz-transform")||e.getPropertyValue("-ms-transform")||e.getPropertyValue("-o-transform")||e.getPropertyValue("transform"))&&"none"!==e){var i=e.split("(")[1].split(")")[0].split(","),e=i[0],i=i[1],e=Math.sqrt(e*e+i*i);isNaN(e)||(this.cssScale*=e)}}t.parentNode&&this.checkTransform(t.parentNode)}},destroy:function(){this.chartDiv.innerHTML="",this.clearTimeOuts(),this.legend&&this.legend.destroy()},clearTimeOuts:function(){var t=this.timeOuts;if(t){var e;for(e=0;e<t.length;e++)clearTimeout(t[e])}this.timeOuts=[]},clear:function(e){try{document.removeEventListener("touchstart",this.docfn1,!0),document.removeEventListener("touchend",this.docfn2,!0)}catch(t){}if(t.callMethod("clear",[this.chartScrollbar,this.scrollbarV,this.scrollbarH,this.chartCursor]),this.chartCursor=this.scrollbarH=this.scrollbarV=this.chartScrollbar=null,this.clearTimeOuts(),this.container&&(this.container.remove(this.chartDiv),this.container.remove(this.legendDiv)),e||t.removeChart(this),e=this.div)for(;e.firstChild;)e.removeChild(e.firstChild);this.legend&&this.legend.destroy(),this.AmExport&&this.AmExport.clear&&this.AmExport.clear()},setMouseCursor:function(e){"auto"==e&&t.isNN&&(e="default"),this.chartDiv.style.cursor=e,this.legendDiv.style.cursor=e},redrawLabels:function(){this.labels=[];var t=this.allLabels;this.createLabelsSet();var e;for(e=0;e<t.length;e++)this.drawLabel(t[e])},drawLabel:function(e){var i=this;if(i.container&&!1!==e.enabled){e=t.processObject(e,t.Label,i.theme);var n=e.y,o=e.text,a=e.align,r=e.size,s=e.color,l=e.rotation,d=e.alpha,c=e.bold,h=t.toCoordinate(e.x,i.realWidth),n=t.toCoordinate(n,i.realHeight);h||(h=0),n||(n=0),void 0===s&&(s=i.color),isNaN(r)&&(r=i.fontSize),a||(a="start"),"left"==a&&(a="start"),"right"==a&&(a="end"),"center"==a&&(a="middle",l?n=i.realHeight-n+n/2:h=i.realWidth/2-h),void 0===d&&(d=1),void 0===l&&(l=0),n+=r/2,o=t.text(i.container,o,s,i.fontFamily,r,a,c,d),o.translate(h,n),void 0!==e.tabIndex&&o.setAttr("tabindex",e.tabIndex),t.setCN(i,o,"label"),e.id&&t.setCN(i,o,"label-"+e.id),0!==l&&o.rotate(l),e.url?(o.setAttr("cursor","pointer"),o.click(function(){t.getURL(e.url,i.urlTarget)})):o.node.style.pointerEvents="none",i.labelsSet.push(o),i.labels.push(o)}},addLabel:function(t,e,i,n,o,a,r,s,l,d){t={x:t,y:e,text:i,align:n,size:o,color:a,alpha:s,rotation:r,bold:l,url:d,enabled:!0},this.container&&this.drawLabel(t),this.allLabels.push(t)},clearLabels:function(){var t,e=this.labels;for(t=e.length-1;0<=t;t--)e[t].remove();this.labels=[],this.allLabels=[]},updateHeight:function(){var t=this.divRealHeight,e=this.legend;if(e){var i=this.legendDiv.offsetHeight,e=e.position;"top"!=e&&"bottom"!=e||(t-=i,(0>t||isNaN(t))&&(t=0),this.chartDiv.style.height=t+"px")}return t},updateWidth:function(){var t=this.divRealWidth,e=this.divRealHeight,i=this.legend;if(i){var n=this.legendDiv,o=n.offsetWidth;isNaN(i.width)||(o=i.width),i.ieW&&(o=i.ieW);var a=n.offsetHeight,n=n.style,r=this.chartDiv.style,s=i.position;"right"!=s&&"left"!=s||void 0!==i.divId||(t-=o,(0>t||isNaN(t))&&(t=0),r.width=t+"px",this.balloon&&this.balloon.setBounds&&this.balloon.setBounds(2,2,t-2,this.realHeight),"left"==s?(r.left=o+"px",n.left="0px"):(r.left="0px",n.left=t+"px"),e>a&&(n.top=(e-a)/2+"px"))}return t},getTitleHeight:function(){return this.drawTitles(!0),this.titleHeight},addTitle:function(t,e,i,n,o){return isNaN(e)&&(e=this.fontSize+2),t={text:t,size:e,color:i,alpha:n,bold:o,enabled:!0},this.titles.push(t),t},handleWheel:function(t){var e=0;t||(t=window.event),t.wheelDelta?e=t.wheelDelta/120:t.detail&&(e=-t.detail/3),e&&this.handleWheelReal(e,t.shiftKey),t.preventDefault&&t.preventDefault()},handleWheelReal:function(){},handleDocTouchStart:function(){this.handleMouseMove(),this.tmx=this.mouseX,this.tmy=this.mouseY,this.touchStartTime=(new Date).getTime()},handleDocTouchEnd:function(){-.5<this.tmx&&this.tmx<this.divRealWidth+1&&0<this.tmy&&this.tmy<this.divRealHeight?(this.handleMouseMove(),4>Math.abs(this.mouseX-this.tmx)&&4>Math.abs(this.mouseY-this.tmy)?(this.tapped=!0,this.panRequired&&this.panEventsEnabled&&this.chartDiv&&(this.chartDiv.style.msTouchAction="none",this.chartDiv.style.touchAction="none")):this.mouseIsOver||this.resetTouchStyle()):(this.tapped=!1,this.resetTouchStyle())},resetTouchStyle:function(){this.panEventsEnabled&&this.chartDiv&&(this.chartDiv.style.msTouchAction="auto",this.chartDiv.style.touchAction="auto")},checkTouchDuration:function(t){var e=this,i=(new Date).getTime();if(t)if(t.touches)e.isTouchEvent=!0;else if(!e.isTouchEvent)return!0;if(i-e.touchStartTime>e.touchClickDuration)return!0;setTimeout(function(){e.resetTouchDuration()},300)},resetTouchDuration:function(){this.isTouchEvent=!1},checkTouchMoved:function(){if(4<Math.abs(this.mouseX-this.tmx)||4<Math.abs(this.mouseY-this.tmy))return!0},addListeners:function(){var t=this,e=t.chartDiv;document.addEventListener?("ontouchstart"in document.documentElement&&(e.addEventListener("touchstart",function(e){t.handleTouchStart.call(t,e)},!0),e.addEventListener("touchmove",function(e){t.handleMouseMove.call(t,e)},!0),e.addEventListener("touchend",function(e){t.handleTouchEnd.call(t,e)},!0),t.docfn1=function(e){t.handleDocTouchStart.call(t,e)},t.docfn2=function(e){t.handleDocTouchEnd.call(t,e)},document.addEventListener("touchstart",t.docfn1,!0),document.addEventListener("touchend",t.docfn2,!0)),e.addEventListener("mousedown",function(e){t.mouseIsOver=!0,t.handleMouseMove.call(t,e),t.handleMouseDown.call(t,e),t.handleDocTouchStart.call(t,e)},!0),e.addEventListener("mouseover",function(e){t.handleMouseOver.call(t,e)},!0),e.addEventListener("mouseout",function(e){t.handleMouseOut.call(t,e)},!0),e.addEventListener("mouseup",function(e){t.handleDocTouchEnd.call(t,e)},!0)):(e.attachEvent("onmousedown",function(e){t.handleMouseDown.call(t,e)}),e.attachEvent("onmouseover",function(e){t.handleMouseOver.call(t,e)}),e.attachEvent("onmouseout",function(e){t.handleMouseOut.call(t,e)}))},dispDUpd:function(){this.skipEvents||(this.dispatchDataUpdated&&(this.dispatchDataUpdated=!1,this.fire({type:"dataUpdated",chart:this})),this.chartCreated||(this.chartCreated=!0,this.fire({type:"init",chart:this})),this.chartRendered||(this.fire({type:"rendered",chart:this}),this.chartRendered=!0),this.fire({type:"drawn",chart:this})),this.skipEvents=!1},validateSize:function(){var t=this;if(t.premeasure(),t.checkDisplay(),t.cssScale=1,t.cssAngle=0,t.checkTransform(t.div),t.divRealWidth!=t.previousWidth||t.divRealHeight!=t.previousHeight){var e=t.legend;if(0<t.realWidth&&0<t.realHeight){if(t.sizeChanged=!0,e){t.legendInitTO&&clearTimeout(t.legendInitTO);var i=setTimeout(function(){e.invalidateSize()},10);t.timeOuts.push(i),t.legendInitTO=i}t.marginsUpdated=!1,clearTimeout(t.initTO),i=setTimeout(function(){t.initChart()},10),t.timeOuts.push(i),t.initTO=i}t.renderFix(),e&&e.renderFix&&e.renderFix(),t.positionCred(),clearTimeout(t.resizedTO),t.resizedTO=setTimeout(function(){t.fire({type:"resized",chart:t})},10),t.previousHeight=t.divRealHeight,t.previousWidth=t.divRealWidth}},invalidateSize:function(){this.previousHeight=this.previousWidth=NaN,this.invalidateSizeReal()},invalidateSizeReal:function(){var t=this;t.marginsUpdated=!1,clearTimeout(t.validateTO);var e=setTimeout(function(){t.validateSize()},5);t.timeOuts.push(e),t.validateTO=e},validateData:function(t){this.chartCreated&&(this.dataChanged=!0,this.marginsUpdated=!1,this.initChart(t))},validateNow:function(t,e){this.initTO&&clearTimeout(this.initTO),t&&(this.dataChanged=!0,this.marginsUpdated=!1),this.skipEvents=e,this.chartRendered=!1;var i=this.legend;i&&i.position!=this.prevLegendPosition&&(this.previousWidth=this.mw=0,i.invalidateSize&&(i.invalidateSize(),this.validateSize())),this.write(this.div)},showItem:function(t){t.hidden=!1,this.initChart()},hideItem:function(t){t.hidden=!0,this.initChart()},hideBalloon:function(){var t=this;clearTimeout(t.hoverInt),clearTimeout(t.balloonTO),t.hoverInt=setTimeout(function(){t.hideBalloonReal.call(t)},t.hideBalloonTime)},cleanChart:function(){},hideBalloonReal:function(){var t=this.balloon;t&&t.hide&&t.hide()},showBalloon:function(t,e,i,n,o){var a=this;clearTimeout(a.balloonTO),clearTimeout(a.hoverInt),a.balloonTO=setTimeout(function(){a.showBalloonReal.call(a,t,e,i,n,o)},1)},showBalloonReal:function(t,e,i,n,o){this.handleMouseMove();var a=this.balloon;a.enabled&&(a.followCursor(!1),a.changeColor(e),!i||a.fixedPosition?(a.setPosition(n,o),isNaN(n)||isNaN(o)?a.followCursor(!0):a.followCursor(!1)):a.followCursor(!0),t&&a.showBalloon(t))},handleMouseOver:function(){this.outTO&&clearTimeout(this.outTO),t.resetMouseOver(),this.mouseIsOver=!0},handleMouseOut:function(){var e=this;t.resetMouseOver(),e.outTO&&clearTimeout(e.outTO),e.outTO=setTimeout(function(){e.handleMouseOutReal()},10)},handleMouseOutReal:function(){this.mouseIsOver=!1},handleMouseMove:function(t){t||(t=window.event),this.mouse2Y=this.mouse2X=NaN;var e,i,n,o;if(t){if(t.touches){var a=t.touches.item(1);if(a&&this.panEventsEnabled&&this.boundingRect&&(n=a.clientX-this.boundingRect.left,o=a.clientY-this.boundingRect.top),!(t=t.touches.item(0)))return}else this.wasTouched=!1;this.boundingRect&&t.clientX&&(e=t.clientX-this.boundingRect.left,i=t.clientY-this.boundingRect.top),isNaN(n)?this.mouseX=e:(this.mouseX=Math.min(e,n),this.mouse2X=Math.max(e,n)),isNaN(o)?this.mouseY=i:(this.mouseY=Math.min(i,o),this.mouse2Y=Math.max(i,o)),this.autoTransform&&(this.mouseX/=this.cssScale,this.mouseY/=this.cssScale)}},handleTouchStart:function(t){this.hideBalloonReal(),t&&(t.touches&&this.tapToActivate&&!this.tapped||!this.panRequired)||(this.handleMouseMove(t),this.handleMouseDown(t))},handleTouchEnd:function(e){this.wasTouched=!0,this.handleMouseMove(e),t.resetMouseOver(),this.handleReleaseOutside(e)},handleReleaseOutside:function(){this.handleDocTouchEnd.call(this)},handleMouseDown:function(e){t.resetMouseOver(),this.mouseIsOver=!0,e&&e.preventDefault&&(this.panEventsEnabled?e.preventDefault():e.touches||e.preventDefault())},addLegend:function(e,i){e=t.processObject(e,t.AmLegend,this.theme),e.divId=i,e.ieW=0;var n;return n="object"!=typeof i&&i?document.getElementById(i):i,this.legend=e,e.chart=this,n?(e.div=n,e.position="outside",e.autoMargins=!1):e.div=this.legendDiv,e},removeLegend:function(){this.legend=void 0,this.previousWidth=0,this.legendDiv.innerHTML=""},handleResize:function(){(t.isPercents(this.width)||t.isPercents(this.height))&&this.invalidateSizeReal(),this.renderFix()},renderFix:function(){if(!t.VML){var e=this.container;e&&e.renderFix()}},getSVG:function(){if(t.hasSVG)return this.container},animate:function(e,i,n,o,a,r,s){return e["an_"+i]&&t.removeFromArray(this.animations,e["an_"+i]),n={obj:e,frame:0,attribute:i,from:n,to:o,time:a,effect:r,suffix:s},e["an_"+i]=n,this.animations.push(n),n},setLegendData:function(t){var e=this.legend;e&&e.setData(t)},stopAnim:function(e){t.removeFromArray(this.animations,e)},updateAnimations:function(){var e;if(this.container&&this.container.update(),this.animations)for(e=this.animations.length-1;0<=e;e--){var i=this.animations[e],n=t.updateRate*i.time,o=i.frame+1,a=i.obj,r=i.attribute;if(o<=n){i.frame++;var s=Number(i.from),l=Number(i.to)-s,n=t[i.effect](0,o,s,l,n);0===l?(this.animations.splice(e,1),a.node.style[r]=Number(i.to)+i.suffix):a.node.style[r]=n+i.suffix}else a.node.style[r]=Number(i.to)+i.suffix,a.animationFinished=!0,this.animations.splice(e,1)}},update:function(){this.updateAnimations();var t=this.animatable;if(0<t.length){for(var e=!0,i=t.length-1;0<=i;i--){var n=t[i];n&&(n.animationFinished?t.splice(i,1):e=!1)}e&&(this.fire({type:"animationFinished",chart:this}),this.animatable=[])}},inIframe:function(){try{return window.self!==window.top}catch(t){return!0}},brr:function(){if(!this.hideCredits){var t,e="amcharts.com",i=window.location.hostname.split(".");if(2<=i.length&&(t=i[i.length-2]+"."+i[i.length-1]),this.amLink&&(i=this.amLink.parentNode)&&i.removeChild(this.amLink),t!=e||!0===this.inIframe()){t=e="http://www."+e;var i="JavaScript charts",n="JS chart by amCharts";"ammap"==this.product&&(t=e+"/javascript-maps/",i="Interactive JavaScript maps",n="JS map by amCharts"),e=document.createElement("a"),n=document.createTextNode(n),e.setAttribute("href",t),e.setAttribute("title",i),this.urlTarget&&e.setAttribute("target",this.urlTarget),e.appendChild(n),this.chartDiv.appendChild(e),this.amLink=e,e=e.style,e.position="absolute",e.textDecoration="none",e.color=this.color,e.fontFamily=this.fontFamily,e.fontSize="11px",e.opacity=.7,e.display="block",this.positionCred()}}},positionCred:function(){var t=this.amLink;if(t){var e=this.creditsPosition,i=t.style,n=t.offsetWidth,t=t.offsetHeight,o=0,a=0,r=this.realWidth,s=this.realHeight,l=this.type;"serial"!=l&&"xy"!=l&&"gantt"!=l||(o=this.marginLeftReal,a=this.marginTopReal,r=o+this.plotAreaWidth,s=a+this.plotAreaHeight);var l=5+o,d=a+5;"bottom-left"==e&&(l=5+o,d=s-t-3),"bottom-right"==e&&(l=r-n-5,d=s-t-3),"top-right"==e&&(l=r-n-5,d=a+5),i.left=l+"px",i.top=d+"px"}}}),t.Slice=t.Class({construct:function(){}}),t.SerialDataItem=t.Class({construct:function(){}}),t.GraphDataItem=t.Class({construct:function(){}}),t.Guide=t.Class({construct:function(e){this.cname="Guide",t.applyTheme(this,e,this.cname)}}),t.Title=t.Class({construct:function(e){this.cname="Title",t.applyTheme(this,e,this.cname)}}),t.Label=t.Class({construct:function(e){this.cname="Label",t.applyTheme(this,e,this.cname)}})}(),function(){var t=window.AmCharts;t.AmGraph=t.Class({construct:function(e){this.cname="AmGraph",this.createEvents("rollOverGraphItem","rollOutGraphItem","clickGraphItem","doubleClickGraphItem","rightClickGraphItem","clickGraph","rollOverGraph","rollOutGraph"),this.type="line",this.stackable=!0,this.columnCount=1,this.columnIndex=0,this.centerCustomBullets=this.showBalloon=!0,this.maxBulletSize=50,this.minBulletSize=4,this.balloonText="[[value]]",this.hidden=this.scrollbar=this.animationPlayed=!1,this.pointPosition="middle",this.depthCount=1,this.includeInMinMax=!0,this.negativeBase=0,this.visibleInLegend=!0,this.showAllValueLabels=!1,this.showBulletsAt=this.showBalloonAt="close",this.lineThickness=1,this.dashLength=0,this.connect=!0,this.lineAlpha=1,this.bullet="none",this.bulletBorderThickness=2,this.bulletBorderAlpha=0,this.bulletAlpha=1,this.bulletSize=8,this.cornerRadiusTop=this.hideBulletsCount=this.bulletOffset=0,this.cursorBulletAlpha=1,this.gradientOrientation="vertical",this.dy=this.dx=0,this.periodValue="",this.clustered=!0,this.periodSpan=1,this.accessibleLabel="[[title]] [[category]] [[value]]",this.accessibleSkipText="Press enter to skip [[title]]",this.y=this.x=0,this.switchable=!0,this.minDistance=.8,this.tcc=1,this.labelRotation=0,this.labelAnchor="auto",this.labelOffset=3,this.bcn="graph-",this.dateFormat="MMM DD, YYYY",this.noRounding=!0,t.applyTheme(this,e,this.cname)},init:function(){this.createBalloon()},draw:function(){var e=this.chart;e.isRolledOverBullet=!1;var i=e.type;if(e.drawGraphs){isNaN(this.precision)||(this.numberFormatter?this.numberFormatter.precision=this.precision:this.numberFormatter={precision:this.precision,decimalSeparator:e.decimalSeparator,thousandsSeparator:e.thousandsSeparator});var n=e.container;this.container=n,this.destroy();var o=n.set();this.set=o,o.translate(this.x,this.y);var a=n.set();this.bulletSet=a,a.translate(this.x,this.y),this.behindColumns?(e.graphsBehindSet.push(o),e.bulletBehindSet.push(a)):(e.graphsSet.push(o),e.bulletSet.push(a));var r=this.bulletAxis;t.isString(r)&&(this.bulletAxis=e.getValueAxisById(r)),n=n.set(),t.remove(this.columnsSet),this.columnsSet=n,t.setCN(e,o,"graph-"+this.type),t.setCN(e,o,"graph-"+this.id),t.setCN(e,a,"graph-"+this.type),t.setCN(e,a,"graph-"+this.id),this.columnsArray=[],this.ownColumns=[],this.allBullets=[],this.animationArray=[],a=this.labelPosition,a||(r=this.valueAxis.stackType,a="top","column"==this.type&&(e.rotate&&(a="right"),"100%"==r||"regular"==r)&&(a="middle"),this.labelPosition=a),t.ifArray(this.data)&&(e=!1,"xy"==i?this.xAxis.axisCreated&&this.yAxis.axisCreated&&(e=!0):this.valueAxis.axisCreated&&(e=!0),!this.hidden&&e&&this.createGraph()),o.push(n)}},createGraph:function(){var e=this,i=e.chart;e.startAlpha=i.startAlpha,e.seqAn=i.sequencedAnimation,e.baseCoord=e.valueAxis.baseCoord,void 0===e.fillAlphas&&(e.fillAlphas=0),e.bulletColorR=e.bulletColor,void 0===e.bulletColorR&&(e.bulletColorR=e.lineColorR,e.bulletColorNegative=e.negativeLineColor),void 0===e.bulletAlpha&&(e.bulletAlpha=e.lineAlpha),("step"==n||t.VML)&&(e.noRounding=!1);var n=i.type;if("gantt"==n&&(n="serial"),clearTimeout(e.playedTO),!isNaN(e.valueAxis.min)&&!isNaN(e.valueAxis.max)){switch(n){case"serial":e.categoryAxis&&(e.createSerialGraph(),"candlestick"==e.type&&1>e.valueAxis.minMaxMultiplier&&e.positiveClip(e.set));break;case"radar":e.createRadarGraph();break;case"xy":e.createXYGraph()}e.playedTO=setTimeout(function(){e.setAnimationPlayed.call(e)},500*e.chart.startDuration)}},setAnimationPlayed:function(){this.animationPlayed=!0},createXYGraph:function(){var t=[],e=[],i=this.xAxis,n=this.yAxis;this.pmh=n.height,this.pmw=i.width,this.pmy=this.pmx=0;var o;for(o=this.start;o<=this.end;o++){var a=this.data[o].axes[i.id].graphs[this.id],r=a.values,s=r.x,l=r.y,r=i.getCoordinate(s,this.noRounding),d=n.getCoordinate(l,this.noRounding);if(!isNaN(s)&&!isNaN(l)&&(t.push(r),e.push(d),a.x=r,a.y=d,s=this.createBullet(a,r,d,o),l=this.labelText)){var l=this.createLabel(a,l),c=0;s&&(c=s.size),this.positionLabel(a,r,d,l,c)}}this.drawLineGraph(t,e),this.launchAnimation()},createRadarGraph:function(){var t,e,i,n,o,a=this.valueAxis.stackType,r=[],s=[],l=[],d=[];for(o=this.start;o<=this.end;o++){var c,h,u=this.data[o].axes[this.valueAxis.id].graphs[this.id];if("none"==a||"3d"==a?c=u.values.value:(c=u.values.close,h=u.values.open),isNaN(c))this.connect||(this.drawLineGraph(r,s,l,d),r=[],s=[],l=[],d=[]);else{var f=this.valueAxis.getCoordinate(c,this.noRounding)-this.height,f=f*this.valueAxis.rMultiplier,p=-360/(this.end-this.start+1)*o;if("middle"==this.valueAxis.pointPosition&&(p-=180/(this.end-this.start+1)),c=f*Math.sin(p/180*Math.PI),f*=Math.cos(p/180*Math.PI),r.push(c),s.push(f),!isNaN(h)){var m=this.valueAxis.getCoordinate(h,this.noRounding)-this.height,m=m*this.valueAxis.rMultiplier,g=m*Math.sin(p/180*Math.PI),p=m*Math.cos(p/180*Math.PI);l.push(g),d.push(p),isNaN(i)&&(i=g),isNaN(n)&&(n=p)}p=this.createBullet(u,c,f,o),u.x=c,u.y=f,(g=this.labelText)&&(g=this.createLabel(u,g),m=0,p&&(m=p.size),this.positionLabel(u,c,f,g,m)),isNaN(t)&&(t=c),isNaN(e)&&(e=f)}}r.push(t),s.push(e),isNaN(i)||(l.push(i),d.push(n)),this.drawLineGraph(r,s,l,d),this.launchAnimation()},positionLabel:function(t,e,i,n,o){if(n){var a=this.chart,r=this.valueAxis,s="middle",l=!1,d=this.labelPosition,c=n.getBBox(),h=this.chart.rotate,u=t.isNegative,f=this.fontSize;switch(void 0===f&&(f=this.chart.fontSize),i-=c.height/2-f/2-1,void 0!==t.labelIsNegative&&(u=t.labelIsNegative),d){case"right":d=h&&u?"left":"right";break;case"top":d=h?"top":u?"bottom":"top";break;case"bottom":d=h?"bottom":u?"top":"bottom";break;case"left":d=h&&u?"right":"left"}var f=t.columnGraphics,p=0,m=0;f&&(p=f.x,m=f.y);var g=this.labelOffset;switch(d){case"right":s="start",e+=o/2+g;break;case"top":i=r.reversed?i+(o/2+c.height/2+g):i-(o/2+c.height/2+g);break;case"bottom":i=r.reversed?i-(o/2+c.height/2+g):i+(o/2+c.height/2+g);break;case"left":s="end",e-=o/2+g;break;case"inside":"column"==this.type&&(l=!0,h?u?(s="end",e=p-3-g):(s="start",e=p+3+g):i=u?m+7+g:m-10-g);break;case"middle":"column"==this.type&&(l=!0,h?e-=(e-p)/2+g-3:i-=(i-m)/2+g-3)}return"auto"!=this.labelAnchor&&(s=this.labelAnchor),n.attr({"text-anchor":s}),this.labelRotation&&n.rotate(this.labelRotation),n.translate(e,i),!this.showAllValueLabels&&f&&l&&(c=n.getBBox(),c.height>t.columnHeight||c.width>t.columnWidth)&&(n.remove(),n=null),n&&"radar"!=a.type&&(h?((0>i||i>this.height)&&(n.remove(),n=null),!this.showAllValueLabels&&n&&(0>e||e>this.width)&&(n.remove(),n=null)):((0>e||e>this.width)&&(n.remove(),n=null),!this.showAllValueLabels&&n&&(0>i||i>this.height)&&(n.remove(),n=null))),n&&this.allBullets.push(n),n}},getGradRotation:function(){var t=270;return"horizontal"==this.gradientOrientation&&(t=0),this.gradientRotation=t},createSerialGraph:function(){this.dashLengthSwitched=this.fillColorsSwitched=this.lineColorSwitched=void 0;var e=this.chart,i=this.id,n=this.index,o=this.data,a=this.chart.container,r=this.valueAxis,s=this.type,l=this.columnWidthReal,d=this.showBulletsAt;isNaN(this.columnWidth)||(l=this.columnWidth),isNaN(l)&&(l=.8);var c,h,u,f,p,m=this.useNegativeColorIfDown,g=this.width,v=this.height,b=this.y,T=this.rotate,E=this.columnCount,C=t.toCoordinate(this.cornerRadiusTop,l/2),y=this.connect,D=[],I=[],O=this.chart.graphs.length,R=this.dx/this.tcc,x=this.dy/this.tcc,w=r.stackType,k=this.start,_=this.end,S=this.scrollbar,N="graph-column-";S&&(N="scrollbar-graph-column-");var K,A=this.categoryAxis,M=this.baseCoord,L=this.negativeBase,F=this.columnIndex,P=this.lineThickness,B=this.lineAlpha,$=this.lineColorR,z=this.dashLength,H=this.set,W=this.getGradRotation(),q=this.chart.columnSpacing,j=A.cellWidth,V=(j*l-E)/E;q>V&&(q=V);var U,Y,G,X=v,Z=g,Q=0,J=0,tt=0,et=0,it=0,nt=0,ot=this.fillColorsR,at=this.negativeFillColors,rt=this.negativeLineColor,st=this.fillAlphas,lt=this.negativeFillAlphas;"object"==typeof st&&(st=st[0]),"object"==typeof lt&&(lt=lt[0]);var dt=this.noRounding;"step"==s&&(dt=!1);var ct=r.getCoordinate(r.min);if(r.logarithmic&&(ct=r.getCoordinate(r.minReal)),this.minCoord=ct,this.resetBullet&&(this.bullet="none"),!(S||"line"!=s&&"smoothedLine"!=s&&"step"!=s||(1==o.length&&"step"!=s&&"none"==this.bullet&&(this.bullet="round",this.resetBullet=!0),!at&&void 0==rt||m))){var ht=L;ht>r.max&&(ht=r.max),ht<r.min&&(ht=r.min),r.logarithmic&&(ht=r.minReal);var ut=r.getCoordinate(ht)+.5,ft=r.getCoordinate(r.max);T?(X=v,Z=Math.abs(ft-ut),tt=v,et=Math.abs(ct-ut),nt=J=0,r.reversed?(Q=0,it=ut):(Q=ut,it=0)):(Z=g,X=Math.abs(ft-ut),et=g,tt=Math.abs(ct-ut),it=Q=0,r.reversed?(nt=b,J=ut):nt=ut)}var pt=Math.round;this.pmx=pt(Q),this.pmy=pt(J),this.pmh=pt(X),this.pmw=pt(Z),this.nmx=pt(it),this.nmy=pt(nt),this.nmh=pt(tt),this.nmw=pt(et),t.isModern||(this.nmy=this.nmx=0,this.nmh=this.height),this.clustered||(E=1),1>(l="column"==s?(j*l-q*(E-1))/E:j*l)&&(l=1);var mt=this.fixedColumnWidth;isNaN(mt)||(l=mt);var gt;if("line"==s||"step"==s||"smoothedLine"==s){if(0<k){for(gt=k-1;-1<gt;gt--)if(U=o[gt],Y=U.axes[r.id].graphs[i],G=Y.values.value,!isNaN(G)){k=gt;break}if(this.lineColorField)for(gt=k;-1<gt;gt--)if(U=o[gt],Y=U.axes[r.id].graphs[i],Y.lineColor){this.lineColorSwitched=Y.lineColor,void 0===this.bulletColor&&(this.bulletColorSwitched=this.lineColorSwitched);break}if(this.fillColorsField)for(gt=k;-1<gt;gt--)if(U=o[gt],Y=U.axes[r.id].graphs[i],Y.fillColors){this.fillColorsSwitched=Y.fillColors;break}if(this.dashLengthField)for(gt=k;-1<gt;gt--)if(U=o[gt],Y=U.axes[r.id].graphs[i],!isNaN(Y.dashLength)){this.dashLengthSwitched=Y.dashLength;break}}if(_<o.length-1)for(gt=_+1;gt<o.length;gt++)if(U=o[gt],Y=U.axes[r.id].graphs[i],G=Y.values.value,!isNaN(G)){_=gt;break}}_<o.length-1&&_++;var vt=[],bt=[],Tt=!1;"line"!=s&&"step"!=s&&"smoothedLine"!=s||(this.stackable&&"regular"==w||"100%"==w||this.fillToGraph)&&(Tt=!0);var Et=this.noStepRisers,Ct=-1e3,yt=-1e3,Dt=this.minDistance,It=!0,Ot=!1;for(gt=k;gt<=_;gt++){U=o[gt],Y=U.axes[r.id].graphs[i],Y.index=gt;var Rt,xt=NaN;if(m&&void 0==this.openField)for(var wt=gt+1;wt<o.length&&(!o[wt]||!(Rt=o[gt+1].axes[r.id].graphs[i])||!Rt.values||(xt=Rt.values.value,isNaN(xt)));wt++);var kt,_t,St,Nt,Kt,At,Mt=NaN,Lt=NaN,Ft=NaN,Pt=NaN,Bt=NaN,$t=NaN,zt=NaN,Ht=NaN,Wt=NaN,qt=NaN,jt=NaN,Vt=NaN,Ut=NaN,Yt=NaN,Gt=NaN,Xt=NaN,Zt=NaN,Qt=void 0,Jt=ot,te=st,ee=$,ie=this.proCandlesticks,ne=this.topRadius,oe=v-1,ae=g-1,re=this.pattern;void 0!=Y.pattern&&(re=Y.pattern),isNaN(Y.alpha)||(te=Y.alpha),isNaN(Y.dashLength)||(z=Y.dashLength);var se=Y.values;if(r.recalculateToPercents&&(se=Y.percents),"none"==w&&(F=isNaN(Y.columnIndex)?this.columnIndex:Y.columnIndex),se){if(Yt=this.stackable&&"none"!=w&&"3d"!=w?se.close:se.value,"candlestick"!=s&&"ohlc"!=s||(Yt=se.close,Xt=se.low,zt=r.getCoordinate(Xt),Gt=se.high,Wt=r.getCoordinate(Gt)),Zt=se.open,Ft=r.getCoordinate(Yt,dt),isNaN(Zt)||(Bt=r.getCoordinate(Zt,dt),m&&"regular"!=w&&"100%"!=w&&(xt=Zt,Zt=Bt=NaN)),m&&(void 0==this.openField?Rt&&(Rt.isNegative=xt<Yt,isNaN(xt)&&(Y.isNegative=!It)):Y.isNegative=xt>Yt),!S)switch(this.showBalloonAt){case"close":Y.y=Ft;break;case"open":Y.y=Bt;break;case"high":Y.y=Wt;break;case"low":Y.y=zt}var Mt=U.x[A.id],le=this.periodSpan-1;"step"!=s||isNaN(U.cellWidth)||(j=U.cellWidth);var de=Math.floor(j/2)+Math.floor(le*j/2),ce=de,he=0;if("left"==this.stepDirection&&(he=(2*j+le*j)/2,Mt-=he),"center"==this.stepDirection&&(he=j/2,Mt-=he),"start"==this.pointPosition&&(Mt-=j/2+Math.floor(le*j/2),de=0,ce=Math.floor(j)+Math.floor(le*j)),"end"==this.pointPosition&&(Mt+=j/2+Math.floor(le*j/2),de=Math.floor(j)+Math.floor(le*j),ce=0),Et){var ue=this.columnWidth;isNaN(ue)||(de*=ue,ce*=ue)}S||(Y.x=Mt),-1e5>Mt&&(Mt=-1e5),Mt>g+1e5&&(Mt=g+1e5),T?(Lt=Ft,Pt=Bt,Bt=Ft=Mt,isNaN(Zt)&&!this.fillToGraph&&(Pt=M),$t=zt,Ht=Wt):(Pt=Lt=Mt,isNaN(Zt)&&!this.fillToGraph&&(Bt=M)),(!ie&&Yt<Zt||ie&&Yt<K)&&(Y.isNegative=!0,at&&(Jt=at),lt&&(te=lt),void 0!=rt&&(ee=rt)),Ot=!1,isNaN(Yt)||(m?Yt>xt?(It&&(Ot=!0),It=!1):(It||(Ot=!0),It=!0):Y.isNegative=Yt<L,K=Yt);var fe=!1;switch(S&&e.chartScrollbar.ignoreCustomColors&&(fe=!0),fe||(void 0!=Y.color&&(Jt=Y.color),Y.fillColors&&(Jt=Y.fillColors)),Ft=t.fitToBounds(Ft,-3e4,3e4),s){case"line":isNaN(Yt)?y||(this.drawLineGraph(D,I,vt,bt),D=[],I=[],vt=[],bt=[]):((Math.abs(Lt-Ct)>=Dt||Math.abs(Ft-yt)>=Dt)&&(D.push(Lt),I.push(Ft),Ct=Lt,yt=Ft),qt=Lt,jt=Ft,Vt=Lt,Ut=Ft,!Tt||isNaN(Bt)||isNaN(Pt)||(vt.push(Pt),bt.push(Bt)),(Ot||void 0!=Y.lineColor&&Y.lineColor!=this.lineColorSwitched||void 0!=Y.fillColors&&Y.fillColors!=this.fillColorsSwitched||!isNaN(Y.dashLength))&&(this.drawLineGraph(D,I,vt,bt),D=[Lt],I=[Ft],vt=[],bt=[],!Tt||isNaN(Bt)||isNaN(Pt)||(vt.push(Pt),bt.push(Bt)),m?(It?(this.lineColorSwitched=$,this.fillColorsSwitched=ot):(this.lineColorSwitched=rt,this.fillColorsSwitched=at),void 0===this.bulletColor&&(this.bulletColorSwitched=$)):(this.lineColorSwitched=Y.lineColor,this.fillColorsSwitched=Y.fillColors,void 0===this.bulletColor&&(this.bulletColorSwitched=this.lineColorSwitched)),this.dashLengthSwitched=Y.dashLength),Y.gap&&(this.drawLineGraph(D,I,vt,bt),D=[],I=[],vt=[],bt=[],yt=Ct=-1e3));break;case"smoothedLine":isNaN(Yt)?y||(this.drawSmoothedGraph(D,I,vt,bt),D=[],I=[],vt=[],bt=[]):((Math.abs(Lt-Ct)>=Dt||Math.abs(Ft-yt)>=Dt)&&(D.push(Lt),I.push(Ft),Ct=Lt,yt=Ft),qt=Lt,jt=Ft,Vt=Lt,Ut=Ft,!Tt||isNaN(Bt)||isNaN(Pt)||(vt.push(Pt),bt.push(Bt)),(Ot||void 0!=Y.lineColor&&Y.lineColor!=this.lineColorSwitched||void 0!=Y.fillColors&&Y.fillColors!=this.fillColorsSwitched||!isNaN(Y.dashLength))&&(this.drawSmoothedGraph(D,I,vt,bt),D=[Lt],I=[Ft],vt=[],bt=[],!Tt||isNaN(Bt)||isNaN(Pt)||(vt.push(Pt),bt.push(Bt)),this.lineColorSwitched=Y.lineColor,this.fillColorsSwitched=Y.fillColors,this.dashLengthSwitched=Y.dashLength),Y.gap&&(this.drawSmoothedGraph(D,I,vt,bt),D=[],I=[],vt=[],bt=[]));break;case"step":if(isNaN(Yt))y||((1>=this.periodSpan||1<this.periodSpan&&Lt-c>de+ce)&&(c=h=NaN),this.drawLineGraph(D,I,vt,bt),D=[],I=[],vt=[],bt=[]);else{if(T?(isNaN(c)||(D.push(c),I.push(Ft-de)),I.push(Ft-de),D.push(Lt),I.push(Ft+ce),D.push(Lt),!Tt||isNaN(Bt)||isNaN(Pt)||(isNaN(u)||(vt.push(u),bt.push(Bt-de)),vt.push(Pt),bt.push(Bt-de),vt.push(Pt),bt.push(Bt+ce))):(isNaN(h)||(I.push(h),D.push(Lt-de)),D.push(Lt-de),I.push(Ft),D.push(Lt+ce),I.push(Ft),!Tt||isNaN(Bt)||isNaN(Pt)||(isNaN(f)||(vt.push(Pt-de),bt.push(f)),vt.push(Pt-de),bt.push(Bt),vt.push(Pt+ce),bt.push(Bt))),c=Lt,h=Ft,u=Pt,f=Bt,qt=Lt,jt=Ft,Vt=Lt,Ut=Ft,Ot||void 0!=Y.lineColor||void 0!=Y.fillColors||!isNaN(Y.dashLength)){var pe=D[D.length-2],me=I[I.length-2];D.pop(),I.pop(),vt.pop(),bt.pop(),this.drawLineGraph(D,I,vt,bt),D=[pe],I=[me],vt=[],bt=[],Tt&&(vt=[pe,pe+de+ce],bt=[f,f]),T?(I.push(Ft+ce),D.push(Lt)):(D.push(Lt+ce),I.push(Ft)),this.lineColorSwitched=Y.lineColor,this.fillColorsSwitched=Y.fillColors,this.dashLengthSwitched=Y.dashLength,m&&(It?(this.lineColorSwitched=$,this.fillColorsSwitched=ot):(this.lineColorSwitched=rt,this.fillColorsSwitched=at))}(Et||Y.gap)&&(c=h=NaN,this.drawLineGraph(D,I,vt,bt),D=[],I=[],vt=[],bt=[])}break;case"column":if(Kt=ee,void 0!=Y.lineColor&&(Kt=Y.lineColor),!isNaN(Yt)){m||(Y.isNegative=Yt<L),Y.isNegative&&(at&&(Jt=at),void 0!=rt&&(Kt=rt));var ge=r.min,ve=r.max,be=Zt;if(isNaN(be)&&(be=L),!(Yt<ge&&be<ge||Yt>ve&&be>ve)){var Te;if(T){"3d"==w?(_t=Ft-(E/2-this.depthCount+1)*(l+q)+q/2+x*F,kt=Pt+R*F,Te=F):(_t=Math.floor(Ft-(E/2-F)*(l+q)+q/2),kt=Pt,Te=0),St=l,qt=Lt,jt=_t+l/2,Vt=Lt,Ut=_t+l/2,_t+St>v+Te*x&&(St=v-_t+Te*x),_t<Te*x&&(St+=_t,_t=Te*x),Nt=Lt-Pt;var Ee=kt;kt=t.fitToBounds(kt,0,g),Nt+=Ee-kt,Nt=t.fitToBounds(Nt,-kt,g-kt+R*F),Y.labelIsNegative=0>Nt,0===Nt&&1/Yt==-1/0&&(Y.labelIsNegative=!0),isNaN(U.percentWidthValue)||(St=this.height*U.percentWidthValue/100,_t=Mt-St/2,jt=_t+St/2),St=t.roundTo(St,2),Nt=t.roundTo(Nt,2),_t<v&&0<St&&(Qt=new t.Cuboid(a,Nt,St,R-e.d3x,x-e.d3y,Jt,te,P,Kt,B,W,C,T,z,re,ne,N),Y.columnWidth=Math.abs(Nt),Y.columnHeight=Math.abs(St))}else{"3d"==w?(kt=Lt-(E/2-this.depthCount+1)*(l+q)+q/2+R*F,_t=Bt+x*F,Te=F):(kt=Lt-(E/2-F)*(l+q)+q/2,_t=Bt,Te=0),St=l,qt=kt+l/2,jt=Ft,Vt=kt+l/2,Ut=Ft,kt+St>g+Te*R&&(St=g-kt+Te*R),kt<Te*R&&(St+=kt-Te*R,kt=Te*R),Nt=Ft-Bt,Y.labelIsNegative=0<Nt,0===Nt&&1/Yt!=1/Math.abs(Yt)&&(Y.labelIsNegative=!0);var Ce=_t;_t=t.fitToBounds(_t,this.dy,v),Nt+=Ce-_t,Nt=t.fitToBounds(Nt,x*Te-_t,v-_t),isNaN(U.percentWidthValue)||(St=this.width*U.percentWidthValue/100,kt=Mt-St/2,qt=kt+St/2),St=t.roundTo(St,2),Nt=t.roundTo(Nt,2),kt<g+F*R&&0<St&&(this.showOnAxis&&(_t-=x/2),Qt=new t.Cuboid(a,St,Nt,R-e.d3x,x-e.d3y,Jt,te,P,Kt,this.lineAlpha,W,C,T,z,re,ne,N),Y.columnHeight=Math.abs(Nt),Y.columnWidth=Math.abs(St))}}Qt&&(At=Qt.set,t.setCN(e,Qt.set,"graph-"+this.type),t.setCN(e,Qt.set,"graph-"+this.id),Y.className&&t.setCN(e,Qt.set,Y.className,!0),Y.columnGraphics=At,kt=t.roundTo(kt,2),_t=t.roundTo(_t,2),At.translate(kt,_t),(Y.url||this.showHandOnHover)&&At.setAttr("cursor","pointer"),S||("none"==w&&(p=T?(this.end+1-gt)*O-n:O*gt+n),"3d"==w&&(T?(p=(this.end+1-gt)*O-n-1e3*this.depthCount,qt+=R*F,Vt+=R*F,Y.y+=R*F):(p=(O-n)*(gt+1)+1e3*this.depthCount,
jt+=x*F,Ut+=x*F,Y.y+=x*F)),"regular"!=w&&"100%"!=w||(p=T?0<se.value?(this.end+1-gt)*O+n:(this.end+1-gt)*O-n:0<se.value?O*gt+n:O*gt-n),this.columnsArray.push({column:Qt,depth:p}),Y.x=T?_t+St/2:kt+St/2,this.ownColumns.push(Qt),this.animateColumns(Qt,gt,Lt,Pt,Ft,Bt),this.addListeners(At,Y),void 0!==this.tabIndex&&At.setAttr("tabindex",this.tabIndex)),this.columnsSet.push(At))}break;case"candlestick":if(!isNaN(Zt)&&!isNaN(Yt)){var ye,De;if(Kt=ee,void 0!=Y.lineColor&&(Kt=Y.lineColor),qt=Lt,Ut=jt=Ft,Vt=Lt,T){if("open"==d&&(Vt=Pt),"high"==d&&(Vt=Ht),"low"==d&&(Vt=$t),Lt=t.fitToBounds(Lt,0,ae),Pt=t.fitToBounds(Pt,0,ae),$t=t.fitToBounds($t,0,ae),Ht=t.fitToBounds(Ht,0,ae),0===Lt&&0===Pt&&0===$t&&0===Ht)continue;if(Lt==ae&&Pt==ae&&$t==ae&&Ht==ae)continue;if(_t=Ft-l/2,kt=Pt,St=l,_t+St>v&&(St=v-_t),0>_t&&(St+=_t,_t=0),_t<v&&0<St){var Ie,Oe;Yt>Zt?(Ie=[Lt,Ht],Oe=[Pt,$t]):(Ie=[Pt,Ht],Oe=[Lt,$t]),!isNaN(Ht)&&!isNaN($t)&&Ft<v&&0<Ft&&(ye=t.line(a,Ie,[Ft,Ft],Kt,B,P),De=t.line(a,Oe,[Ft,Ft],Kt,B,P)),Nt=Lt-Pt,Qt=new t.Cuboid(a,Nt,St,R,x,Jt,st,P,Kt,B,W,C,T,z,re,ne,N)}}else{if("open"==d&&(Ut=Bt),"high"==d&&(Ut=Wt),"low"==d&&(Ut=zt),Ft=t.fitToBounds(Ft,0,oe),Bt=t.fitToBounds(Bt,0,oe),zt=t.fitToBounds(zt,0,oe),Wt=t.fitToBounds(Wt,0,oe),0===Ft&&0===Bt&&0===zt&&0===Wt)continue;if(Ft==oe&&Bt==oe&&zt==oe&&Wt==oe)continue;if(kt=Lt-l/2,_t=Bt+P/2,St=l,kt+St>g&&(St=g-kt),0>kt&&(St+=kt,kt=0),Nt=Ft-Bt,kt<g&&0<St){ie&&Yt>=Zt&&(te=0);var Re,xe,Qt=new t.Cuboid(a,St,Nt,R,x,Jt,te,P,Kt,B,W,C,T,z,re,ne,N);Yt>Zt?(Re=[Ft,Wt],xe=[Bt,zt]):(Re=[Bt,Wt],xe=[Ft,zt]),!isNaN(Wt)&&!isNaN(zt)&&Lt<g&&0<Lt&&(ye=t.line(a,[Lt,Lt],Re,Kt,B,P),De=t.line(a,[Lt,Lt],xe,Kt,B,P),t.setCN(e,ye,this.bcn+"line-high"),Y.className&&t.setCN(e,ye,Y.className,!0),t.setCN(e,De,this.bcn+"line-low"),Y.className&&t.setCN(e,De,Y.className,!0))}}Qt&&(At=Qt.set,Y.columnGraphics=At,H.push(At),At.translate(kt,_t-P/2),(Y.url||this.showHandOnHover)&&At.setAttr("cursor","pointer"),ye&&(H.push(ye),H.push(De)),S||(Y.x=T?_t+St/2:kt+St/2,this.animateColumns(Qt,gt,Lt,Pt,Ft,Bt),this.addListeners(At,Y),void 0!==this.tabIndex&&At.setAttr("tabindex",this.tabIndex)))}break;case"ohlc":if(!(isNaN(Zt)||isNaN(Gt)||isNaN(Xt)||isNaN(Yt))){var we=a.set();H.push(we),Yt<Zt&&(Y.isNegative=!0,void 0!=rt&&(ee=rt)),void 0!=Y.lineColor&&(ee=Y.lineColor);var ke,_e,Se;if(T){if(Ut=Ft,Vt=Lt,"open"==d&&(Vt=Pt),"high"==d&&(Vt=Ht),"low"==d&&(Vt=$t),$t=t.fitToBounds($t,0,ae),Ht=t.fitToBounds(Ht,0,ae),0===Lt&&0===Pt&&0===$t&&0===Ht)continue;if(Lt==ae&&Pt==ae&&$t==ae&&Ht==ae)continue;var Ne=Ft-l/2,Ne=t.fitToBounds(Ne,0,v),Ke=t.fitToBounds(Ft,0,v),Ae=Ft+l/2,Ae=t.fitToBounds(Ae,0,v);0<=Pt&&Pt<=ae&&(_e=t.line(a,[Pt,Pt],[Ne,Ke],ee,B,P,z)),0<Ft&&Ft<v&&(ke=t.line(a,[$t,Ht],[Ft,Ft],ee,B,P,z)),0<=Lt&&Lt<=ae&&(Se=t.line(a,[Lt,Lt],[Ke,Ae],ee,B,P,z))}else{Ut=Ft,"open"==d&&(Ut=Bt),"high"==d&&(Ut=Wt),"low"==d&&(Ut=zt);var Vt=Lt,zt=t.fitToBounds(zt,0,oe),Wt=t.fitToBounds(Wt,0,oe),Me=Lt-l/2,Me=t.fitToBounds(Me,0,g),Le=t.fitToBounds(Lt,0,g),Fe=Lt+l/2,Fe=t.fitToBounds(Fe,0,g);0<=Bt&&Bt<=oe&&(_e=t.line(a,[Me,Le],[Bt,Bt],ee,B,P,z)),0<Lt&&Lt<g&&(ke=t.line(a,[Lt,Lt],[zt,Wt],ee,B,P,z)),0<=Ft&&Ft<=oe&&(Se=t.line(a,[Le,Fe],[Ft,Ft],ee,B,P,z))}H.push(_e),H.push(ke),H.push(Se),t.setCN(e,_e,this.bcn+"stroke-open"),t.setCN(e,Se,this.bcn+"stroke-close"),t.setCN(e,ke,this.bcn+"stroke"),Y.className&&t.setCN(e,we,Y.className,!0),ke&&this.addListeners(ke,Y),Se&&this.addListeners(Se,Y),_e&&this.addListeners(_e,Y),qt=Lt,jt=Ft}}if(!S&&!isNaN(Yt)){var Pe=this.hideBulletsCount;if(this.end-this.start<=Pe||0===Pe){var Be=this.createBullet(Y,Vt,Ut,gt),$e=this.labelText;if($e&&!isNaN(qt)&&!isNaN(qt)){var ze=this.createLabel(Y,$e),He=0;Be&&(He=Be.size),this.positionLabel(Y,qt,jt,ze,He)}if("regular"==w||"100%"==w){var We=r.totalText;if(We){var qe=this.createLabel(Y,We,r.totalTextColor);if(t.setCN(e,qe,this.bcn+"label-total"),this.allBullets.push(qe),qe){var je,Ve,Ue=qe.getBBox(),Ye=Ue.width,Ge=Ue.height,Xe=r.totalTextOffset,Ze=r.totals[gt];Ze&&Ze.remove();var Qe=0;"column"!=s&&(Qe=this.bulletSize),T?(Ve=jt,je=0>Yt?Lt-Ye/2-2-Qe-Xe:Lt+Ye/2+3+Qe+Xe):(je=qt,Ve=0>Yt?Ft+Ge/2+Qe+Xe:Ft-Ge/2-3-Qe-Xe),qe.translate(je,Ve),r.totals[gt]=qe,T?(0>Ve||Ve>v)&&qe.remove():(0>je||je>g)&&qe.remove()}}}}}}}this.lastDataItem=Y,"line"!=s&&"step"!=s&&"smoothedLine"!=s||("smoothedLine"==s?this.drawSmoothedGraph(D,I,vt,bt):this.drawLineGraph(D,I,vt,bt),S||this.launchAnimation()),this.bulletsHidden&&this.hideBullets(),this.customBulletsHidden&&this.hideCustomBullets()},animateColumns:function(t,e){var i=this,n=i.chart.startDuration;0<n&&!i.animationPlayed&&(i.seqAn?(t.set.hide(),i.animationArray.push(t),n=setTimeout(function(){i.animate.call(i)},n/(i.end-i.start+1)*(e-i.start)*1e3),i.timeOuts.push(n)):i.animate(t),i.chart.animatable.push(t))},createLabel:function(e,i,n){var o=this.chart,a=e.labelColor;a||(a=this.color),a||(a=o.color),n&&(a=n),void 0===(n=this.fontSize)&&(this.fontSize=n=o.fontSize);var r=this.labelFunction;if(i=o.formatString(i,e),i=t.cleanFromEmpty(i),r&&(i=r(e,i)),void 0!==i&&""!==i)return e=t.text(this.container,i,a,o.fontFamily,n),e.node.style.pointerEvents="none",t.setCN(o,e,this.bcn+"label"),this.bulletSet.push(e),e},positiveClip:function(t){t.clipRect(this.pmx,this.pmy,this.pmw,this.pmh)},negativeClip:function(t){t.clipRect(this.nmx,this.nmy,this.nmw,this.nmh)},drawLineGraph:function(e,i,n,o){var a=this;if(1<e.length){var r=a.noRounding,s=a.set,l=a.chart,d=a.container,c=d.set(),h=d.set();s.push(h),s.push(c);var u=a.lineAlpha,f=a.lineThickness,s=a.fillAlphas,p=a.lineColorR,m=a.negativeLineAlpha;isNaN(m)&&(m=u);var g=a.lineColorSwitched;g&&(p=g);var g=a.fillColorsR,v=a.fillColorsSwitched;v&&(g=v);var b=a.dashLength;(v=a.dashLengthSwitched)&&(b=v);var v=a.negativeLineColor,T=a.negativeFillColors,E=a.negativeFillAlphas,C=a.baseCoord;0!==a.negativeBase&&(C=a.valueAxis.getCoordinate(a.negativeBase,r),C>a.height&&(C=a.height),0>C&&(C=0)),u=t.line(d,e,i,p,u,f,b,!1,!1,r),u.node.setAttribute("stroke-linejoin","round"),t.setCN(l,u,a.bcn+"stroke"),c.push(u),c.click(function(t){a.handleGraphEvent(t,"clickGraph")}).mouseover(function(t){a.handleGraphEvent(t,"rollOverGraph")}).mouseout(function(t){a.handleGraphEvent(t,"rollOutGraph")}).touchmove(function(t){a.chart.handleMouseMove(t)}).touchend(function(t){a.chart.handleTouchEnd(t)}),void 0===v||a.useNegativeColorIfDown||(f=t.line(d,e,i,v,m,f,b,!1,!1,r),f.node.setAttribute("stroke-linejoin","round"),t.setCN(l,f,a.bcn+"stroke"),t.setCN(l,f,a.bcn+"stroke-negative"),h.push(f)),(0<s||0<E)&&(f=e.join(";").split(";"),m=i.join(";").split(";"),u=l.type,"serial"==u||"radar"==u?0<n.length?(n.reverse(),o.reverse(),f=e.concat(n),m=i.concat(o)):"radar"==u?(m.push(0),f.push(0)):a.rotate?(m.push(m[m.length-1]),f.push(C),m.push(m[0]),f.push(C),m.push(m[0]),f.push(f[0])):(f.push(f[f.length-1]),m.push(C),f.push(f[0]),m.push(C),f.push(e[0]),m.push(m[0])):"xy"==u&&(i=a.fillToAxis)&&(t.isString(i)&&(i=l.getValueAxisById(i)),"H"==i.orientation?(C="top"==i.position?0:i.height,f.push(f[f.length-1]),m.push(C),f.push(f[0]),m.push(C),f.push(e[0]),m.push(m[0])):(C="left"==i.position?0:i.width,m.push(m[m.length-1]),f.push(C),m.push(m[0]),f.push(C),m.push(m[0]),f.push(f[0]))),e=a.gradientRotation,0<s&&(i=t.polygon(d,f,m,g,s,1,"#000",0,e,r),i.pattern(a.pattern,NaN,l.path),t.setCN(l,i,a.bcn+"fill"),c.push(i)),(T||void 0!==v)&&(isNaN(E)&&(E=s),T||(T=v),r=t.polygon(d,f,m,T,E,1,"#000",0,e,r),t.setCN(l,r,a.bcn+"fill"),t.setCN(l,r,a.bcn+"fill-negative"),r.pattern(a.pattern,NaN,l.path),h.push(r),h.click(function(t){a.handleGraphEvent(t,"clickGraph")}).mouseover(function(t){a.handleGraphEvent(t,"rollOverGraph")}).mouseout(function(t){a.handleGraphEvent(t,"rollOutGraph")}).touchmove(function(t){a.chart.handleMouseMove(t)}).touchend(function(t){a.chart.handleTouchEnd(t)}))),a.applyMask(h,c)}},applyMask:function(t,e){var i=t.length();"serial"!=this.chart.type||this.scrollbar||(this.positiveClip(e),0<i&&this.negativeClip(t))},drawSmoothedGraph:function(e,i,n,o){if(1<e.length){var a=this.set,r=this.chart,s=this.container,l=s.set(),d=s.set();a.push(d),a.push(l);var c=this.lineAlpha,h=this.lineThickness,a=this.dashLength,u=this.fillAlphas,f=this.lineColorR,p=this.fillColorsR,m=this.negativeLineColor,g=this.negativeFillColors,v=this.negativeFillAlphas,b=this.baseCoord,T=this.lineColorSwitched;T&&(f=T),(T=this.fillColorsSwitched)&&(p=T);var E=this.negativeLineAlpha;isNaN(E)&&(E=c),T=this.getGradRotation(),c=new t.Bezier(s,e,i,f,c,h,p,0,a,void 0,T),t.setCN(r,c,this.bcn+"stroke"),l.push(c.path),void 0!==m&&(h=new t.Bezier(s,e,i,m,E,h,p,0,a,void 0,T),t.setCN(r,h,this.bcn+"stroke"),t.setCN(r,h,this.bcn+"stroke-negative"),d.push(h.path)),0<u&&(h=e.join(";").split(";"),c=i.join(";").split(";"),f="",0<n.length?(n.push("M"),o.push("M"),n.reverse(),o.reverse(),h=e.concat(n),c=i.concat(o)):(this.rotate?(f+=" L"+b+","+i[i.length-1],f+=" L"+b+","+i[0]):(f+=" L"+e[e.length-1]+","+b,f+=" L"+e[0]+","+b),f+=" L"+e[0]+","+i[0]),e=new t.Bezier(s,h,c,NaN,0,0,p,u,a,f,T),t.setCN(r,e,this.bcn+"fill"),e.path.pattern(this.pattern,NaN,r.path),l.push(e.path),g||void 0!==m)&&(v||(v=u),g||(g=m),s=new t.Bezier(s,h,c,NaN,0,0,g,v,a,f,T),s.path.pattern(this.pattern,NaN,r.path),t.setCN(r,s,this.bcn+"fill"),t.setCN(r,s,this.bcn+"fill-negative"),d.push(s.path)),this.applyMask(d,l)}},launchAnimation:function(){var e=this,i=e.chart.startDuration;if(0<i&&!e.animationPlayed){var n=e.set,o=e.bulletSet;t.VML||(n.attr({opacity:e.startAlpha}),o.attr({opacity:e.startAlpha})),n.hide(),o.hide(),e.seqAn?(i=setTimeout(function(){e.animateGraphs.call(e)},e.index*i*1e3),e.timeOuts.push(i)):e.animateGraphs()}},animateGraphs:function(){var t=this.chart,e=this.set,i=this.bulletSet,n=this.x,o=this.y;e.show(),i.show();var a=t.startDuration,r=t.startEffect;e&&(this.rotate?(e.translate(-1e3,o),i.translate(-1e3,o)):(e.translate(n,-1e3),i.translate(n,-1e3)),e.animate({opacity:1,translate:n+","+o},a,r),i.animate({opacity:1,translate:n+","+o},a,r),t.animatable.push(e))},animate:function(e){var i=this.chart,n=this.animationArray;!e&&0<n.length&&(e=n[0],n.shift()),n=t[t.getEffect(i.startEffect)],i=i.startDuration,e&&(this.rotate?e.animateWidth(i,n):e.animateHeight(i,n),e.set.show())},legendKeyColor:function(){var t=this.legendColor,e=this.lineAlpha;return void 0===t&&(t=this.lineColorR,0===e&&(e=this.fillColorsR)&&(t="object"==typeof e?e[0]:e)),t},legendKeyAlpha:function(){var t=this.legendAlpha;return void 0===t&&(t=this.lineAlpha,this.fillAlphas>t&&(t=this.fillAlphas),0===t&&(t=this.bulletAlpha),0===t&&(t=1)),t},createBullet:function(e,i,n){if(!isNaN(i)&&!isNaN(n)&&("none"!=this.bullet||this.customBullet||e.bullet||e.customBullet)){var o=this.chart,a=this.container,r=this.bulletOffset,s=this.bulletSize;isNaN(e.bulletSize)||(s=e.bulletSize);var l=e.values.value,d=this.maxValue,c=this.minValue,h=this.maxBulletSize,u=this.minBulletSize;isNaN(d)||(isNaN(l)||(s=(l-c)/(d-c)*(h-u)+u),c==d&&(s=h)),d=s,this.bulletAxis&&(s=e.values.error,isNaN(s)||(l=s),s=this.bulletAxis.stepWidth*l),s<this.minBulletSize&&(s=this.minBulletSize),this.rotate?i=e.isNegative?i-r:i+r:n=e.isNegative?n+r:n-r,u=this.bulletColorR,e.lineColor&&void 0===this.bulletColor&&(this.bulletColorSwitched=e.lineColor),this.bulletColorSwitched&&(u=this.bulletColorSwitched),e.isNegative&&void 0!==this.bulletColorNegative&&(u=this.bulletColorNegative),void 0!==e.color&&(u=e.color);var f;"xy"==o.type&&this.valueField&&(f=this.pattern,e.pattern&&(f=e.pattern)),r=this.bullet,e.bullet&&(r=e.bullet);var l=this.bulletBorderThickness,c=this.bulletBorderColorR,h=this.bulletBorderAlpha,p=this.bulletAlpha;c||(c=u),this.useLineColorForBulletBorder&&(c=this.lineColorR,e.isNegative&&this.negativeLineColor&&(c=this.negativeLineColor),this.lineColorSwitched&&(c=this.lineColorSwitched));var m=e.alpha;return isNaN(m)||(p=m),f=t.bullet(a,r,s,u,p,l,c,h,d,0,f,o.path),d=this.customBullet,e.customBullet&&(d=e.customBullet),d&&(f&&f.remove(),"function"==typeof d?(d=new d,d.chart=o,e.bulletConfig&&(d.availableSpace=n,d.graph=this,d.graphDataItem=e,d.bulletY=n,e.bulletConfig.minCoord=this.minCoord-n,d.bulletConfig=e.bulletConfig),d.write(a),f&&d.showBullet&&d.set.push(f),e.customBulletGraphics=d.cset,f=d.set):(f=a.set(),d=a.image(d,0,0,s,s),f.push(d),this.centerCustomBullets&&d.translate(-s/2,-s/2))),f&&((e.url||this.showHandOnHover)&&f.setAttr("cursor","pointer"),"serial"!=o.type&&"gantt"!=o.type||(-.5>i||i>this.width||n<-s/2||n>this.height)&&(f.remove(),f=null),f&&(this.bulletSet.push(f),f.translate(i,n),this.addListeners(f,e),this.allBullets.push(f)),e.bx=i,e.by=n,t.setCN(o,f,this.bcn+"bullet"),e.className&&t.setCN(o,f,e.className,!0)),f?(f.size=s||0,(o=this.bulletHitAreaSize)&&(a=t.circle(a,o,"#FFFFFF",.001,0),a.translate(i,n),e.hitBullet=a,this.bulletSet.push(a),this.addListeners(a,e)),e.bulletGraphics=f,void 0!==this.tabIndex&&f.setAttr("tabindex",this.tabIndex)):f={size:0},f.graphDataItem=e,f}},showBullets:function(){var t,e=this.allBullets;for(this.bulletsHidden=!1,t=0;t<e.length;t++)e[t].show()},hideBullets:function(){var t,e=this.allBullets;for(this.bulletsHidden=!0,t=0;t<e.length;t++)e[t].hide()},showCustomBullets:function(){var t,e=this.allBullets;for(this.customBulletsHidden=!1,t=0;t<e.length;t++){var i=e[t].graphDataItem;i&&i.customBulletGraphics&&i.customBulletGraphics.show()}},hideCustomBullets:function(){var t,e=this.allBullets;for(this.customBulletsHidden=!0,t=0;t<e.length;t++){var i=e[t].graphDataItem;i&&i.customBulletGraphics&&i.customBulletGraphics.hide()}},addListeners:function(t,e){var i=this;t.mouseover(function(t){i.handleRollOver(e,t)}).mouseout(function(t){i.handleRollOut(e,t)}).touchend(function(t){i.handleRollOver(e,t),i.chart.panEventsEnabled&&i.handleClick(e,t)}).touchstart(function(t){i.handleRollOver(e,t)}).click(function(t){i.handleClick(e,t)}).dblclick(function(t){i.handleDoubleClick(e,t)}).contextmenu(function(t){i.handleRightClick(e,t)});var n=i.chart;if(n.accessible&&i.accessibleLabel){var o=n.formatString(i.accessibleLabel,e);n.makeAccessible(t,o)}},handleRollOver:function(t,e){if(this.handleGraphEvent(e,"rollOverGraph"),t){var i=this.chart;t.bulletConfig&&(i.isRolledOverBullet=!0);var n={type:"rollOverGraphItem",item:t,index:t.index,graph:this,target:this,chart:this.chart,event:e};this.fire(n),i.fire(n),clearTimeout(i.hoverInt),(i=i.chartCursor)&&i.valueBalloonsEnabled||this.showGraphBalloon(t,"V",!0)}},handleRollOut:function(t,e){var i=this.chart;if(t){var n={type:"rollOutGraphItem",item:t,index:t.index,graph:this,target:this,chart:this.chart,event:e};this.fire(n),i.fire(n),i.isRolledOverBullet=!1}this.handleGraphEvent(e,"rollOutGraph"),(i=i.chartCursor)&&i.valueBalloonsEnabled||this.hideBalloon()},handleClick:function(e,i){if(!this.chart.checkTouchMoved()&&this.chart.checkTouchDuration(i)){if(e){var n={type:"clickGraphItem",item:e,index:e.index,graph:this,target:this,chart:this.chart,event:i};this.fire(n),this.chart.fire(n),t.getURL(e.url,this.urlTarget)}this.handleGraphEvent(i,"clickGraph")}},handleGraphEvent:function(t,e){var i={type:e,graph:this,target:this,chart:this.chart,event:t};this.fire(i),this.chart.fire(i)},handleRightClick:function(t,e){if(t){var i={type:"rightClickGraphItem",item:t,index:t.index,graph:this,target:this,chart:this.chart,event:e};this.fire(i),this.chart.fire(i)}},handleDoubleClick:function(t,e){if(t){var i={type:"doubleClickGraphItem",item:t,index:t.index,graph:this,target:this,chart:this.chart,event:e};this.fire(i),this.chart.fire(i)}},zoom:function(t,e){this.start=t,this.end=e,this.draw()},changeOpacity:function(t){var e=this.set;if(e&&e.setAttr("opacity",t),e=this.ownColumns){var i;for(i=0;i<e.length;i++){var n=e[i].set;n&&n.setAttr("opacity",t)}}(e=this.bulletSet)&&e.setAttr("opacity",t)},destroy:function(){t.remove(this.set),t.remove(this.bulletSet);var e=this.timeOuts;if(e){var i;for(i=0;i<e.length;i++)clearTimeout(e[i])}this.timeOuts=[]},createBalloon:function(){var e=this.chart;this.balloon?this.balloon.destroy&&this.balloon.destroy():this.balloon={};var i=this.balloon;t.extend(i,e.balloon,!0),i.chart=e,i.mainSet=e.plotBalloonsSet,i.className=this.id},hideBalloon:function(){var t=this,e=t.chart;e.chartCursor?e.chartCursor.valueBalloonsEnabled||e.hideBalloon():e.hideBalloon(),clearTimeout(t.hoverInt),t.hoverInt=setTimeout(function(){t.hideBalloonReal.call(t)},e.hideBalloonTime)},hideBalloonReal:function(){this.balloon&&this.balloon.hide(),this.fixBulletSize()},fixBulletSize:function(){if(t.isModern){var e=this.resizedDItem;if(e){var i=e.bulletGraphics;if(i&&!i.doNotScale){i.translate(e.bx,e.by,1);var n=this.bulletAlpha;isNaN(e.alpha)||(n=e.alpha),i.setAttr("fill-opacity",n),i.setAttr("stroke-opacity",this.bulletBorderAlpha)}}this.resizedDItem=null}},showGraphBalloon:function(e,i,n,o,a){if(e){var r=this.chart,s=this.balloon,l=0,d=0,c=r.chartCursor,h=!0;if(c?c.valueBalloonsEnabled||(s=r.balloon,l=this.x,d=this.y,h=!1):(s=r.balloon,l=this.x,d=this.y,h=!1),clearTimeout(this.hoverInt),r.chartCursor&&(this.currentDataItem=e,"serial"==r.type&&r.isRolledOverBullet&&r.chartCursor.valueBalloonsEnabled))return void this.hideBalloonReal();if(this.resizeBullet(e,o,a),s&&s.enabled&&this.showBalloon&&!this.hidden){var c=r.formatString(this.balloonText,e,!0),u=this.balloonFunction;u&&(c=u(e,e.graph)),c&&(c=t.cleanFromEmpty(c)),c&&""!==c?(o=r.getBalloonColor(this,e),s.drop||(s.pointerOrientation=i),i=e.x,a=e.y,r.rotate&&(i=e.y,a=e.x),i+=l,a+=d,isNaN(i)||isNaN(a)?this.hideBalloonReal():(e=this.width,u=this.height,h&&s.setBounds(l,d,e+l,u+d),s.changeColor(o),s.setPosition(i,a),s.fixPrevious(),s.fixedPosition&&(n=!1),!n&&"radar"!=r.type&&(i<l-.5||i>e+l||a<d-.5||a>u+d)?(s.showBalloon(c),s.hide(0)):(s.followCursor(n),s.showBalloon(c)))):(this.hideBalloonReal(),s.hide(),this.resizeBullet(e,o,a))}else this.hideBalloonReal()}},resizeBullet:function(e,i,n){if(this.fixBulletSize(),e&&t.isModern&&(1!=i||!isNaN(n))){var o=e.bulletGraphics;o&&!o.doNotScale&&(o.translate(e.bx,e.by,i),isNaN(n)||(o.setAttr("fill-opacity",n),o.setAttr("stroke-opacity",n)),this.resizedDItem=e)}}})}(),function(){var t=window.AmCharts;t.ChartCursor=t.Class({construct:function(e){this.cname="ChartCursor",this.createEvents("changed","zoomed","onHideCursor","onShowCursor","draw","selected","moved","panning","zoomStarted"),this.enabled=!0,this.cursorAlpha=1,this.selectionAlpha=.2,this.cursorColor="#CC0000",this.categoryBalloonAlpha=1,this.color="#FFFFFF",this.type="cursor",this.zoomed=!1,this.zoomable=!0,this.pan=!1,this.categoryBalloonDateFormat="MMM DD, YYYY",this.categoryBalloonText="[[category]]",this.categoryBalloonEnabled=this.valueBalloonsEnabled=!0,this.rolledOver=!1,this.cursorPosition="middle",this.bulletsEnabled=this.skipZoomDispatch=!1,this.bulletSize=8,this.selectWithoutZooming=this.oneBalloonOnly=!1,this.graphBulletSize=1.7,this.animationDuration=.3,this.zooming=!1,this.adjustment=0,this.avoidBalloonOverlapping=!0,this.leaveCursor=!1,this.leaveAfterTouch=!0,this.valueZoomable=!1,this.balloonPointerOrientation="horizontal",this.hLineEnabled=this.vLineEnabled=!0,this.vZoomEnabled=this.hZoomEnabled=!1,t.applyTheme(this,e,this.cname)},draw:function(){this.destroy();var e=this.chart;e.panRequired=!0;var i=e.container;this.rotate=e.rotate,this.container=i,this.prevLineHeight=this.prevLineWidth=NaN,i=i.set(),i.translate(this.x,this.y),this.set=i,e.cursorSet.push(i),this.createElements(),t.isString(this.limitToGraph)&&(this.limitToGraph=t.getObjById(e.graphs,this.limitToGraph),this.fullWidth=!1,this.cursorPosition="middle"),this.pointer=this.balloonPointerOrientation.substr(0,1).toUpperCase(),this.isHidden=!1,this.hideLines(),this.valueLineAxis||(this.valueLineAxis=e.valueAxes[0])},createElements:function(){var e,i,n=this,o=n.chart,a=o.dx,r=o.dy,s=n.width,l=n.height,d=n.cursorAlpha,c=n.valueLineAlpha;n.rotate?(e=c,i=d):(i=c,e=d),"xy"==o.type&&(i=d,void 0!==c&&(i=c),e=d),n.vvLine=t.line(n.container,[a,0,0],[r,0,l],n.cursorColor,e,1),t.setCN(o,n.vvLine,"cursor-line"),t.setCN(o,n.vvLine,"cursor-line-vertical"),n.hhLine=t.line(n.container,[0,s,s+a],[0,0,r],n.cursorColor,i,1),t.setCN(o,n.hhLine,"cursor-line"),t.setCN(o,n.hhLine,"cursor-line-horizontal"),n.vLine=n.rotate?n.vvLine:n.hhLine,n.set.push(n.vvLine),n.set.push(n.hhLine),n.set.node.style.pointerEvents="none",n.fullLines=n.container.set(),o=o.cursorLineSet,o.push(n.fullLines),o.translate(n.x,n.y),o.clipRect(-1,-1,s+2,l+2),void 0!==n.tabIndex&&(o.setAttr("tabindex",n.tabIndex),o.keyup(function(t){n.handleKeys(t)}).focus(function(){n.showCursor()}).blur(function(){n.hideCursor()})),n.set.clipRect(0,0,s,l)},handleKeys:function(e){var i=this.prevIndex,n=this.chart;if(n){var o=n.chartData;o&&(isNaN(i)&&(i=o.length-1),37!=e.keyCode&&40!=e.keyCode||i--,39!=e.keyCode&&38!=e.keyCode||i++,i=t.fitToBounds(i,n.startIndex,n.endIndex),(e=this.chart.chartData[i])&&this.setPosition(e.x.categoryAxis),this.prevIndex=i)}},update:function(){var t=this.chart;if(t){var e=t.mouseX-this.x,i=t.mouseY-this.y;this.mouseX=e,this.mouseY=i,this.mouse2X=t.mouse2X-this.x,this.mouse2Y=t.mouse2Y-this.y;var n;if(t.chartData&&0<t.chartData.length){if(this.mouseIsOver()?(this.hideGraphBalloons=!1,this.rolledOver=n=!0,this.updateDrawing(),this.vvLine&&isNaN(this.fx)&&(t.rotate||!this.limitToGraph)&&this.vvLine.translate(e,0),!this.hhLine||!isNaN(this.fy)||t.rotate&&this.limitToGraph||this.hhLine.translate(0,i),isNaN(this.mouse2X)?this.dispatchMovedEvent(e,i):n=!1):this.forceShow||this.hideCursor(),this.zooming){if(!isNaN(this.mouse2X))return void(isNaN(this.mouse2X0)||this.dispatchPanEvent());if(this.pan)return void this.dispatchPanEvent();(this.hZoomEnabled||this.vZoomEnabled)&&this.zooming&&this.updateSelection()}n&&this.showCursor()}}},updateDrawing:function(){if(this.drawing&&this.chart.setMouseCursor("crosshair"),this.drawingNow&&(t.remove(this.drawingLine),1<Math.abs(this.drawStartX-this.mouseX)||1<Math.abs(this.drawStartY-this.mouseY))){var e=this.chart,i=e.marginTop,e=e.marginLeft;this.drawingLine=t.line(this.container,[this.drawStartX+e,this.mouseX+e],[this.drawStartY+i,this.mouseY+i],this.cursorColor,1,1)}},fixWidth:function(e){if(this.fullWidth&&this.prevLineWidth!=e){var i=this.vvLine,n=0;i&&(i.remove(),n=i.x),i=this.container.set(),i.translate(n,0),n=t.rect(this.container,e,this.height,this.cursorColor,this.cursorAlpha,this.cursorAlpha,this.cursorColor),t.setCN(this.chart,n,"cursor-fill"),n.translate(-e/2-1,0),i.push(n),this.vvLine=i,this.fullLines.push(i),this.prevLineWidth=e}},fixHeight:function(e){if(this.fullWidth&&this.prevLineHeight!=e){var i=this.hhLine,n=0;i&&(i.remove(),n=i.y),i=this.container.set(),i.translate(0,n),n=t.rect(this.container,this.width,e,this.cursorColor,this.cursorAlpha),n.translate(0,-e/2),i.push(n),this.fullLines.push(i),this.hhLine=i,this.prevLineHeight=e}},fixVLine:function(t,e){if(!isNaN(t)){if(isNaN(this.prevLineX)){var i=0,n=this.mouseX;if(this.limitToGraph){var o=this.chart.categoryAxis;o&&(this.chart.rotate||(i="bottom"==o.position?this.height:-this.height),n=t)}this.vvLine.translate(n,i)}else this.prevLineX!=t&&this.vvLine.translate(this.prevLineX,this.prevLineY);this.fx=t,this.prevLineX!=t&&(i=this.animationDuration,this.zooming&&(i=0),this.vvLine.stop(),this.vvLine.animate({translate:t+","+e},i,"easeOutSine"),this.prevLineX=t,this.prevLineY=e)}},fixHLine:function(t,e){if(!isNaN(t)){if(isNaN(this.prevLineY)){var i=0,n=this.mouseY;if(this.limitToGraph){var o=this.chart.categoryAxis;o&&(this.chart.rotate&&(i="right"==o.position?this.width:-this.width),n=t)}this.hhLine.translate(i,n)}else this.prevLineY!=t&&this.hhLine.translate(this.prevLineX,this.prevLineY);this.fy=t,this.prevLineY!=t&&(i=this.animationDuration,this.zooming&&(i=0),this.hhLine.stop(),this.hhLine.animate({translate:e+","+t},i,"easeOutSine"),this.prevLineY=t,this.prevLineX=e)}},hideCursor:function(t){this.forceShow=!1,this.chart.wasTouched&&this.leaveAfterTouch||this.isHidden||this.leaveCursor||(this.hideCursorReal(),t?this.chart.handleCursorHide():this.fire({target:this,chart:this.chart,type:"onHideCursor"}),this.chart.setMouseCursor("auto"))},hideCursorReal:function(){this.hideLines(),this.isHidden=!0,this.index=this.prevLineY=this.prevLineX=this.mouseY0=this.mouseX0=this.fy=this.fx=NaN},hideLines:function(){this.vvLine&&this.vvLine.hide(),this.hhLine&&this.hhLine.hide(),this.fullLines&&this.fullLines.hide(),this.isHidden=!0,this.chart.handleCursorHide()},showCursor:function(t){!this.drawing&&this.enabled&&(this.vLineEnabled&&this.vvLine&&this.vvLine.show(),this.hLineEnabled&&this.hhLine&&this.hhLine.show(),this.isHidden=!1,this.updateFullLine(),t||this.fire({target:this,chart:this.chart,type:"onShowCursor"}),this.pan&&this.chart.setMouseCursor("move"))},updateFullLine:function(){this.zooming&&this.fullWidth&&this.selection&&(this.rotate?0<this.selection.height&&this.hhLine.hide():0<this.selection.width&&this.vvLine.hide())},updateSelection:function(){if(!this.pan&&this.enabled){var e=this.mouseX,i=this.mouseY;isNaN(this.fx)||(e=this.fx),isNaN(this.fy)||(i=this.fy),this.clearSelection();var n,o=this.mouseX0,a=this.mouseY0,r=this.width,s=this.height,e=t.fitToBounds(e,0,r),i=t.fitToBounds(i,0,s);e<o&&(n=e,e=o,o=n),i<a&&(n=i,i=a,a=n),this.hZoomEnabled?r=e-o:o=0,this.vZoomEnabled?s=i-a:a=0,isNaN(this.mouse2X)&&0<Math.abs(r)&&0<Math.abs(s)&&(e=this.chart,i=t.rect(this.container,r,s,this.cursorColor,this.selectionAlpha),t.setCN(e,i,"cursor-selection"),i.width=r,i.height=s,i.translate(o,a),this.set.push(i),this.selection=i),this.updateFullLine()}},mouseIsOver:function(){var t=this.mouseX,e=this.mouseY;return this.justReleased?(this.justReleased=!1,!0):!!this.mouseIsDown||(this.chart.mouseIsOver?0<t&&t<this.width&&0<e&&e<this.height||void this.handleMouseOut():(this.handleMouseOut(),!1))},fixPosition:function(){this.prevY=this.prevX=NaN},handleMouseDown:function(){if(this.update(),this.mouseIsOver())if(this.mouseIsDown=!0,this.mouseX0=this.mouseX,this.mouseY0=this.mouseY,this.mouse2X0=this.mouse2X,this.mouse2Y0=this.mouse2Y,this.drawing)this.drawStartY=this.mouseY,this.drawStartX=this.mouseX,this.drawingNow=!0;else if(this.dispatchMovedEvent(this.mouseX,this.mouseY),!this.pan&&isNaN(this.mouse2X0)&&(isNaN(this.fx)||(this.mouseX0=this.fx),isNaN(this.fy)||(this.mouseY0=this.fy)),this.hZoomEnabled||this.vZoomEnabled){this.zooming=!0;var t={chart:this.chart,target:this,type:"zoomStarted"};t.x=this.mouseX/this.width,t.y=this.mouseY/this.height,this.index0=t.index=this.index,this.timestamp0=this.timestamp,this.fire(t)}},registerInitialMouse:function(){},handleReleaseOutside:function(){if(this.mouseIsDown=!1,this.drawingNow){this.drawingNow=!1,t.remove(this.drawingLine);var e=this.drawStartX,i=this.drawStartY,n=this.mouseX,o=this.mouseY,a=this.chart;(2<Math.abs(e-n)||2<Math.abs(i-o))&&this.fire({type:"draw",target:this,chart:a,initialX:e,initialY:i,finalX:n,finalY:o})}this.zooming&&(this.zooming=!1,this.selectWithoutZooming?this.dispatchZoomEvent("selected"):(this.hZoomEnabled||this.vZoomEnabled)&&this.dispatchZoomEvent("zoomed"),this.rolledOver&&this.dispatchMovedEvent(this.mouseX,this.mouseY)),this.mouse2Y0=this.mouse2X0=this.mouseY0=this.mouseX0=NaN},dispatchZoomEvent:function(t){if(!this.pan){var e=this.selection;if(e&&3<Math.abs(e.width)&&3<Math.abs(e.height)){var i=Math.min(this.index,this.index0),n=Math.max(this.index,this.index0),o=i,a=n,r=this.chart,s=r.chartData,l=r.categoryAxis;l&&l.parseDates&&!l.equalSpacing&&(o=s[i]?s[i].time:Math.min(this.timestamp0,this.timestamp),a=s[n]?r.getEndTime(s[n].time):Math.max(this.timestamp0,this.timestamp));var d,e={type:t,chart:this.chart,target:this,end:a,start:o,startIndex:i,endIndex:n,selectionHeight:e.height,selectionWidth:e.width,selectionY:e.y,selectionX:e.x};this.hZoomEnabled&&4<Math.abs(this.mouseX0-this.mouseX)&&(e.startX=this.mouseX0/this.width,e.endX=this.mouseX/this.width,d=!0),this.vZoomEnabled&&4<Math.abs(this.mouseY0-this.mouseY)&&(e.startY=1-this.mouseY0/this.height,e.endY=1-this.mouseY/this.height,d=!0),d&&(this.prevY=this.prevX=NaN,this.fire(e),"selected"!=t&&this.clearSelection()),this.hideCursor()}}},dispatchMovedEvent:function(t,e,i,n){if(t=Math.round(t),e=Math.round(e),!this.isHidden&&(t!=this.prevX||e!=this.prevY||"changed"==i)){i||(i="moved");var o=this.fx,a=this.fy;isNaN(o)&&(o=t),isNaN(a)&&(a=e);var r=!1;this.zooming&&this.pan&&(r=!0),r={hidden:this.isHidden,type:i,chart:this.chart,target:this,x:t,y:e,finalX:o,finalY:a,zooming:this.zooming,panning:r,mostCloseGraph:this.mostCloseGraph,index:this.index,skip:n,hideBalloons:this.hideGraphBalloons},this.prevIndex=this.index,this.rotate?(r.position=e,r.finalPosition=a):(r.position=t,r.finalPosition=o),this.prevX=t,this.prevY=e,n?this.chart.handleCursorMove(r):(this.fire(r),"changed"==i&&this.chart.fire(r))}},dispatchPanEvent:function(){if(this.mouseIsDown){var e=t.roundTo((this.mouseX-this.mouseX0)/this.width,3),i=t.roundTo((this.mouseY-this.mouseY0)/this.height,3),n=t.roundTo((this.mouse2X-this.mouse2X0)/this.width,3),o=t.roundTo((this.mouse2Y-this.mouse2Y0)/this.height,2),a=!1;0!==Math.abs(e)&&0!==Math.abs(i)&&(a=!0),this.prevDeltaX!=e&&this.prevDeltaY!=i||(a=!1),isNaN(n)||isNaN(o)||(0!==Math.abs(n)&&0!==Math.abs(o)&&(a=!0),this.prevDelta2X!=n&&this.prevDelta2Y!=o)||(a=!1),a&&(this.hideLines(),this.fire({type:"panning",chart:this.chart,target:this,deltaX:e,deltaY:i,delta2X:n,delta2Y:o,index:this.index}),this.prevDeltaX=e,this.prevDeltaY=i,this.prevDelta2X=n,this.prevDelta2Y=o)}},clearSelection:function(){var t=this.selection;t&&(t.width=0,t.height=0,t.remove())},destroy:function(){this.clear(),t.remove(this.selection),this.selection=null,clearTimeout(this.syncTO),t.remove(this.set)},clear:function(){},setTimestamp:function(t){this.timestamp=t},setIndex:function(t,e){t!=this.index&&(this.index=t,e||this.isHidden||this.dispatchMovedEvent(this.mouseX,this.mouseY,"changed"))},handleMouseOut:function(){this.enabled&&this.rolledOver&&(this.leaveCursor||this.setIndex(void 0),this.forceShow=!1,this.hideCursor(),this.rolledOver=!1)},showCursorAt:function(t){var e=this.chart.categoryAxis;e&&this.setPosition(e.categoryToCoordinate(t),t)},setPosition:function(t,e){var i=this.chart,n=i.categoryAxis;if(n){var o,a;void 0===e&&(e=n.coordinateToValue(t)),n.showBalloonAt(e,t),this.forceShow=!0,n.stickBalloonToCategory?i.rotate?this.fixHLine(t,0):this.fixVLine(t,0):(this.showCursor(),i.rotate?this.hhLine.translate(0,t):this.vvLine.translate(t,0)),i.rotate?o=t:a=t,i.rotate?(this.vvLine&&this.vvLine.hide(),this.hhLine&&this.hhLine.show()):(this.hhLine&&this.hhLine.hide(),this.vvLine&&this.vvLine.show()),this.updateFullLine(),this.isHidden=!1,this.dispatchMovedEvent(a,o,"moved",!0)}},enableDrawing:function(t){this.enabled=!t,this.hideCursor(),this.drawing=t},syncWithCursor:function(t,e){clearTimeout(this.syncTO),t&&(t.isHidden?this.hideCursor(!0):this.syncWithCursorReal(t,e))},isZooming:function(t){this.zooming=t},syncWithCursorReal:function(t,e){var i=t.vvLine,n=t.hhLine;this.index=t.index,this.forceShow=!0,this.zooming&&this.pan||this.showCursor(!0),this.hideGraphBalloons=e,this.justReleased=t.justReleased,this.zooming=t.zooming,this.index0=t.index0,this.mouseX0=t.mouseX0,this.mouseY0=t.mouseY0,this.mouse2X0=t.mouse2X0,this.mouse2Y0=t.mouse2Y0,this.timestamp0=t.timestamp0,this.prevDeltaX=t.prevDeltaX,this.prevDeltaY=t.prevDeltaY,this.prevDelta2X=t.prevDelta2X,this.prevDelta2Y=t.prevDelta2Y,this.fx=t.fx,this.fy=t.fy,t.zooming&&this.updateSelection();var o=t.mouseX,a=t.mouseY;this.rotate?(o=NaN,this.vvLine&&this.vvLine.hide(),this.hhLine&&n&&(isNaN(t.fy)?this.hhLine.translate(0,t.mouseY):this.fixHLine(t.fy,0))):(a=NaN,this.hhLine&&this.hhLine.hide(),this.vvLine&&i&&(isNaN(t.fx)?this.vvLine.translate(t.mouseX,0):this.fixVLine(t.fx,0))),this.dispatchMovedEvent(o,a,"moved",!0)}})}(),function(){var t=window.AmCharts;t.SimpleChartScrollbar=t.Class({construct:function(e){this.createEvents("zoomed","zoomStarted","zoomEnded"),this.backgroundColor="#D4D4D4",this.backgroundAlpha=1,this.selectedBackgroundColor="#EFEFEF",this.scrollDuration=this.selectedBackgroundAlpha=1,this.resizeEnabled=!0,this.hideResizeGrips=!1,this.scrollbarHeight=20,this.updateOnReleaseOnly=!1,9>document.documentMode&&(this.updateOnReleaseOnly=!0),this.dragIconHeight=this.dragIconWidth=35,this.dragIcon="dragIconRoundBig",this.dragCursorHover="cursor: move; cursor: grab; cursor: -moz-grab; cursor: -webkit-grab;",this.dragCursorDown="cursor: move; cursor: grab; cursor: -moz-grabbing; cursor: -webkit-grabbing;",this.vResizeCursor="ns-resize",this.hResizeCursor="ew-resize",this.enabled=!0,this.percentStart=this.offset=0,this.percentEnd=1,t.applyTheme(this,e,"SimpleChartScrollbar")},getPercents:function(){var t=this.getDBox(),e=t.x,i=t.y,n=t.width,t=t.height;this.rotate?(e=1-i/this.height,i=1-(i+t)/this.height):(i=e/this.width,e=(e+n)/this.width),this.percentStart=i,this.percentEnd=e},draw:function(){var e=this;if(e.destroy(),e.enabled){
var i=e.chart.container,n=e.rotate,o=e.chart;o.panRequired=!0;var a=i.set();e.set=a,n?t.setCN(o,a,"scrollbar-vertical"):t.setCN(o,a,"scrollbar-horizontal"),o.scrollbarsSet.push(a);var r,s;if(n?(r=e.scrollbarHeight,s=o.plotAreaHeight):(s=e.scrollbarHeight,r=o.plotAreaWidth),e.width=r,(e.height=s)&&r){var l=t.rect(i,r,s,e.backgroundColor,e.backgroundAlpha,1,e.backgroundColor,e.backgroundAlpha);t.setCN(o,l,"scrollbar-bg"),e.bg=l,a.push(l),l=t.rect(i,r,s,"#000",.005),a.push(l),e.invisibleBg=l,l.click(function(){e.handleBgClick()}).mouseover(function(){e.handleMouseOver()}).mouseout(function(){e.handleMouseOut()}).touchend(function(){e.handleBgClick()}),l=t.rect(i,r,s,e.selectedBackgroundColor,e.selectedBackgroundAlpha),t.setCN(o,l,"scrollbar-bg-selected"),e.selectedBG=l,a.push(l),r=t.rect(i,r,s,"#000",.005),e.dragger=r,a.push(r),r.mousedown(function(t){e.handleDragStart(t)}).mouseup(function(){e.handleDragStop()}).mouseover(function(){e.handleDraggerOver()}).mouseout(function(){e.handleMouseOut()}).touchstart(function(t){e.handleDragStart(t)}).touchend(function(){e.handleDragStop()}),s=o.pathToImages;var d,l=e.dragIcon.replace(/\.[a-z]*$/i,"");t.isAbsolute(l)&&(s=""),n?(d=s+l+"H"+o.extension,s=e.dragIconWidth,n=e.dragIconHeight):(d=s+l+o.extension,n=e.dragIconWidth,s=e.dragIconHeight),l=i.image(d,0,0,n,s),t.setCN(o,l,"scrollbar-grip-left"),d=i.image(d,0,0,n,s),t.setCN(o,d,"scrollbar-grip-right");var c=10,h=20;o.panEventsEnabled&&(c=25,h=e.scrollbarHeight);var u=t.rect(i,c,h,"#000",.005),f=t.rect(i,c,h,"#000",.005);f.translate(-(c-n)/2,-(h-s)/2),u.translate(-(c-n)/2,-(h-s)/2),n=i.set([l,f]),i=i.set([d,u]),e.iconLeft=n,a.push(e.iconLeft),e.iconRight=i,a.push(i),e.updateGripCursor(!1),o.makeAccessible(n,e.accessibleLabel),o.makeAccessible(i,e.accessibleLabel),o.makeAccessible(r,e.accessibleLabel),n.setAttr("role","menuitem"),i.setAttr("role","menuitem"),r.setAttr("role","menuitem"),void 0!==e.tabIndex&&(n.setAttr("tabindex",e.tabIndex),n.keyup(function(t){e.handleKeys(t,1,0)})),void 0!==e.tabIndex&&(r.setAttr("tabindex",e.tabIndex),r.keyup(function(t){e.handleKeys(t,1,1)})),void 0!==e.tabIndex&&(i.setAttr("tabindex",e.tabIndex),i.keyup(function(t){e.handleKeys(t,0,1)})),n.mousedown(function(){e.leftDragStart()}).mouseup(function(){e.leftDragStop()}).mouseover(function(){e.iconRollOver()}).mouseout(function(){e.iconRollOut()}).touchstart(function(){e.leftDragStart()}).touchend(function(){e.leftDragStop()}),i.mousedown(function(){e.rightDragStart()}).mouseup(function(){e.rightDragStop()}).mouseover(function(){e.iconRollOver()}).mouseout(function(){e.iconRollOut()}).touchstart(function(){e.rightDragStart()}).touchend(function(){e.rightDragStop()}),t.ifArray(o.chartData)?a.show():a.hide(),e.hideDragIcons(),e.clipDragger(!1)}a.translate(e.x,e.y),a.node.style.msTouchAction="none",a.node.style.touchAction="none"}},handleKeys:function(t,e,i){this.getPercents();var n=this.percentStart,o=this.percentEnd;if(this.rotate)var a=o,o=n,n=a;37!=t.keyCode&&40!=t.keyCode||(n-=.02*e,o-=.02*i),39!=t.keyCode&&38!=t.keyCode||(n+=.02*e,o+=.02*i),this.rotate&&(t=o,o=n,n=t),isNaN(o)||isNaN(n)||this.percentZoom(n,o,!0)},updateScrollbarSize:function(t,e){if(!isNaN(t)&&!isNaN(e)){t=Math.round(t),e=Math.round(e);var i,n,o,a,r,s=this.dragger;this.rotate?(i=0,n=t,o=this.width+1,a=e-t,s.setAttr("height",e-t),s.setAttr("y",n)):(i=t,n=0,o=e-t,a=this.height+1,r=e-t,s.setAttr("x",i),s.setAttr("width",r)),this.clipAndUpdate(i,n,o,a)}},update:function(){var t,e,i,n=!1,o=this.x,a=this.y,r=this.dragger,s=this.getDBox();if(s){e=s.x+o,i=s.y+a;var l=s.width,s=s.height,d=this.rotate,c=this.chart,h=this.width,u=this.height,f=c.mouseX,c=c.mouseY;if(t=this.initialMouse,this.forceClip&&this.clipDragger(!0),this.dragging){var p=this.initialCoord;d?(t=p+(c-t),0>t&&(t=0),p=u-s,t>p&&(t=p),r.setAttr("y",t)):(t=p+(f-t),0>t&&(t=0),p=h-l,(t>p||isNaN(t))&&(t=p),r.setAttr("x",t)),this.clipDragger(!0)}this.resizingRight&&(d?(t=c-i,!isNaN(this.maxHeight)&&t>this.maxHeight&&(t=this.maxHeight),t+i>u+a&&(t=u-i+a),0>t?(this.resizingRight=!1,n=this.resizingLeft=!0):((0===t||isNaN(t))&&(t=.1),r.setAttr("height",t))):(t=f-e,!isNaN(this.maxWidth)&&t>this.maxWidth&&(t=this.maxWidth),t+e>h+o&&(t=h-e+o),0>t?(this.resizingRight=!1,n=this.resizingLeft=!0):((0===t||isNaN(t))&&(t=.1),r.setAttr("width",t))),this.clipDragger(!0)),this.resizingLeft&&(d?(e=i,i=c,i<a&&(i=a),isNaN(i)&&(i=a),i>u+a&&(i=u+a),t=!0===n?e-i:s+e-i,!isNaN(this.maxHeight)&&t>this.maxHeight&&(t=this.maxHeight,i=e),0>t?(this.resizingRight=!0,this.resizingLeft=!1,r.setAttr("y",e+s-a)):((0===t||isNaN(t))&&(t=.1),r.setAttr("y",i-a),r.setAttr("height",t))):(i=f,i<o&&(i=o),isNaN(i)&&(i=o),i>h+o&&(i=h+o),t=!0===n?e-i:l+e-i,!isNaN(this.maxWidth)&&t>this.maxWidth&&(t=this.maxWidth,i=e),0>t?(this.resizingRight=!0,this.resizingLeft=!1,r.setAttr("x",e+l-o)):((0===t||isNaN(t))&&(t=.1),r.setAttr("x",i-o),r.setAttr("width",t))),this.clipDragger(!0))}},stopForceClip:function(){this.animating=this.forceClip=!1},clipDragger:function(t){var e=this.getDBox();if(e){var i=e.x,n=e.y,o=e.width,e=e.height,a=!1;this.rotate?(i=0,o=this.width+1,(this.clipY!=n||this.clipH!=e)&&(a=!0)):(n=0,e=this.height+1,(this.clipX!=i||this.clipW!=o)&&(a=!0)),a&&this.clipAndUpdate(i,n,o,e),t&&(this.updateOnReleaseOnly||this.dispatchScrollbarEvent())}},maskGraphs:function(){},clipAndUpdate:function(t,e,i,n){this.clipX=t,this.clipY=e,this.clipW=i,this.clipH=n,this.selectedBG.setAttr("width",i),this.selectedBG.setAttr("height",n),this.selectedBG.translate(t,e),this.updateDragIconPositions(),this.maskGraphs(t,e,i,n)},dispatchScrollbarEvent:function(){if(this.skipEvent)this.skipEvent=!1;else{var t=this.chart;t.hideBalloon();var e=this.getDBox(),i=e.x,n=e.y,o=e.width,e=e.height;this.getPercents(),this.rotate?(i=n,o=this.height/e):o=this.width/o,t={type:"zoomed",position:i,chart:t,target:this,multiplier:o,relativeStart:this.percentStart,relativeEnd:this.percentEnd},this.percentStart==this.prevPercentStart&&this.percentEnd==this.prevPercentEnd&&this.prevMultiplier==o||(this.fire(t),this.prevPercentStart=this.percentStart,this.prevPercentEnd=this.percentEnd,this.prevMultiplier=o)}},updateDragIconPositions:function(){var t,e,i=this.getDBox(),n=i.x,o=i.y,a=this.iconLeft,r=this.iconRight,s=this.scrollbarHeight;this.rotate?(t=this.dragIconWidth,e=this.dragIconHeight,a.translate((s-e)/2,o-t/2),r.translate((s-e)/2,o+i.height-t/2)):(t=this.dragIconHeight,e=this.dragIconWidth,a.translate(n-e/2,(s-t)/2),r.translate(n-e/2+i.width,(s-t)/2))},showDragIcons:function(){this.resizeEnabled&&(this.iconLeft.show(),this.iconRight.show())},hideDragIcons:function(){this.resizingLeft||this.resizingRight||this.dragging||(!this.hideResizeGrips&&this.resizeEnabled||(this.iconLeft.hide(),this.iconRight.hide()),this.removeCursors())},removeCursors:function(){this.chart.setMouseCursor("auto")},fireZoomEvent:function(t){this.fire({type:t,chart:this.chart,target:this})},percentZoom:function(e,i,n){if(e=t.fitToBounds(e,0,i),i=t.fitToBounds(i,e,1),this.dragger&&this.enabled){this.dragger.stop(),isNaN(e)&&(e=0),isNaN(i)&&(i=1);var o,a;this.rotate?(o=this.height,i=o-o*i,a=o-o*e):(o=this.width,a=o*i,i=o*e),this.updateScrollbarSize(i,a),this.clipDragger(!1),this.getPercents(),n&&this.dispatchScrollbarEvent()}},destroy:function(){this.clear(),t.remove(this.set),t.remove(this.iconRight),t.remove(this.iconLeft)},clear:function(){},handleDragStart:function(){if(this.enabled){this.fireZoomEvent("zoomStarted");var e=this.chart;this.dragger.stop(),this.removeCursors(),t.isModern&&(this.dragger.node.style.cssText=this.dragCursorDown),this.dragging=!0;var i=this.getDBox();this.rotate?(this.initialCoord=i.y,this.initialMouse=e.mouseY):(this.initialCoord=i.x,this.initialMouse=e.mouseX)}},handleDragStop:function(){this.updateOnReleaseOnly&&(this.update(),this.skipEvent=!1,this.dispatchScrollbarEvent()),this.dragging=!1,this.mouseIsOver&&this.removeCursors(),t.isModern&&(this.dragger.node.style.cssText=this.dragCursorHover),this.update(),this.fireZoomEvent("zoomEnded")},handleDraggerOver:function(){this.handleMouseOver(),t.isModern&&(this.dragger.node.style.cssText=this.dragCursorHover)},leftDragStart:function(){this.fireZoomEvent("zoomStarted"),this.dragger.stop(),this.resizingLeft=!0,this.updateGripCursor(!0)},updateGripCursor:function(e){t.isModern&&(e=this.rotate?e?this.vResizeCursorDown:this.vResizeCursorHover:e?this.hResizeCursorDown:this.hResizeCursorHover)&&(this.iconRight&&(this.iconRight.node.style.cssText=e),this.iconLeft&&(this.iconLeft.node.style.cssText=e))},leftDragStop:function(){this.resizingLeft&&(this.resizingLeft=!1,this.mouseIsOver||this.removeCursors(),this.updateOnRelease(),this.fireZoomEvent("zoomEnded")),this.updateGripCursor(!1)},rightDragStart:function(){this.fireZoomEvent("zoomStarted"),this.dragger.stop(),this.resizingRight=!0,this.updateGripCursor(!0)},rightDragStop:function(){this.resizingRight&&(this.resizingRight=!1,this.mouseIsOver||this.removeCursors(),this.updateOnRelease(),this.fireZoomEvent("zoomEnded")),this.updateGripCursor(!1)},iconRollOut:function(){this.removeCursors()},iconRollOver:function(){this.rotate?this.vResizeCursor&&this.chart.setMouseCursor(this.vResizeCursor):this.hResizeCursor&&this.chart.setMouseCursor(this.hResizeCursor),this.handleMouseOver()},getDBox:function(){if(this.dragger)return this.dragger.getBBox()},handleBgClick:function(){var e=this;if(!e.resizingRight&&!e.resizingLeft){e.zooming=!0;var i,n,o=e.scrollDuration,a=e.dragger;i=e.getDBox();var r=i.height,s=i.width;n=e.chart;var l=e.y,d=e.x,c=e.rotate;c?(i="y",n=n.mouseY-r/2-l,n=t.fitToBounds(n,0,e.height-r)):(i="x",n=n.mouseX-s/2-d,n=t.fitToBounds(n,0,e.width-s)),e.updateOnReleaseOnly?(e.skipEvent=!1,a.setAttr(i,n),e.dispatchScrollbarEvent(),e.clipDragger()):(e.animating=!0,n=Math.round(n),c?a.animate({y:n},o,">"):a.animate({x:n},o,">"),e.forceClip=!0,clearTimeout(e.forceTO),e.forceTO=setTimeout(function(){e.stopForceClip.call(e)},5e3*o))}},updateOnRelease:function(){this.updateOnReleaseOnly&&(this.update(),this.skipEvent=!1,this.dispatchScrollbarEvent())},handleReleaseOutside:function(){this.set&&((this.resizingLeft||this.resizingRight||this.dragging)&&(this.dragging=this.resizingRight=this.resizingLeft=!1,this.updateOnRelease(),this.removeCursors()),this.animating=this.mouseIsOver=!1,this.hideDragIcons(),this.update())},handleMouseOver:function(){this.mouseIsOver=!0,this.showDragIcons()},handleMouseOut:function(){this.mouseIsOver=!1,this.hideDragIcons(),this.removeCursors()}})}(),function(){var t=window.AmCharts;t.ChartScrollbar=t.Class({inherits:t.SimpleChartScrollbar,construct:function(e){this.cname="ChartScrollbar",t.ChartScrollbar.base.construct.call(this,e),this.graphLineColor="#BBBBBB",this.graphLineAlpha=0,this.graphFillColor="#BBBBBB",this.graphFillAlpha=1,this.selectedGraphLineColor="#888888",this.selectedGraphLineAlpha=0,this.selectedGraphFillColor="#888888",this.selectedGraphFillAlpha=1,this.gridCount=0,this.gridColor="#FFFFFF",this.gridAlpha=.7,this.skipEvent=this.autoGridCount=!1,this.color="#FFFFFF",this.scrollbarCreated=!1,this.oppositeAxis=!0,this.accessibleLabel="Zoom chart using cursor arrows",t.applyTheme(this,e,this.cname)},init:function(){var e=this.categoryAxis,i=this.chart,n=this.gridAxis;e||("CategoryAxis"==this.gridAxis.cname?(this.catScrollbar=!0,e=new t.CategoryAxis,e.id="scrollbar"):(e=new t.ValueAxis,e.data=i.chartData,e.id=n.id,e.type=n.type,e.maximumDate=n.maximumDate,e.minimumDate=n.minimumDate,e.minPeriod=n.minPeriod,e.minMaxField=n.minMaxField),this.categoryAxis=e),e.chart=i;var o=i.categoryAxis;o&&(e.firstDayOfWeek=o.firstDayOfWeek),e.dateFormats=n.dateFormats,e.markPeriodChange=n.markPeriodChange,e.boldPeriodBeginning=n.boldPeriodBeginning,e.labelFunction=n.labelFunction,e.axisItemRenderer=t.RecItem,e.axisRenderer=t.RecAxis,e.guideFillRenderer=t.RecFill,e.inside=!0,e.fontSize=this.fontSize,e.tickLength=0,e.axisAlpha=0,t.isString(this.graph)&&(this.graph=t.getObjById(i.graphs,this.graph)),(e=this.graph)&&this.catScrollbar&&(n=this.valueAxis,n||(this.valueAxis=n=new t.ValueAxis,n.visible=!1,n.scrollbar=!0,n.axisItemRenderer=t.RecItem,n.axisRenderer=t.RecAxis,n.guideFillRenderer=t.RecFill,n.labelsEnabled=!1,n.chart=i),i=this.unselectedGraph,i||(i=new t.AmGraph,i.scrollbar=!0,this.unselectedGraph=i,i.negativeBase=e.negativeBase,i.noStepRisers=e.noStepRisers),(i=this.selectedGraph)||(i=new t.AmGraph,i.scrollbar=!0,this.selectedGraph=i,i.negativeBase=e.negativeBase,i.noStepRisers=e.noStepRisers)),this.scrollbarCreated=!0},draw:function(){var e=this;if(t.ChartScrollbar.base.draw.call(e),e.enabled){e.scrollbarCreated||e.init();var i=e.chart,n=i.chartData,o=e.categoryAxis,a=e.rotate,r=e.x,s=e.y,l=e.width,d=e.height,c=e.gridAxis,h=e.set;if(o.setOrientation(!a),o.parseDates=c.parseDates,"ValueAxis"==e.categoryAxis.cname&&(o.rotate=!a),o.equalSpacing=c.equalSpacing,o.minPeriod=c.minPeriod,o.startOnAxis=c.startOnAxis,o.width=l-1,o.height=d,o.gridCount=e.gridCount,o.gridColor=e.gridColor,o.gridAlpha=e.gridAlpha,o.color=e.color,o.tickLength=0,o.axisAlpha=0,o.autoGridCount=e.autoGridCount,o.parseDates&&!o.equalSpacing&&o.timeZoom(i.firstTime,i.lastTime),o.minimum=e.gridAxis.fullMin,o.maximum=e.gridAxis.fullMax,o.strictMinMax=!0,o.zoom(0,n.length-1),(c=e.graph)&&e.catScrollbar){var u=e.valueAxis,f=c.valueAxis;u.id=f.id,u.rotate=a,u.setOrientation(a),u.width=l,u.height=d,u.dataProvider=n,u.reversed=f.reversed,u.logarithmic=f.logarithmic,u.gridAlpha=0,u.axisAlpha=0,h.push(u.set),a?(u.y=s,u.x=0):(u.x=r,u.y=0);var p,r=Infinity,s=-Infinity;for(p=0;p<n.length;p++){var m,g=n[p].axes[f.id].graphs[c.id].values;for(m in g)if(g.hasOwnProperty(m)&&"percents"!=m&&"total"!=m){var v=g[m];v<r&&(r=v),v>s&&(s=v)}}Infinity!=r&&(u.minimum=r),-Infinity!=s&&(u.maximum=s+.1*(s-r)),r==s&&(--u.minimum,u.maximum+=1),void 0!==e.minimum&&(u.minimum=e.minimum),void 0!==e.maximum&&(u.maximum=e.maximum),u.zoom(0,n.length-1),m=e.unselectedGraph,m.id=c.id,m.bcn="scrollbar-graph-",m.rotate=a,m.chart=i,m.data=n,m.valueAxis=u,m.chart=c.chart,m.categoryAxis=e.categoryAxis,m.periodSpan=c.periodSpan,m.valueField=c.valueField,m.openField=c.openField,m.closeField=c.closeField,m.highField=c.highField,m.lowField=c.lowField,m.lineAlpha=e.graphLineAlpha,m.lineColorR=e.graphLineColor,m.fillAlphas=e.graphFillAlpha,m.fillColorsR=e.graphFillColor,m.connect=c.connect,m.hidden=c.hidden,m.width=l,m.height=d,m.pointPosition=c.pointPosition,m.stepDirection=c.stepDirection,m.periodSpan=c.periodSpan,f=e.selectedGraph,f.id=c.id,f.bcn=m.bcn+"selected-",f.rotate=a,f.chart=i,f.data=n,f.valueAxis=u,f.chart=c.chart,f.categoryAxis=o,f.periodSpan=c.periodSpan,f.valueField=c.valueField,f.openField=c.openField,f.closeField=c.closeField,f.highField=c.highField,f.lowField=c.lowField,f.lineAlpha=e.selectedGraphLineAlpha,f.lineColorR=e.selectedGraphLineColor,f.fillAlphas=e.selectedGraphFillAlpha,f.fillColorsR=e.selectedGraphFillColor,f.connect=c.connect,f.hidden=c.hidden,f.width=l,f.height=d,f.pointPosition=c.pointPosition,f.stepDirection=c.stepDirection,f.periodSpan=c.periodSpan,i=e.graphType,i||(i=c.type),m.type=i,f.type=i,n=n.length-1,m.zoom(0,n),f.zoom(0,n),f.set.click(function(){e.handleBackgroundClick()}).mouseover(function(){e.handleMouseOver()}).mouseout(function(){e.handleMouseOut()}),m.set.click(function(){e.handleBackgroundClick()}).mouseover(function(){e.handleMouseOver()}).mouseout(function(){e.handleMouseOut()}),h.push(m.set),h.push(f.set)}h.push(o.set),h.push(o.labelsSet),e.bg.toBack(),e.invisibleBg.toFront(),e.dragger.toFront(),e.iconLeft.toFront(),e.iconRight.toFront()}},timeZoom:function(e,i,n){this.startTime=e,this.endTime=i,this.timeDifference=i-e,this.skipEvent=!t.toBoolean(n),this.zoomScrollbar(),this.dispatchScrollbarEvent()},zoom:function(t,e){this.start=t,this.end=e,this.skipEvent=!0,this.zoomScrollbar()},dispatchScrollbarEvent:function(){if(this.categoryAxis&&"ValueAxis"==this.categoryAxis.cname)t.ChartScrollbar.base.dispatchScrollbarEvent.call(this);else if(this.skipEvent)this.skipEvent=!1;else{var e,i,n=this.chart.chartData,o=this.dragger.getBBox();e=o.x;var a=o.y,r=o.width,o=o.height,s=this.chart;this.rotate?(e=a,i=o):i=r,r={type:"zoomed",target:this},r.chart=s;var l=this.categoryAxis,d=this.stepWidth,a=s.minSelectedTime,o=s.maxSelectedTime,c=!1;l.parseDates&&!l.equalSpacing?(n=s.lastTime,s=s.firstTime,l=Math.round(e/d)+s,e=this.dragging?l+this.timeDifference:Math.round((e+i)/d)+s,l>e&&(l=e),0<a&&e-l<a&&(e=Math.round(l+(e-l)/2),c=Math.round(a/2),l=e-c,e+=c,c=!0),0<o&&e-l>o&&(e=Math.round(l+(e-l)/2),c=Math.round(o/2),l=e-c,e+=c,c=!0),e>n&&(e=n),e-a<l&&(l=e-a),l<s&&(l=s),l+a>e&&(e=l+a),(l!=this.startTime||e!=this.endTime)&&(this.startTime=l,this.endTime=e,r.start=l,r.end=e,r.startDate=new Date(l),r.endDate=new Date(e),this.fire(r))):(l.startOnAxis||(e+=d/2),i-=this.stepWidth/2,a=l.xToIndex(e),e=l.getCoordinate(a)-this.stepWidth/2,e=l.xToIndex(e+i),a==this.start&&this.end==e||(l.startOnAxis&&(this.resizingRight&&a==e&&e++,this.resizingLeft&&a==e&&(0<a?a--:e=1)),this.start=a,this.end=this.dragging?this.start+this.difference:e,r.start=this.start,r.end=this.end,l.parseDates&&(n[this.start]&&(r.startDate=new Date(n[this.start].time)),n[this.end]&&(r.endDate=new Date(n[this.end].time))),this.fire(r)),this.percentStart=a,this.percentEnd=e),c&&this.zoomScrollbar(!0)}},zoomScrollbar:function(t){if((!(this.dragging||this.resizingLeft||this.resizingRight||this.animating)||t)&&this.dragger&&this.enabled){var e,i,n=this.chart;t=n.chartData;var o=this.categoryAxis;o.parseDates&&!o.equalSpacing?(t=o.stepWidth,i=n.firstTime,e=t*(this.startTime-i),i=t*(this.endTime-i)):(t[this.start]&&(e=t[this.start].x[o.id]),t[this.end]&&(i=t[this.end].x[o.id]),t=o.stepWidth,o.startOnAxis||(n=t/2,e-=n,i+=n)),this.stepWidth=t,isNaN(e)||isNaN(i)||this.updateScrollbarSize(e,i)}},maskGraphs:function(t,e,i,n){var o=this.selectedGraph;o&&o.set.clipRect(t,e,i,n)},handleDragStart:function(){t.ChartScrollbar.base.handleDragStart.call(this),this.difference=this.end-this.start,this.timeDifference=this.endTime-this.startTime,0>this.timeDifference&&(this.timeDifference=0)},handleBackgroundClick:function(){t.ChartScrollbar.base.handleBackgroundClick.call(this),this.dragging||(this.difference=this.end-this.start,this.timeDifference=this.endTime-this.startTime,0>this.timeDifference&&(this.timeDifference=0))}})}(),function(){var t=window.AmCharts;t.AmBalloon=t.Class({construct:function(e){this.cname="AmBalloon",this.enabled=!0,this.fillColor="#FFFFFF",this.fillAlpha=.8,this.borderThickness=2,this.borderColor="#FFFFFF",this.borderAlpha=1,this.cornerRadius=0,this.maxWidth=220,this.horizontalPadding=8,this.verticalPadding=4,this.pointerWidth=6,this.pointerOrientation="V",this.color="#000000",this.adjustBorderColor=!0,this.show=this.follow=this.showBullet=!1,this.bulletSize=3,this.shadowAlpha=.4,this.shadowColor="#000000",this.fadeOutDuration=this.animationDuration=.3,this.fixedPosition=!0,this.offsetY=6,this.offsetX=1,this.textAlign="center",this.disableMouseEvents=!0,this.deltaSignX=this.deltaSignY=1,t.isModern||(this.offsetY*=1.5),this.sdy=this.sdx=0,t.applyTheme(this,e,this.cname)},draw:function(){var e=this.pointToX,i=this.pointToY;t.isModern||(this.drop=!1);var n=this.chart;if(t.VML&&(this.fadeOutDuration=0),this.xAnim&&n.stopAnim(this.xAnim),this.yAnim&&n.stopAnim(this.yAnim),this.sdy=this.sdx=0,!isNaN(e)){var o=this.follow,a=n.container,r=this.set;if(t.remove(r),this.removeDiv(),r=a.set(),r.node.style.pointerEvents="none",this.set=r,this.mainSet?(this.mainSet.push(this.set),this.sdx=this.mainSet.x,this.sdy=this.mainSet.y):n.balloonsSet.push(r),this.show){var s=this.l,l=this.t,d=this.r,c=this.b,h=this.balloonColor,u=this.fillColor,f=this.borderColor,p=u;void 0!=h&&(this.adjustBorderColor?p=f=h:u=h);var m=this.horizontalPadding,g=this.verticalPadding,v=this.pointerWidth,b=this.pointerOrientation,T=this.cornerRadius,E=n.fontFamily,C=this.fontSize;void 0==C&&(C=n.fontSize);var h=document.createElement("div"),y=n.classNamePrefix;h.className=y+"-balloon-div",this.className&&(h.className=h.className+" "+y+"-balloon-div-"+this.className),y=h.style,this.disableMouseEvents&&(y.pointerEvents="none"),y.position="absolute";var D=this.minWidth,I=document.createElement("div");h.appendChild(I);var O=I.style;isNaN(D)||(O.minWidth=D-2*m+"px"),O.textAlign=this.textAlign,O.maxWidth=this.maxWidth+"px",O.fontSize=C+"px",O.color=this.color,O.fontFamily=E,I.innerHTML=this.text,n.chartDiv.appendChild(h),this.textDiv=h;var O=h.offsetWidth,R=h.offsetHeight;h.clientHeight&&(O=h.clientWidth,R=h.clientHeight),E=R+2*g,I=O+2*m,!isNaN(D)&&I<D&&(I=D),window.opera&&(E+=2);var x=!1,C=this.offsetY;n.handDrawn&&(C+=n.handDrawScatter+2),"H"!=b?(D=e-I/2,i<l+E+10&&"down"!=b?(x=!0,o&&(i+=C),C=i+v,this.deltaSignY=-1):(o&&(i-=C),C=i-E-v,this.deltaSignY=1)):(2*v>E&&(v=E/2),C=i-E/2,e<s+(d-s)/2?(D=e+v,this.deltaSignX=-1):(D=e-I-v,this.deltaSignX=1)),C+E>=c&&(C=c-E),C<l&&(C=l),D<s&&(D=s),D+I>d&&(D=d-I);var w,l=C+g,c=D+m,k=this.shadowAlpha,_=this.shadowColor,m=this.borderThickness,S=this.bulletSize,g=this.fillAlpha,N=this.borderAlpha;this.showBullet&&(w=t.circle(a,S,p,g),r.push(w)),this.drop?(s=I/1.6,d=0,"V"==b&&(b="down"),"H"==b&&(b="left"),"down"==b&&(D=e+1,C=i-s-s/3),"up"==b&&(d=180,D=e+1,C=i+s+s/3),"left"==b&&(d=270,D=e+s+s/3+2,C=i),"right"==b&&(d=90,D=e-s-s/3+2,C=i),l=C-R/2+1,c=D-O/2-1,u=t.drop(a,s,d,u,g,m,f,N)):0<T||0===v?(0<k&&(e=t.rect(a,I,E,u,0,m+1,_,k,T),t.isModern?e.translate(1,1):e.translate(4,4),r.push(e)),u=t.rect(a,I,E,u,g,m,f,N,T)):(p=[],T=[],"H"!=b?(s=e-D,s>I-v&&(s=I-v),s<v&&(s=v),p=[0,s-v,e-D,s+v,I,I,0,0],T=x?[0,0,i-C,0,0,E,E,0]:[E,E,i-C,E,E,0,0,E]):(b=i-C,b>E-v&&(b=E-v),b<v&&(b=v),T=[0,b-v,i-C,b+v,E,E,0,0],p=e<s+(d-s)/2?[0,0,D<e?0:e-D,0,0,I,I,0]:[I,I,D+I>e?I:e-D,I,I,0,0,I]),0<k&&(e=t.polygon(a,p,T,u,0,m,_,k),e.translate(1,1),r.push(e)),u=t.polygon(a,p,T,u,g,m,f,N)),this.bg=u,r.push(u),u.toFront(),t.setCN(n,u,"balloon-bg"),this.className&&t.setCN(n,u,"balloon-bg-"+this.className),a=1*this.deltaSignX,c+=this.sdx,l+=this.sdy,y.left=c+"px",y.top=l+"px",r.translate(D-a,C,1,!0),u=u.getBBox(),this.bottom=C+E+1,this.yPos=u.y+C,w&&w.translate(this.pointToX-D+a,i-C),i=this.animationDuration,0<this.animationDuration&&!o&&!isNaN(this.prevX)&&(r.translate(this.prevX,this.prevY,NaN,!0),r.animate({translate:D-a+","+C},i,"easeOutSine"),h&&(y.left=this.prevTX+"px",y.top=this.prevTY+"px",this.xAnim=n.animate({node:h},"left",this.prevTX,c,i,"easeOutSine","px"),this.yAnim=n.animate({node:h},"top",this.prevTY,l,i,"easeOutSine","px"))),this.prevX=D-a,this.prevY=C,this.prevTX=c,this.prevTY=l}}},fixPrevious:function(){this.rPrevX=this.prevX,this.rPrevY=this.prevY,this.rPrevTX=this.prevTX,this.rPrevTY=this.prevTY},restorePrevious:function(){this.prevX=this.rPrevX,this.prevY=this.rPrevY,this.prevTX=this.rPrevTX,this.prevTY=this.rPrevTY},followMouse:function(){if(this.follow&&this.show){var t=this.chart.mouseX-this.offsetX*this.deltaSignX-this.sdx,e=this.chart.mouseY-this.sdy;if(this.pointToX=t,this.pointToY=e,t!=this.previousX||e!=this.previousY)if(this.previousX=t,this.previousY=e,0===this.cornerRadius)this.draw();else{var i=this.set;if(i){var n=i.getBBox(),t=t-n.width/2,o=e-n.height-10;t<this.l&&(t=this.l),t>this.r-n.width&&(t=this.r-n.width),o<this.t&&(o=e+10),i.translate(t,o),e=this.textDiv.style,e.left=t+this.horizontalPadding+"px",e.top=o+this.verticalPadding+"px"}}}},changeColor:function(t){this.balloonColor=t},setBounds:function(t,e,i,n){this.l=t,this.t=e,this.r=i,this.b=n,this.destroyTO&&clearTimeout(this.destroyTO)},showBalloon:function(t){(this.text!=t||this.positionChanged)&&(this.text=t,this.isHiding=!1,this.show=!0,this.destroyTO&&clearTimeout(this.destroyTO),t=this.chart,this.fadeAnim1&&t.stopAnim(this.fadeAnim1),this.fadeAnim2&&t.stopAnim(this.fadeAnim2),this.draw(),this.positionChanged=!1)},hide:function(t){var e=this;e.text=void 0,isNaN(t)&&(t=e.fadeOutDuration);var i=e.chart;if(0<t&&!e.isHiding){e.isHiding=!0,e.destroyTO&&clearTimeout(e.destroyTO),e.destroyTO=setTimeout(function(){e.destroy.call(e)},1e3*t),e.follow=!1,e.show=!1;var n=e.set;n&&(n.setAttr("opacity",e.fillAlpha),e.fadeAnim1=n.animate({opacity:0},t,"easeInSine")),e.textDiv&&(e.fadeAnim2=i.animate({node:e.textDiv},"opacity",1,0,t,"easeInSine",""))}else e.show=!1,e.follow=!1,e.destroy()},setPosition:function(t,e){t==this.pointToX&&e==this.pointToY||(this.previousX=this.pointToX,this.previousY=this.pointToY,this.pointToX=t,this.pointToY=e,this.positionChanged=!0)},followCursor:function(t){var e=this;e.follow=t,clearInterval(e.interval);var i=e.chart.mouseX-e.sdx,n=e.chart.mouseY-e.sdy;!isNaN(i)&&t&&(e.pointToX=i-e.offsetX*e.deltaSignX,e.pointToY=n,e.followMouse(),e.interval=setInterval(function(){e.followMouse.call(e)},40))},removeDiv:function(){if(this.textDiv){var t=this.textDiv.parentNode;t&&t.removeChild(this.textDiv)}},destroy:function(){clearInterval(this.interval),t.remove(this.set),this.removeDiv(),this.set=null}})}(),function(){var t=window.AmCharts;t.AmCoordinateChart=t.Class({inherits:t.AmChart,construct:function(e){t.AmCoordinateChart.base.construct.call(this,e),this.theme=e,this.createEvents("rollOverGraphItem","rollOutGraphItem","clickGraphItem","doubleClickGraphItem","rightClickGraphItem","clickGraph","rollOverGraph","rollOutGraph"),this.startAlpha=1,this.startDuration=0,this.startEffect="elastic",this.sequencedAnimation=!0,this.colors="#FF6600 #FCD202 #B0DE09 #0D8ECF #2A0CD0 #CD0D74 #CC0000 #00CC00 #0000CC #DDDDDD #999999 #333333 #990000".split(" "),this.balloonDateFormat="MMM DD, YYYY",this.valueAxes=[],this.graphs=[],this.guides=[],this.gridAboveGraphs=!1,t.applyTheme(this,e,"AmCoordinateChart")},initChart:function(){t.AmCoordinateChart.base.initChart.call(this),this.drawGraphs=!0;var e=this.categoryAxis;e&&(this.categoryAxis=t.processObject(e,t.CategoryAxis,this.theme)),this.processValueAxes(),this.createValueAxes(),this.processGraphs(),this.processGuides(),t.VML&&(this.startAlpha=1),this.setLegendData(this.graphs),this.gridAboveGraphs&&(this.gridSet.toFront(),this.bulletSet.toFront(),this.balloonsSet.toFront())},createValueAxes:function(){if(0===this.valueAxes.length){var e=new t.ValueAxis;this.addValueAxis(e)}},parseData:function(){this.processValueAxes(),this.processGraphs()},parseSerialData:function(t){if(this.chartData=[],t)if(0<this.processTimeout){1>this.processCount&&(this.processCount=1);var e=t.length/this.processCount;this.parseCount=Math.ceil(e)-1;for(var i=0;i<e;i++)this.delayParseSerialData(t,i)}else this.parseCount=0,this.parsePartSerialData(t,0,t.length,0);else this.onDataUpdated()},delayParseSerialData:function(t,e){var i=this,n=i.processCount;setTimeout(function(){i.parsePartSerialData.call(i,t,e*n,(e+1)*n,e)},i.processTimeout)},parsePartSerialData:function(e,i,n,o){n>e.length&&(n=e.length);var a=this.graphs,r={},s=this.seriesIdField;s||(s=this.categoryField);var l,d,c,h,u=!1,f=this.categoryAxis;f&&(u=f.parseDates,d=f.forceShowField,h=f.classNameField,c=f.labelColorField,l=f.categoryFunction);var p,m,g,v={};u&&(p=t.extractPeriod(f.minPeriod),m=p.period,p=p.count,g=t.getPeriodDuration(m,p));var b={};this.lookupTable=b;var T,E=this.dataDateFormat,C={};for(T=i;T<n;T++){var y={},D=e[T];if(i=D[this.categoryField],y.dataContext=D,y.category=l?l(i,D,f):String(i),d&&(y.forceShow=D[d]),h&&(y.className=D[h]),c&&(y.labelColor=D[c]),b[D[s]]=y,!u||(f.categoryFunction?i=f.categoryFunction(i,D,f):(!E||i instanceof Date||(i=i.toString()+" |"),i=t.getDate(i,E,f.minPeriod)),i=t.resetDateToMin(i,m,p,f.firstDayOfWeek),y.category=i,y.time=i.getTime(),!isNaN(y.time))){var I=this.valueAxes;y.axes={},y.x={};var O;for(O=0;O<I.length;O++){var R=I[O].id;y.axes[R]={},y.axes[R].graphs={};var x;for(x=0;x<a.length;x++){i=a[x];var w=i.id,k=1.1;isNaN(i.gapPeriod)||(k=i.gapPeriod);var _=i.periodValue;if(i.valueAxis.id==R){y.axes[R].graphs[w]={};var S={};S.index=T;var N=D;if(i.dataProvider&&(N=r),S.values=this.processValues(N,i,_),!i.connect||i.forceGap&&!isNaN(i.gapPeriod))if(C&&C[w]&&0<k&&y.time-v[w]>=g*k&&(C[w].gap=!0),i.forceGap){var K,k=0;for(K in S.values)k++;0<k&&(v[w]=y.time,C[w]=S)}else v[w]=y.time,C[w]=S;this.processFields(i,S,N),S.category=y.category,S.serialDataItem=y,S.graph=i,y.axes[R].graphs[w]=S}}}this.chartData[T]=y}}if(this.parseCount==o){for(e=0;e<a.length;e++)i=a[e],i.dataProvider&&this.parseGraphData(i);this.dataChanged=!1,this.dispatchDataUpdated=!0,this.onDataUpdated()}},processValues:function(e,i,n){var o,a={},r=!1;"candlestick"!=i.type&&"ohlc"!=i.type||""===n||(r=!0);for(var s="value error open close low high".split(" "),l=0;l<s.length;l++){var d=s[l];"value"!=d&&"error"!=d&&r&&(n=d.charAt(0).toUpperCase()+d.slice(1));var c=e[i[d+"Field"]+n];null!==c&&(o=Number(c),isNaN(o)||(a[d]=o),"date"==i.valueAxis.type&&void 0!==c&&(o=t.getDate(c,i.chart.dataDateFormat),a[d]=o.getTime()))}return a},parseGraphData:function(t){var e=t.dataProvider,i=t.seriesIdField;i||(i=this.seriesIdField),i||(i=this.categoryField);var n;for(n=0;n<e.length;n++){var o=e[n],a=this.lookupTable[String(o[i])],r=t.valueAxis.id;a&&(r=a.axes[r].graphs[t.id],r.serialDataItem=a,r.values=this.processValues(o,t,t.periodValue),this.processFields(t,r,o))}},addValueAxis:function(t){t.chart=this,this.valueAxes.push(t),this.validateData()},removeValueAxesAndGraphs:function(){var t,e=this.valueAxes;for(t=e.length-1;-1<t;t--)this.removeValueAxis(e[t])},removeValueAxis:function(t){var e,i=this.graphs;for(e=i.length-1;0<=e;e--){var n=i[e];n&&n.valueAxis==t&&this.removeGraph(n)}for(i=this.valueAxes,e=i.length-1;0<=e;e--)i[e]==t&&i.splice(e,1);this.validateData()},addGraph:function(t){this.graphs.push(t),this.chooseGraphColor(t,this.graphs.length-1),this.validateData()},removeGraph:function(t){var e,i=this.graphs;for(e=i.length-1;0<=e;e--)i[e]==t&&(i.splice(e,1),t.destroy());this.validateData()},handleValueAxisZoom:function(){},processValueAxes:function(){var e,i=this.valueAxes;for(e=0;e<i.length;e++){var n=i[e],n=t.processObject(n,t.ValueAxis,this.theme);i[e]=n,n.chart=this,n.init(),this.listenTo(n,"axisIntZoomed",this.handleValueAxisZoom),n.id||(n.id="valueAxisAuto"+e+"_"+(new Date).getTime()),void 0===n.usePrefixes&&(n.usePrefixes=this.usePrefixes)}},processGuides:function(){var e=this.guides,i=this.categoryAxis;if(e)for(var n=0;n<e.length;n++){var o=e[n];(void 0!==o.category||void 0!==o.date)&&i&&i.addGuide(o),o.id||(o.id="guideAuto"+n+"_"+(new Date).getTime());var a=o.valueAxis;a?(t.isString(a)&&(a=this.getValueAxisById(a)),a?a.addGuide(o):this.valueAxes[0].addGuide(o)):isNaN(o.value)||this.valueAxes[0].addGuide(o)}},processGraphs:function(){var e,i=this.graphs;for(this.graphsById={},e=0;e<i.length;e++){var n=i[e],n=t.processObject(n,t.AmGraph,this.theme);i[e]=n,this.chooseGraphColor(n,e),n.chart=this,n.init(),t.isString(n.valueAxis)&&(n.valueAxis=this.getValueAxisById(n.valueAxis)),n.valueAxis||(n.valueAxis=this.valueAxes[0]),n.id||(n.id="graphAuto"+e+"_"+(new Date).getTime()),this.graphsById[n.id]=n}},formatString:function(e,i,n){var o=i.graph,a=o.valueAxis;return a.duration&&i.values.value&&(a=t.formatDuration(i.values.value,a.duration,"",a.durationUnits,a.maxInterval,a.numberFormatter),e=e.split("[[value]]").join(a)),e=t.massReplace(e,{"[[title]]":o.title,"[[description]]":i.description}),e=n?t.fixNewLines(e):t.fixBrakes(e),e=t.cleanFromEmpty(e)},getBalloonColor:function(e,i,n){var o=e.lineColor,a=e.balloonColor;return n&&(a=o),n=e.fillColorsR,"object"==typeof n?o=n[0]:void 0!==n&&(o=n),i.isNegative&&(n=e.negativeLineColor,e=e.negativeFillColors,"object"==typeof e?n=e[0]:void 0!==e&&(n=e),void 0!==n&&(o=n)),void 0!==i.color&&(o=i.color),void 0!==i.lineColor&&(o=i.lineColor),i=i.fillColors,void 0!==i&&(o=i,t.ifArray(i)&&(o=i[0])),void 0===a&&(a=o),a},getGraphById:function(e){return t.getObjById(this.graphs,e)},getValueAxisById:function(e){return t.getObjById(this.valueAxes,e)},processFields:function(e,i,n){if(e.itemColors){var o=e.itemColors,a=i.index;i.color=a<o.length?o[a]:t.randomColor()}for(o="lineColor color alpha fillColors description bullet customBullet bulletSize bulletConfig url labelColor dashLength pattern gap className columnIndex".split(" "),a=0;a<o.length;a++){var r=o[a],s=e[r+"Field"];s&&(s=n[s],t.isDefined(s)&&(i[r]=s))}i.dataContext=n},chooseGraphColor:function(e,i){if(e.lineColor)e.lineColorR=e.lineColor;else{var n;n=this.colors.length>i?this.colors[i]:e.lineColorR?e.lineColorR:t.randomColor(),e.lineColorR=n}e.fillColorsR=e.fillColors?e.fillColors:e.lineColorR,e.bulletBorderColorR=e.bulletBorderColor?e.bulletBorderColor:e.useLineColorForBulletBorder?e.lineColorR:e.bulletColor,e.bulletColorR=e.bulletColor?e.bulletColor:e.lineColorR,(n=this.patterns)&&(e.pattern=n[i])},handleLegendEvent:function(t){var e=t.type;if(t=t.dataItem){var i=t.hidden,n=t.showBalloon;switch(e){case"clickMarker":this.textClickEnabled&&(n?this.hideGraphsBalloon(t):this.showGraphsBalloon(t));break
;case"clickLabel":n?this.hideGraphsBalloon(t):this.showGraphsBalloon(t);break;case"rollOverItem":i||this.highlightGraph(t);break;case"rollOutItem":i||this.unhighlightGraph();break;case"hideItem":this.hideGraph(t);break;case"showItem":this.showGraph(t)}}},highlightGraph:function(t){var e=this.graphs;if(e){var i,n=.2;if(this.legend&&(n=this.legend.rollOverGraphAlpha),1!=n)for(i=0;i<e.length;i++){var o=e[i];o!=t&&o.changeOpacity(n)}}},unhighlightGraph:function(){var t;if(this.legend&&(t=this.legend.rollOverGraphAlpha),1!=t){t=this.graphs;var e;for(e=0;e<t.length;e++)t[e].changeOpacity(1)}},showGraph:function(t){t.switchable&&(t.hidden=!1,this.dataChanged=!0,"xy"!=this.type&&(this.marginsUpdated=!1),this.chartCreated&&this.initChart())},hideGraph:function(t){t.switchable&&(this.dataChanged=!0,"xy"!=this.type&&(this.marginsUpdated=!1),t.hidden=!0,this.chartCreated&&this.initChart())},hideGraphsBalloon:function(t){t.showBalloon=!1,this.updateLegend()},showGraphsBalloon:function(t){t.showBalloon=!0,this.updateLegend()},updateLegend:function(){this.legend&&this.legend.invalidateSize()},resetAnimation:function(){this.animatable=[];var t=this.graphs;if(t){var e;for(e=0;e<t.length;e++)t[e].animationPlayed=!1}},animateAgain:function(){this.resetAnimation(),this.validateNow()}})}(),function(){var t=window.AmCharts;t.TrendLine=t.Class({construct:function(e){this.cname="TrendLine",this.createEvents("click","rollOver","rollOut"),this.isProtected=!1,this.dashLength=0,this.lineColor="#00CC00",this.lineThickness=this.lineAlpha=1,t.applyTheme(this,e,this.cname)},draw:function(){var e=this;e.destroy();var i,n,o,a,r=e.chart,s=r.container,l=e.categoryAxis,d=e.initialDate,c=e.initialCategory,h=e.finalDate,u=e.finalCategory,f=e.valueAxis,p=e.valueAxisX,m=e.initialXValue,g=e.finalXValue,v=e.initialValue,b=e.finalValue,T=f.recalculateToPercents,E=r.dataDateFormat;l&&(d&&(d=t.getDate(d,E,"fff"),e.initialDate=d,i=l.dateToCoordinate(d)),c&&(i=l.categoryToCoordinate(c)),h&&(h=t.getDate(h,E,"fff"),e.finalDate=h,n=l.dateToCoordinate(h)),u&&(n=l.categoryToCoordinate(u))),p&&!T&&(isNaN(m)||(i=p.getCoordinate(m)),isNaN(g)||(n=p.getCoordinate(g))),f&&!T&&(isNaN(v)||(o=f.getCoordinate(v)),isNaN(b)||(a=f.getCoordinate(b))),isNaN(i)||isNaN(n)||isNaN(o)||isNaN(o)||(r.rotate?(l=[o,a],a=[i,n]):(l=[i,n],a=[o,a]),o=t.line(s,l,a,e.lineColor,e.lineAlpha,e.lineThickness,e.dashLength),i=l,n=a,h=l[1]-l[0],u=a[1]-a[0],0===h&&(h=.01),0===u&&(u=.01),d=h/Math.abs(h),c=u/Math.abs(u),u=90*Math.PI/180-Math.asin(h/(h*u/Math.abs(h*u)*Math.sqrt(Math.pow(h,2)+Math.pow(u,2)))),h=Math.abs(5*Math.cos(u)),u=Math.abs(5*Math.sin(u)),i.push(l[1]-d*u,l[0]-d*u),n.push(a[1]+c*h,a[0]+c*h),a=t.polygon(s,i,n,"#ffffff",.005,0),s=s.set([a,o]),s.translate(r.marginLeftReal,r.marginTopReal),r.trendLinesSet.push(s),t.setCN(r,o,"trend-line"),t.setCN(r,o,"trend-line-"+e.id),e.line=o,e.set=s,(o=e.initialImage)&&(o=t.processObject(o,t.Image,e.theme),o.chart=r,o.draw(),o.translate(i[0]+o.offsetX,n[0]+o.offsetY),s.push(o.set)),(o=e.finalImage)&&(o=t.processObject(o,t.Image,e.theme),o.chart=r,o.draw(),o.translate(i[1]+o.offsetX,n[1]+o.offsetY),s.push(o.set)),s.mouseup(function(){e.handleLineClick()}).mouseover(function(){e.handleLineOver()}).mouseout(function(){e.handleLineOut()}),s.touchend&&s.touchend(function(){e.handleLineClick()}),s.clipRect(0,0,r.plotAreaWidth,r.plotAreaHeight))},handleLineClick:function(){this.fire({type:"click",trendLine:this,chart:this.chart})},handleLineOver:function(){var t=this.rollOverColor;void 0!==t&&this.line.attr({stroke:t}),this.balloonText&&(clearTimeout(this.chart.hoverInt),t=this.line.getBBox(),this.chart.showBalloon(this.balloonText,this.lineColor,!0,this.x+t.x+t.width/2,this.y+t.y+t.height/2)),this.fire({type:"rollOver",trendLine:this,chart:this.chart})},handleLineOut:function(){this.line.attr({stroke:this.lineColor}),this.balloonText&&this.chart.hideBalloon(),this.fire({type:"rollOut",trendLine:this,chart:this.chart})},destroy:function(){t.remove(this.set)}})}(),function(){var t=window.AmCharts;t.Image=t.Class({construct:function(e){this.cname="Image",this.height=this.width=20,this.rotation=this.offsetY=this.offsetX=0,this.balloonColor=this.color="#000000",this.opacity=1,t.applyTheme(this,e,this.cname)},draw:function(){var t=this;t.set&&t.set.remove();var e=t.chart.container;t.set=e.set();var i,n;t.url?(i=e.image(t.url,0,0,t.width,t.height),n=1):t.svgPath&&(i=e.path(t.svgPath),i.setAttr("fill",t.color),i.setAttr("stroke",t.outlineColor),e=i.getBBox(),n=Math.min(t.width/e.width,t.height/e.height)),i&&(i.setAttr("opacity",t.opacity),t.set.rotate(t.rotation),i.translate(-t.width/2,-t.height/2,n),t.balloonText&&i.mouseover(function(){t.chart.showBalloon(t.balloonText,t.balloonColor,!0)}).mouseout(function(){t.chart.hideBalloon()}).touchend(function(){t.chart.hideBalloon()}).touchstart(function(){t.chart.showBalloon(t.balloonText,t.balloonColor,!0)}),t.set.push(i))},translate:function(t,e){this.set&&this.set.translate(t,e)}})}(),function(){var t=window.AmCharts;t.circle=function(e,i,n,o,a,r,s,l,d){return 0>=i&&(i=.001),void 0!=a&&0!==a||(a=.01),void 0===r&&(r="#000000"),void 0===s&&(s=0),o={fill:n,stroke:r,"fill-opacity":o,"stroke-width":a,"stroke-opacity":s},e=isNaN(d)?e.circle(0,0,i).attr(o):e.ellipse(0,0,i,d).attr(o),l&&e.gradient("radialGradient",[n,t.adjustLuminosity(n,-.6)]),e},t.text=function(e,i,n,o,a,r,s,l){return r||(r="middle"),"right"==r&&(r="end"),"left"==r&&(r="start"),isNaN(l)&&(l=1),void 0!==i&&(i=String(i),t.isIE&&!t.isModern&&(i=i.replace("&amp;","&"),i=i.replace("&","&amp;"))),n={fill:n,"font-family":o,"font-size":a+"px",opacity:l},!0===s&&(n["font-weight"]="bold"),n["text-anchor"]=r,e.text(i,n)},t.polygon=function(e,i,n,o,a,r,s,l,d,c,h){isNaN(r)&&(r=.01),isNaN(l)&&(l=a);var u=o,f=!1;for("object"==typeof u&&1<u.length&&(f=!0,u=u[0]),void 0===s&&(s=u),a={fill:u,stroke:s,"fill-opacity":a,"stroke-width":r,"stroke-opacity":l},void 0!==h&&0<h&&(a["stroke-dasharray"]=h),h=t.dx,r=t.dy,e.handDrawn&&(n=t.makeHD(i,n,e.handDrawScatter),i=n[0],n=n[1]),s=Math.round,c&&(s=Number),l="M"+(s(i[0])+h)+","+(s(n[0])+r),u=1;u<i.length;u++)c&&(i[u]=t.roundTo(i[u],5),n[u]=t.roundTo(n[u],5)),l+=" L"+(s(i[u])+h)+","+(s(n[u])+r);return e=e.path(l+" Z").attr(a),f&&e.gradient("linearGradient",o,d),e},t.rect=function(e,i,n,o,a,r,s,l,d,c,h){if(isNaN(i)||isNaN(n))return e.set();isNaN(r)&&(r=0),void 0===d&&(d=0),void 0===c&&(c=270),isNaN(a)&&(a=0);var u=o,f=!1;"object"==typeof u&&(u=u[0],f=!0),void 0===s&&(s=u),void 0===l&&(l=a),i=Math.round(i),n=Math.round(n);var p=0,m=0;return 0>i&&(i=Math.abs(i),p=-i),0>n&&(n=Math.abs(n),m=-n),p+=t.dx,m+=t.dy,a={fill:u,stroke:s,"fill-opacity":a,"stroke-opacity":l},void 0!==h&&0<h&&(a["stroke-dasharray"]=h),e=e.rect(p,m,i,n,d,r).attr(a),f&&e.gradient("linearGradient",o,c),e},t.bullet=function(e,i,n,o,a,r,s,l,d,c,h,u,f){var p;switch("circle"==i&&(i="round"),i){case"round":p=t.circle(e,n/2,o,a,r,s,l);break;case"square":p=t.polygon(e,[-n/2,n/2,n/2,-n/2],[n/2,n/2,-n/2,-n/2],o,a,r,s,l,c-180,void 0,f);break;case"rectangle":p=t.polygon(e,[-n,n,n,-n],[n/2,n/2,-n/2,-n/2],o,a,r,s,l,c-180,void 0,f);break;case"diamond":p=t.polygon(e,[-n/2,0,n/2,0],[0,-n/2,0,n/2],o,a,r,s,l);break;case"triangleUp":p=t.triangle(e,n,0,o,a,r,s,l);break;case"triangleDown":p=t.triangle(e,n,180,o,a,r,s,l);break;case"triangleLeft":p=t.triangle(e,n,270,o,a,r,s,l);break;case"triangleRight":p=t.triangle(e,n,90,o,a,r,s,l);break;case"bubble":p=t.circle(e,n/2,o,a,r,s,l,!0);break;case"line":p=t.line(e,[-n/2,n/2],[0,0],o,a,r,s,l);break;case"yError":p=e.set(),p.push(t.line(e,[0,0],[-n/2,n/2],o,a,r)),p.push(t.line(e,[-d,d],[-n/2,-n/2],o,a,r)),p.push(t.line(e,[-d,d],[n/2,n/2],o,a,r));break;case"xError":p=e.set(),p.push(t.line(e,[-n/2,n/2],[0,0],o,a,r)),p.push(t.line(e,[-n/2,-n/2],[-d,d],o,a,r)),p.push(t.line(e,[n/2,n/2],[-d,d],o,a,r))}return p&&p.pattern(h,NaN,u),p},t.triangle=function(t,e,i,n,o,a,r,s){void 0!==a&&0!==a||(a=1),void 0===r&&(r="#000"),void 0===s&&(s=0),n={fill:n,stroke:r,"fill-opacity":o,"stroke-width":a,"stroke-opacity":s},e/=2;var l;return 0===i&&(l=" M"+-e+","+e+" L0,"+-e+" L"+e+","+e+" Z"),180==i&&(l=" M"+-e+","+-e+" L0,"+e+" L"+e+","+-e+" Z"),90==i&&(l=" M"+-e+","+-e+" L"+e+",0 L"+-e+","+e+" Z"),270==i&&(l=" M"+-e+",0 L"+e+","+e+" L"+e+","+-e+" Z"),t.path(l).attr(n)},t.line=function(e,i,n,o,a,r,s,l,d,c,h){if(e.handDrawn&&!h)return t.handDrawnLine(e,i,n,o,a,r,s,l,d,c,h);for(r={fill:"none","stroke-width":r},void 0!==s&&0<s&&(r["stroke-dasharray"]=s),isNaN(a)||(r["stroke-opacity"]=a),o&&(r.stroke=o),o=Math.round,c&&(o=Number,i[0]=t.roundTo(i[0],5),n[0]=t.roundTo(n[0],5)),c=t.dx,a=t.dy,s="M"+(o(i[0])+c)+","+(o(n[0])+a),l=1;l<i.length;l++)i[l]=t.roundTo(i[l],5),n[l]=t.roundTo(n[l],5),s+=" L"+(o(i[l])+c)+","+(o(n[l])+a);return t.VML?e.path(s,void 0,!0).attr(r):(d&&(s+=" M0,0 L0,0"),e.path(s).attr(r))},t.makeHD=function(t,e,i){for(var n=[],o=[],a=1;a<t.length;a++)for(var r=Number(t[a-1]),s=Number(e[a-1]),l=Number(t[a]),d=Number(e[a]),c=Math.round(Math.sqrt(Math.pow(l-r,2)+Math.pow(d-s,2))/50)+1,l=(l-r)/c,d=(d-s)/c,h=0;h<=c;h++){var u=s+h*d+Math.random()*i;n.push(r+h*l+Math.random()*i),o.push(u)}return[n,o]},t.handDrawnLine=function(e,i,n,o,a,r,s,l,d,c){var h,u=e.set();for(h=1;h<i.length;h++)for(var f=[i[h-1],i[h]],p=[n[h-1],n[h]],p=t.makeHD(f,p,e.handDrawScatter),f=p[0],p=p[1],m=1;m<f.length;m++)u.push(t.line(e,[f[m-1],f[m]],[p[m-1],p[m]],o,a,r+Math.random()*e.handDrawThickness-e.handDrawThickness/2,s,l,d,c,!0));return u},t.doNothing=function(t){return t},t.drop=function(t,e,i,n,o,a,r,s){var l=1/180*Math.PI,d=i-20,c=Math.sin(d*l)*e,h=Math.cos(d*l)*e,u=Math.sin((d+40)*l)*e,f=Math.cos((d+40)*l)*e,p=.8*e,m=-e/3,g=e/3;return 0===i&&(m=-m,g=0),180==i&&(g=0),90==i&&(m=0),270==i&&(m=0,g=-g),i={fill:n,stroke:r,"stroke-width":a,"stroke-opacity":s,"fill-opacity":o},e="M"+c+","+h+" A"+e+","+e+",0,1,1,"+u+","+f+" A"+p+","+p+",0,0,0,"+(Math.sin((d+20)*l)*e+g)+","+(Math.cos((d+20)*l)*e+m),e+=" A"+p+","+p+",0,0,0,"+c+","+h,t.path(e,void 0,void 0,"1000,1000").attr(i)},t.wedge=function(e,i,n,o,a,r,s,l,d,c,h,u,f,p){var m=Math.round;r=m(r),s=m(s),l=m(l);var g=m(s/r*l),v=t.VML,b=359.5+r/100;359.94<b&&(b=359.94),a>=b&&(a=b);var T=1/180*Math.PI,b=i+Math.sin(o*T)*l,E=n-Math.cos(o*T)*g,C=i+Math.sin(o*T)*r,y=n-Math.cos(o*T)*s,D=i+Math.sin((o+a)*T)*r,I=n-Math.cos((o+a)*T)*s,O=i+Math.sin((o+a)*T)*l,T=n-Math.cos((o+a)*T)*g,R={fill:t.adjustLuminosity(c.fill,-.2),"stroke-opacity":0,"fill-opacity":c["fill-opacity"]},x=0;180<Math.abs(a)&&(x=1),o=e.set();var w;v&&(b=m(10*b),C=m(10*C),D=m(10*D),O=m(10*O),E=m(10*E),y=m(10*y),I=m(10*I),T=m(10*T),i=m(10*i),d=m(10*d),n=m(10*n),r*=10,s*=10,l*=10,g*=10,1>Math.abs(a)&&1>=Math.abs(D-C)&&1>=Math.abs(I-y)&&(w=!0)),a="";var k;if(u&&(R["fill-opacity"]=0,R["stroke-opacity"]=c["stroke-opacity"]/2,R.stroke=c.stroke),0<d){k=" M"+b+","+(E+d)+" L"+C+","+(y+d),v?(w||(k+=" A"+(i-r)+","+(d+n-s)+","+(i+r)+","+(d+n+s)+","+C+","+(y+d)+","+D+","+(I+d)),k+=" L"+O+","+(T+d),0<l&&(w||(k+=" B"+(i-l)+","+(d+n-g)+","+(i+l)+","+(d+n+g)+","+O+","+(d+T)+","+b+","+(d+E)))):(k+=" A"+r+","+s+",0,"+x+",1,"+D+","+(I+d)+" L"+O+","+(T+d),0<l&&(k+=" A"+l+","+g+",0,"+x+",0,"+b+","+(E+d))),k+=" Z";var _=d;v&&(_/=10);for(var S=0;S<_;S+=10){var N=e.path(k,void 0,void 0,"1000,1000").attr(R);o.push(N),N.translate(0,-S)}k=e.path(" M"+b+","+E+" L"+b+","+(E+d)+" L"+C+","+(y+d)+" L"+C+","+y+" L"+b+","+E+" Z",void 0,void 0,"1000,1000").attr(R),d=e.path(" M"+D+","+I+" L"+D+","+(I+d)+" L"+O+","+(T+d)+" L"+O+","+T+" L"+D+","+I+" Z",void 0,void 0,"1000,1000").attr(R),o.push(k),o.push(d)}if(v?(w||(a=" A"+m(i-r)+","+m(n-s)+","+m(i+r)+","+m(n+s)+","+m(C)+","+m(y)+","+m(D)+","+m(I)),s=" M"+m(b)+","+m(E)+" L"+m(C)+","+m(y)+a+" L"+m(O)+","+m(T)):s=" M"+b+","+E+" L"+C+","+y+" A"+r+","+s+",0,"+x+",1,"+D+","+I+" L"+O+","+T,0<l&&(v?w||(s+=" B"+(i-l)+","+(n-g)+","+(i+l)+","+(n+g)+","+O+","+T+","+b+","+E):s+=" A"+l+","+g+",0,"+x+",0,"+b+","+E),e.handDrawn&&(l=t.line(e,[b,C],[E,y],c.stroke,c.thickness*Math.random()*e.handDrawThickness,c["stroke-opacity"]),o.push(l)),e=e.path(s+" Z",void 0,void 0,"1000,1000").attr(c),h){for(l=[],g=0;g<h.length;g++)l.push(t.adjustLuminosity(c.fill,h[g]));"radial"!=p||t.isModern||(l=[]),0<l.length&&e.gradient(p+"Gradient",l)}return t.isModern&&"radial"==p&&e.grad&&(e.grad.setAttribute("gradientUnits","userSpaceOnUse"),e.grad.setAttribute("r",r),e.grad.setAttribute("cx",i),e.grad.setAttribute("cy",n)),e.pattern(u,NaN,f),o.wedge=e,o.push(e),o},t.rgb2hex=function(t){return(t=t.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===t.length?"#"+("0"+parseInt(t[1],10).toString(16)).slice(-2)+("0"+parseInt(t[2],10).toString(16)).slice(-2)+("0"+parseInt(t[3],10).toString(16)).slice(-2):""},t.adjustLuminosity=function(e,i){e&&-1!=e.indexOf("rgb")&&(e=t.rgb2hex(e)),e=String(e).replace(/[^0-9a-f]/gi,""),6>e.length&&(e=String(e[0])+String(e[0])+String(e[1])+String(e[1])+String(e[2])+String(e[2])),i=i||0;var n,o,a="#";for(o=0;3>o;o++)n=parseInt(e.substr(2*o,2),16),n=Math.round(Math.min(Math.max(0,n+n*i),255)).toString(16),a+=("00"+n).substr(n.length);return a}}(),function(){var t=window.AmCharts;t.Bezier=t.Class({construct:function(e,i,n,o,a,r,s,l,d,c,h){var u=e.chart,f=t.bezierX,p=t.bezierY;isNaN(u.bezierX)||(f=u.bezierX),isNaN(u.bezierY)||(p=u.bezierY),isNaN(f)&&(u.rotate?(f=20,p=4):(p=20,f=4));var m,g;for("object"==typeof s&&1<s.length&&(g=!0,m=s,s=s[0]),"object"==typeof l&&(l=l[0]),0===l&&(s="none"),r={fill:s,"fill-opacity":l,"stroke-width":r},void 0!==d&&0<d&&(r["stroke-dasharray"]=d),isNaN(a)||(r["stroke-opacity"]=a),o&&(r.stroke=o),o="M"+Math.round(i[0])+","+Math.round(n[0])+" ",a=[],d=0;d<i.length;d++)isNaN(i[d])||isNaN(n[d])?(o+=this.drawSegment(a,f,p),d<i.length-1&&(o+="L"+i[d+1]+","+n[d+1]+" "),a=[]):a.push({x:Number(i[d]),y:Number(n[d])});o+=this.drawSegment(a,f,p),c&&(o+=c),this.path=e.path(o).attr(r),this.node=this.path.node,g&&this.path.gradient("linearGradient",m,h)},drawSegment:function(t,e,i){var n="";if(2<t.length)for(var o=0;o<t.length-1;o++){var a=[],r=t[o-1],s=t[o],l=t[o+1],d=t[o+2];0===o?(a.push({x:s.x,y:s.y}),a.push({x:s.x,y:s.y}),a.push({x:l.x,y:l.y}),a.push({x:d.x,y:d.y})):o>=t.length-2?(a.push({x:r.x,y:r.y}),a.push({x:s.x,y:s.y}),a.push({x:l.x,y:l.y}),a.push({x:l.x,y:l.y})):(a.push({x:r.x,y:r.y}),a.push({x:s.x,y:s.y}),a.push({x:l.x,y:l.y}),a.push({x:d.x,y:d.y})),r=[],s=Math.round,r.push({x:s(a[1].x),y:s(a[1].y)}),r.push({x:s((-a[0].x+e*a[1].x+a[2].x)/e),y:s((-a[0].y+i*a[1].y+a[2].y)/i)}),r.push({x:s((a[1].x+e*a[2].x-a[3].x)/e),y:s((a[1].y+i*a[2].y-a[3].y)/i)}),r.push({x:s(a[2].x),y:s(a[2].y)}),n+="C"+r[1].x+","+r[1].y+","+r[2].x+","+r[2].y+","+r[3].x+","+r[3].y+" "}else 1<t.length&&(n+="L"+t[1].x+","+t[1].y);return n}})}(),function(){var t=window.AmCharts;t.AmDraw=t.Class({construct:function(e,i,n,o){t.SVG_NS="http://www.w3.org/2000/svg",t.SVG_XLINK="http://www.w3.org/1999/xlink",t.hasSVG=!!document.createElementNS&&!!document.createElementNS(t.SVG_NS,"svg").createSVGRect,1>i&&(i=10),1>n&&(n=10),this.div=e,this.width=i,this.height=n,this.rBin=document.createElement("div"),t.hasSVG?(t.SVG=!0,i=this.createSvgElement("svg"),e.appendChild(i),this.container=i,this.addDefs(o),this.R=new t.SVGRenderer(this)):t.isIE&&t.VMLRenderer&&(t.VML=!0,t.vmlStyleSheet||(document.namespaces.add("amvml","urn:schemas-microsoft-com:vml"),31>document.styleSheets.length?(i=document.createStyleSheet(),i.addRule(".amvml","behavior:url(#default#VML); display:inline-block; antialias:true"),t.vmlStyleSheet=i):document.styleSheets[0].addRule(".amvml","behavior:url(#default#VML); display:inline-block; antialias:true")),this.container=e,this.R=new t.VMLRenderer(this,o),this.R.disableSelection(e))},createSvgElement:function(e){return document.createElementNS(t.SVG_NS,e)},circle:function(e,i,n,o){var a=new t.AmDObject("circle",this);return a.attr({r:n,cx:e,cy:i}),this.addToContainer(a.node,o),a},ellipse:function(e,i,n,o,a){var r=new t.AmDObject("ellipse",this);return r.attr({rx:n,ry:o,cx:e,cy:i}),this.addToContainer(r.node,a),r},setSize:function(t,e){0<t&&0<e&&(this.container.style.width=t+"px",this.container.style.height=e+"px")},rect:function(e,i,n,o,a,r,s){var l=new t.AmDObject("rect",this);return t.VML&&(a=Math.round(100*a/Math.min(n,o)),n+=2*r,o+=2*r,l.bw=r,l.node.style.marginLeft=-r,l.node.style.marginTop=-r),1>n&&(n=1),1>o&&(o=1),l.attr({x:e,y:i,width:n,height:o,rx:a,ry:a,"stroke-width":r}),this.addToContainer(l.node,s),l},image:function(e,i,n,o,a,r){var s=new t.AmDObject("image",this);return s.attr({x:i,y:n,width:o,height:a}),this.R.path(s,e),this.addToContainer(s.node,r),s},addToContainer:function(t,e){e||(e=this.container),e.appendChild(t)},text:function(t,e,i){return this.R.text(t,e,i)},path:function(e,i,n,o){var a=new t.AmDObject("path",this);return o||(o="100,100"),a.attr({cs:o}),n?a.attr({dd:e}):a.attr({d:e}),this.addToContainer(a.node,i),a},set:function(t){return this.R.set(t)},remove:function(t){if(t){var e=this.rBin;e.appendChild(t),e.innerHTML=""}},renderFix:function(){var t=this.container,e=t.style;e.top="0px",e.left="0px";try{var i=t.getBoundingClientRect(),n=i.left-Math.round(i.left),o=i.top-Math.round(i.top);n&&(e.left=n+"px"),o&&(e.top=o+"px")}catch(t){}},update:function(){this.R.update()},addDefs:function(e){if(t.hasSVG){var i=this.createSvgElement("desc"),n=this.container;if(n.setAttribute("version","1.1"),n.style.position="absolute",this.setSize(this.width,this.height),e.accessibleTitle){var o=this.createSvgElement("text");n.appendChild(o),o.innerHTML=e.accessibleTitle,o.style.opacity=0}t.rtl&&(n.setAttribute("direction","rtl"),n.style.left="auto",n.style.right="0px"),e&&(e.addCodeCredits&&i.appendChild(document.createTextNode("JavaScript chart by amCharts "+e.version)),e.accessibleDescription&&(i.innerHTML="",i.appendChild(document.createTextNode(e.accessibleDescription))),n.appendChild(i),e.defs&&(i=this.createSvgElement("defs"),n.appendChild(i),t.parseDefs(e.defs,i),this.defs=i))}}})}(),function(){var t=window.AmCharts;t.AmDObject=t.Class({construct:function(t,e){this.D=e,this.R=e.R,this.node=this.R.create(this,t),this.y=this.x=0,this.scale=1},attr:function(t){return this.R.attr(this,t),this},getAttr:function(t){return this.node.getAttribute(t)},setAttr:function(t,e){return this.R.setAttr(this,t,e),this},clipRect:function(t,e,i,n){this.R.clipRect(this,t,e,i,n)},translate:function(t,e,i,n){n||(t=Math.round(t),e=Math.round(e)),this.R.move(this,t,e,i),this.x=t,this.y=e,this.scale=i,this.angle&&this.rotate(this.angle)},rotate:function(t,e){this.R.rotate(this,t,e),this.angle=t},animate:function(e,i,n){for(var o in e)if(e.hasOwnProperty(o)){var a=o,r=e[o];n=t.getEffect(n),this.R.animate(this,a,r,i,n)}},push:function(t){if(t){var e=this.node;e.appendChild(t.node);var i=t.clipPath;i&&e.appendChild(i),(t=t.grad)&&e.appendChild(t)}},text:function(t){this.R.setText(this,t)},remove:function(){this.stop(),this.R.remove(this)},clear:function(){var t=this.node;if(t.hasChildNodes())for(;1<=t.childNodes.length;)t.removeChild(t.firstChild)},hide:function(){this.setAttr("visibility","hidden")},show:function(){this.setAttr("visibility","visible")},getBBox:function(){return this.R.getBBox(this)},toFront:function(){var t=this.node;if(t){this.prevNextNode=t.nextSibling;var e=t.parentNode;e&&e.appendChild(t)}},toPrevious:function(){var t=this.node;t&&this.prevNextNode&&(t=t.parentNode)&&t.insertBefore(this.prevNextNode,null)},toBack:function(){var t=this.node;if(t){this.prevNextNode=t.nextSibling;var e=t.parentNode;if(e){var i=e.firstChild;i&&e.insertBefore(t,i)}}},mouseover:function(t){return this.R.addListener(this,"mouseover",t),this},mouseout:function(t){return this.R.addListener(this,"mouseout",t),this},click:function(t){return this.R.addListener(this,"click",t),this},dblclick:function(t){return this.R.addListener(this,"dblclick",t),this},mousedown:function(t){return this.R.addListener(this,"mousedown",t),this},mouseup:function(t){return this.R.addListener(this,"mouseup",t),this},touchmove:function(t){return this.R.addListener(this,"touchmove",t),this},touchstart:function(t){return this.R.addListener(this,"touchstart",t),this},touchend:function(t){return this.R.addListener(this,"touchend",t),this},keyup:function(t){return this.R.addListener(this,"keyup",t),this},focus:function(t){return this.R.addListener(this,"focus",t),this},blur:function(t){return this.R.addListener(this,"blur",t),this},contextmenu:function(t){return this.node.addEventListener?this.node.addEventListener("contextmenu",t,!0):this.R.addListener(this,"contextmenu",t),this},stop:function(){t.removeFromArray(this.R.animations,this.an_translate),t.removeFromArray(this.R.animations,this.an_y),t.removeFromArray(this.R.animations,this.an_x)},length:function(){return this.node.childNodes.length},gradient:function(t,e,i){this.R.gradient(this,t,e,i)},pattern:function(t,e,i){t&&this.R.pattern(this,t,e,i)}})}(),function(){var t=window.AmCharts;t.VMLRenderer=t.Class({construct:function(t,e){this.chart=e,this.D=t,this.cNames={circle:"oval",ellipse:"oval",rect:"roundrect",path:"shape"},this.styleMap={x:"left",y:"top",width:"width",height:"height","font-family":"fontFamily","font-size":"fontSize",visibility:"visibility"}},create:function(t,e){var i;if("group"==e)i=document.createElement("div"),t.type="div";else if("text"==e)i=document.createElement("div"),t.type="text";else if("image"==e)i=document.createElement("img"),t.type="image";else{t.type="shape",t.shapeType=this.cNames[e],i=document.createElement("amvml:"+this.cNames[e]);var n=document.createElement("amvml:stroke");i.appendChild(n),t.stroke=n;var o=document.createElement("amvml:fill");i.appendChild(o),t.fill=o,o.className="amvml",n.className="amvml",i.className="amvml"}return i.style.position="absolute",i.style.top=0,i.style.left=0,i},path:function(t,e){t.node.setAttribute("src",e)},setAttr:function(e,i,n){if(void 0!==n){var o;8===document.documentMode&&(o=!0);var a=e.node,r=e.type,s=a.style;"r"==i&&(s.width=2*n,s.height=2*n),"oval"==e.shapeType&&("rx"==i&&(s.width=2*n),"ry"==i&&(s.height=2*n)),"roundrect"==e.shapeType&&("width"!=i&&"height"!=i||--n),"cursor"==i&&(s.cursor=n),"cx"==i&&(s.left=n-t.removePx(s.width)/2),"cy"==i&&(s.top=n-t.removePx(s.height)/2);var l=this.styleMap[i];if("width"==l&&0>n&&(n=0),void 0!==l&&(s[l]=n),"text"==r&&("text-anchor"==i&&(e.anchor=n,l=a.clientWidth,"end"==n&&(s.marginLeft=-l+"px"),"middle"==n&&(s.marginLeft=-l/2+"px",s.textAlign="center"),"start"==n&&(s.marginLeft="0px")),"fill"==i&&(s.color=n),"font-weight"==i&&(s.fontWeight=n)),s=e.children)for(l=0;l<s.length;l++)s[l].setAttr(i,n);"shape"==r&&("cs"==i&&(a.style.width="100px",a.style.height="100px",a.setAttribute("coordsize",n)),"d"==i&&a.setAttribute("path",this.svgPathToVml(n)),"dd"==i&&a.setAttribute("path",n),r=e.stroke,e=e.fill,"stroke"==i&&(o?r.color=n:r.setAttribute("color",n)),"stroke-width"==i&&(o?r.weight=n:r.setAttribute("weight",n)),"stroke-opacity"==i&&(o?r.opacity=n:r.setAttribute("opacity",n)),"stroke-dasharray"==i&&(s="solid",0<n&&3>n&&(s="dot"),3<=n&&6>=n&&(s="dash"),6<n&&(s="longdash"),o?r.dashstyle=s:r.setAttribute("dashstyle",s)),"fill-opacity"!=i&&"opacity"!=i||(0===n?o?e.on=!1:e.setAttribute("on",!1):o?e.opacity=n:e.setAttribute("opacity",n)),"fill"==i&&(o?e.color=n:e.setAttribute("color",n)),"rx"==i&&(o?a.arcSize=n+"%":a.setAttribute("arcsize",n+"%")))}},attr:function(t,e){for(var i in e)e.hasOwnProperty(i)&&this.setAttr(t,i,e[i])},text:function(e,i,n){var o=new t.AmDObject("text",this.D),a=o.node;return a.style.whiteSpace="pre",a.innerHTML=e,this.D.addToContainer(a,n),this.attr(o,i),o},getBBox:function(t){return this.getBox(t.node)},getBox:function(t){var e,i=t.offsetLeft,n=t.offsetTop,o=t.offsetWidth,a=t.offsetHeight;if(t.hasChildNodes()){var r,s,l;for(l=0;l<t.childNodes.length;l++){e=this.getBox(t.childNodes[l]);var d=e.x;isNaN(d)||(isNaN(r)?r=d:d<r&&(r=d));var c=e.y;isNaN(c)||(isNaN(s)?s=c:c<s&&(s=c)),d=e.width+d,isNaN(d)||(o=Math.max(o,d)),e=e.height+c,isNaN(e)||(a=Math.max(a,e))}0>r&&(i+=r),0>s&&(n+=s)}return{x:i,y:n,width:o,height:a}},setText:function(t,e){var i=t.node;i&&(i.innerHTML=e),this.setAttr(t,"text-anchor",t.anchor)},addListener:function(t,e,i){t.node["on"+e]=i},move:function(e,i,n){var o=e.node,a=o.style;"text"==e.type&&(n-=t.removePx(a.fontSize)/2-1),"oval"==e.shapeType&&(i-=t.removePx(a.width)/2,n-=t.removePx(a.height)/2),e=e.bw,isNaN(e)||(i-=e,n-=e),isNaN(i)||isNaN(n)||(o.style.left=i+"px",o.style.top=n+"px")},svgPathToVml:function(t){var e=t.split(" ");t="";var i,n,o=Math.round;for(n=0;n<e.length;n++){var a=e[n],r=a.substring(0,1),a=a.substring(1),s=a.split(","),l=o(s[0])+","+o(s[1]);if("M"==r&&(t+=" m "+l),"L"==r&&(t+=" l "+l),"Z"==r&&(t+=" x e"),"Q"==r){var d=i.length,c=i[d-1],h=s[0],u=s[1],l=s[2],f=s[3];i=o(i[d-2]/3+2/3*h),c=o(c/3+2/3*u),h=o(2/3*h+l/3),u=o(2/3*u+f/3),t+=" c "+i+","+c+","+h+","+u+","+l+","+f}"C"==r&&(t+=" c "+s[0]+","+s[1]+","+s[2]+","+s[3]+","+s[4]+","+s[5]),"A"==r&&(t+=" wa "+a),"B"==r&&(t+=" at "+a),i=s}return t},animate:function(t,e,i,n,o){var a=t.node,r=this.chart;if(t.animationFinished=!1,"translate"==e){e=i.split(","),i=e[1];var s=a.offsetTop;r.animate(t,"left",a.offsetLeft,e[0],n,o,"px"),r.animate(t,"top",s,i,n,o,"px")}},clipRect:function(t,e,i,n,o){t=t.node,0===e&&0===i?(t.style.width=n+"px",t.style.height=o+"px",t.style.overflow="hidden"):t.style.clip="rect("+i+"px "+(e+n)+"px "+(i+o)+"px "+e+"px)"},rotate:function(e,i,n){if(0!==Number(i)){var o=e.node;e=o.style,n||(n=this.getBGColor(o.parentNode)),e.backgroundColor=n,e.paddingLeft=1,n=i*Math.PI/180;var a=Math.cos(n),r=Math.sin(n),s=t.removePx(e.left),l=t.removePx(e.top),d=o.offsetWidth,o=o.offsetHeight;i/=Math.abs(i),e.left=s+d/2-d/2*Math.cos(n)-i*o/2*Math.sin(n)+3,e.top=l-i*d/2*Math.sin(n)+i*o/2*Math.sin(n),e.cssText=e.cssText+"; filter:progid:DXImageTransform.Microsoft.Matrix(M11='"+a+"', M12='"+-r+"', M21='"+r+"', M22='"+a+"', sizingmethod='auto expand');"}},getBGColor:function(t){var e="#FFFFFF";if(t.style){var i=t.style.backgroundColor;""!==i?e=i:t.parentNode&&(e=this.getBGColor(t.parentNode))}return e},set:function(e){var i=new t.AmDObject("group",this.D);if(this.D.container.appendChild(i.node),e){var n;for(n=0;n<e.length;n++)i.push(e[n])}return i},gradient:function(t,e,i,n){var o="";"radialGradient"==e&&(e="gradientradial",i.reverse()),"linearGradient"==e&&(e="gradient");var a;for(a=0;a<i.length;a++)o+=Math.round(100*a/(i.length-1))+"% "+i[a],a<i.length-1&&(o+=",");t=t.fill,90==n?n=0:270==n?n=180:180==n?n=90:0===n&&(n=270),8===document.documentMode?(t.type=e,t.angle=n):(t.setAttribute("type",e),t.setAttribute("angle",n)),o&&(t.colors.value=o)},remove:function(t){t.clipPath&&this.D.remove(t.clipPath),this.D.remove(t.node)},disableSelection:function(t){t.onselectstart=function(){return!1},t.style.cursor="default"},pattern:function(e,i,n,o){n=e.node,e=e.fill;var a="none";i.color&&(a=i.color),n.fillColor=a,i=i.url,t.isAbsolute(i)||(i=o+i),8===document.documentMode?(e.type="tile",e.src=i):(e.setAttribute("type","tile"),e.setAttribute("src",i))},update:function(){}})}(),function(){var t=window.AmCharts;t.SVGRenderer=t.Class({construct:function(t){this.D=t,this.animations=[]},create:function(e,i){return document.createElementNS(t.SVG_NS,i)},attr:function(t,e){for(var i in e)e.hasOwnProperty(i)&&this.setAttr(t,i,e[i])},setAttr:function(t,e,i){void 0!==i&&t.node.setAttribute(e,i)},animate:function(e,i,n,o,a){e.animationFinished=!1;var r=e.node;e["an_"+i]&&t.removeFromArray(this.animations,e["an_"+i]),"translate"==i?(r=(r=r.getAttribute("transform"))?String(r).substring(10,r.length-1):"0,0",r=r.split(", ").join(" "),0===(r=r.split(" ").join(","))&&(r="0,0")):r=Number(r.getAttribute(i)),n={obj:e,frame:0,attribute:i,from:r,to:n,time:o,effect:a},this.animations.push(n),e["an_"+i]=n},update:function(){var e,i=this.animations;for(e=i.length-1;0<=e;e--){var n,o,a,r=i[e],s=r.time*t.updateRate,l=r.frame+1,d=r.obj,c=r.attribute;if(l<=s){if(r.frame++,"translate"==c){if(n=r.from.split(","),c=Number(n[0]),n=Number(n[1]),isNaN(n)&&(n=0),o=r.to.split(","),a=Number(o[0]),o=Number(o[1]),a=0==a-c?a:Math.round(t[r.effect](0,l,c,a-c,s)),r=0==o-n?o:Math.round(t[r.effect](0,l,n,o-n,s)),c="transform",isNaN(a)||isNaN(r))continue;r="translate("+a+","+r+")"}else o=Number(r.from),n=Number(r.to),a=n-o,r=t[r.effect](0,l,o,a,s),isNaN(r)&&(r=n),0===a&&this.animations.splice(e,1);this.setAttr(d,c,r)}else"translate"==c?(o=r.to.split(","),a=Number(o[0]),o=Number(o[1]),d.translate(a,o)):(n=Number(r.to),this.setAttr(d,c,n)),d.animationFinished=!0,this.animations.splice(e,1)}},getBBox:function(t){if(t=t.node)try{return t.getBBox()}catch(t){}return{width:0,height:0,x:0,y:0}},path:function(e,i){e.node.setAttributeNS(t.SVG_XLINK,"xlink:href",i)},clipRect:function(e,i,n,o,a){var r=e.node,s=e.clipPath;s&&this.D.remove(s);var l=r.parentNode;l&&(r=document.createElementNS(t.SVG_NS,"clipPath"),s=t.getUniqueId(),r.setAttribute("id",s),this.D.rect(i,n,o,a,0,0,r),l.appendChild(r),i="#",t.baseHref&&!t.isIE&&(i=this.removeTarget(window.location.href)+i),this.setAttr(e,"clip-path","url("+i+s+")"),this.clipPathC++,e.clipPath=r)},text:function(e,i,n){var o=new t.AmDObject("text",this.D);e=String(e).split("\n");var a,r=t.removePx(i["font-size"]);for(a=0;a<e.length;a++){var s=this.create(null,"tspan");s.appendChild(document.createTextNode(e[a])),s.setAttribute("y",(r+2)*a+Math.round(r/2)),s.setAttribute("x",0),o.node.appendChild(s)}return o.node.setAttribute("y",Math.round(r/2)),this.attr(o,i),this.D.addToContainer(o.node,n),o},setText:function(t,e){var i=t.node;i&&(i.removeChild(i.firstChild),i.appendChild(document.createTextNode(e)))},move:function(t,e,i,n){isNaN(e)&&(e=0),isNaN(i)&&(i=0),e="translate("+e+","+i+")",n&&(e=e+" scale("+n+")"),this.setAttr(t,"transform",e)},rotate:function(t,e){var i=t.node.getAttribute("transform"),n="rotate("+e+")";i&&(n=i+" "+n),this.setAttr(t,"transform",n)},set:function(e){var i=new t.AmDObject("g",this.D);if(this.D.container.appendChild(i.node),e){var n;for(n=0;n<e.length;n++)i.push(e[n])}return i},addListener:function(t,e,i){t.node["on"+e]=i},gradient:function(e,i,n,o){var a=e.node,r=e.grad;if(r&&this.D.remove(r),i=document.createElementNS(t.SVG_NS,i),r=t.getUniqueId(),i.setAttribute("id",r),!isNaN(o)){var s=0,l=0,d=0,c=0;90==o?d=100:270==o?c=100:180==o?s=100:0===o&&(l=100),i.setAttribute("x1",s+"%"),i.setAttribute("x2",l+"%"),i.setAttribute("y1",d+"%"),i.setAttribute("y2",c+"%")}for(o=0;o<n.length;o++)s=document.createElementNS(t.SVG_NS,"stop"),l=100*o/(n.length-1),0===o&&(l=0),s.setAttribute("offset",l+"%"),s.setAttribute("stop-color",n[o]),i.appendChild(s);a.parentNode.appendChild(i),n="#",t.baseHref&&!t.isIE&&(n=this.removeTarget(window.location.href)+n),a.setAttribute("fill","url("+n+r+")"),e.grad=i},removeTarget:function(t){return t.split("#")[0]},pattern:function(e,i,n,o){var a=e.node;isNaN(n)&&(n=1);var r=e.patternNode;r&&this.D.remove(r);var r=document.createElementNS(t.SVG_NS,"pattern"),s=t.getUniqueId(),l=i;i.url&&(l=i.url),t.isAbsolute(l)||-1!=l.indexOf("data:image")||(l=o+l),o=Number(i.width),isNaN(o)&&(o=4);var d=Number(i.height);isNaN(d)&&(d=4),o/=n,d/=n,n=i.x,isNaN(n)&&(n=0);var c=-Math.random()*Number(i.randomX);isNaN(c)||(n=c),c=i.y,isNaN(c)&&(c=0);var h=-Math.random()*Number(i.randomY);isNaN(h)||(c=h),r.setAttribute("id",s),r.setAttribute("width",o),r.setAttribute("height",d),r.setAttribute("patternUnits","userSpaceOnUse"),r.setAttribute("xlink:href",l),i.color&&(h=document.createElementNS(t.SVG_NS,"rect"),h.setAttributeNS(null,"height",o),h.setAttributeNS(null,"width",d),h.setAttributeNS(null,"fill",i.color),r.appendChild(h)),this.D.image(l,0,0,o,d,r).translate(n,c),l="#",t.baseHref&&!t.isIE&&(l=this.removeTarget(window.location.href)+l),a.setAttribute("fill","url("+l+s+")"),e.patternNode=r,a.parentNode.appendChild(r)},remove:function(t){t.clipPath&&this.D.remove(t.clipPath),t.grad&&this.D.remove(t.grad),t.patternNode&&this.D.remove(t.patternNode),this.D.remove(t.node)}})}(),function(){var t=window.AmCharts;t.AmLegend=t.Class({construct:function(e){this.enabled=!0,this.cname="AmLegend",this.createEvents("rollOverMarker","rollOverItem","rollOutMarker","rollOutItem","showItem","hideItem","clickMarker","clickLabel"),this.position="bottom",this.borderColor=this.color="#000000",this.borderAlpha=0,this.markerLabelGap=5,this.verticalGap=10,this.align="left",this.horizontalGap=0,this.spacing=10,this.markerDisabledColor="#AAB3B3",this.markerType="square",this.markerSize=16,this.markerBorderThickness=this.markerBorderAlpha=1,this.marginBottom=this.marginTop=0,this.marginLeft=this.marginRight=20,this.autoMargins=!0,this.valueWidth=50,this.switchable=!0,this.switchType="x",this.switchColor="#FFFFFF",this.rollOverColor="#CC0000",this.reversedOrder=!1,this.labelText="[[title]]",this.valueText="[[value]]",this.accessibleLabel="[[title]]",this.useMarkerColorForLabels=!1,
this.rollOverGraphAlpha=1,this.textClickEnabled=!1,this.equalWidths=!0,this.backgroundColor="#FFFFFF",this.backgroundAlpha=0,this.useGraphSettings=!1,this.showEntries=!0,this.labelDx=0,t.applyTheme(this,e,this.cname)},setData:function(t){this.legendData=t,this.invalidateSize()},invalidateSize:function(){this.destroy(),this.entries=[],this.valueLabels=[];var e=this.legendData;this.enabled&&(t.ifArray(e)||t.ifArray(this.data))&&this.drawLegend()},drawLegend:function(){var e=this.chart,i=this.position,n=this.width,o=e.divRealWidth,a=e.divRealHeight,r=this.div,s=this.legendData;if(this.data&&(s=this.combineLegend?this.legendData.concat(this.data):this.data),isNaN(this.fontSize)&&(this.fontSize=e.fontSize),this.maxColumnsReal=this.maxColumns,"right"==i||"left"==i)this.maxColumnsReal=1,this.autoMargins&&(this.marginLeft=this.marginRight=10);else if(this.autoMargins){this.marginRight=e.marginRight,this.marginLeft=e.marginLeft;var l=e.autoMarginOffset;"bottom"==i?(this.marginBottom=l,this.marginTop=0):(this.marginTop=l,this.marginBottom=0)}if(n=void 0!==n?t.toCoordinate(n,o):"right"!=i&&"left"!=i?e.realWidth:0<this.ieW?this.ieW:e.realWidth,"outside"==i?(n=r.offsetWidth,a=r.offsetHeight,r.clientHeight&&(n=r.clientWidth,a=r.clientHeight)):(isNaN(n)||(r.style.width=n+"px"),r.className="amChartsLegend "+e.classNamePrefix+"-legend-div"),this.divWidth=n,(i=this.container)?(i.container.innerHTML="",r.appendChild(i.container),i.width=n,i.height=a,i.setSize(n,a),i.addDefs(e)):i=new t.AmDraw(r,n,a,e),this.container=i,this.lx=0,this.ly=8,a=this.markerSize,a>this.fontSize&&(this.ly=a/2-1),0<a&&(this.lx+=a+this.markerLabelGap),this.titleWidth=0,(a=this.title)&&(a=t.text(this.container,a,this.color,e.fontFamily,this.fontSize,"start",!0),t.setCN(e,a,"legend-title"),a.translate(this.marginLeft,this.marginTop+this.verticalGap+this.ly+1),e=a.getBBox(),this.titleWidth=e.width+15,this.titleHeight=e.height+6),this.index=this.maxLabelWidth=0,this.showEntries){for(e=0;e<s.length;e++)this.createEntry(s[e]);for(e=this.index=0;e<s.length;e++)this.createValue(s[e])}this.arrangeEntries(),this.updateValues()},arrangeEntries:function(){var e=this.position,i=this.marginLeft+this.titleWidth,n=this.marginRight,o=this.marginTop,a=this.marginBottom,r=this.horizontalGap,s=this.div,l=this.divWidth,d=this.maxColumnsReal,c=this.verticalGap,h=this.spacing,u=l-n-i,f=0,p=0,m=this.container;this.set&&this.set.remove();var g=m.set();this.set=g;var v=m.set();g.push(v);var b,T,E=this.entries;for(T=0;T<E.length;T++){b=E[T].getBBox();var C=b.width;C>f&&(f=C),b=b.height,b>p&&(p=b)}var C=p=0,y=r,D=0,I=0;for(T=0;T<E.length;T++){var O=E[T];this.reversedOrder&&(O=E[E.length-T-1]),b=O.getBBox();var R;this.equalWidths?R=C*(f+h+this.markerLabelGap):(R=y,y=y+b.width+r+h),R+b.width>u&&0<T&&0!==C&&(p++,R=C=0,y=R+b.width+r+h,D=D+I+c,I=0),b.height>I&&(I=b.height),O.translate(R,D),C++,!isNaN(d)&&C>=d&&(C=0,p++,D=D+I+c,y=r,I=0),v.push(O)}b=v.getBBox(),d=b.height+2*c-1,"left"==e||"right"==e?(h=b.width+2*r,l=h+i+n,s.style.width=l+"px",this.ieW=l):h=l-i-n-1,n=t.polygon(this.container,[0,h,h,0],[0,0,d,d],this.backgroundColor,this.backgroundAlpha,1,this.borderColor,this.borderAlpha),t.setCN(this.chart,n,"legend-bg"),g.push(n),g.translate(i,o),n.toBack(),i=r,"top"!=e&&"bottom"!=e&&"absolute"!=e&&"outside"!=e||("center"==this.align?i=r+(h-b.width)/2:"right"==this.align&&(i=r+h-b.width)),v.translate(i,c+1),this.titleHeight>d&&(d=this.titleHeight),o=d+o+a+1,0>o&&(o=0),"absolute"!=e&&"outside"!=e&&o>this.chart.divRealHeight&&(s.style.top="0px"),s.style.height=Math.round(o)+"px",m.setSize(this.divWidth,o)},createEntry:function(e){if(!1!==e.visibleInLegend&&!e.hideFromLegend){var i=this,n=i.chart,o=i.useGraphSettings,a=e.markerType;a&&(o=!1),e.legendEntryWidth=i.markerSize,a||(a=i.markerType);var r=e.color,s=e.alpha;e.legendKeyColor&&(r=e.legendKeyColor()),e.legendKeyAlpha&&(s=e.legendKeyAlpha());var l;!0===e.hidden&&(l=r=i.markerDisabledColor);var d,c=e.pattern,h=e.customMarker;h||(h=i.customMarker);var u=i.container,f=i.markerSize,p=0,m=0,g=f/2;if(o)o=e.type,i.switchType=void 0,"line"==o||"step"==o||"smoothedLine"==o||"ohlc"==o?(d=u.set(),e.hidden||(r=e.lineColorR,l=e.bulletBorderColorR),p=t.line(u,[0,2*f],[f/2,f/2],r,e.lineAlpha,e.lineThickness,e.dashLength),t.setCN(n,p,"graph-stroke"),d.push(p),e.bullet&&(e.hidden||(r=e.bulletColorR),p=t.bullet(u,e.bullet,e.bulletSize,r,e.bulletAlpha,e.bulletBorderThickness,l,e.bulletBorderAlpha))&&(t.setCN(n,p,"graph-bullet"),p.translate(f+1,f/2),d.push(p)),g=0,p=f,m=f/3):(e.getGradRotation&&0===(d=e.getGradRotation())&&(d=180),p=e.fillColorsR,!0===e.hidden&&(p=r),(d=i.createMarker("rectangle",p,e.fillAlphas,e.lineThickness,r,e.lineAlpha,d,c,e.dashLength))&&(g=f,d.translate(g,f/2)),p=f),t.setCN(n,d,"graph-"+o),t.setCN(n,d,"graph-"+e.id);else if(h)d=u.image(h,0,0,f,f);else{var v;isNaN(i.gradientRotation)||(v=180+i.gradientRotation),(d=i.createMarker(a,r,s,void 0,void 0,void 0,v,c))&&d.translate(f/2,f/2)}t.setCN(n,d,"legend-marker"),i.addListeners(d,e),u=u.set([d]),i.switchable&&e.switchable&&u.setAttr("cursor","pointer"),void 0!==e.id&&t.setCN(n,u,"legend-item-"+e.id),t.setCN(n,u,e.className,!0),l=i.switchType;var b;l&&"none"!=l&&0<f&&("x"==l?(b=i.createX(),b.translate(f/2,f/2)):b=i.createV(),b.dItem=e,!0!==e.hidden?"x"==l?b.hide():b.show():"x"!=l&&b.hide(),i.switchable||b.hide(),i.addListeners(b,e),e.legendSwitch=b,u.push(b),t.setCN(n,b,"legend-switch")),l=i.color,e.showBalloon&&i.textClickEnabled&&void 0!==i.selectedColor&&(l=i.selectedColor),i.useMarkerColorForLabels&&!c&&(l=r),!0===e.hidden&&(l=i.markerDisabledColor),r=t.massReplace(i.labelText,{"[[title]]":e.title}),void 0!==i.tabIndex&&(u.setAttr("tabindex",i.tabIndex),u.setAttr("role","menuitem"),u.keyup(function(t){13==t.keyCode&&i.clickMarker(e,t)})),n.accessible&&i.accessibleLabel&&(c=t.massReplace(i.accessibleLabel,{"[[title]]":e.title}),n.makeAccessible(u,c)),c=i.fontSize,d&&(f<=c&&(f=f/2+i.ly-c/2+(c+2-f)/2-m,d.translate(g,f),b&&b.translate(b.x,f)),e.legendEntryWidth=d.getBBox().width);var T;r&&(r=t.fixBrakes(r),e.legendTextReal=r,T=i.labelWidth,T=isNaN(T)?t.text(i.container,r,l,n.fontFamily,c,"start"):t.wrappedText(i.container,r,l,n.fontFamily,c,"start",!1,T,0),t.setCN(n,T,"legend-label"),T.translate(i.lx+p,i.ly),u.push(T),i.labelDx=p,n=T.getBBox().width,i.maxLabelWidth<n&&(i.maxLabelWidth=n)),i.entries[i.index]=u,e.legendEntry=i.entries[i.index],e.legendMarker=d,e.legendLabel=T,i.index++}},addListeners:function(t,e){var i=this;t&&t.mouseover(function(t){i.rollOverMarker(e,t)}).mouseout(function(t){i.rollOutMarker(e,t)}).click(function(t){i.clickMarker(e,t)})},rollOverMarker:function(t,e){this.switchable&&this.dispatch("rollOverMarker",t,e),this.dispatch("rollOverItem",t,e)},rollOutMarker:function(t,e){this.switchable&&this.dispatch("rollOutMarker",t,e),this.dispatch("rollOutItem",t,e)},clickMarker:function(t,e){this.switchable&&(!0===t.hidden?this.dispatch("showItem",t,e):this.dispatch("hideItem",t,e)),this.dispatch("clickMarker",t,e)},rollOverLabel:function(t,e){t.hidden||this.textClickEnabled&&t.legendLabel&&t.legendLabel.attr({fill:this.rollOverColor}),this.dispatch("rollOverItem",t,e)},rollOutLabel:function(t,e){if(!t.hidden&&this.textClickEnabled&&t.legendLabel){var i=this.color;void 0!==this.selectedColor&&t.showBalloon&&(i=this.selectedColor),this.useMarkerColorForLabels&&void 0===(i=t.lineColor)&&(i=t.color),t.legendLabel.attr({fill:i})}this.dispatch("rollOutItem",t,e)},clickLabel:function(t,e){this.textClickEnabled?t.hidden||this.dispatch("clickLabel",t,e):this.switchable&&(!0===t.hidden?this.dispatch("showItem",t,e):this.dispatch("hideItem",t,e))},dispatch:function(t,e,i){t={type:t,dataItem:e,target:this,event:i,chart:this.chart},this.chart&&this.chart.handleLegendEvent(t),this.fire(t)},createValue:function(e){var i=this,n=i.fontSize,o=i.chart;if(!1!==e.visibleInLegend&&!e.hideFromLegend){var a=i.maxLabelWidth;i.forceWidth&&(a=i.labelWidth),i.equalWidths||(i.valueAlign="left"),"left"==i.valueAlign&&e.legendLabel&&(a=e.legendLabel.getBBox().width);var r=a;if(i.valueText&&0<i.valueWidth){var s=i.color;i.useMarkerColorForValues&&(s=e.color,e.legendKeyColor&&(s=e.legendKeyColor())),!0===e.hidden&&(s=i.markerDisabledColor);var l=i.valueText,a=a+i.lx+i.labelDx+i.markerLabelGap+i.valueWidth,d="end";"left"==i.valueAlign&&(a-=i.valueWidth,d="start"),s=t.text(i.container,l,s,i.chart.fontFamily,n,d),t.setCN(o,s,"legend-value"),s.translate(a,i.ly),i.entries[i.index].push(s),r+=i.valueWidth+2*i.markerLabelGap,s.dItem=e,i.valueLabels.push(s)}i.index++,o=i.markerSize,o<n+7&&(o=n+7,t.VML&&(o+=3)),n=i.container.rect(e.legendEntryWidth,0,r,o,0,0).attr({stroke:"none",fill:"#fff","fill-opacity":.005}),n.dItem=e,i.entries[i.index-1].push(n),n.mouseover(function(t){i.rollOverLabel(e,t)}).mouseout(function(t){i.rollOutLabel(e,t)}).click(function(t){i.clickLabel(e,t)})}},createV:function(){var e=this.markerSize;return t.polygon(this.container,[e/5,e/2,e-e/5,e/2],[e/3,e-e/5,e/5,e/1.7],this.switchColor)},createX:function(){var e=(this.markerSize-4)/2,i={stroke:this.switchColor,"stroke-width":3},n=this.container,o=t.line(n,[-e,e],[-e,e]).attr(i),e=t.line(n,[-e,e],[e,-e]).attr(i);return this.container.set([o,e])},createMarker:function(e,i,n,o,a,r,s,l,d){var c=this.markerSize,h=this.container;return a||(a=this.markerBorderColor),a||(a=i),isNaN(o)&&(o=this.markerBorderThickness),isNaN(r)&&(r=this.markerBorderAlpha),t.bullet(h,e,c,i,n,o,a,r,c,s,l,this.chart.path,d)},validateNow:function(){this.invalidateSize()},updateValues:function(){var e,i=this.valueLabels,n=this.chart,o=this.data;if(i)for(e=0;e<i.length;e++){var a=i[e],r=a.dItem;r.periodDataItem=void 0,r.periodPercentDataItem=void 0;var s=" ";if(o)r.value?a.text(r.value):a.text("");else{var l=null;if(void 0!==r.type){var l=r.currentDataItem,d=this.periodValueText;r.legendPeriodValueText&&(d=r.legendPeriodValueText),r.legendPeriodValueTextR&&(d=r.legendPeriodValueTextR),l?(s=this.valueText,r.legendValueText&&(s=r.legendValueText),r.legendValueTextR&&(s=r.legendValueTextR),s=n.formatString(s,l)):d&&n.formatPeriodString&&(d=t.massReplace(d,{"[[title]]":r.title}),s=n.formatPeriodString(d,r))}else s=n.formatString(this.valueText,r);d=r,l&&(d=l);var c=this.valueFunction;c&&(s=c(d,s,n.periodDataItem));var h;this.useMarkerColorForLabels&&!l&&r.lastDataItem&&(l=r.lastDataItem),l?h=n.getBalloonColor(r,l):r.legendKeyColor&&(h=r.legendKeyColor()),r.legendColorFunction&&(h=r.legendColorFunction(d,s,r.periodDataItem,r.periodPercentDataItem)),a.text(s),!r.pattern&&(this.useMarkerColorForValues&&a.setAttr("fill",h),this.useMarkerColorForLabels)&&((a=r.legendMarker)&&(a.setAttr("fill",h),a.setAttr("stroke",h)),(a=r.legendLabel)&&(r.hidden?a.setAttr("fill",this.markerDisabledColor):a.setAttr("fill",h)))}}},renderFix:function(){if(!t.VML&&this.enabled){var e=this.container;e&&e.renderFix()}},destroy:function(){this.div.innerHTML="",t.remove(this.set)}})}(),function(){var t=window.AmCharts;t.formatMilliseconds=function(t,e){if(-1!=t.indexOf("fff")){var i=e.getMilliseconds(),n=String(i);10>i&&(n="00"+i),10<=i&&100>i&&(n="0"+i),t=t.replace(/fff/g,n)}return t},t.extractPeriod=function(e){var i=t.stripNumbers(e),n=1;return i!=e&&(n=Number(e.slice(0,e.indexOf(i)))),{period:i,count:n}},t.getDate=function(e,i,n){return e instanceof Date?t.newDate(e,n):i&&isNaN(e)?t.stringToDate(e,i):new Date(e)},t.daysInMonth=function(t){return new Date(t.getYear(),t.getMonth()+1,0).getDate()},t.newDate=function(t,e){return e&&-1==e.indexOf("fff")?new Date(t):new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())},t.resetDateToMin=function(e,i,n,o){void 0===o&&(o=1);var a,r,s,l,d,c,h;switch(t.useUTC?(a=e.getUTCFullYear(),r=e.getUTCMonth(),s=e.getUTCDate(),l=e.getUTCHours(),d=e.getUTCMinutes(),c=e.getUTCSeconds(),h=e.getUTCMilliseconds(),e=e.getUTCDay()):(a=e.getFullYear(),r=e.getMonth(),s=e.getDate(),l=e.getHours(),d=e.getMinutes(),c=e.getSeconds(),h=e.getMilliseconds(),e=e.getDay()),i){case"YYYY":a=Math.floor(a/n)*n,r=0,s=1,h=c=d=l=0;break;case"MM":r=Math.floor(r/n)*n,s=1,h=c=d=l=0;break;case"WW":s=e>=o?s-e+o:s-(7+e)+o,h=c=d=l=0;break;case"DD":h=c=d=l=0;break;case"hh":l=Math.floor(l/n)*n,h=c=d=0;break;case"mm":d=Math.floor(d/n)*n,h=c=0;break;case"ss":c=Math.floor(c/n)*n,h=0;break;case"fff":h=Math.floor(h/n)*n}return t.useUTC?(e=new Date,e.setUTCFullYear(a,r,s),e.setUTCHours(l,d,c,h)):e=new Date(a,r,s,l,d,c,h),e},t.getPeriodDuration=function(t,e){void 0===e&&(e=1);var i;switch(t){case"YYYY":i=316224e5;break;case"MM":i=26784e5;break;case"WW":i=6048e5;break;case"DD":i=864e5;break;case"hh":i=36e5;break;case"mm":i=6e4;break;case"ss":i=1e3;break;case"fff":i=1}return i*e},t.intervals={s:{nextInterval:"ss",contains:1e3},ss:{nextInterval:"mm",contains:60,count:0},mm:{nextInterval:"hh",contains:60,count:1},hh:{nextInterval:"DD",contains:24,count:2},DD:{nextInterval:"",contains:Infinity,count:3}},t.getMaxInterval=function(e,i){var n=t.intervals;return e>=n[i].contains?(e=Math.round(e/n[i].contains),i=n[i].nextInterval,t.getMaxInterval(e,i)):"ss"==i?n[i].nextInterval:i},t.dayNames="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),t.shortDayNames="Sun Mon Tue Wed Thu Fri Sat".split(" "),t.monthNames="January February March April May June July August September October November December".split(" "),t.shortMonthNames="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),t.getWeekNumber=function(t){t=new Date(t),t.setHours(0,0,0),t.setDate(t.getDate()+4-(t.getDay()||7));var e=new Date(t.getFullYear(),0,1);return Math.ceil(((t-e)/864e5+1)/7)},t.stringToDate=function(e,i){var n={},o=[{pattern:"YYYY",period:"year"},{pattern:"YY",period:"year"},{pattern:"MM",period:"month"},{pattern:"M",period:"month"},{pattern:"DD",period:"date"},{pattern:"D",period:"date"},{pattern:"JJ",period:"hours"},{pattern:"J",period:"hours"},{pattern:"HH",period:"hours"},{pattern:"H",period:"hours"},{pattern:"KK",period:"hours"},{pattern:"K",period:"hours"},{pattern:"LL",period:"hours"},{pattern:"L",period:"hours"},{pattern:"NN",period:"minutes"},{pattern:"N",period:"minutes"},{pattern:"SS",period:"seconds"},{pattern:"S",period:"seconds"},{pattern:"QQQ",period:"milliseconds"},{pattern:"QQ",period:"milliseconds"},{pattern:"Q",period:"milliseconds"}],a=!0,r=i.indexOf("AA");-1!=r&&(e.substr(r,2),"pm"==e.toLowerCase&&(a=!1));var s,l,d,r=i;for(d=0;d<o.length;d++)l=o[d].period,n[l]=0,"date"==l&&(n[l]=1);for(d=0;d<o.length;d++)if(s=o[d].pattern,l=o[d].period,-1!=i.indexOf(s)){var c=t.getFromDateString(s,e,r);i=i.replace(s,""),"KK"!=s&&"K"!=s&&"LL"!=s&&"L"!=s||a||(c+=12),n[l]=c}return t.useUTC?(o=new Date,o.setUTCFullYear(n.year,n.month,n.date),o.setUTCHours(n.hours,n.minutes,n.seconds,n.milliseconds)):o=new Date(n.year,n.month,n.date,n.hours,n.minutes,n.seconds,n.milliseconds),o},t.getFromDateString=function(t,e,i){if(void 0!==e)return i=i.indexOf(t),e=String(e),e=e.substr(i,t.length),"0"==e.charAt(0)&&(e=e.substr(1,e.length-1)),e=Number(e),isNaN(e)&&(e=0),-1!=t.indexOf("M")&&e--,e},t.formatDate=function(e,i,n){n||(n=t);var o,a,r,s,l,d,c,h,u=t.getWeekNumber(e);t.useUTC?(o=e.getUTCFullYear(),a=e.getUTCMonth(),r=e.getUTCDate(),s=e.getUTCDay(),l=e.getUTCHours(),d=e.getUTCMinutes(),c=e.getUTCSeconds(),h=e.getUTCMilliseconds()):(o=e.getFullYear(),a=e.getMonth(),r=e.getDate(),s=e.getDay(),l=e.getHours(),d=e.getMinutes(),c=e.getSeconds(),h=e.getMilliseconds());var f=String(o).substr(2,2),p="0"+s;i=i.replace(/W/g,u),24==(u=l)&&(u=0);var m=u;10>m&&(m="0"+m),i=i.replace(/JJ/g,m),i=i.replace(/J/g,u),m=l,0===m&&(m=24,-1!=i.indexOf("H")&&0===--r&&(o=new Date(e),o.setDate(o.getDate()-1),a=o.getMonth(),r=o.getDate(),o=o.getFullYear())),e=a+1,9>a&&(e="0"+e),u=r,10>r&&(u="0"+r);var g=m;return 10>g&&(g="0"+g),i=i.replace(/HH/g,g),i=i.replace(/H/g,m),m=l,11<m&&(m-=12),g=m,10>g&&(g="0"+g),i=i.replace(/KK/g,g),i=i.replace(/K/g,m),m=l,0===m&&(m=12),12<m&&(m-=12),g=m,10>g&&(g="0"+g),i=i.replace(/LL/g,g),i=i.replace(/L/g,m),m=d,10>m&&(m="0"+m),i=i.replace(/NN/g,m),i=i.replace(/N/g,d),d=c,10>d&&(d="0"+d),i=i.replace(/SS/g,d),i=i.replace(/S/g,c),c=h,10>c?c="00"+c:100>c&&(c="0"+c),d=h,10>d&&(d="00"+d),i=i.replace(/A/g,"@A@"),i=i.replace(/QQQ/g,c),i=i.replace(/QQ/g,d),i=i.replace(/Q/g,h),i=i.replace(/YYYY/g,"@IIII@"),i=i.replace(/YY/g,"@II@"),i=i.replace(/MMMM/g,"@XXXX@"),i=i.replace(/MMM/g,"@XXX@"),i=i.replace(/MM/g,"@XX@"),i=i.replace(/M/g,"@X@"),i=i.replace(/DD/g,"@RR@"),i=i.replace(/D/g,"@R@"),i=i.replace(/EEEE/g,"@PPPP@"),i=i.replace(/EEE/g,"@PPP@"),i=i.replace(/EE/g,"@PP@"),i=i.replace(/E/g,"@P@"),i=i.replace(/@IIII@/g,o),i=i.replace(/@II@/g,f),i=i.replace(/@XXXX@/g,n.monthNames[a]),i=i.replace(/@XXX@/g,n.shortMonthNames[a]),i=i.replace(/@XX@/g,e),i=i.replace(/@X@/g,a+1),i=i.replace(/@RR@/g,u),i=i.replace(/@R@/g,r),i=i.replace(/@PPPP@/g,n.dayNames[s]),i=i.replace(/@PPP@/g,n.shortDayNames[s]),i=i.replace(/@PP@/g,p),i=i.replace(/@P@/g,s),i=12>l?i.replace(/@A@/g,n.amString):i.replace(/@A@/g,n.pmString)},t.changeDate=function(e,i,n,o,a){if(t.useUTC)return t.changeUTCDate(e,i,n,o,a);var r=-1;switch(void 0===o&&(o=!0),void 0===a&&(a=!1),!0===o&&(r=1),i){case"YYYY":e.setFullYear(e.getFullYear()+n*r),o||a||e.setDate(e.getDate()+1);break;case"MM":i=e.getMonth(),e.setMonth(e.getMonth()+n*r),e.getMonth()>i+n*r&&e.setDate(e.getDate()-1),o||a||e.setDate(e.getDate()+1);break;case"DD":e.setDate(e.getDate()+n*r);break;case"WW":e.setDate(e.getDate()+n*r*7);break;case"hh":e.setHours(e.getHours()+n*r);break;case"mm":e.setMinutes(e.getMinutes()+n*r);break;case"ss":e.setSeconds(e.getSeconds()+n*r);break;case"fff":e.setMilliseconds(e.getMilliseconds()+n*r)}return e},t.changeUTCDate=function(t,e,i,n,o){var a=-1;switch(void 0===n&&(n=!0),void 0===o&&(o=!1),!0===n&&(a=1),e){case"YYYY":t.setUTCFullYear(t.getUTCFullYear()+i*a),n||o||t.setUTCDate(t.getUTCDate()+1);break;case"MM":e=t.getUTCMonth(),t.setUTCMonth(t.getUTCMonth()+i*a),t.getUTCMonth()>e+i*a&&t.setUTCDate(t.getUTCDate()-1),n||o||t.setUTCDate(t.getUTCDate()+1);break;case"DD":t.setUTCDate(t.getUTCDate()+i*a);break;case"WW":t.setUTCDate(t.getUTCDate()+i*a*7);break;case"hh":t.setUTCHours(t.getUTCHours()+i*a);break;case"mm":t.setUTCMinutes(t.getUTCMinutes()+i*a);break;case"ss":t.setUTCSeconds(t.getUTCSeconds()+i*a);break;case"fff":t.setUTCMilliseconds(t.getUTCMilliseconds()+i*a)}return t}}(),function(){var t=window.AmCharts;t.AmRectangularChart=t.Class({inherits:t.AmCoordinateChart,construct:function(e){t.AmRectangularChart.base.construct.call(this,e),this.theme=e,this.createEvents("zoomed","changed"),this.marginRight=this.marginBottom=this.marginTop=this.marginLeft=20,this.depth3D=this.angle=0,this.plotAreaFillColors="#FFFFFF",this.plotAreaFillAlphas=0,this.plotAreaBorderColor="#000000",this.plotAreaBorderAlpha=0,this.maxZoomFactor=20,this.zoomOutButtonImageSize=19,this.zoomOutButtonImage="lens",this.zoomOutText="Show all",this.zoomOutButtonColor="#e5e5e5",this.zoomOutButtonAlpha=0,this.zoomOutButtonRollOverAlpha=1,this.zoomOutButtonPadding=8,this.trendLines=[],this.autoMargins=!0,this.marginsUpdated=!1,this.autoMarginOffset=10,t.applyTheme(this,e,"AmRectangularChart")},initChart:function(){t.AmRectangularChart.base.initChart.call(this),this.updateDxy(),!this.marginsUpdated&&this.autoMargins&&(this.resetMargins(),this.drawGraphs=!1),this.processScrollbars(),this.updateMargins(),this.updatePlotArea(),this.updateScrollbars(),this.updateTrendLines(),this.updateChartCursor(),this.updateValueAxes(),this.scrollbarOnly||this.updateGraphs()},drawChart:function(){if(t.AmRectangularChart.base.drawChart.call(this),this.drawPlotArea(),t.ifArray(this.chartData)){var e=this.chartCursor;e&&e.draw()}},resetMargins:function(){var t,e={};if("xy"==this.type){var i=this.xAxes,n=this.yAxes;for(t=0;t<i.length;t++){var o=i[t];o.ignoreAxisWidth||(o.setOrientation(!0),o.fixAxisPosition(),e[o.position]=!0)}for(t=0;t<n.length;t++)i=n[t],i.ignoreAxisWidth||(i.setOrientation(!1),i.fixAxisPosition(),e[i.position]=!0)}else{for(n=this.valueAxes,t=0;t<n.length;t++)i=n[t],i.ignoreAxisWidth||(i.setOrientation(this.rotate),i.fixAxisPosition(),e[i.position]=!0);(t=this.categoryAxis)&&!t.ignoreAxisWidth&&(t.setOrientation(!this.rotate),t.fixAxisPosition(),t.fixAxisPosition(),e[t.position]=!0)}e.left&&(this.marginLeft=0),e.right&&(this.marginRight=0),e.top&&(this.marginTop=0),e.bottom&&(this.marginBottom=0),this.fixMargins=e},measureMargins:function(){var t,e=this.valueAxes,i=this.autoMarginOffset,n=this.fixMargins,o=this.realWidth,a=this.realHeight,r=i,s=i,l=o;t=a;var d;for(d=0;d<e.length;d++)e[d].handleSynchronization(),t=this.getAxisBounds(e[d],r,l,s,t),r=Math.round(t.l),l=Math.round(t.r),s=Math.round(t.t),t=Math.round(t.b);(e=this.categoryAxis)&&(t=this.getAxisBounds(e,r,l,s,t),r=Math.round(t.l),l=Math.round(t.r),s=Math.round(t.t),t=Math.round(t.b)),n.left&&r<i&&(this.marginLeft=Math.round(-r+i),!isNaN(this.minMarginLeft)&&this.marginLeft<this.minMarginLeft&&(this.marginLeft=this.minMarginLeft)),n.right&&l>=o-i&&(this.marginRight=Math.round(l-o+i),!isNaN(this.minMarginRight)&&this.marginRight<this.minMarginRight&&(this.marginRight=this.minMarginRight)),n.top&&s<i+this.titleHeight&&(this.marginTop=Math.round(this.marginTop-s+i+this.titleHeight),!isNaN(this.minMarginTop)&&this.marginTop<this.minMarginTop&&(this.marginTop=this.minMarginTop)),n.bottom&&t>a-i&&(this.marginBottom=Math.round(this.marginBottom+t-a+i),!isNaN(this.minMarginBottom)&&this.marginBottom<this.minMarginBottom&&(this.marginBottom=this.minMarginBottom)),this.initChart()},getAxisBounds:function(t,e,i,n,o){if(!t.ignoreAxisWidth){var a=t.labelsSet,r=t.tickLength;if(t.inside&&(r=0),a)switch(a=t.getBBox(),t.position){case"top":t=a.y,n>t&&(n=t);break;case"bottom":t=a.y+a.height,o<t&&(o=t);break;case"right":t=a.x+a.width+r+3,i<t&&(i=t);break;case"left":t=a.x-r,e>t&&(e=t)}}return{l:e,t:n,r:i,b:o}},drawZoomOutButton:function(){var e=this;if(!e.zbSet){var i=e.container.set();e.zoomButtonSet.push(i);var n=e.color,o=e.fontSize,a=e.zoomOutButtonImageSize,r=e.zoomOutButtonImage.replace(/\.[a-z]*$/i,""),s=e.langObj.zoomOutText||e.zoomOutText,l=e.zoomOutButtonColor,d=e.zoomOutButtonAlpha,c=e.zoomOutButtonFontSize,h=e.zoomOutButtonPadding;isNaN(c)||(o=c),(c=e.zoomOutButtonFontColor)&&(n=c);var u,c=e.zoomOutButton;c&&(c.fontSize&&(o=c.fontSize),c.color&&(n=c.color),c.backgroundColor&&(l=c.backgroundColor),isNaN(c.backgroundAlpha)||(e.zoomOutButtonRollOverAlpha=c.backgroundAlpha));var f=c=0,f=e.pathToImages;for(r&&((t.isAbsolute(r)||void 0===f)&&(f=""),u=e.container.image(f+r+e.extension,0,0,a,a),t.setCN(e,u,"zoom-out-image"),i.push(u),u=u.getBBox(),c=u.width+5),void 0!==s&&(n=t.text(e.container,s,n,e.fontFamily,o,"start"),t.setCN(e,n,"zoom-out-label"),o=n.getBBox(),f=u?u.height/2-3:o.height/2,n.translate(c,f),i.push(n)),u=i.getBBox(),n=1,t.isModern||(n=0),l=t.rect(e.container,u.width+2*h+5,u.height+2*h-2,l,1,1,l,n),l.setAttr("opacity",d),l.translate(-h,-h),t.setCN(e,l,"zoom-out-bg"),i.push(l),l.toBack(),e.zbBG=l,u=l.getBBox(),i.translate(e.marginLeftReal+e.plotAreaWidth-u.width+h,e.marginTopReal+h),i.hide(),i.mouseover(function(){e.rollOverZB()}).mouseout(function(){e.rollOutZB()}).click(function(){e.clickZB()}).touchstart(function(){e.rollOverZB()}).touchend(function(){e.rollOutZB(),e.clickZB()}),d=0;d<i.length;d++)i[d].attr({cursor:"pointer"});void 0!==e.zoomOutButtonTabIndex&&(i.setAttr("tabindex",e.zoomOutButtonTabIndex),i.setAttr("role","menuitem"),i.keyup(function(t){13==t.keyCode&&e.clickZB()})),e.zbSet=i}},rollOverZB:function(){this.rolledOverZB=!0,this.zbBG.setAttr("opacity",this.zoomOutButtonRollOverAlpha)},rollOutZB:function(){this.rolledOverZB=!1,this.zbBG.setAttr("opacity",this.zoomOutButtonAlpha)},clickZB:function(){this.rolledOverZB=!1,this.zoomOut()},zoomOut:function(){this.zoomOutValueAxes()},drawPlotArea:function(){var e=this.dx,i=this.dy,n=this.marginLeftReal,o=this.marginTopReal,a=this.plotAreaWidth-1,r=this.plotAreaHeight-1,s=this.plotAreaFillColors,l=this.plotAreaFillAlphas,d=this.plotAreaBorderColor,c=this.plotAreaBorderAlpha;"object"==typeof l&&(l=l[0]),s=t.polygon(this.container,[0,a,a,0,0],[0,0,r,r,0],s,l,1,d,c,this.plotAreaGradientAngle),t.setCN(this,s,"plot-area"),s.translate(n+e,o+i),this.set.push(s),0!==e&&0!==i&&(s=this.plotAreaFillColors,"object"==typeof s&&(s=s[0]),s=t.adjustLuminosity(s,-.15),a=t.polygon(this.container,[0,e,a+e,a,0],[0,i,i,0,0],s,l,1,d,c),t.setCN(this,a,"plot-area-bottom"),a.translate(n,o+r),this.set.push(a),e=t.polygon(this.container,[0,0,e,e,0],[0,r,r+i,i,0],s,l,1,d,c),t.setCN(this,e,"plot-area-left"),e.translate(n,o),this.set.push(e)),(n=this.bbset)&&this.scrollbarOnly&&n.remove()},updatePlotArea:function(){var t=this.updateWidth(),e=this.updateHeight(),i=this.container;this.realWidth=t,this.realWidth=e,i&&this.container.setSize(t,e);var i=this.marginLeftReal,n=this.marginTopReal,t=t-i-this.marginRightReal-this.dx,e=e-n-this.marginBottomReal;1>t&&(t=1),1>e&&(e=1),this.plotAreaWidth=Math.round(t),this.plotAreaHeight=Math.round(e),this.plotBalloonsSet.translate(i,n)},updateDxy:function(){this.dx=Math.round(this.depth3D*Math.cos(this.angle*Math.PI/180)),this.dy=Math.round(-this.depth3D*Math.sin(this.angle*Math.PI/180)),this.d3x=Math.round(this.columnSpacing3D*Math.cos(this.angle*Math.PI/180)),this.d3y=Math.round(-this.columnSpacing3D*Math.sin(this.angle*Math.PI/180))},updateMargins:function(){var t=this.getTitleHeight();this.titleHeight=t,this.marginTopReal=this.marginTop-this.dy,this.fixMargins&&!this.fixMargins.top&&(this.marginTopReal+=t),this.marginBottomReal=this.marginBottom,this.marginLeftReal=this.marginLeft,this.marginRightReal=this.marginRight},updateValueAxes:function(){var t,e=this.valueAxes;for(t=0;t<e.length;t++){var i=e[t];this.setAxisRenderers(i),this.updateObjectSize(i)}},setAxisRenderers:function(e){e.axisRenderer=t.RecAxis,e.guideFillRenderer=t.RecFill,e.axisItemRenderer=t.RecItem,e.marginsChanged=!0},updateGraphs:function(){var t,e=this.graphs;for(t=0;t<e.length;t++){var i=e[t];i.index=t,i.rotate=this.rotate,this.updateObjectSize(i)}},updateObjectSize:function(t){t.width=this.plotAreaWidth-1,t.height=this.plotAreaHeight-1,t.x=this.marginLeftReal,t.y=this.marginTopReal,t.dx=this.dx,t.dy=this.dy},updateChartCursor:function(){var e=this.chartCursor;e&&(e=t.processObject(e,t.ChartCursor,this.theme),this.updateObjectSize(e),this.addChartCursor(e),e.chart=this)},processScrollbars:function(){var e=this.chartScrollbar;e&&(e=t.processObject(e,t.ChartScrollbar,this.theme),this.addChartScrollbar(e))},updateScrollbars:function(){},removeChartCursor:function(){t.callMethod("destroy",[this.chartCursor]),this.chartCursor=null},zoomTrendLines:function(){var t,e=this.trendLines;for(t=0;t<e.length;t++){var i=e[t];i.valueAxis.recalculateToPercents?i.set&&i.set.hide():(i.x=this.marginLeftReal,i.y=this.marginTopReal,i.draw())}},handleCursorValueZoom:function(){},addTrendLine:function(t){this.trendLines.push(t)},zoomOutValueAxes:function(){for(var t=this.valueAxes,e=0;e<t.length;e++)t[e].zoomOut()},removeTrendLine:function(t){var e,i=this.trendLines;for(e=i.length-1;0<=e;e--)i[e]==t&&i.splice(e,1)},adjustMargins:function(t,e){var i=t.position,n=t.scrollbarHeight+t.offset;t.enabled&&("top"==i?e?this.marginLeftReal+=n:this.marginTopReal+=n:e?this.marginRightReal+=n:this.marginBottomReal+=n)},getScrollbarPosition:function(t,e,i){var n="bottom",o="top";t.oppositeAxis||(o=n,n="top"),t.position=e?"bottom"==i||"left"==i?n:o:"top"==i||"right"==i?n:o},updateChartScrollbar:function(t,e){if(t){t.rotate=e;var i=this.marginTopReal,n=this.marginLeftReal,o=t.scrollbarHeight,a=this.dx,r=this.dy,s=t.offset;"top"==t.position?e?(t.y=i,t.x=n-o-s):(t.y=i-o+r-s,t.x=n+a):e?(t.y=i+r,t.x=n+this.plotAreaWidth+a+s):(t.y=i+this.plotAreaHeight+s,t.x=this.marginLeftReal)}},showZB:function(t){var e=this.zbSet;t&&""!==(e=this.zoomOutText)&&e&&this.drawZoomOutButton(),(e=this.zbSet)&&(this.zoomButtonSet.push(e),t?e.show():e.hide(),this.rollOutZB())},handleReleaseOutside:function(e){t.AmRectangularChart.base.handleReleaseOutside.call(this,e),(e=this.chartCursor)&&e.handleReleaseOutside&&e.handleReleaseOutside()},handleMouseDown:function(e){t.AmRectangularChart.base.handleMouseDown.call(this,e);var i=this.chartCursor;i&&i.handleMouseDown&&!this.rolledOverZB&&i.handleMouseDown(e)},update:function(){t.AmRectangularChart.base.update.call(this),this.chartCursor&&this.chartCursor.update&&this.chartCursor.update()},handleScrollbarValueZoom:function(t){this.relativeZoomValueAxes(t.target.valueAxes,t.relativeStart,t.relativeEnd),this.zoomAxesAndGraphs()},zoomValueScrollbar:function(t){if(t&&t.enabled){var e=t.valueAxes[0],i=e.relativeStart,n=e.relativeEnd;e.reversed&&(n=1-i,i=1-e.relativeEnd),t.percentZoom(i,n)}},zoomAxesAndGraphs:function(){if(!this.scrollbarOnly){var t,e=this.valueAxes;for(t=0;t<e.length;t++)e[t].zoom(this.start,this.end);for(e=this.graphs,t=0;t<e.length;t++)e[t].zoom(this.start,this.end);(t=this.chartCursor)&&t.clearSelection(),this.zoomTrendLines()}},handleValueAxisZoomReal:function(t,e){var i=t.relativeStart,n=t.relativeEnd;if(i>n)var o=i,i=n,n=o;this.relativeZoomValueAxes(e,i,n),this.updateAfterValueZoom()},updateAfterValueZoom:function(){this.zoomAxesAndGraphs(),this.zoomScrollbar()},relativeZoomValueAxes:function(e,i,n){if(this.hideBalloonReal(),i=t.fitToBounds(i,0,1),n=t.fitToBounds(n,0,1),i>n){var o=i;i=n,n=o}var o=1/this.maxZoomFactor,a=t.getDecimals(o)+4;if(n-i<o&&(n=i+(n-i)/2,i=n-o/2,n+=o/2,1<n&&(i-=n-1,n=1),0>i&&(i=0,n=o)),i=t.roundTo(i,a),n=t.roundTo(n,a),o=!1,e){for(a=0;a<e.length;a++){var r=e[a].zoomToRelativeValues(i,n,!0);r&&(o=r)}this.showZB()}return o},addChartCursor:function(e){t.callMethod("destroy",[this.chartCursor]),e&&(this.listenTo(e,"moved",this.handleCursorMove),this.listenTo(e,"zoomed",this.handleCursorZoom),this.listenTo(e,"zoomStarted",this.handleCursorZoomStarted),this.listenTo(e,"panning",this.handleCursorPanning),this.listenTo(e,"onHideCursor",this.handleCursorHide)),this.chartCursor=e},handleCursorChange:function(){},handleCursorMove:function(t){var e,i=this.valueAxes;for(e=0;e<i.length;e++)if(!t.panning){var n=i[e];n&&n.showBalloon&&n.showBalloon(t.x,t.y)}},handleCursorZoom:function(t){if(this.skipZoomed)this.skipZoomed=!1;else{var e=this.startX0,i=this.endX0,n=this.endY0,o=this.startY0,a=t.startX,r=t.endX,s=t.startY,l=t.endY;this.startX0=this.endX0=this.startY0=this.endY0=NaN,this.handleCursorZoomReal(e+a*(i-e),e+r*(i-e),o+s*(n-o),o+l*(n-o),t)}},handleCursorHide:function(){var t,e=this.valueAxes;for(t=0;t<e.length;t++)e[t].hideBalloon();for(e=this.graphs,t=0;t<e.length;t++)e[t].hideBalloonReal()}})}(),function(){var t=window.AmCharts;t.AmSerialChart=t.Class({inherits:t.AmRectangularChart,construct:function(e){this.type="serial",t.AmSerialChart.base.construct.call(this,e),this.cname="AmSerialChart",this.theme=e,this.columnSpacing=5,this.columnSpacing3D=0,this.columnWidth=.8;var i=new t.CategoryAxis(e);i.chart=this,this.categoryAxis=i,this.zoomOutOnDataUpdate=!0,this.mouseWheelZoomEnabled=this.mouseWheelScrollEnabled=this.rotate=this.skipZoom=!1,this.minSelectedTime=0,t.applyTheme(this,e,this.cname)},initChart:function(){t.AmSerialChart.base.initChart.call(this),this.updateCategoryAxis(this.categoryAxis,this.rotate,"categoryAxis"),this.dataChanged?this.parseData():this.onDataUpdated(),this.drawGraphs=!0},onDataUpdated:function(){var t,e=this.countColumns(),i=this.chartData,n=this.graphs;for(t=0;t<n.length;t++){var o=n[t];o.data=i,o.columnCount=e}0<i.length&&(this.firstTime=this.getStartTime(i[0].time),this.lastTime=this.getEndTime(i[i.length-1].time)),this.drawChart(),this.autoMargins&&!this.marginsUpdated?(this.marginsUpdated=!0,this.measureMargins()):this.dispDUpd()},syncGrid:function(){if(this.synchronizeGrid){var e,i,n=this.valueAxes;if(0<n.length){var o=0;for(i=0;i<n.length;i++)e=n[i],o<e.gridCountReal&&(o=e.gridCountReal);var a=!1;for(i=0;i<n.length;i++)if(e=n[i],e.gridCountReal<o){var r=(o-e.gridCountReal)/2,s=a=r;0!=r-Math.round(r)&&(a-=.5,s+=.5),0<=e.min&&0>e.min-a*e.step&&(s+=a,a=0),0>=e.max&&0<e.max+s*e.step&&(a+=s,s=0),r=t.getDecimals(e.step),e.minimum=t.roundTo(e.min-a*e.step,r),e.maximum=t.roundTo(e.max+s*e.step,r),e.setStep=e.step,a=e.strictMinMax=!0}for(a&&this.updateAfterValueZoom(),i=0;i<n.length;i++)e=n[i],e.minimum=NaN,e.maximum=NaN,e.setStep=NaN,e.strictMinMax=!1}}},handleWheelReal:function(t,e){if(!this.wheelBusy){var i=this.categoryAxis,n=i.parseDates,o=i.minDuration(),a=1,r=1;this.mouseWheelZoomEnabled?e||(a=-1):e&&(a=-1);var s=this.chartCursor;if(s){var l=s.mouseX,s=s.mouseY;a!=r&&(l=this.rotate?s/this.plotAreaHeight:l/this.plotAreaWidth,a*=l,r*=1-l),l=.05*(this.end-this.start),n&&(l=.05*(this.endTime-this.startTime)/o),1>l&&(l=1),a*=l,r*=l,n&&!i.equalSpacing||(a=Math.round(a),r=Math.round(r))}s=this.chartData.length,i=this.lastTime,l=this.firstTime,
0>t?n?(s=this.endTime-this.startTime,n=this.startTime+a*o,o=this.endTime+r*o,0<r&&0<a&&o>=i&&(o=i,n=i-s),this.zoomToDates(new Date(n),new Date(o))):(0<r&&0<a&&this.end>=s-1&&(a=r=0),n=this.start+a,o=this.end+r,this.zoomToIndexes(n,o)):n?(s=this.endTime-this.startTime,n=this.startTime-a*o,o=this.endTime-r*o,0<r&&0<a&&n<=l&&(n=l,o=l+s),this.zoomToDates(new Date(n),new Date(o))):(0<r&&0<a&&1>this.start&&(a=r=0),n=this.start-a,o=this.end-r,this.zoomToIndexes(n,o))}},validateData:function(e){this.marginsUpdated=!1,this.zoomOutOnDataUpdate&&!e&&(this.endTime=this.end=this.startTime=this.start=NaN);var i=e=!1,n=!1,o=this.chartScrollbar;o&&(o.dragging&&(e=!0,o.handleDragStop()),o.resizingRight&&(n=!0,o.rightDragStop()),o.resizingLeft&&(i=!0,o.leftDragStop())),t.AmSerialChart.base.validateData.call(this),e&&o.handleDragStart(),n&&o.rightDragStart(),i&&o.leftDragStart()},drawChart:function(){if(0<this.realWidth&&0<this.realHeight){t.AmSerialChart.base.drawChart.call(this);var e=this.chartData;if(t.ifArray(e)){var i=this.chartScrollbar;!i||!this.marginsUpdated&&this.autoMargins||i.draw(),(i=this.valueScrollbar)&&i.draw();var n,o,i=e.length-1;n=this.categoryAxis,n.parseDates&&!n.equalSpacing?(n=this.startTime,o=this.endTime,(isNaN(n)||isNaN(o))&&(n=this.firstTime,o=this.lastTime)):(n=this.start,o=this.end,(isNaN(n)||isNaN(o))&&(o=n=NaN),isNaN(n)&&(isNaN(this.startTime)||(n=this.getClosestIndex(e,"time",this.startTime,!0,0,e.length))),isNaN(o)&&(isNaN(this.endTime)||(o=this.getClosestIndex(e,"time",this.endTime,!1,0,e.length))),(isNaN(n)||isNaN(o))&&(n=0,o=i)),this.endTime=this.startTime=this.end=this.start=void 0,this.zoom(n,o)}}else this.cleanChart()},cleanChart:function(){t.callMethod("destroy",[this.valueAxes,this.graphs,this.categoryAxis,this.chartScrollbar,this.chartCursor,this.valueScrollbar])},updateCategoryAxis:function(t,e,i){t.chart=this,t.id=i,t.rotate=e,t.setOrientation(!this.rotate),t.init(),this.setAxisRenderers(t),this.updateObjectSize(t)},updateValueAxes:function(){t.AmSerialChart.base.updateValueAxes.call(this);var e,i=this.valueAxes;for(e=0;e<i.length;e++){var n=i[e],o=this.rotate;n.rotate=o,n.setOrientation(o),o=this.categoryAxis,o.startOnAxis&&!o.parseDates||(n.expandMinMax=!0)}},getStartTime:function(e){var i=this.categoryAxis;return t.resetDateToMin(new Date(e),i.minPeriod,1,i.firstDayOfWeek).getTime()},getEndTime:function(e){var i=t.extractPeriod(this.categoryAxis.minPeriod);return t.changeDate(new Date(e),i.period,i.count,!0).getTime()-1},updateMargins:function(){t.AmSerialChart.base.updateMargins.call(this);var e=this.chartScrollbar;e&&(this.getScrollbarPosition(e,this.rotate,this.categoryAxis.position),this.adjustMargins(e,this.rotate)),(e=this.valueScrollbar)&&(this.getScrollbarPosition(e,!this.rotate,this.valueAxes[0].position),this.adjustMargins(e,!this.rotate))},updateScrollbars:function(){t.AmSerialChart.base.updateScrollbars.call(this),this.updateChartScrollbar(this.chartScrollbar,this.rotate),this.updateChartScrollbar(this.valueScrollbar,!this.rotate)},zoom:function(t,e){var i=this.categoryAxis;i.parseDates&&!i.equalSpacing?(this.timeZoom(t,e),isNaN(t)&&this.zoomOutValueAxes()):this.indexZoom(t,e),(i=this.chartCursor)&&(i.pan||i.hideCursorReal()),this.updateLegendValues()},timeZoom:function(e,i){var n=this.maxSelectedTime;isNaN(n)||(i!=this.endTime&&i-e>n&&(e=i-n),e!=this.startTime&&i-e>n&&(i=e+n));var o=this.minSelectedTime;if(0<o&&i-e<o){var a=Math.round(e+(i-e)/2),o=Math.round(o/2);e=a-o,i=a+o}if(o=this.chartData,a=this.categoryAxis,t.ifArray(o)&&(e!=this.startTime||i!=this.endTime)){var r=a.minDuration(),s=this.firstTime,l=this.lastTime;e||(e=s,isNaN(n)||(e=l-n)),i||(i=l),e>l&&(e=l),i<s&&(i=s),e<s&&(e=s),i>l&&(i=l),i<e&&(i=e+r),i-e<r/5&&(i<l?i=e+r/5:e=i-r/5),this.startTime=e,this.endTime=i,n=o.length-1,r=this.getClosestIndex(o,"time",e,!0,0,n),o=this.getClosestIndex(o,"time",i,!1,r,n),a.timeZoom(e,i),a.zoom(r,o),this.start=t.fitToBounds(r,0,n),this.end=t.fitToBounds(o,0,n),this.zoomAxesAndGraphs(),this.zoomScrollbar(),this.fixCursor(),this.showZB(),this.syncGrid(),this.updateColumnsDepth(),this.dispatchTimeZoomEvent()}},showZB:function(){var e,i=this.categoryAxis;i&&i.parseDates&&!i.equalSpacing&&(this.startTime>this.firstTime&&(e=!0),this.endTime<this.lastTime&&(e=!0)),0<this.start&&(e=!0),this.end<this.chartData.length-1&&(e=!0),(i=this.valueAxes)&&(i=i[0],isNaN(i.relativeStart)||(0!==t.roundTo(i.relativeStart,3)&&(e=!0),1!=t.roundTo(i.relativeEnd,3)&&(e=!0))),t.AmSerialChart.base.showZB.call(this,e)},updateAfterValueZoom:function(){t.AmSerialChart.base.updateAfterValueZoom.call(this),this.updateColumnsDepth()},indexZoom:function(t,e){var i=this.maxSelectedSeries,n=!1;if(isNaN(i)||(e!=this.end&&e-t>i&&(t=e-i,n=!0),t!=this.start&&e-t>i&&(e=t+i,n=!0)),n&&(n=this.chartScrollbar)&&n.dragger){var o=n.dragger.getBBox();n.maxWidth=o.width,n.maxHeight=o.height}t==this.start&&e==this.end||(n=this.chartData.length-1,isNaN(t)&&(t=0,isNaN(i)||(t=n-i)),isNaN(e)&&(e=n),e<t&&(e=t),e>n&&(e=n),t>n&&(t=n-1),0>t&&(t=0),this.start=t,this.end=e,this.categoryAxis.zoom(t,e),this.zoomAxesAndGraphs(),this.zoomScrollbar(),this.fixCursor(),0!==t||e!=this.chartData.length-1?this.showZB(!0):this.showZB(!1),this.syncGrid(),this.updateColumnsDepth(),this.dispatchIndexZoomEvent())},updateGraphs:function(){t.AmSerialChart.base.updateGraphs.call(this);var e,i=this.graphs;for(e=0;e<i.length;e++){var n=i[e];n.columnWidthReal=this.columnWidth,n.categoryAxis=this.categoryAxis,t.isString(n.fillToGraph)&&(n.fillToGraph=this.graphsById[n.fillToGraph])}},zoomAxesAndGraphs:function(){t.AmSerialChart.base.zoomAxesAndGraphs.call(this),this.updateColumnsDepth()},updateColumnsDepth:function(){if(0!==this.depth3D||0!==this.angle){var e,i,n=this.graphs;for(this.columnsArray=[],e=0;e<n.length;e++){i=n[e];var o=i.columnsArray;if(o){var a;for(a=0;a<o.length;a++)this.columnsArray.push(o[a])}}if(this.columnsArray.sort(this.compareDepth),n=this.columnsSet,0<this.columnsArray.length){for(o=this.container.set(),this.columnSet.push(o),e=0;e<this.columnsArray.length;e++)o.push(this.columnsArray[e].column.set);i&&o.translate(i.x,i.y),this.columnsSet=o}t.remove(n)}},compareDepth:function(t,e){return t.depth>e.depth?1:-1},zoomScrollbar:function(){var t=this.chartScrollbar,e=this.categoryAxis;if(t){if(!this.zoomedByScrollbar){var i=t.dragger;i&&i.stop()}this.zoomedByScrollbar=!1,e.parseDates&&!e.equalSpacing?t.timeZoom(this.startTime,this.endTime):t.zoom(this.start,this.end)}this.zoomValueScrollbar(this.valueScrollbar)},updateTrendLines:function(){var e,i=this.trendLines;for(e=0;e<i.length;e++){var n=i[e],n=t.processObject(n,t.TrendLine,this.theme);i[e]=n,n.chart=this,n.id||(n.id="trendLineAuto"+e+"_"+(new Date).getTime()),t.isString(n.valueAxis)&&(n.valueAxis=this.getValueAxisById(n.valueAxis)),n.valueAxis||(n.valueAxis=this.valueAxes[0]),n.categoryAxis=this.categoryAxis}},validateNow:function(e,i){e&&this.zoomOutOnDataUpdate&&(this.endTime=this.end=this.startTime=this.start=NaN),t.AmSerialChart.base.validateNow.call(this,e,i)},countColumns:function(){var t,e,i,n,o=0,a=this.valueAxes.length,r=this.graphs.length,s=!1;for(n=0;n<a;n++){e=this.valueAxes[n];var l=e.stackType,d=0;if("100%"==l||"regular"==l)for(s=!1,i=0;i<r;i++)t=this.graphs[i],t.tcc=1,t.valueAxis==e&&"column"==t.type&&(!s&&t.stackable&&(o++,s=!0),(!t.stackable&&t.clustered||t.newStack&&0!==d)&&o++,t.columnIndex=o-1,t.clustered||(t.columnIndex=0),d++);if("none"==l||"3d"==l){for(d=!1,i=0;i<r;i++)t=this.graphs[i],t.valueAxis==e&&"column"==t.type&&(t.clustered?(t.tcc=1,t.newStack&&(o=0),t.hidden||(t.columnIndex=o,o++)):t.hidden||(d=!0,t.tcc=1,t.columnIndex=0));d&&0===o&&(o=1)}if("3d"==l){for(e=1,d=0;d<r;d++)t=this.graphs[d],t.newStack&&e++,t.depthCount=e,t.tcc=o;o=e}}return o},parseData:function(){t.AmSerialChart.base.parseData.call(this),this.parseSerialData(this.dataProvider)},getCategoryIndexByValue:function(t){var e,i=this.chartData;for(e=0;e<i.length;e++)if(i[e].category==t)return e},handleScrollbarZoom:function(t){this.zoomedByScrollbar=!0,this.zoom(t.start,t.end)},dispatchTimeZoomEvent:function(){if(this.drawGraphs&&(this.prevStartTime!=this.startTime||this.prevEndTime!=this.endTime)){var e={type:"zoomed"};e.startDate=new Date(this.startTime),e.endDate=new Date(this.endTime),e.startIndex=this.start,e.endIndex=this.end,this.startIndex=this.start,this.endIndex=this.end,this.startDate=e.startDate,this.endDate=e.endDate,this.prevStartTime=this.startTime,this.prevEndTime=this.endTime;var i=this.categoryAxis,n=t.extractPeriod(i.minPeriod).period,i=i.dateFormatsObject[n];e.startValue=t.formatDate(e.startDate,i,this),e.endValue=t.formatDate(e.endDate,i,this),e.chart=this,e.target=this,this.fire(e)}},dispatchIndexZoomEvent:function(){if(this.drawGraphs&&(this.prevStartIndex!=this.start||this.prevEndIndex!=this.end)){this.startIndex=this.start,this.endIndex=this.end;var e=this.chartData;if(t.ifArray(e)&&!isNaN(this.start)&&!isNaN(this.end)){var i={chart:this,target:this,type:"zoomed"};i.startIndex=this.start,i.endIndex=this.end,i.startValue=e[this.start].category,i.endValue=e[this.end].category,this.categoryAxis.parseDates&&(this.startTime=e[this.start].time,this.endTime=e[this.end].time,i.startDate=new Date(this.startTime),i.endDate=new Date(this.endTime)),this.prevStartIndex=this.start,this.prevEndIndex=this.end,this.fire(i)}}},updateLegendValues:function(){this.legend&&this.legend.updateValues()},getClosestIndex:function(t,e,i,n,o,a){0>o&&(o=0),a>t.length-1&&(a=t.length-1);var r=o+Math.round((a-o)/2),s=t[r][e];return i==s?r:1>=a-o?n?o:Math.abs(t[o][e]-i)<Math.abs(t[a][e]-i)?o:a:i==s?r:i<s?this.getClosestIndex(t,e,i,n,o,r):this.getClosestIndex(t,e,i,n,r,a)},zoomToIndexes:function(t,e){var i=this.chartData;if(i){var n=i.length;0<n&&(0>t&&(t=0),e>n-1&&(e=n-1),n=this.categoryAxis,n.parseDates&&!n.equalSpacing?this.zoom(i[t].time,this.getEndTime(i[e].time)):this.zoom(t,e))}},zoomToDates:function(e,i){var n=this.chartData;if(n)if(this.categoryAxis.equalSpacing){var o=this.getClosestIndex(n,"time",e.getTime(),!0,0,n.length);i=t.resetDateToMin(i,this.categoryAxis.minPeriod,1),n=this.getClosestIndex(n,"time",i.getTime(),!1,0,n.length),this.zoom(o,n)}else this.zoom(e.getTime(),i.getTime())},zoomToCategoryValues:function(t,e){this.chartData&&this.zoom(this.getCategoryIndexByValue(t),this.getCategoryIndexByValue(e))},formatPeriodString:function(e,i){if(i){i.periodDataItem={},i.periodPercentDataItem={};var n=["value","open","low","high","close"],o="value open low high close average sum count".split(" "),a=i.valueAxis,r=this.chartData,s=i.numberFormatter;s||(s=this.nf);for(var l=0;l<n.length;l++){for(var d,c,h,u,f,p,m,g,v,b,T=n[l],E=0,C=0,y=0,D=0,I=this.start;I<=this.end;I++){var O=r[I];if(O){var R=O.axes[a.id].graphs[i.id];if(R){if(R.values){var x=R.values[T],O=O.x.categoryAxis;this.rotate?(0>O||O>R.graph.height)&&(x=NaN):(0>O||O>R.graph.width)&&(x=NaN),isNaN(x)||(isNaN(d)&&(d=x),c=x,(isNaN(h)||h>x)&&(h=x),(isNaN(u)||u<x)&&(u=x),f=t.getDecimals(E),O=t.getDecimals(x),E+=x,E=t.roundTo(E,Math.max(f,O)),C++,f=E/C)}R.percents&&(R=R.percents[T],!isNaN(R))&&(isNaN(p)&&(p=R),m=R,(isNaN(g)||g>R)&&(g=R),(isNaN(v)||v<R)&&(v=R),b=t.getDecimals(y),x=t.getDecimals(R),y+=R,y=t.roundTo(y,Math.max(b,x)),D++,b=y/D)}}}E={open:d,close:c,high:u,low:h,average:f,sum:E,count:C},y={open:p,close:m,high:v,low:g,average:b,sum:y,count:D},e=t.formatValue(e,E,o,s,T+"\\.",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers),e=t.formatValue(e,y,o,this.pf,"percents\\."+T+"\\."),i.periodDataItem[T]=E,i.periodPercentDataItem[T]=y}}return e=t.cleanFromEmpty(e)},formatString:function(e,i,n){if(i){var o=i.graph;if(void 0!==e){if(-1!=e.indexOf("[[category]]")){var a=i.serialDataItem.category;if(this.categoryAxis.parseDates){var r=this.balloonDateFormat,s=this.chartCursor;s&&s.categoryBalloonDateFormat&&(r=s.categoryBalloonDateFormat),r=t.formatDate(a,r,this),-1!=r.indexOf("fff")&&(r=t.formatMilliseconds(r,a)),a=r}e=e.replace(/\[\[category\]\]/g,String(a.replace("$","$$$")))}a=o.numberFormatter,a||(a=this.nf),r=i.graph.valueAxis,(s=r.duration)&&!isNaN(i.values.value)&&(s=t.formatDuration(i.values.value,s,"",r.durationUnits,r.maxInterval,a),e=e.replace(RegExp("\\[\\[value\\]\\]","g"),s)),"date"==r.type&&(r=t.formatDate(new Date(i.values.value),o.dateFormat,this),s=RegExp("\\[\\[value\\]\\]","g"),e=e.replace(s,r),r=t.formatDate(new Date(i.values.open),o.dateFormat,this),s=RegExp("\\[\\[open\\]\\]","g"),e=e.replace(s,r)),o="value open low high close total".split(" "),r=this.pf,e=t.formatValue(e,i.percents,o,r,"percents\\."),e=t.formatValue(e,i.values,o,a,"",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers),e=t.formatValue(e,i.values,["percents"],r),-1!=e.indexOf("[[")&&(e=t.formatDataContextValue(e,i.dataContext)),-1!=e.indexOf("[[")&&i.graph.customData&&(e=t.formatDataContextValue(e,i.graph.customData)),e=t.AmSerialChart.base.formatString.call(this,e,i,n)}return e}},updateChartCursor:function(){t.AmSerialChart.base.updateChartCursor.call(this);var e=this.chartCursor,i=this.categoryAxis;if(e){var n=e.categoryBalloonAlpha,o=e.categoryBalloonColor,a=e.color;void 0===o&&(o=e.cursorColor);var r=e.valueZoomable,s=e.zoomable,l=e.valueLineEnabled;if(this.rotate?(e.vLineEnabled=l,e.hZoomEnabled=r,e.vZoomEnabled=s):(e.hLineEnabled=l,e.vZoomEnabled=r,e.hZoomEnabled=s),e.valueLineBalloonEnabled)for(l=0;l<this.valueAxes.length;l++)r=this.valueAxes[l],(s=r.balloon)||(s={}),s=t.extend(s,this.balloon,!0),s.fillColor=o,s.balloonColor=o,s.fillAlpha=n,s.borderColor=o,s.color=a,r.balloon=s;else for(s=0;s<this.valueAxes.length;s++)r=this.valueAxes[s],r.balloon&&(r.balloon=null);i&&(i.balloonTextFunction=e.categoryBalloonFunction,e.categoryLineAxis=i,i.balloonText=e.categoryBalloonText,e.categoryBalloonEnabled&&((s=i.balloon)||(s={}),s=t.extend(s,this.balloon,!0),s.fillColor=o,s.balloonColor=o,s.fillAlpha=n,s.borderColor=o,s.color=a,i.balloon=s),i.balloon&&(i.balloon.enabled=e.categoryBalloonEnabled))}},addChartScrollbar:function(e){t.callMethod("destroy",[this.chartScrollbar]),e&&(e.chart=this,this.listenTo(e,"zoomed",this.handleScrollbarZoom)),this.rotate?void 0===e.width&&(e.width=e.scrollbarHeight):void 0===e.height&&(e.height=e.scrollbarHeight),e.gridAxis=this.categoryAxis,this.chartScrollbar=e},addValueScrollbar:function(e){t.callMethod("destroy",[this.valueScrollbar]),e&&(e.chart=this,this.listenTo(e,"zoomed",this.handleScrollbarValueZoom),this.listenTo(e,"zoomStarted",this.handleCursorZoomStarted));var i=e.scrollbarHeight;this.rotate?void 0===e.height&&(e.height=i):void 0===e.width&&(e.width=i),e.gridAxis||(e.gridAxis=this.valueAxes[0]),e.valueAxes=this.valueAxes,this.valueScrollbar=e},removeChartScrollbar:function(){t.callMethod("destroy",[this.chartScrollbar]),this.chartScrollbar=null},removeValueScrollbar:function(){t.callMethod("destroy",[this.valueScrollbar]),this.valueScrollbar=null},handleReleaseOutside:function(e){t.AmSerialChart.base.handleReleaseOutside.call(this,e),t.callMethod("handleReleaseOutside",[this.chartScrollbar,this.valueScrollbar])},update:function(){t.AmSerialChart.base.update.call(this),this.chartScrollbar&&this.chartScrollbar.update&&this.chartScrollbar.update(),this.valueScrollbar&&this.valueScrollbar.update&&this.valueScrollbar.update()},processScrollbars:function(){t.AmSerialChart.base.processScrollbars.call(this);var e=this.valueScrollbar;e&&(e=t.processObject(e,t.ChartScrollbar,this.theme),e.id="valueScrollbar",this.addValueScrollbar(e))},handleValueAxisZoom:function(t){this.handleValueAxisZoomReal(t,this.valueAxes)},zoomOut:function(){t.AmSerialChart.base.zoomOut.call(this),this.zoom(),this.syncGrid()},getNextItem:function(t){var e=t.index,i=this.chartData,n=t.graph;if(e+1<i.length)for(e+=1;e<i.length;e++)if((t=i[e])&&(t=t.axes[n.valueAxis.id].graphs[n.id],!isNaN(t.y)))return t},handleCursorZoomReal:function(t,e,i,n,o){var a,r,s=o.target;this.rotate?(isNaN(t)||isNaN(e)||this.relativeZoomValueAxes(this.valueAxes,t,e)&&this.updateAfterValueZoom(),s.vZoomEnabled&&(a=o.start,r=o.end)):(isNaN(i)||isNaN(n)||this.relativeZoomValueAxes(this.valueAxes,i,n)&&this.updateAfterValueZoom(),s.hZoomEnabled&&(a=o.start,r=o.end)),isNaN(a)||isNaN(r)||(t=this.categoryAxis,t.parseDates&&!t.equalSpacing?this.zoomToDates(new Date(a),new Date(r)):this.zoomToIndexes(a,r))},handleCursorZoomStarted:function(){var t=this.valueAxes;if(t){var t=t[0],e=t.relativeStart,i=t.relativeEnd;t.reversed&&(e=1-t.relativeEnd,i=1-t.relativeStart),this.rotate?(this.startX0=e,this.endX0=i):(this.startY0=e,this.endY0=i)}this.categoryAxis&&(this.start0=this.start,this.end0=this.end,this.startTime0=this.startTime,this.endTime0=this.endTime)},fixCursor:function(){this.chartCursor&&this.chartCursor.fixPosition(),this.prevCursorItem=null},handleCursorMove:function(e){t.AmSerialChart.base.handleCursorMove.call(this,e);var i=e.target,n=this.categoryAxis;if(e.panning)this.handleCursorHide(e);else if(this.chartData&&!i.isHidden){var o=this.graphs;if(o){var a;if(a=n.xToIndex(this.rotate?e.y:e.x),a=this.chartData[a]){var r,s,l,d;if(i.oneBalloonOnly&&i.valueBalloonsEnabled){var c=Infinity;for(r=o.length-1;0<=r;r--)if(s=o[r],s.balloon.enabled&&s.showBalloon&&!s.hidden){if(l=s.valueAxis.id,l=a.axes[l].graphs[s.id],i.showNextAvailable&&isNaN(l.y)&&!(l=this.getNextItem(l)))continue;l=l.y,"top"==s.showBalloonAt&&(l=0),"bottom"==s.showBalloonAt&&(l=this.height);var h=i.mouseX,u=i.mouseY;l=this.rotate?Math.abs(h-l):Math.abs(u-l),l<c&&(c=l,d=s)}i.mostCloseGraph=d}if(this.prevCursorItem!=a||d!=this.prevMostCloseGraph){for(c=[],r=0;r<o.length;r++)s=o[r],l=s.valueAxis.id,l=a.axes[l].graphs[s.id],i.showNextAvailable&&isNaN(l.y)&&!(l=this.getNextItem(l))&&s.balloon?s.balloon.hide():d&&s!=d?(s.showGraphBalloon(l,i.pointer,!1,i.graphBulletSize,i.graphBulletAlpha),s.balloon.hide(0)):i.valueBalloonsEnabled?(s.balloon.showBullet=i.bulletsEnabled,s.balloon.bulletSize=i.bulletSize/2,e.hideBalloons||(s.showGraphBalloon(l,i.pointer,!1,i.graphBulletSize,i.graphBulletAlpha),s.balloon.set&&c.push({balloon:s.balloon,y:s.balloon.pointToY}))):(s.currentDataItem=l,s.resizeBullet(l,i.graphBulletSize,i.graphBulletAlpha));i.avoidBalloonOverlapping&&this.arrangeBalloons(c),this.prevCursorItem=a}this.prevMostCloseGraph=d}}o=t.fitToBounds(e.x,0,i.width),d=t.fitToBounds(e.y,0,i.height),n.showBalloon(o,d,i.categoryBalloonDateFormat,e.skip),this.updateLegendValues()}},handleCursorHide:function(e){t.AmSerialChart.base.handleCursorHide.call(this,e),e=this.categoryAxis,this.prevCursorItem=null,this.updateLegendValues(),e&&e.hideBalloon(),e=this.graphs;var i;for(i=0;i<e.length;i++)e[i].currentDataItem=null},handleCursorPanning:function(e){var i,n=e.target,o=e.deltaX,a=e.deltaY,r=e.delta2X,s=e.delta2Y;if(e=!1,this.rotate){isNaN(r)&&(r=o,e=!0);var l=this.endX0;i=this.startX0;var d=l-i,l=l-d*r,c=d;e||(c=0),e=t.fitToBounds(i-d*o,0,1-c)}else isNaN(s)&&(s=a,e=!0),l=this.endY0,i=this.startY0,d=l-i,l+=d*a,c=d,e||(c=0),e=t.fitToBounds(i+d*s,0,1-c);i=t.fitToBounds(l,c,1);var h;n.valueZoomable&&(h=this.relativeZoomValueAxes(this.valueAxes,e,i));var u;i=this.categoryAxis,this.rotate&&(o=a,r=s),e=!1,isNaN(r)&&(r=o,e=!0),n.zoomable&&(0<Math.abs(o)||0<Math.abs(r))&&(i.parseDates&&!i.equalSpacing?(s=this.startTime0,a=this.endTime0,i=a-s,r*=i,d=this.firstTime,l=this.lastTime,c=i,e||(c=0),e=Math.round(t.fitToBounds(s-i*o,d,l-c)),r=Math.round(t.fitToBounds(a-r,d+c,l)),(this.startTime!=e||this.endTime!=r)&&(u={chart:this,target:n,type:"zoomed",start:e,end:r},this.skipZoomed=!0,n.fire(u),this.zoom(e,r),u=!0)):(s=this.start0,a=this.end0,i=a-s,o=Math.round(i*o),r=Math.round(i*r),d=this.chartData.length-1,e||(i=0),e=t.fitToBounds(s-o,0,d-i),i=t.fitToBounds(a-r,i,d),(this.start!=e||this.end!=i)&&(this.skipZoomed=!0,n.fire({chart:this,target:n,type:"zoomed",start:e,end:i}),this.zoom(e,i),u=!0))),!u&&h&&this.updateAfterValueZoom()},arrangeBalloons:function(t){var e=this.plotAreaHeight;t.sort(this.compareY);var i,n,o,a=this.plotAreaWidth,r=t.length;for(i=0;i<r;i++)n=t[i].balloon,n.setBounds(0,0,a,e),n.restorePrevious(),n.draw(),e=n.yPos-3;for(t.reverse(),i=0;i<r;i++){n=t[i].balloon;var e=n.bottom,s=n.bottom-n.yPos;0<i&&e-s<o+3&&n.setBounds&&(n.setBounds(0,o+3,a,o+s+3),n.restorePrevious(),n.draw()),n.set&&n.set.show(),o=n.bottom}},compareY:function(t,e){return t.y<e.y?1:-1}})}(),function(){var t=window.AmCharts;t.Cuboid=t.Class({construct:function(t,e,i,n,o,a,r,s,l,d,c,h,u,f,p,m,g){this.set=t.set(),this.container=t,this.h=Math.round(i),this.w=Math.round(e),this.dx=n,this.dy=o,this.colors=a,this.alpha=r,this.bwidth=s,this.bcolor=l,this.balpha=d,this.dashLength=f,this.topRadius=m,this.pattern=p,this.rotate=u,this.bcn=g,u?0>e&&0===c&&(c=180):0>i&&270==c&&(c=90),this.gradientRotation=c,0===n&&0===o&&(this.cornerRadius=h),this.draw()},draw:function(){var e=this.set;e.clear();var i=this.container,n=i.chart,o=this.w,a=this.h,r=this.dx,s=this.dy,l=this.colors,d=this.alpha,c=this.bwidth,h=this.bcolor,u=this.balpha,f=this.gradientRotation,p=this.cornerRadius,m=this.dashLength,g=this.pattern,v=this.topRadius,b=this.bcn,T=l,E=l;"object"==typeof l&&(T=l[0],E=l[l.length-1]);var C,y,D,I,O,R,x,w,k,_=d;g&&(d=0);var S,N,K,A,M=this.rotate;if(0<Math.abs(r)||0<Math.abs(s))if(isNaN(v))x=E,E=t.adjustLuminosity(T,-.2),E=t.adjustLuminosity(T,-.2),C=t.polygon(i,[0,r,o+r,o,0],[0,s,s,0,0],E,d,1,h,0,f),0<u&&(k=t.line(i,[0,r,o+r],[0,s,s],h,u,c,m)),y=t.polygon(i,[0,0,o,o,0],[0,a,a,0,0],E,d,1,h,0,f),y.translate(r,s),0<u&&(D=t.line(i,[r,r],[s,s+a],h,u,c,m)),I=t.polygon(i,[0,0,r,r,0],[0,a,a+s,s,0],E,d,1,h,0,f),O=t.polygon(i,[o,o,o+r,o+r,o],[0,a,a+s,s,0],E,d,1,h,0,f),0<u&&(R=t.line(i,[o,o+r,o+r,o],[0,s,a+s,a],h,u,c,m)),E=t.adjustLuminosity(x,.2),x=t.polygon(i,[0,r,o+r,o,0],[a,a+s,a+s,a,a],E,d,1,h,0,f),0<u&&(w=t.line(i,[0,r,o+r],[a,a+s,a+s],h,u,c,m));else{var L,F,P;M?(L=a/2,E=r/2,P=a/2,F=o+r/2,N=Math.abs(a/2),S=Math.abs(r/2)):(E=o/2,L=s/2,F=o/2,P=a+s/2+1,S=Math.abs(o/2),N=Math.abs(s/2)),K=S*v,A=N*v,.1<S&&.1<S&&(C=t.circle(i,S,T,d,c,h,u,!1,N),C.translate(E,L)),.1<K&&.1<K&&(x=t.circle(i,K,t.adjustLuminosity(T,.5),d,c,h,u,!1,A),x.translate(F,P))}for(d=_,1>Math.abs(a)&&(a=0),1>Math.abs(o)&&(o=0),!isNaN(v)&&(0<Math.abs(r)||0<Math.abs(s))?(l=[T],l={fill:l,stroke:h,"stroke-width":c,"stroke-opacity":u,"fill-opacity":d},M?(d="M0,0 L"+o+","+(a/2-a/2*v),c=" B",0<o&&(c=" A"),t.VML?(d+=c+Math.round(o-K)+","+Math.round(a/2-A)+","+Math.round(o+K)+","+Math.round(a/2+A)+","+o+",0,"+o+","+a,d=d+" L0,"+a+(c+Math.round(-S))+","+Math.round(a/2-N)+","+Math.round(S)+","+Math.round(a/2+N)+",0,"+a+",0,0"):(d+="A"+K+","+A+",0,0,0,"+o+","+(a-a/2*(1-v))+"L0,"+a,d+="A"+S+","+N+",0,0,1,0,0"),S=90):(c=o/2-o/2*v,d="M0,0 L"+c+","+a,t.VML?(d="M0,0 L"+c+","+a,c=" B",0>a&&(c=" A"),d+=c+Math.round(o/2-K)+","+Math.round(a-A)+","+Math.round(o/2+K)+","+Math.round(a+A)+",0,"+a+","+o+","+a,d+=" L"+o+",0",d+=c+Math.round(o/2+S)+","+Math.round(N)+","+Math.round(o/2-S)+","+Math.round(-N)+","+o+",0,0,0"):(d+="A"+K+","+A+",0,0,0,"+(o-o/2*(1-v))+","+a+"L"+o+",0",d+="A"+S+","+N+",0,0,1,0,0"),S=180),i=i.path(d).attr(l),i.gradient("linearGradient",[T,t.adjustLuminosity(T,-.3),t.adjustLuminosity(T,-.3),T],S),M?i.translate(r/2,0):i.translate(0,s/2)):i=0===a?t.line(i,[0,o],[0,0],h,u,c,m):0===o?t.line(i,[0,0],[0,a],h,u,c,m):0<p?t.rect(i,o,a,l,d,c,h,u,p,f,m):t.polygon(i,[0,0,o,o,0],[0,a,a,0,0],l,d,c,h,u,f,!1,m),o=isNaN(v)?0>a?[C,k,y,D,I,O,R,x,w,i]:[x,w,y,D,I,O,C,k,R,i]:M?0<o?[C,i,x]:[x,i,C]:0>a?[C,i,x]:[x,i,C],t.setCN(n,i,b+"front"),t.setCN(n,y,b+"back"),t.setCN(n,x,b+"top"),t.setCN(n,C,b+"bottom"),t.setCN(n,I,b+"left"),t.setCN(n,O,b+"right"),C=0;C<o.length;C++)(y=o[C])&&(e.push(y),t.setCN(n,y,b+"element"));g&&i.pattern(g,NaN,n.path)},width:function(t){isNaN(t)&&(t=0),this.w=Math.round(t),this.draw()},height:function(t){isNaN(t)&&(t=0),this.h=Math.round(t),this.draw()},animateHeight:function(e,i){var n=this;n.animationFinished=!1,n.easing=i,n.totalFrames=e*t.updateRate,n.rh=n.h,n.frame=0,n.height(1),setTimeout(function(){n.updateHeight.call(n)},1e3/t.updateRate)},updateHeight:function(){var e=this;e.frame++;var i=e.totalFrames;e.frame<=i?(i=e.easing(0,e.frame,1,e.rh-1,i),e.height(i),window.requestAnimationFrame?window.requestAnimationFrame(function(){e.updateHeight.call(e)}):setTimeout(function(){e.updateHeight.call(e)},1e3/t.updateRate)):(e.height(e.rh),e.animationFinished=!0)},animateWidth:function(e,i){var n=this;n.animationFinished=!1,n.easing=i,n.totalFrames=e*t.updateRate,n.rw=n.w,n.frame=0,n.width(1),setTimeout(function(){n.updateWidth.call(n)},1e3/t.updateRate)},updateWidth:function(){var e=this;e.frame++;var i=e.totalFrames;e.frame<=i?(i=e.easing(0,e.frame,1,e.rw-1,i),e.width(i),window.requestAnimationFrame?window.requestAnimationFrame(function(){e.updateWidth.call(e)}):setTimeout(function(){e.updateWidth.call(e)},1e3/t.updateRate)):(e.width(e.rw),e.animationFinished=!0)}})}(),function(){var t=window.AmCharts;t.CategoryAxis=t.Class({inherits:t.AxisBase,construct:function(e){this.cname="CategoryAxis",t.CategoryAxis.base.construct.call(this,e),this.minPeriod="DD",this.equalSpacing=this.parseDates=!1,this.position="bottom",this.startOnAxis=!1,this.gridPosition="middle",this.safeDistance=30,this.stickBalloonToCategory=!1,t.applyTheme(this,e,this.cname)},draw:function(){t.CategoryAxis.base.draw.call(this),this.generateDFObject();var e=this.chart.chartData;if(this.data=e,this.labelRotationR=this.labelRotation,this.type=null,t.ifArray(e)){var i,n=this.chart;"scrollbar"!=this.id?(t.setCN(n,this.set,"category-axis"),t.setCN(n,this.labelsSet,"category-axis"),t.setCN(n,this.axisLine.axisSet,"category-axis")):this.bcn=this.id+"-";var o,a,r,s,l,d,c=this.start,h=this.labelFrequency,u=0,f=this.end-c+1,p=this.gridCountR,m=this.showFirstLabel,g=this.showLastLabel,v="",v=t.extractPeriod(this.minPeriod),b=t.getPeriodDuration(v.period,v.count),T=this.rotate,E=this.firstDayOfWeek,C=this.boldPeriodBeginning;i=t.resetDateToMin(new Date(e[e.length-1].time+1.05*b),this.minPeriod,1,E).getTime(),this.firstTime=n.firstTime,this.endTime>i&&(this.endTime=i),d=this.minorGridEnabled,r=this.gridAlpha;var y=0,D=0;if(this.widthField)for(i=this.start;i<=this.end;i++)if(l=this.data[i]){var I=Number(this.data[i].dataContext[this.widthField]);isNaN(I)||(y+=I,l.widthValue=I)}if(this.parseDates&&!this.equalSpacing)this.lastTime=e[e.length-1].time,this.maxTime=t.resetDateToMin(new Date(this.lastTime+1.05*b),this.minPeriod,1,E).getTime(),this.timeDifference=this.endTime-this.startTime,this.parseDatesDraw();else if(this.parseDates){if(this.parseDates&&this.equalSpacing){if(u=this.start,this.startTime=this.data[this.start].time,this.endTime=this.data[this.end].time,this.timeDifference=this.endTime-this.startTime,i=this.choosePeriod(0),h=i.period,a=i.count,i=t.getPeriodDuration(h,a),i<b&&(h=v.period,a=v.count,i=b),r=h,"WW"==r&&(r="DD"),this.currentDateFormat=this.dateFormatsObject[r],this.stepWidth=this.getStepWidth(f),p=Math.ceil(this.timeDifference/i)+1,v=t.resetDateToMin(new Date(this.startTime-i),h,a,E).getTime(),this.cellWidth=this.getStepWidth(f),f=Math.round(v/i),c=-1,f/2==Math.round(f/2)&&(c=-2,v-=i),f=this.start,f/2==Math.round(f/2)&&f--,0>f&&(f=0),D=this.end+2,D>=this.data.length&&(D=this.data.length),e=!1,e=!m,this.previousPos=-1e3,20<this.labelRotationR&&(this.safeDistance=5),I=f,this.data[f].time!=t.resetDateToMin(new Date(this.data[f].time),h,a,E).getTime()){var b=0,O=v;for(i=f;i<D;i++)l=this.data[i].time,this.checkPeriodChange(h,a,l,O)&&(b++,2<=b&&(I=i,i=D),O=l)}if(d&&1<a&&(l=this.chooseMinorFrequency(a),t.getPeriodDuration(h,l)),0<this.gridCountR)for(i=f;i<D;i++)l=this.data[i].time,this.checkPeriodChange(h,a,l,v)&&i>=I&&(f=this.getCoordinate(i-this.start),d=!1,this.nextPeriod[r]&&(d=this.checkPeriodChange(this.nextPeriod[r],1,l,v,r))&&t.resetDateToMin(new Date(l),this.nextPeriod[r],1,E).getTime()!=l&&(d=!1),b=!1,d&&this.markPeriodChange?(d=this.dateFormatsObject[this.nextPeriod[r]],b=!0):d=this.dateFormatsObject[r],v=t.formatDate(new Date(l),d,n),(i==c&&!m||i==p&&!g)&&(v=" "),e?e=!1:(C||(b=!1),f-this.previousPos>this.safeDistance*Math.cos(this.labelRotationR*Math.PI/180)&&(this.labelFunction&&(v=this.labelFunction(v,new Date(l),this,h,a,s)),this.boldLabels&&(b=!0),o=new this.axisItemRenderer(this,f,v,void 0,void 0,void 0,void 0,b),d=o.graphics(),this.pushAxisItem(o),d=d.getBBox().width,t.isModern||(d-=f),this.previousPos=f+d)),s=v=l)}}else if(this.cellWidth=this.getStepWidth(f),f<p&&(p=f),u+=this.start,this.stepWidth=this.getStepWidth(f),0<p)for(E=Math.floor(f/p),l=this.chooseMinorFrequency(E),f=u,f/2==Math.round(f/2)&&f--,0>f&&(f=0),C=0,this.widthField&&(f=this.start,E=1),this.end-f+1>=this.autoRotateCount&&(this.labelRotationR=this.autoRotateAngle),i=f;i<=this.end+2;i++){if(p=!1,0<=i&&i<this.data.length?(a=this.data[i],v=a.category,p=a.forceShow):v="",d&&!isNaN(l)){if(i/l!=Math.round(i/l)&&!p)continue;i/E==Math.round(i/E)||p||(this.gridAlpha=this.minorGridAlpha,v=void 0)}else if(i/E!=Math.round(i/E)&&!p)continue;f=this.getCoordinate(i-u),p=0,"start"==this.gridPosition&&(f-=this.cellWidth/2,p=this.cellWidth/2),o=!0,s=p,"start"==this.tickPosition&&(s=0,o=!1,p=0),(i==c&&!m||i==this.end&&!g)&&(v=void 0),Math.round(C/h)!=C/h&&(v=void 0),C++,e=this.cellWidth,T&&(e=NaN,this.ignoreAxisWidth||!n.autoMargins)&&(e="right"==this.position?n.marginRight-this.titleWidth:n.marginLeft-this.titleWidth,e-=this.tickLength+10),this.labelFunction&&a&&(v=this.labelFunction(v,a,this)),v=t.fixBrakes(v),b=!1,this.boldLabels&&(b=!0),i>this.end&&"start"==this.tickPosition&&(v=" "),this.rotate&&this.inside&&(p-=2),isNaN(a.widthValue)||(a.percentWidthValue=a.widthValue/y*100,e=this.rotate?this.height*a.widthValue/y:this.width*a.widthValue/y,f=D,D+=e,s=p=e/2),o=new this.axisItemRenderer(this,f,v,o,e,p,void 0,b,s,!1,a.labelColor,a.className),o.serialDataItem=a,this.pushAxisItem(o),this.gridAlpha=r}for(i=m=0;i<this.data.length;i++)(l=this.data[i])&&(this.parseDates&&!this.equalSpacing?(g=l.time,c=this.cellWidth,"MM"==this.minPeriod&&(c=864e5*t.daysInMonth(new Date(g))*this.stepWidth,l.cellWidth=c),g=Math.round((g-this.startTime)*this.stepWidth+c/2)):g=this.getCoordinate(i-u),l.x[this.id]=g);if(this.widthField)for(i=this.start;i<=this.end;i++)l=this.data[i],c=l.widthValue,l.percentWidthValue=c/y*100,this.rotate?(g=this.height*c/y/2+m,m=this.height*c/y+m):(g=this.width*c/y/2+m,m=this.width*c/y+m),l.x[this.id]=g;for(y=this.guides.length,i=0;i<y;i++)m=this.guides[i],E=E=E=d=c=NaN,g=m.above,m.toCategory&&(E=n.getCategoryIndexByValue(m.toCategory),isNaN(E)||(c=this.getCoordinate(E-u),m.expand&&(c+=this.cellWidth/2),o=new this.axisItemRenderer(this,c,"",!0,NaN,NaN,m),this.pushAxisItem(o,g))),m.category&&(E=n.getCategoryIndexByValue(m.category),isNaN(E)||(d=this.getCoordinate(E-u),m.expand&&(d-=this.cellWidth/2),E=(c-d)/2,o=new this.axisItemRenderer(this,d,m.label,!0,NaN,E,m),this.pushAxisItem(o,g))),C=n.dataDateFormat,m.toDate&&(!C||m.toDate instanceof Date||(m.toDate=m.toDate.toString()+" |"),m.toDate=t.getDate(m.toDate,C),this.equalSpacing?(E=n.getClosestIndex(this.data,"time",m.toDate.getTime(),!1,0,this.data.length-1),isNaN(E)||(c=this.getCoordinate(E-u))):c=(m.toDate.getTime()-this.startTime)*this.stepWidth,o=new this.axisItemRenderer(this,c,"",!0,NaN,NaN,m),this.pushAxisItem(o,g)),m.date&&(!C||m.date instanceof Date||(m.date=m.date.toString()+" |"),m.date=t.getDate(m.date,C),this.equalSpacing?(E=n.getClosestIndex(this.data,"time",m.date.getTime(),!1,0,this.data.length-1),isNaN(E)||(d=this.getCoordinate(E-u))):d=(m.date.getTime()-this.startTime)*this.stepWidth,E=(c-d)/2,o=!0,m.toDate&&(o=!1),o="H"==this.orientation?new this.axisItemRenderer(this,d,m.label,o,2*E,NaN,m):new this.axisItemRenderer(this,d,m.label,!1,NaN,E,m),this.pushAxisItem(o,g)),o&&(E=o.label)&&this.addEventListeners(E,m),(0<c||0<d)&&(E=!1,this.rotate?(c<this.height||d<this.height)&&(E=!0):(c<this.width||d<this.width)&&(E=!0),E&&(c=new this.guideFillRenderer(this,d,c,m),d=c.graphics(),this.pushAxisItem(c,g),m.graphics=d,d.index=i,this.addEventListeners(d,m)));(n=n.chartCursor)&&(T?n.fixHeight(this.cellWidth):(n.fixWidth(this.cellWidth),n.fullWidth&&this.balloon&&(this.balloon.minWidth=this.cellWidth))),this.previousHeight=R}this.axisCreated=!0,this.set.translate(this.x,this.y),this.labelsSet.translate(this.x,this.y),this.labelsSet.show(),this.positionTitle(),(T=this.axisLine.set)&&T.toFront();var R=this.getBBox().height;2<R-this.previousHeight&&this.autoWrap&&!this.parseDates&&(this.axisCreated=this.chart.marginsUpdated=!1)},xToIndex:function(e){var i,n=this.data,o=this.chart,a=o.rotate,r=this.stepWidth;if(this.parseDates&&!this.equalSpacing)e=this.startTime+Math.round(e/r)-this.minDuration()/2,i=o.getClosestIndex(n,"time",e,!1,this.start,this.end+1);else if(this.widthField)for(o=Infinity,r=this.start;r<=this.end;r++){var s=this.data[r];s&&(s=Math.abs(s.x[this.id]-e))<o&&(o=s,i=r)
}else this.startOnAxis||(e-=r/2),i=this.start+Math.round(e/r);i=t.fitToBounds(i,0,n.length-1);var l;return n[i]&&(l=n[i].x[this.id]),a?l>this.height+1&&i--:l>this.width+1&&i--,0>l&&i++,i=t.fitToBounds(i,0,n.length-1)},dateToCoordinate:function(t){return this.parseDates&&!this.equalSpacing?(t.getTime()-this.startTime)*this.stepWidth:this.parseDates&&this.equalSpacing?(t=this.chart.getClosestIndex(this.data,"time",t.getTime(),!1,0,this.data.length-1),this.getCoordinate(t-this.start)):NaN},categoryToCoordinate:function(t){return this.chart?this.parseDates?this.dateToCoordinate(new Date(t)):(t=this.chart.getCategoryIndexByValue(t),isNaN(t)?void 0:this.getCoordinate(t-this.start)):NaN},coordinateToDate:function(t){return this.equalSpacing?(t=this.xToIndex(t),new Date(this.data[t].time)):new Date(this.startTime+t/this.stepWidth)},coordinateToValue:function(t){if(t=this.xToIndex(t),t=this.data[t])return this.parseDates?t.time:t.category},getCoordinate:function(t){return t*=this.stepWidth,this.startOnAxis||(t+=this.stepWidth/2),Math.round(t)},formatValue:function(e,i){return i||(i=this.currentDateFormat),this.parseDates&&(e=t.formatDate(new Date(e),i,this.chart)),e},showBalloonAt:function(t,e){return void 0===e&&(e=this.parseDates?this.dateToCoordinate(new Date(t)):this.categoryToCoordinate(t)),this.adjustBalloonCoordinate(e)},formatBalloonText:function(e,i,n){var o="",a="",r=this.chart,s=this.data[i];if(s)if(this.parseDates)o=t.formatDate(s.category,n,r),i=t.changeDate(new Date(s.category),this.minPeriod,1),a=t.formatDate(i,n,r),-1!=o.indexOf("fff")&&(o=t.formatMilliseconds(o,s.category),a=t.formatMilliseconds(a,i));else{var l;this.data[i+1]&&(l=this.data[i+1]),o=t.fixNewLines(s.category),l&&(a=t.fixNewLines(l.category))}return e=e.replace(/\[\[category\]\]/g,String(o)),e=e.replace(/\[\[toCategory\]\]/g,String(a))},adjustBalloonCoordinate:function(t,e){var i=this.xToIndex(t),n=this.chart.chartCursor;if(this.stickBalloonToCategory){var o=this.data[i];o&&(t=o.x[this.id]),this.stickBalloonToStart&&(t-=this.cellWidth/2);var a=0;if(n){var r=n.limitToGraph;if(r){var s=r.valueAxis.id;r.hidden||(a=o.axes[s].graphs[r.id].y)}this.rotate?("left"==this.position?(r&&(a-=n.width),0<a&&(a=0)):0>a&&(a=0),n.fixHLine(t,a)):("top"==this.position?(r&&(a-=n.height),0<a&&(a=0)):0>a&&(a=0),n.fullWidth&&(t+=1),n.fixVLine(t,a))}}return n&&!e&&(n.setIndex(i),this.parseDates&&n.setTimestamp(this.coordinateToDate(t).getTime())),t}})}(),function(){if(!window.CKEDITOR||!window.CKEDITOR.dom){window.CKEDITOR||(window.CKEDITOR=function(){var t=/(^|.*[\\\/])ckeditor\.js(?:\?.*|;.*)?$/i,e={timestamp:"HBDD",version:"4.8.0",revision:"230f715",rnd:Math.floor(900*Math.random())+100,_:{pending:[],basePathSrcPattern:t},status:"unloaded",basePath:function(){var e=window.CKEDITOR_BASEPATH||"";if(!e)for(var i=document.getElementsByTagName("script"),n=0;n<i.length;n++){var o=i[n].src.match(t);if(o){e=o[1];break}}if(-1==e.indexOf(":/")&&"//"!=e.slice(0,2)&&(e=0===e.indexOf("/")?location.href.match(/^.*?:\/\/[^\/]*/)[0]:location.origin+"/ckeditor/"),!e)throw'The CKEditor installation path could not be automatically detected. Please set the global variable "CKEDITOR_BASEPATH" before creating editor instances.';return e}(),getUrl:function(t){return-1==t.indexOf(":/")&&0!==t.indexOf("/")&&(t=this.basePath+t),this.timestamp&&"/"!=t.charAt(t.length-1)&&!/[&?]t=/.test(t)&&(t+=(0<=t.indexOf("?")?"&":"?")+"t="+this.timestamp),t},domReady:function(){function t(){try{document.addEventListener?(document.removeEventListener("DOMContentLoaded",t,!1),e()):document.attachEvent&&"complete"===document.readyState&&(document.detachEvent("onreadystatechange",t),e())}catch(t){}}function e(){for(var t;t=i.shift();)t()}var i=[];return function(e){function n(){try{document.documentElement.doScroll("left")}catch(t){return void setTimeout(n,1)}t()}if(i.push(e),"complete"===document.readyState&&setTimeout(t,1),1==i.length)if(document.addEventListener)document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1);else if(document.attachEvent){document.attachEvent("onreadystatechange",t),window.attachEvent("onload",t),e=!1;try{e=!window.frameElement}catch(t){}document.documentElement.doScroll&&e&&n()}}}()},i=window.CKEDITOR_GETURL;if(i){var n=e.getUrl;e.getUrl=function(t){return i.call(e,t)||n.call(e,t)}}return e}()),CKEDITOR.event||(CKEDITOR.event=function(){},CKEDITOR.event.implementOn=function(t){var e,i=CKEDITOR.event.prototype;for(e in i)null==t[e]&&(t[e]=i[e])},CKEDITOR.event.prototype=function(){function t(t){var n=e(this);return n[t]||(n[t]=new i(t))}var e=function(t){return t=t.getPrivate&&t.getPrivate()||t._||(t._={}),t.events||(t.events={})},i=function(t){this.name=t,this.listeners=[]};return i.prototype={getListenerIndex:function(t){for(var e=0,i=this.listeners;e<i.length;e++)if(i[e].fn==t)return e;return-1}},{define:function(e,i){var n=t.call(this,e);CKEDITOR.tools.extend(n,i,!0)},on:function(e,i,n,o,a){function r(t,a,r,l){return t={name:e,sender:this,editor:t,data:a,listenerData:o,stop:r,cancel:l,removeListener:s},!1!==i.call(n,t)&&t.data}function s(){d.removeListener(e,i)}var l=t.call(this,e);if(0>l.getListenerIndex(i)){l=l.listeners,n||(n=this),isNaN(a)&&(a=10);var d=this;r.fn=i,r.priority=a;for(var c=l.length-1;0<=c;c--)if(l[c].priority<=a)return l.splice(c+1,0,r),{removeListener:s};l.unshift(r)}return{removeListener:s}},once:function(){var t=Array.prototype.slice.call(arguments),e=t[1];return t[1]=function(t){return t.removeListener(),e.apply(this,arguments)},this.on.apply(this,t)},capture:function(){CKEDITOR.event.useCapture=1;var t=this.on.apply(this,arguments);return CKEDITOR.event.useCapture=0,t},fire:function(){var t=0,i=function(){t=1},n=0,o=function(){n=1};return function(a,r,s){var l=e(this)[a];a=t;var d=n;if(t=n=0,l){var c=l.listeners;if(c.length)for(var h,c=c.slice(0),u=0;u<c.length;u++){if(l.errorProof)try{h=c[u].call(this,s,r,i,o)}catch(t){}else h=c[u].call(this,s,r,i,o);if(!1===h?n=1:void 0!==h&&(r=h),t||n)break}}return r=!n&&(void 0===r||r),t=a,n=d,r}}(),fireOnce:function(t,i,n){return i=this.fire(t,i,n),delete e(this)[t],i},removeListener:function(t,i){var n=e(this)[t];if(n){var o=n.getListenerIndex(i);0<=o&&n.listeners.splice(o,1)}},removeAllListeners:function(){var t,i=e(this);for(t in i)delete i[t]},hasListeners:function(t){return(t=e(this)[t])&&0<t.listeners.length}}}()),CKEDITOR.editor||(CKEDITOR.editor=function(){CKEDITOR._.pending.push([this,arguments]),CKEDITOR.event.call(this)},CKEDITOR.editor.prototype.fire=function(t,e){return t in{instanceReady:1,loaded:1}&&(this[t]=!0),CKEDITOR.event.prototype.fire.call(this,t,e,this)},CKEDITOR.editor.prototype.fireOnce=function(t,e){return t in{instanceReady:1,loaded:1}&&(this[t]=!0),CKEDITOR.event.prototype.fireOnce.call(this,t,e,this)},CKEDITOR.event.implementOn(CKEDITOR.editor.prototype)),CKEDITOR.env||(CKEDITOR.env=function(){var t=navigator.userAgent.toLowerCase(),e=t.match(/edge[ \/](\d+.?\d*)/),i=-1<t.indexOf("trident/"),i=!(!e&&!i),i={ie:i,edge:!!e,webkit:!i&&-1<t.indexOf(" applewebkit/"),air:-1<t.indexOf(" adobeair/"),mac:-1<t.indexOf("macintosh"),quirks:"BackCompat"==document.compatMode&&(!document.documentMode||10>document.documentMode),mobile:-1<t.indexOf("mobile"),iOS:/(ipad|iphone|ipod)/.test(t),isCustomDomain:function(){if(!this.ie)return!1;var t=document.domain,e=window.location.hostname;return t!=e&&t!="["+e+"]"},secure:"https:"==location.protocol};i.gecko="Gecko"==navigator.product&&!i.webkit&&!i.ie,i.webkit&&(-1<t.indexOf("chrome")?i.chrome=!0:i.safari=!0);var n=0;return i.ie&&(n=e?parseFloat(e[1]):i.quirks||!document.documentMode?parseFloat(t.match(/msie (\d+)/)[1]):document.documentMode,i.ie9Compat=9==n,i.ie8Compat=8==n,i.ie7Compat=7==n,i.ie6Compat=7>n||i.quirks),i.gecko&&(e=t.match(/rv:([\d\.]+)/))&&(e=e[1].split("."),n=1e4*e[0]+100*(e[1]||0)+1*(e[2]||0)),i.air&&(n=parseFloat(t.match(/ adobeair\/(\d+)/)[1])),i.webkit&&(n=parseFloat(t.match(/ applewebkit\/(\d+)/)[1])),i.version=n,i.isCompatible=!(i.ie&&7>n||i.gecko&&4e4>n||i.webkit&&534>n),i.hidpi=2<=window.devicePixelRatio,i.needsBrFiller=i.gecko||i.webkit||i.ie&&10<n,i.needsNbspFiller=i.ie&&11>n,i.cssClass="cke_browser_"+(i.ie?"ie":i.gecko?"gecko":i.webkit?"webkit":"unknown"),i.quirks&&(i.cssClass+=" cke_browser_quirks"),i.ie&&(i.cssClass+=" cke_browser_ie"+(i.quirks?"6 cke_browser_iequirks":i.version)),i.air&&(i.cssClass+=" cke_browser_air"),i.iOS&&(i.cssClass+=" cke_browser_ios"),i.hidpi&&(i.cssClass+=" cke_hidpi"),i}()),"unloaded"==CKEDITOR.status&&function(){CKEDITOR.event.implementOn(CKEDITOR),CKEDITOR.loadFullCore=function(){if("basic_ready"!=CKEDITOR.status)CKEDITOR.loadFullCore._load=1;else{delete CKEDITOR.loadFullCore;var t=document.createElement("script");t.type="text/javascript",t.src=CKEDITOR.basePath+"ckeditor.js",document.getElementsByTagName("head")[0].appendChild(t)}},CKEDITOR.loadFullCoreTimeout=0,CKEDITOR.add=function(t){(this._.pending||(this._.pending=[])).push(t)},function(){CKEDITOR.domReady(function(){var t=CKEDITOR.loadFullCore,e=CKEDITOR.loadFullCoreTimeout;t&&(CKEDITOR.status="basic_ready",t&&t._load?t():e&&setTimeout(function(){CKEDITOR.loadFullCore&&CKEDITOR.loadFullCore()},1e3*e))})}(),CKEDITOR.status="basic_loaded"}(),CKEDITOR.VERBOSITY_WARN=1,CKEDITOR.VERBOSITY_ERROR=2,CKEDITOR.verbosity=CKEDITOR.VERBOSITY_WARN|CKEDITOR.VERBOSITY_ERROR,CKEDITOR.warn=function(t,e){CKEDITOR.verbosity&CKEDITOR.VERBOSITY_WARN&&CKEDITOR.fire("log",{type:"warn",errorCode:t,additionalData:e})},CKEDITOR.error=function(t,e){CKEDITOR.verbosity&CKEDITOR.VERBOSITY_ERROR&&CKEDITOR.fire("log",{type:"error",errorCode:t,additionalData:e})},CKEDITOR.on("log",function(t){if(window.console&&window.console.log){var e=console[t.data.type]?t.data.type:"log",i=t.data.errorCode;(t=t.data.additionalData)?console[e]("[CKEDITOR] Error code: "+i+".",t):console[e]("[CKEDITOR] Error code: "+i+"."),console[e]("[CKEDITOR] For more information about this error go to https://docs.ckeditor.com/ckeditor4/docs/#!/guide/dev_errors-section-"+i)}},null,null,999),CKEDITOR.dom={},function(){var t=[],e=CKEDITOR.env.gecko?"-moz-":CKEDITOR.env.webkit?"-webkit-":CKEDITOR.env.ie?"-ms-":"",i=/&/g,n=/>/g,o=/</g,a=/"/g,r=/&(lt|gt|amp|quot|nbsp|shy|#\d{1,5});/g,s={lt:"<",gt:">",amp:"&",quot:'"',nbsp:"\xa0",shy:"\xad"},l=function(t,e){return"#"==e[0]?String.fromCharCode(parseInt(e.slice(1),10)):s[e]};CKEDITOR.on("reset",function(){t=[]}),CKEDITOR.tools={arrayCompare:function(t,e){if(!t&&!e)return!0;if(!t||!e||t.length!=e.length)return!1;for(var i=0;i<t.length;i++)if(t[i]!=e[i])return!1;return!0},getIndex:function(t,e){for(var i=0;i<t.length;++i)if(e(t[i]))return i;return-1},clone:function(t){var e;if(t&&t instanceof Array){e=[];for(var i=0;i<t.length;i++)e[i]=CKEDITOR.tools.clone(t[i]);return e}if(null===t||"object"!=typeof t||t instanceof String||t instanceof Number||t instanceof Boolean||t instanceof Date||t instanceof RegExp||t.nodeType||t.window===t)return t;e=new t.constructor;for(i in t)e[i]=CKEDITOR.tools.clone(t[i]);return e},capitalize:function(t,e){return t.charAt(0).toUpperCase()+(e?t.slice(1):t.slice(1).toLowerCase())},extend:function(t){var e,i,n=arguments.length;"boolean"==typeof(e=arguments[n-1])?n--:"boolean"==typeof(e=arguments[n-2])&&(i=arguments[n-1],n-=2);for(var o=1;o<n;o++){var a,r=arguments[o];for(a in r)!0!==e&&null!=t[a]||(!i||a in i)&&(t[a]=r[a])}return t},prototypedCopy:function(t){var e=function(){};return e.prototype=t,new e},copy:function(t){var e,i={};for(e in t)i[e]=t[e];return i},isArray:function(t){return"[object Array]"==Object.prototype.toString.call(t)},isEmpty:function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0},cssVendorPrefix:function(t,i,n){return n?e+t+":"+i+";"+t+":"+i:(n={},n[t]=i,n[e+t]=i,n)},cssStyleToDomStyle:function(){var t=document.createElement("div").style,e="undefined"!=typeof t.cssFloat?"cssFloat":"undefined"!=typeof t.styleFloat?"styleFloat":"float";return function(t){return"float"==t?e:t.replace(/-./g,function(t){return t.substr(1).toUpperCase()})}}(),buildStyleHtml:function(t){t=[].concat(t);for(var e,i=[],n=0;n<t.length;n++)(e=t[n])&&(/@import|[{}]/.test(e)?i.push("<style>"+e+"</style>"):i.push('<link type="text/css" rel=stylesheet href="'+e+'">'));return i.join("")},htmlEncode:function(t){return void 0===t||null===t?"":String(t).replace(i,"&amp;").replace(n,"&gt;").replace(o,"&lt;")},htmlDecode:function(t){return t.replace(r,l)},htmlEncodeAttr:function(t){return CKEDITOR.tools.htmlEncode(t).replace(a,"&quot;")},htmlDecodeAttr:function(t){return CKEDITOR.tools.htmlDecode(t)},transformPlainTextToHtml:function(t,e){var i=e==CKEDITOR.ENTER_BR,n=this.htmlEncode(t.replace(/\r\n/g,"\n")),n=n.replace(/\t/g,"&nbsp;&nbsp; &nbsp;"),o=e==CKEDITOR.ENTER_P?"p":"div";if(!i){var a=/\n{2}/g;if(a.test(n))var r="<"+o+">",s="</"+o+">",n=r+n.replace(a,function(){return s+r})+s}return n=n.replace(/\n/g,"<br>"),i||(n=n.replace(new RegExp("<br>(?=</"+o+">)"),function(t){return CKEDITOR.tools.repeat(t,2)})),n=n.replace(/^ | $/g,"&nbsp;"),n=n.replace(/(>|\s) /g,function(t,e){return e+"&nbsp;"}).replace(/ (?=<)/g,"&nbsp;")},getNextNumber:function(){var t=0;return function(){return++t}}(),getNextId:function(){return"cke_"+this.getNextNumber()},getUniqueId:function(){for(var t="e",e=0;8>e;e++)t+=Math.floor(65536*(1+Math.random())).toString(16).substring(1);return t},override:function(t,e){var i=e(t);return i.prototype=t.prototype,i},setTimeout:function(t,e,i,n,o){return o||(o=window),i||(i=o),o.setTimeout(function(){n?t.apply(i,[].concat(n)):t.apply(i)},e||0)},trim:function(){var t=/(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g;return function(e){return e.replace(t,"")}}(),ltrim:function(){var t=/^[ \t\n\r]+/g;return function(e){return e.replace(t,"")}}(),rtrim:function(){var t=/[ \t\n\r]+$/g;return function(e){return e.replace(t,"")}}(),indexOf:function(t,e){if("function"==typeof e){for(var i=0,n=t.length;i<n;i++)if(e(t[i]))return i}else{if(t.indexOf)return t.indexOf(e);for(i=0,n=t.length;i<n;i++)if(t[i]===e)return i}return-1},search:function(t,e){var i=CKEDITOR.tools.indexOf(t,e);return 0<=i?t[i]:null},bind:function(t,e){return function(){return t.apply(e,arguments)}},createClass:function(t){var e=t.$,i=t.base,n=t.privates||t._,o=t.proto;if(t=t.statics,!e&&(e=function(){i&&this.base.apply(this,arguments)}),n)var a=e,e=function(){var t,e=this._||(this._={});for(t in n){var i=n[t];e[t]="function"==typeof i?CKEDITOR.tools.bind(i,this):i}a.apply(this,arguments)};return i&&(e.prototype=this.prototypedCopy(i.prototype),e.prototype.constructor=e,e.base=i,e.baseProto=i.prototype,e.prototype.base=function(){this.base=i.prototype.base,i.apply(this,arguments),this.base=arguments.callee}),o&&this.extend(e.prototype,o,!0),t&&this.extend(e,t,!0),e},addFunction:function(e,i){return t.push(function(){return e.apply(i||this,arguments)})-1},removeFunction:function(e){t[e]=null},callFunction:function(e){var i=t[e];return i&&i.apply(window,Array.prototype.slice.call(arguments,1))},cssLength:function(){var t,e=/^-?\d+\.?\d*px$/;return function(i){return t=CKEDITOR.tools.trim(i+"")+"px",e.test(t)?t:i||""}}(),convertToPx:function(){var t;return function(e){return t||(t=CKEDITOR.dom.element.createFromHtml('<div style="position:absolute;left:-9999px;top:-9999px;margin:0px;padding:0px;border:0px;"></div>',CKEDITOR.document),CKEDITOR.document.getBody().append(t)),/%$/.test(e)?e:(t.setStyle("width",e),t.$.clientWidth)}}(),repeat:function(t,e){return Array(e+1).join(t)},tryThese:function(){for(var t,e=0,i=arguments.length;e<i;e++){var n=arguments[e];try{t=n();break}catch(t){}}return t},genKey:function(){return Array.prototype.slice.call(arguments).join("-")},defer:function(t){return function(){var e=arguments,i=this;window.setTimeout(function(){t.apply(i,e)},0)}},normalizeCssText:function(t,e){var i,n=[],o=CKEDITOR.tools.parseCssText(t,!0,e);for(i in o)n.push(i+":"+o[i]);return n.sort(),n.length?n.join(";")+";":""},convertRgbToHex:function(t){return t.replace(/(?:rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\))/gi,function(t,e,i,n){for(t=[e,i,n],e=0;3>e;e++)t[e]=("0"+parseInt(t[e],10).toString(16)).slice(-2);return"#"+t.join("")})},normalizeHex:function(t){return t.replace(/#(([0-9a-f]{3}){1,2})($|;|\s+)/gi,function(t,e,i,n){return t=e.toLowerCase(),3==t.length&&(t=t.split(""),t=[t[0],t[0],t[1],t[1],t[2],t[2]].join("")),"#"+t+n})},parseCssText:function(t,e,i){var n={};return i&&(t=new CKEDITOR.dom.element("span").setAttribute("style",t).getAttribute("style")||""),t&&(t=CKEDITOR.tools.normalizeHex(CKEDITOR.tools.convertRgbToHex(t))),t&&";"!=t?(t.replace(/&quot;/g,'"').replace(/\s*([^:;\s]+)\s*:\s*([^;]+)\s*(?=;|$)/g,function(t,i,o){e&&(i=i.toLowerCase(),"font-family"==i&&(o=o.replace(/\s*,\s*/g,",")),o=CKEDITOR.tools.trim(o)),n[i]=o}),n):n},writeCssText:function(t,e){var i,n=[];for(i in t)n.push(i+":"+t[i]);return e&&n.sort(),n.join("; ")},objectCompare:function(t,e,i){var n;if(!t&&!e)return!0;if(!t||!e)return!1;for(n in t)if(t[n]!=e[n])return!1;if(!i)for(n in e)if(t[n]!=e[n])return!1;return!0},objectKeys:function(t){var e,i=[];for(e in t)i.push(e);return i},convertArrayToObject:function(t,e){var i={};1==arguments.length&&(e=!0);for(var n=0,o=t.length;n<o;++n)i[t[n]]=e;return i},fixDomain:function(){for(var t;;)try{t=window.parent.document.domain;break}catch(e){if(!(t=t?t.replace(/.+?(?:\.|$)/,""):document.domain))break;document.domain=t}return!!t},eventsBuffer:function(t,e,i){function n(){a=(new Date).getTime(),o=!1,i?e.call(i):e()}var o,a=0;return{input:function(){if(!o){var e=(new Date).getTime()-a;e<t?o=setTimeout(n,t-e):n()}},reset:function(){o&&clearTimeout(o),o=a=0}}},enableHtml5Elements:function(t,e){for(var i,n="abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup main mark meter nav output progress section summary time video".split(" "),o=n.length;o--;)i=t.createElement(n[o]),e&&t.appendChild(i)},checkIfAnyArrayItemMatches:function(t,e){for(var i=0,n=t.length;i<n;++i)if(t[i].match(e))return!0;return!1},checkIfAnyObjectPropertyMatches:function(t,e){for(var i in t)if(i.match(e))return!0;return!1},keystrokeToString:function(t,e){var i=this.keystrokeToArray(t,e);return i.display=i.display.join("+"),i.aria=i.aria.join("+"),i},keystrokeToArray:function(t,e){var i=16711680&e,n=65535&e,o=CKEDITOR.env.mac,a=[],r=[];return i&CKEDITOR.CTRL&&(a.push(o?"\u2318":t[17]),r.push(o?t[224]:t[17])),i&CKEDITOR.ALT&&(a.push(o?"\u2325":t[18]),r.push(t[18])),i&CKEDITOR.SHIFT&&(a.push(o?"\u21e7":t[16]),r.push(t[16])),n&&(t[n]?(a.push(t[n]),r.push(t[n])):(a.push(String.fromCharCode(n)),r.push(String.fromCharCode(n)))),{display:a,aria:r}},transparentImageData:"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==",getCookie:function(t){t=t.toLowerCase();for(var e,i=document.cookie.split(";"),n=0;n<i.length;n++)if(e=i[n].split("="),decodeURIComponent(CKEDITOR.tools.trim(e[0]).toLowerCase())===t)return decodeURIComponent(1<e.length?e[1]:"");return null},setCookie:function(t,e){document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)+";path=/"},getCsrfToken:function(){var t=CKEDITOR.tools.getCookie("ckCsrfToken");if(!t||40!=t.length){var t=[],e="";if(window.crypto&&window.crypto.getRandomValues)t=new Uint8Array(40),window.crypto.getRandomValues(t);else for(var i=0;40>i;i++)t.push(Math.floor(256*Math.random()));for(i=0;i<t.length;i++)var n="abcdefghijklmnopqrstuvwxyz0123456789".charAt(t[i]%36),e=e+(.5<Math.random()?n.toUpperCase():n);t=e,CKEDITOR.tools.setCookie("ckCsrfToken",t)}return t},escapeCss:function(t){return t?window.CSS&&CSS.escape?CSS.escape(t):isNaN(parseInt(t.charAt(0),10))?t:"\\3"+t.charAt(0)+" "+t.substring(1,t.length):""},getMouseButton:function(t){var e=(t=t.data)&&t.$;return!(!t||!e)&&(CKEDITOR.env.ie&&9>CKEDITOR.env.version?4===e.button?CKEDITOR.MOUSE_BUTTON_MIDDLE:1===e.button?CKEDITOR.MOUSE_BUTTON_LEFT:CKEDITOR.MOUSE_BUTTON_RIGHT:e.button)},convertHexStringToBytes:function(t){var e,i=[],n=t.length/2;for(e=0;e<n;e++)i.push(parseInt(t.substr(2*e,2),16));return i},convertBytesToBase64:function(t){var e,i="",n=t.length;for(e=0;e<n;e+=3){var o,a=t.slice(e,e+3),r=a.length,s=[];if(3>r)for(o=r;3>o;o++)a[o]=0;for(s[0]=(252&a[0])>>2,s[1]=(3&a[0])<<4|a[1]>>4,s[2]=(15&a[1])<<2|(192&a[2])>>6,s[3]=63&a[2],o=0;4>o;o++)i=o<=r?i+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(s[o]):i+"="}return i},style:{parse:{_colors:{aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"},_borderStyle:"none hidden dotted dashed solid double groove ridge inset outset".split(" "),_widthRegExp:/^(thin|medium|thick|[\+-]?\d+(\.\d+)?[a-z%]+|[\+-]?0+(\.0+)?|\.\d+[a-z%]+)$/,_rgbaRegExp:/rgba?\(\s*\d+%?\s*,\s*\d+%?\s*,\s*\d+%?\s*(?:,\s*[0-9.]+\s*)?\)/gi,_hslaRegExp:/hsla?\(\s*[0-9.]+\s*,\s*\d+%\s*,\s*\d+%\s*(?:,\s*[0-9.]+\s*)?\)/gi,background:function(t){var e={},i=this._findColor(t);return i.length&&(e.color=i[0],CKEDITOR.tools.array.forEach(i,function(e){t=t.replace(e,"")})),(t=CKEDITOR.tools.trim(t))&&(e.unprocessed=t),e},margin:function(t){function e(t){i.top=n[t[0]],i.right=n[t[1]],i.bottom=n[t[2]],i.left=n[t[3]]}var i={},n=t.match(/(?:\-?[\.\d]+(?:%|\w*)|auto|inherit|initial|unset)/g)||["0px"];switch(n.length){case 1:e([0,0,0,0]);break;case 2:e([0,1,0,1]);break;case 3:e([0,1,2,1]);break;case 4:e([0,1,2,3])}return i},border:function(t){var e={};return t=t.split(/\s+/),CKEDITOR.tools.array.forEach(t,function(t){if(!e.color){var i=CKEDITOR.tools.style.parse._findColor(t);if(i.length)return void(e.color=i[0])}e.style||-1===CKEDITOR.tools.indexOf(CKEDITOR.tools.style.parse._borderStyle,t)?!e.width&&CKEDITOR.tools.style.parse._widthRegExp.test(t)&&(e.width=t):e.style=t}),e},_findColor:function(t){var e=[],i=CKEDITOR.tools.array,e=e.concat(t.match(this._rgbaRegExp)||[]),e=e.concat(t.match(this._hslaRegExp)||[]);return e=e.concat(i.filter(t.split(/\s+/),function(t){return!!t.match(/^\#[a-f0-9]{3}(?:[a-f0-9]{3})?$/gi)||t.toLowerCase()in CKEDITOR.tools.style.parse._colors}))}}},array:{filter:function(t,e,i){var n=[];return this.forEach(t,function(o,a){e.call(i,o,a,t)&&n.push(o)}),n},forEach:function(t,e,i){var n,o=t.length;for(n=0;n<o;n++)e.call(i,t[n],n,t)},map:function(t,e,i){for(var n=[],o=0;o<t.length;o++)n.push(e.call(i,t[o],o,t));return n},reduce:function(t,e,i,n){for(var o=0;o<t.length;o++)i=e.call(n,i,t[o],o,t);return i},every:function(t,e,i){return!t.length||(e=this.filter(t,e,i),t.length===e.length)}},object:{findKey:function(t,e){if("object"!=typeof t)return null;for(var i in t)if(t[i]===e)return i;return null},merge:function(t,e){var i=CKEDITOR.tools,n=i.clone(t),o=i.clone(e);return i.array.forEach(i.objectKeys(o),function(t){n[t]="object"==typeof o[t]&&"object"==typeof n[t]?i.object.merge(n[t],o[t]):o[t]}),n}}},CKEDITOR.tools.array.indexOf=CKEDITOR.tools.indexOf,CKEDITOR.tools.array.isArray=CKEDITOR.tools.isArray,CKEDITOR.MOUSE_BUTTON_LEFT=0,CKEDITOR.MOUSE_BUTTON_MIDDLE=1,CKEDITOR.MOUSE_BUTTON_RIGHT=2}(),CKEDITOR.dtd=function(){var t=CKEDITOR.tools.extend,e=function(t,e){for(var i=CKEDITOR.tools.clone(t),n=1;n<arguments.length;n++){e=arguments[n];for(var o in e)delete i[o]}return i},i={},n={},o={address:1,article:1,aside:1,blockquote:1,details:1,div:1,dl:1,fieldset:1,figure:1,footer:1,form:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,header:1,hgroup:1,hr:1,main:1,menu:1,nav:1,ol:1,p:1,pre:1,section:1,table:1,ul:1},a={command:1,link:1,meta:1,noscript:1,script:1,style:1},r={},s={"#":1},l={center:1,dir:1,noframes:1};return t(i,{a:1,abbr:1,area:1,audio:1,b:1,bdi:1,bdo:1,br:1,button:1,canvas:1,cite:1,code:1,command:1,datalist:1,del:1,dfn:1,em:1,embed:1,i:1,iframe:1,img:1,input:1,ins:1,kbd:1,keygen:1,label:1,map:1,mark:1,meter:1,noscript:1,object:1,output:1,progress:1,q:1,ruby:1,s:1,samp:1,script:1,select:1,small:1,span:1,strong:1,sub:1,sup:1,textarea:1,time:1,u:1,"var":1,video:1,wbr:1},s,{acronym:1,applet:1,basefont:1,big:1,font:1,isindex:1,strike:1,style:1,tt:1}),t(n,o,i,l),e={a:e(i,{a:1,button:1}),abbr:i,address:n,area:r,article:n,aside:n,audio:t({source:1,track:1},n),b:i,base:r,bdi:i,bdo:i,blockquote:n,body:n,br:r,button:e(i,{a:1,button:1}),canvas:i,caption:n,cite:i,code:i,col:r,colgroup:{col:1},command:r,datalist:t({option:1},i),dd:n,del:i,details:t({summary:1},n),dfn:i,div:n,dl:{dt:1,dd:1},dt:n,em:i,embed:r,fieldset:t({legend:1},n),figcaption:n,figure:t({figcaption:1},n),footer:n,form:n,h1:i,h2:i,h3:i,h4:i,h5:i,h6:i,head:t({title:1,base:1},a),header:n,hgroup:{h1:1,h2:1,h3:1,h4:1,h5:1,h6:1},hr:r,html:t({head:1,body:1},n,a),i:i,iframe:s,img:r,input:r,ins:i,kbd:i,keygen:r,label:i,legend:i,li:n,link:r,main:n,map:n,mark:i,menu:t({li:1},n),meta:r,meter:e(i,{meter:1}),nav:n,noscript:t({link:1,meta:1,style:1},i),object:t({param:1},i),ol:{li:1},optgroup:{option:1},option:s,output:i,p:i,param:r,pre:i,progress:e(i,{progress:1}),q:i,rp:i,rt:i,ruby:t({rp:1,rt:1},i),s:i,samp:i,script:s,section:n,select:{optgroup:1,option:1},small:i,source:r,span:i,strong:i,style:s,sub:i,summary:t({h1:1,h2:1,h3:1,h4:1,h5:1,h6:1},i),sup:i,table:{caption:1,colgroup:1,thead:1,tfoot:1,tbody:1,tr:1},tbody:{tr:1},td:n,textarea:s,tfoot:{tr:1},th:n,thead:{tr:1},time:e(i,{time:1}),title:s,tr:{th:1,td:1},track:r,u:i,ul:{li:1},"var":i,video:t({source:1,track:1},n),wbr:r,acronym:i,applet:t({param:1},n),basefont:r,big:i,center:n,dialog:r,dir:{li:1},font:i,isindex:r,noframes:n,strike:i,tt:i},t(e,{$block:t({audio:1,dd:1,dt:1,figcaption:1,li:1,video:1},o,l),$blockLimit:{article:1,aside:1,audio:1,body:1,caption:1,details:1,dir:1,div:1,dl:1,fieldset:1,figcaption:1,figure:1,footer:1,form:1,header:1,hgroup:1,main:1,menu:1,nav:1,ol:1,section:1,table:1,td:1,th:1,tr:1,ul:1,video:1},$cdata:{script:1,style:1},$editable:{address:1,article:1,aside:1,blockquote:1,body:1,details:1,div:1,fieldset:1,figcaption:1,footer:1,form:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,header:1,hgroup:1,main:1,nav:1,p:1,pre:1,section:1},$empty:{area:1,base:1,basefont:1,br:1,col:1,command:1,dialog:1,embed:1,hr:1,img:1,input:1,isindex:1,keygen:1,link:1,meta:1,param:1,source:1,track:1,wbr:1},$inline:i,$list:{dl:1,ol:1,ul:1},$listItem:{dd:1,dt:1,li:1},$nonBodyContent:t({body:1,head:1,html:1},e.head),$nonEditable:{applet:1,audio:1,button:1,embed:1,iframe:1,map:1,object:1,option:1,param:1,script:1,textarea:1,video:1},$object:{applet:1,audio:1,button:1,hr:1,iframe:1,img:1,input:1,object:1,select:1,table:1,textarea:1,video:1},$removeEmpty:{abbr:1,acronym:1,b:1,bdi:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,mark:1,meter:1,output:1,q:1,ruby:1,s:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,time:1,tt:1,u:1,"var":1},$tabIndex:{a:1,area:1,button:1,input:1,object:1,select:1,textarea:1},$tableContent:{caption:1,col:1,colgroup:1,tbody:1,td:1,tfoot:1,th:1,thead:1,tr:1},$transparent:{a:1,audio:1,canvas:1,del:1,ins:1,map:1,noscript:1,object:1,video:1},$intermediate:{caption:1,colgroup:1,dd:1,dt:1,figcaption:1,legend:1,li:1,optgroup:1,option:1,rp:1,rt:1,summary:1,tbody:1,td:1,tfoot:1,th:1,thead:1,tr:1}}),e}(),CKEDITOR.dom.event=function(t){this.$=t},CKEDITOR.dom.event.prototype={getKey:function(){return this.$.keyCode||this.$.which},getKeystroke:function(){var t=this.getKey();return(this.$.ctrlKey||this.$.metaKey)&&(t+=CKEDITOR.CTRL),this.$.shiftKey&&(t+=CKEDITOR.SHIFT),this.$.altKey&&(t+=CKEDITOR.ALT),t},preventDefault:function(t){var e=this.$;e.preventDefault?e.preventDefault():e.returnValue=!1,t&&this.stopPropagation()},stopPropagation:function(){var t=this.$;t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},getTarget:function(){var t=this.$.target||this.$.srcElement;return t?new CKEDITOR.dom.node(t):null},getPhase:function(){return this.$.eventPhase||2},getPageOffset:function(){var t=this.getTarget().getDocument().$;return{x:this.$.pageX||this.$.clientX+(t.documentElement.scrollLeft||t.body.scrollLeft),y:this.$.pageY||this.$.clientY+(t.documentElement.scrollTop||t.body.scrollTop)}}},CKEDITOR.CTRL=1114112,CKEDITOR.SHIFT=2228224,CKEDITOR.ALT=4456448,CKEDITOR.EVENT_PHASE_CAPTURING=1,CKEDITOR.EVENT_PHASE_AT_TARGET=2,CKEDITOR.EVENT_PHASE_BUBBLING=3,CKEDITOR.dom.domObject=function(t){t&&(this.$=t)},CKEDITOR.dom.domObject.prototype=function(){var t=function(t,e){return function(i){"undefined"!=typeof CKEDITOR&&t.fire(e,new CKEDITOR.dom.event(i))}};return{getPrivate:function(){var t;return(t=this.getCustomData("_"))||this.setCustomData("_",t={}),t},on:function(e){var i=this.getCustomData("_cke_nativeListeners");return i||(i={},this.setCustomData("_cke_nativeListeners",i)),i[e]||(i=i[e]=t(this,e),this.$.addEventListener?this.$.addEventListener(e,i,!!CKEDITOR.event.useCapture):this.$.attachEvent&&this.$.attachEvent("on"+e,i)),CKEDITOR.event.prototype.on.apply(this,arguments)},removeListener:function(t){if(CKEDITOR.event.prototype.removeListener.apply(this,arguments),!this.hasListeners(t)){var e=this.getCustomData("_cke_nativeListeners"),i=e&&e[t];i&&(this.$.removeEventListener?this.$.removeEventListener(t,i,!1):this.$.detachEvent&&this.$.detachEvent("on"+t,i),delete e[t])}},removeAllListeners:function(){var t,e=this.getCustomData("_cke_nativeListeners");for(t in e){var i=e[t];this.$.detachEvent?this.$.detachEvent("on"+t,i):this.$.removeEventListener&&this.$.removeEventListener(t,i,!1),delete e[t]}CKEDITOR.event.prototype.removeAllListeners.call(this)}}}(),function(t){var e={};CKEDITOR.on("reset",function(){e={}}),t.equals=function(t){try{return t&&t.$===this.$}catch(t){return!1}},t.setCustomData=function(t,i){var n=this.getUniqueId();return(e[n]||(e[n]={}))[t]=i,this},t.getCustomData=function(t){var i=this.$["data-cke-expando"];return(i=i&&e[i])&&t in i?i[t]:null},t.removeCustomData=function(t){var i,n,o=this.$["data-cke-expando"],o=o&&e[o];return o&&(i=o[t],n=t in o,delete o[t]),n?i:null},t.clearCustomData=function(){this.removeAllListeners();var t=this.$["data-cke-expando"];t&&delete e[t]},t.getUniqueId=function(){return this.$["data-cke-expando"]||(this.$["data-cke-expando"]=CKEDITOR.tools.getNextNumber())},CKEDITOR.event.implementOn(t)
}(CKEDITOR.dom.domObject.prototype),CKEDITOR.dom.node=function(t){return t?new CKEDITOR.dom[t.nodeType==CKEDITOR.NODE_DOCUMENT?"document":t.nodeType==CKEDITOR.NODE_ELEMENT?"element":t.nodeType==CKEDITOR.NODE_TEXT?"text":t.nodeType==CKEDITOR.NODE_COMMENT?"comment":t.nodeType==CKEDITOR.NODE_DOCUMENT_FRAGMENT?"documentFragment":"domObject"](t):this},CKEDITOR.dom.node.prototype=new CKEDITOR.dom.domObject,CKEDITOR.NODE_ELEMENT=1,CKEDITOR.NODE_DOCUMENT=9,CKEDITOR.NODE_TEXT=3,CKEDITOR.NODE_COMMENT=8,CKEDITOR.NODE_DOCUMENT_FRAGMENT=11,CKEDITOR.POSITION_IDENTICAL=0,CKEDITOR.POSITION_DISCONNECTED=1,CKEDITOR.POSITION_FOLLOWING=2,CKEDITOR.POSITION_PRECEDING=4,CKEDITOR.POSITION_IS_CONTAINED=8,CKEDITOR.POSITION_CONTAINS=16,CKEDITOR.tools.extend(CKEDITOR.dom.node.prototype,{appendTo:function(t,e){return t.append(this,e),t},clone:function(t,e){function i(n){if(n["data-cke-expando"]&&(n["data-cke-expando"]=!1),(n.nodeType==CKEDITOR.NODE_ELEMENT||n.nodeType==CKEDITOR.NODE_DOCUMENT_FRAGMENT)&&(e||n.nodeType!=CKEDITOR.NODE_ELEMENT||n.removeAttribute("id",!1),t)){n=n.childNodes;for(var o=0;o<n.length;o++)i(n[o])}}function n(e){if(e.type==CKEDITOR.NODE_ELEMENT||e.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT){if(e.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT){var i=e.getName();":"==i[0]&&e.renameNode(i.substring(1))}if(t)for(i=0;i<e.getChildCount();i++)n(e.getChild(i))}}var o=this.$.cloneNode(t);return i(o),o=new CKEDITOR.dom.node(o),CKEDITOR.env.ie&&9>CKEDITOR.env.version&&(this.type==CKEDITOR.NODE_ELEMENT||this.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT)&&n(o),o},hasPrevious:function(){return!!this.$.previousSibling},hasNext:function(){return!!this.$.nextSibling},insertAfter:function(t){return t.$.parentNode.insertBefore(this.$,t.$.nextSibling),t},insertBefore:function(t){return t.$.parentNode.insertBefore(this.$,t.$),t},insertBeforeMe:function(t){return this.$.parentNode.insertBefore(t.$,this.$),t},getAddress:function(t){for(var e=[],i=this.getDocument().$.documentElement,n=this.$;n&&n!=i;){var o=n.parentNode;o&&e.unshift(this.getIndex.call({$:n},t)),n=o}return e},getDocument:function(){return new CKEDITOR.dom.document(this.$.ownerDocument||this.$.parentNode.ownerDocument)},getIndex:function(t){function e(t,n){var o=n?t.nextSibling:t.previousSibling;return o&&o.nodeType==CKEDITOR.NODE_TEXT?i(o)?e(o,n):o:null}function i(t){return!t.nodeValue||t.nodeValue==CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE}var n,o=this.$,a=-1;if(!this.$.parentNode||t&&o.nodeType==CKEDITOR.NODE_TEXT&&i(o)&&!e(o)&&!e(o,!0))return-1;do{t&&o!=this.$&&o.nodeType==CKEDITOR.NODE_TEXT&&(n||i(o))||(a++,n=o.nodeType==CKEDITOR.NODE_TEXT)}while(o=o.previousSibling);return a},getNextSourceNode:function(t,e,i){if(i&&!i.call){var n=i;i=function(t){return!t.equals(n)}}t=!t&&this.getFirst&&this.getFirst();var o;if(!t){if(this.type==CKEDITOR.NODE_ELEMENT&&i&&!1===i(this,!0))return null;t=this.getNext()}for(;!t&&(o=(o||this).getParent());){if(i&&!1===i(o,!0))return null;t=o.getNext()}return!t||i&&!1===i(t)?null:e&&e!=t.type?t.getNextSourceNode(!1,e,i):t},getPreviousSourceNode:function(t,e,i){if(i&&!i.call){var n=i;i=function(t){return!t.equals(n)}}t=!t&&this.getLast&&this.getLast();var o;if(!t){if(this.type==CKEDITOR.NODE_ELEMENT&&i&&!1===i(this,!0))return null;t=this.getPrevious()}for(;!t&&(o=(o||this).getParent());){if(i&&!1===i(o,!0))return null;t=o.getPrevious()}return!t||i&&!1===i(t)?null:e&&t.type!=e?t.getPreviousSourceNode(!1,e,i):t},getPrevious:function(t){var e,i=this.$;do{e=(i=i.previousSibling)&&10!=i.nodeType&&new CKEDITOR.dom.node(i)}while(e&&t&&!t(e));return e},getNext:function(t){var e,i=this.$;do{e=(i=i.nextSibling)&&new CKEDITOR.dom.node(i)}while(e&&t&&!t(e));return e},getParent:function(t){var e=this.$.parentNode;return e&&(e.nodeType==CKEDITOR.NODE_ELEMENT||t&&e.nodeType==CKEDITOR.NODE_DOCUMENT_FRAGMENT)?new CKEDITOR.dom.node(e):null},getParents:function(t){var e=this,i=[];do{i[t?"push":"unshift"](e)}while(e=e.getParent());return i},getCommonAncestor:function(t){if(t.equals(this))return this;if(t.contains&&t.contains(this))return t;var e=this.contains?this:this.getParent();do{if(e.contains(t))return e}while(e=e.getParent());return null},getPosition:function(t){var e=this.$,i=t.$;if(e.compareDocumentPosition)return e.compareDocumentPosition(i);if(e==i)return CKEDITOR.POSITION_IDENTICAL;if(this.type==CKEDITOR.NODE_ELEMENT&&t.type==CKEDITOR.NODE_ELEMENT){if(e.contains){if(e.contains(i))return CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_PRECEDING;if(i.contains(e))return CKEDITOR.POSITION_IS_CONTAINED+CKEDITOR.POSITION_FOLLOWING}if("sourceIndex"in e)return 0>e.sourceIndex||0>i.sourceIndex?CKEDITOR.POSITION_DISCONNECTED:e.sourceIndex<i.sourceIndex?CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_FOLLOWING}e=this.getAddress(),t=t.getAddress();for(var i=Math.min(e.length,t.length),n=0;n<i;n++)if(e[n]!=t[n])return e[n]<t[n]?CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_FOLLOWING;return e.length<t.length?CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_IS_CONTAINED+CKEDITOR.POSITION_FOLLOWING},getAscendant:function(t,e){var i,n,o=this.$;e||(o=o.parentNode),"function"==typeof t?(n=!0,i=t):(n=!1,i=function(e){return e="string"==typeof e.nodeName?e.nodeName.toLowerCase():"","string"==typeof t?e==t:e in t});for(;o;){if(i(n?new CKEDITOR.dom.node(o):o))return new CKEDITOR.dom.node(o);try{o=o.parentNode}catch(t){o=null}}return null},hasAscendant:function(t,e){var i=this.$;for(e||(i=i.parentNode);i;){if(i.nodeName&&i.nodeName.toLowerCase()==t)return!0;i=i.parentNode}return!1},move:function(t,e){t.append(this.remove(),e)},remove:function(t){var e=this.$,i=e.parentNode;if(i){if(t)for(;t=e.firstChild;)i.insertBefore(e.removeChild(t),e);i.removeChild(e)}return this},replace:function(t){this.insertBefore(t),t.remove()},trim:function(){this.ltrim(),this.rtrim()},ltrim:function(){for(var t;this.getFirst&&(t=this.getFirst());){if(t.type==CKEDITOR.NODE_TEXT){var e=CKEDITOR.tools.ltrim(t.getText()),i=t.getLength();if(!e){t.remove();continue}e.length<i&&(t.split(i-e.length),this.$.removeChild(this.$.firstChild))}break}},rtrim:function(){for(var t;this.getLast&&(t=this.getLast());){if(t.type==CKEDITOR.NODE_TEXT){var e=CKEDITOR.tools.rtrim(t.getText()),i=t.getLength();if(!e){t.remove();continue}e.length<i&&(t.split(e.length),this.$.lastChild.parentNode.removeChild(this.$.lastChild))}break}CKEDITOR.env.needsBrFiller&&(t=this.$.lastChild)&&1==t.type&&"br"==t.nodeName.toLowerCase()&&t.parentNode.removeChild(t)},isReadOnly:function(t){var e=this;if(this.type!=CKEDITOR.NODE_ELEMENT&&(e=this.getParent()),CKEDITOR.env.edge&&e&&e.is("textarea","input")&&(t=!0),!t&&e&&"undefined"!=typeof e.$.isContentEditable)return!(e.$.isContentEditable||e.data("cke-editable"));for(;e;){if(e.data("cke-editable"))return!1;if(e.hasAttribute("contenteditable"))return"false"==e.getAttribute("contenteditable");e=e.getParent()}return!0}}),CKEDITOR.dom.window=function(t){CKEDITOR.dom.domObject.call(this,t)},CKEDITOR.dom.window.prototype=new CKEDITOR.dom.domObject,CKEDITOR.tools.extend(CKEDITOR.dom.window.prototype,{focus:function(){this.$.focus()},getViewPaneSize:function(){var t=this.$.document,e="CSS1Compat"==t.compatMode;return{width:(e?t.documentElement.clientWidth:t.body.clientWidth)||0,height:(e?t.documentElement.clientHeight:t.body.clientHeight)||0}},getScrollPosition:function(){var t=this.$;return"pageXOffset"in t?{x:t.pageXOffset||0,y:t.pageYOffset||0}:(t=t.document,{x:t.documentElement.scrollLeft||t.body.scrollLeft||0,y:t.documentElement.scrollTop||t.body.scrollTop||0})},getFrame:function(){var t=this.$.frameElement;return t?new CKEDITOR.dom.element.get(t):null}}),CKEDITOR.dom.document=function(t){CKEDITOR.dom.domObject.call(this,t)},CKEDITOR.dom.document.prototype=new CKEDITOR.dom.domObject,CKEDITOR.tools.extend(CKEDITOR.dom.document.prototype,{type:CKEDITOR.NODE_DOCUMENT,appendStyleSheet:function(t){if(this.$.createStyleSheet)this.$.createStyleSheet(t);else{var e=new CKEDITOR.dom.element("link");e.setAttributes({rel:"stylesheet",type:"text/css",href:t}),this.getHead().append(e)}},appendStyleText:function(t){if(this.$.createStyleSheet){var e=this.$.createStyleSheet("");e.cssText=t}else{var i=new CKEDITOR.dom.element("style",this);i.append(new CKEDITOR.dom.text(t,this)),this.getHead().append(i)}return e||i.$.sheet},createElement:function(t,e){var i=new CKEDITOR.dom.element(t,this);return e&&(e.attributes&&i.setAttributes(e.attributes),e.styles&&i.setStyles(e.styles)),i},createText:function(t){return new CKEDITOR.dom.text(t,this)},focus:function(){this.getWindow().focus()},getActive:function(){var t;try{t=this.$.activeElement}catch(t){return null}return new CKEDITOR.dom.element(t)},getById:function(t){return(t=this.$.getElementById(t))?new CKEDITOR.dom.element(t):null},getByAddress:function(t,e){for(var i=this.$.documentElement,n=0;i&&n<t.length;n++){var o=t[n];if(e)for(var a=-1,r=0;r<i.childNodes.length;r++){var s=i.childNodes[r];if((!0!==e||3!=s.nodeType||!s.previousSibling||3!=s.previousSibling.nodeType)&&++a==o){i=s;break}}else i=i.childNodes[o]}return i?new CKEDITOR.dom.node(i):null},getElementsByTag:function(t,e){return CKEDITOR.env.ie&&8>=document.documentMode||!e||(t=e+":"+t),new CKEDITOR.dom.nodeList(this.$.getElementsByTagName(t))},getHead:function(){var t=this.$.getElementsByTagName("head")[0];return t=t?new CKEDITOR.dom.element(t):this.getDocumentElement().append(new CKEDITOR.dom.element("head"),!0)},getBody:function(){return new CKEDITOR.dom.element(this.$.body)},getDocumentElement:function(){return new CKEDITOR.dom.element(this.$.documentElement)},getWindow:function(){return new CKEDITOR.dom.window(this.$.parentWindow||this.$.defaultView)},write:function(t){this.$.open("text/html","replace"),CKEDITOR.env.ie&&(t=t.replace(/(?:^\s*<!DOCTYPE[^>]*?>)|^/i,'$&\n<script data-cke-temp="1">('+CKEDITOR.tools.fixDomain+")();</script>")),this.$.write(t),this.$.close()},find:function(t){return new CKEDITOR.dom.nodeList(this.$.querySelectorAll(t))},findOne:function(t){return(t=this.$.querySelector(t))?new CKEDITOR.dom.element(t):null},_getHtml5ShivFrag:function(){var t=this.getCustomData("html5ShivFrag");return t||(t=this.$.createDocumentFragment(),CKEDITOR.tools.enableHtml5Elements(t,!0),this.setCustomData("html5ShivFrag",t)),t}}),CKEDITOR.dom.nodeList=function(t){this.$=t},CKEDITOR.dom.nodeList.prototype={count:function(){return this.$.length},getItem:function(t){return 0>t||t>=this.$.length?null:(t=this.$[t])?new CKEDITOR.dom.node(t):null},toArray:function(){return CKEDITOR.tools.array.map(this.$,function(t){return new CKEDITOR.dom.node(t)})}},CKEDITOR.dom.element=function(t,e){"string"==typeof t&&(t=(e?e.$:document).createElement(t)),CKEDITOR.dom.domObject.call(this,t)},CKEDITOR.dom.element.get=function(t){return(t="string"==typeof t?document.getElementById(t)||document.getElementsByName(t)[0]:t)&&(t.$?t:new CKEDITOR.dom.element(t))},CKEDITOR.dom.element.prototype=new CKEDITOR.dom.node,CKEDITOR.dom.element.createFromHtml=function(t,e){var i=new CKEDITOR.dom.element("div",e);return i.setHtml(t),i.getFirst().remove()},CKEDITOR.dom.element.setMarker=function(t,e,i,n){var o=e.getCustomData("list_marker_id")||e.setCustomData("list_marker_id",CKEDITOR.tools.getNextNumber()).getCustomData("list_marker_id"),a=e.getCustomData("list_marker_names")||e.setCustomData("list_marker_names",{}).getCustomData("list_marker_names");return t[o]=e,a[i]=1,e.setCustomData(i,n)},CKEDITOR.dom.element.clearAllMarkers=function(t){for(var e in t)CKEDITOR.dom.element.clearMarkers(t,t[e],1)},CKEDITOR.dom.element.clearMarkers=function(t,e,i){var n,o=e.getCustomData("list_marker_names"),a=e.getCustomData("list_marker_id");for(n in o)e.removeCustomData(n);e.removeCustomData("list_marker_names"),i&&(e.removeCustomData("list_marker_id"),delete t[a])},function(){function t(t,e){return-1<(" "+t+" ").replace(a," ").indexOf(" "+e+" ")}function e(t){var e=!0;return t.$.id||(t.$.id="cke_tmp_"+CKEDITOR.tools.getNextNumber(),e=!1),function(){e||t.removeAttribute("id")}}function i(t,e){var i=CKEDITOR.tools.escapeCss(t.$.id);return"#"+i+" "+e.split(/,\s*/).join(", #"+i+" ")}function n(t){for(var e=0,i=0,n=r[t].length;i<n;i++)e+=parseFloat(this.getComputedStyle(r[t][i])||0,10)||0;return e}var o=document.createElement("_").classList,o=void 0!==o&&null!==String(o.add).match(/\[Native code\]/gi),a=/[\n\t\r]/g;CKEDITOR.tools.extend(CKEDITOR.dom.element.prototype,{type:CKEDITOR.NODE_ELEMENT,addClass:o?function(t){return this.$.classList.add(t),this}:function(e){var i=this.$.className;return i&&(t(i,e)||(i+=" "+e)),this.$.className=i||e,this},removeClass:o?function(t){var e=this.$;return e.classList.remove(t),e.className||e.removeAttribute("class"),this}:function(e){var i=this.getAttribute("class");return i&&t(i,e)&&((i=i.replace(new RegExp("(?:^|\\s+)"+e+"(?=\\s|$)"),"").replace(/^\s+/,""))?this.setAttribute("class",i):this.removeAttribute("class")),this},hasClass:function(e){return t(this.$.className,e)},append:function(t,e){return"string"==typeof t&&(t=this.getDocument().createElement(t)),e?this.$.insertBefore(t.$,this.$.firstChild):this.$.appendChild(t.$),t},appendHtml:function(t){if(this.$.childNodes.length){var e=new CKEDITOR.dom.element("div",this.getDocument());e.setHtml(t),e.moveChildren(this)}else this.setHtml(t)},appendText:function(t){null!=this.$.text&&CKEDITOR.env.ie&&9>CKEDITOR.env.version?this.$.text+=t:this.append(new CKEDITOR.dom.text(t))},appendBogus:function(t){if(t||CKEDITOR.env.needsBrFiller){for(t=this.getLast();t&&t.type==CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.rtrim(t.getText());)t=t.getPrevious();t&&t.is&&t.is("br")||(t=this.getDocument().createElement("br"),CKEDITOR.env.gecko&&t.setAttribute("type","_moz"),this.append(t))}},breakParent:function(t,e){var i=new CKEDITOR.dom.range(this.getDocument());i.setStartAfter(this),i.setEndAfter(t);var n,o=i.extractContents(!1,e||!1);if(i.insertNode(this.remove()),CKEDITOR.env.ie&&!CKEDITOR.env.edge){for(i=new CKEDITOR.dom.element("div");n=o.getFirst();)n.$.style.backgroundColor&&(n.$.style.backgroundColor=n.$.style.backgroundColor),i.append(n);i.insertAfter(this),i.remove(!0)}else o.insertAfterNode(this)},contains:document.compareDocumentPosition?function(t){return!!(16&this.$.compareDocumentPosition(t.$))}:function(t){var e=this.$;return t.type!=CKEDITOR.NODE_ELEMENT?e.contains(t.getParent().$):e!=t.$&&e.contains(t.$)},focus:function(){function t(){try{this.$.focus()}catch(t){}}return function(e){e?CKEDITOR.tools.setTimeout(t,100,this):t.call(this)}}(),getHtml:function(){var t=this.$.innerHTML;return CKEDITOR.env.ie?t.replace(/<\?[^>]*>/g,""):t},getOuterHtml:function(){if(this.$.outerHTML)return this.$.outerHTML.replace(/<\?[^>]*>/,"");var t=this.$.ownerDocument.createElement("div");return t.appendChild(this.$.cloneNode(!0)),t.innerHTML},getClientRect:function(){var t=CKEDITOR.tools.extend({},this.$.getBoundingClientRect());return!t.width&&(t.width=t.right-t.left),!t.height&&(t.height=t.bottom-t.top),t},setHtml:CKEDITOR.env.ie&&9>CKEDITOR.env.version?function(t){try{var e=this.$;if(this.getParent())return e.innerHTML=t;var i=this.getDocument()._getHtml5ShivFrag();return i.appendChild(e),e.innerHTML=t,i.removeChild(e),t}catch(i){for(this.$.innerHTML="",e=new CKEDITOR.dom.element("body",this.getDocument()),e.$.innerHTML=t,e=e.getChildren();e.count();)this.append(e.getItem(0));return t}}:function(t){return this.$.innerHTML=t},setText:function(){var t=document.createElement("p");return t.innerHTML="x",t=t.textContent,function(e){this.$[t?"textContent":"innerText"]=e}}(),getAttribute:function(){var t=function(t){return this.$.getAttribute(t,2)};return CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(t){switch(t){case"class":t="className";break;case"http-equiv":t="httpEquiv";break;case"name":return this.$.name;case"tabindex":return t=this.$.getAttribute(t,2),0!==t&&0===this.$.tabIndex&&(t=null),t;case"checked":return t=this.$.attributes.getNamedItem(t),(t.specified?t.nodeValue:this.$.checked)?"checked":null;case"hspace":case"value":return this.$[t];case"style":return this.$.style.cssText;case"contenteditable":case"contentEditable":return this.$.attributes.getNamedItem("contentEditable").specified?this.$.getAttribute("contentEditable"):null}return this.$.getAttribute(t,2)}:t}(),getAttributes:function(t){var e,i={},n=this.$.attributes;for(t=CKEDITOR.tools.isArray(t)?t:[],e=0;e<n.length;e++)-1===CKEDITOR.tools.indexOf(t,n[e].name)&&(i[n[e].name]=n[e].value);return i},getChildren:function(){return new CKEDITOR.dom.nodeList(this.$.childNodes)},getComputedStyle:document.defaultView&&document.defaultView.getComputedStyle?function(t){var e=this.getWindow().$.getComputedStyle(this.$,null);return e?e.getPropertyValue(t):""}:function(t){return this.$.currentStyle[CKEDITOR.tools.cssStyleToDomStyle(t)]},getDtd:function(){var t=CKEDITOR.dtd[this.getName()];return this.getDtd=function(){return t},t},getElementsByTag:CKEDITOR.dom.document.prototype.getElementsByTag,getTabIndex:function(){var t=this.$.tabIndex;return 0!==t||CKEDITOR.dtd.$tabIndex[this.getName()]||0===parseInt(this.getAttribute("tabindex"),10)?t:-1},getText:function(){return this.$.textContent||this.$.innerText||""},getWindow:function(){return this.getDocument().getWindow()},getId:function(){return this.$.id||null},getNameAtt:function(){return this.$.name||null},getName:function(){var t=this.$.nodeName.toLowerCase();if(CKEDITOR.env.ie&&8>=document.documentMode){var e=this.$.scopeName;"HTML"!=e&&(t=e.toLowerCase()+":"+t)}return this.getName=function(){return t},this.getName()},getValue:function(){return this.$.value},getFirst:function(t){var e=this.$.firstChild;return(e=e&&new CKEDITOR.dom.node(e))&&t&&!t(e)&&(e=e.getNext(t)),e},getLast:function(t){var e=this.$.lastChild;return(e=e&&new CKEDITOR.dom.node(e))&&t&&!t(e)&&(e=e.getPrevious(t)),e},getStyle:function(t){return this.$.style[CKEDITOR.tools.cssStyleToDomStyle(t)]},is:function(){var t=this.getName();if("object"==typeof arguments[0])return!!arguments[0][t];for(var e=0;e<arguments.length;e++)if(arguments[e]==t)return!0;return!1},isEditable:function(t){var e=this.getName();return!(this.isReadOnly()||"none"==this.getComputedStyle("display")||"hidden"==this.getComputedStyle("visibility")||CKEDITOR.dtd.$nonEditable[e]||CKEDITOR.dtd.$empty[e]||this.is("a")&&(this.data("cke-saved-name")||this.hasAttribute("name"))&&!this.getChildCount())&&(!1===t||!(!(t=CKEDITOR.dtd[e]||CKEDITOR.dtd.span)||!t["#"]))},isIdentical:function(t){var e=this.clone(0,1);if(t=t.clone(0,1),e.removeAttributes(["_moz_dirty","data-cke-expando","data-cke-saved-href","data-cke-saved-name"]),t.removeAttributes(["_moz_dirty","data-cke-expando","data-cke-saved-href","data-cke-saved-name"]),e.$.isEqualNode)return e.$.style.cssText=CKEDITOR.tools.normalizeCssText(e.$.style.cssText),t.$.style.cssText=CKEDITOR.tools.normalizeCssText(t.$.style.cssText),e.$.isEqualNode(t.$);if(e=e.getOuterHtml(),t=t.getOuterHtml(),CKEDITOR.env.ie&&9>CKEDITOR.env.version&&this.is("a")){var i=this.getParent();i.type==CKEDITOR.NODE_ELEMENT&&(i=i.clone(),i.setHtml(e),e=i.getHtml(),i.setHtml(t),t=i.getHtml())}return e==t},isVisible:function(){var t,e,i=(this.$.offsetHeight||this.$.offsetWidth)&&"hidden"!=this.getComputedStyle("visibility");return i&&CKEDITOR.env.webkit&&(t=this.getWindow(),!t.equals(CKEDITOR.document.getWindow())&&(e=t.$.frameElement)&&(i=new CKEDITOR.dom.element(e).isVisible())),!!i},isEmptyInlineRemoveable:function(){if(!CKEDITOR.dtd.$removeEmpty[this.getName()])return!1;for(var t=this.getChildren(),e=0,i=t.count();e<i;e++){var n=t.getItem(e);if((n.type!=CKEDITOR.NODE_ELEMENT||!n.data("cke-bookmark"))&&(n.type==CKEDITOR.NODE_ELEMENT&&!n.isEmptyInlineRemoveable()||n.type==CKEDITOR.NODE_TEXT&&CKEDITOR.tools.trim(n.getText())))return!1}return!0},hasAttributes:CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(){for(var t=this.$.attributes,e=0;e<t.length;e++){var i=t[e];switch(i.nodeName){case"class":if(this.getAttribute("class"))return!0;case"data-cke-expando":continue;default:if(i.specified)return!0}}return!1}:function(){var t=this.$.attributes,e=t.length,i={"data-cke-expando":1,_moz_dirty:1};return 0<e&&(2<e||!i[t[0].nodeName]||2==e&&!i[t[1].nodeName])},hasAttribute:function(){function t(t){var e=this.$.attributes.getNamedItem(t);if("input"==this.getName())switch(t){case"class":return 0<this.$.className.length;case"checked":return!!this.$.checked;case"value":return t=this.getAttribute("type"),"checkbox"==t||"radio"==t?"on"!=this.$.value:!!this.$.value}return!!e&&e.specified}return CKEDITOR.env.ie?8>CKEDITOR.env.version?function(e){return"name"==e?!!this.$.name:t.call(this,e)}:t:function(t){return!!this.$.attributes.getNamedItem(t)}}(),hide:function(){this.setStyle("display","none")},moveChildren:function(t,e){var i=this.$;if(t=t.$,i!=t){var n;if(e)for(;n=i.lastChild;)t.insertBefore(i.removeChild(n),t.firstChild);else for(;n=i.firstChild;)t.appendChild(i.removeChild(n))}},mergeSiblings:function(){function t(t,e,i){if(e&&e.type==CKEDITOR.NODE_ELEMENT){for(var n=[];e.data("cke-bookmark")||e.isEmptyInlineRemoveable();)if(n.push(e),!(e=i?e.getNext():e.getPrevious())||e.type!=CKEDITOR.NODE_ELEMENT)return;if(t.isIdentical(e)){for(var o=i?t.getLast():t.getFirst();n.length;)n.shift().move(t,!i);e.moveChildren(t,!i),e.remove(),o&&o.type==CKEDITOR.NODE_ELEMENT&&o.mergeSiblings()}}}return function(e){(!1===e||CKEDITOR.dtd.$removeEmpty[this.getName()]||this.is("a"))&&(t(this,this.getNext(),!0),t(this,this.getPrevious()))}}(),show:function(){this.setStyles({display:"",visibility:""})},setAttribute:function(){var t=function(t,e){return this.$.setAttribute(t,e),this};return CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(e,i){return"class"==e?this.$.className=i:"style"==e?this.$.style.cssText=i:"tabindex"==e?this.$.tabIndex=i:"checked"==e?this.$.checked=i:"contenteditable"==e?t.call(this,"contentEditable",i):t.apply(this,arguments),this}:CKEDITOR.env.ie8Compat&&CKEDITOR.env.secure?function(e,i){if("src"==e&&i.match(/^http:\/\//))try{t.apply(this,arguments)}catch(t){}else t.apply(this,arguments);return this}:t}(),setAttributes:function(t){for(var e in t)this.setAttribute(e,t[e]);return this},setValue:function(t){return this.$.value=t,this},removeAttribute:function(){var t=function(t){this.$.removeAttribute(t)};return CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(t){"class"==t?t="className":"tabindex"==t?t="tabIndex":"contenteditable"==t&&(t="contentEditable"),this.$.removeAttribute(t)}:t}(),removeAttributes:function(t){if(CKEDITOR.tools.isArray(t))for(var e=0;e<t.length;e++)this.removeAttribute(t[e]);else for(e in t=t||this.getAttributes())t.hasOwnProperty(e)&&this.removeAttribute(e)},removeStyle:function(t){var e=this.$.style;if(e.removeProperty||"border"!=t&&"margin"!=t&&"padding"!=t)e.removeProperty?e.removeProperty(t):e.removeAttribute(CKEDITOR.tools.cssStyleToDomStyle(t)),this.$.style.cssText||this.removeAttribute("style");else{var i,n=["top","left","right","bottom"];"border"==t&&(i=["color","style","width"]);for(var e=[],o=0;o<n.length;o++)if(i)for(var a=0;a<i.length;a++)e.push([t,n[o],i[a]].join("-"));else e.push([t,n[o]].join("-"));for(t=0;t<e.length;t++)this.removeStyle(e[t])}},setStyle:function(t,e){return this.$.style[CKEDITOR.tools.cssStyleToDomStyle(t)]=e,this},setStyles:function(t){for(var e in t)this.setStyle(e,t[e]);return this},setOpacity:function(t){CKEDITOR.env.ie&&9>CKEDITOR.env.version?(t=Math.round(100*t),this.setStyle("filter",100<=t?"":"progid:DXImageTransform.Microsoft.Alpha(opacity="+t+")")):this.setStyle("opacity",t)},unselectable:function(){if(this.setStyles(CKEDITOR.tools.cssVendorPrefix("user-select","none")),CKEDITOR.env.ie){this.setAttribute("unselectable","on");for(var t,e=this.getElementsByTag("*"),i=0,n=e.count();i<n;i++)t=e.getItem(i),t.setAttribute("unselectable","on")}},getPositionedAncestor:function(){for(var t=this;"html"!=t.getName();){if("static"!=t.getComputedStyle("position"))return t;t=t.getParent()}return null},getDocumentPosition:function(t){var e=0,i=0,n=this.getDocument(),o=n.getBody(),a="BackCompat"==n.$.compatMode;if(document.documentElement.getBoundingClientRect&&(CKEDITOR.env.ie?8!==CKEDITOR.env.version:1)){var r=this.$.getBoundingClientRect(),s=n.$.documentElement,l=s.clientTop||o.$.clientTop||0,d=s.clientLeft||o.$.clientLeft||0,c=!0;CKEDITOR.env.ie&&(c=n.getDocumentElement().contains(this),n=n.getBody().contains(this),c=a&&n||!a&&c),c&&(CKEDITOR.env.webkit||CKEDITOR.env.ie&&12<=CKEDITOR.env.version?(e=o.$.scrollLeft||s.scrollLeft,i=o.$.scrollTop||s.scrollTop):(i=a?o.$:s,e=i.scrollLeft,i=i.scrollTop),e=r.left+e-d,i=r.top+i-l)}else for(l=this,d=null;l&&"body"!=l.getName()&&"html"!=l.getName();){for(e+=l.$.offsetLeft-l.$.scrollLeft,i+=l.$.offsetTop-l.$.scrollTop,l.equals(this)||(e+=l.$.clientLeft||0,i+=l.$.clientTop||0);d&&!d.equals(l);)e-=d.$.scrollLeft,i-=d.$.scrollTop,d=d.getParent();d=l,l=(r=l.$.offsetParent)?new CKEDITOR.dom.element(r):null}return t&&(r=this.getWindow(),l=t.getWindow(),!r.equals(l)&&r.$.frameElement&&(t=new CKEDITOR.dom.element(r.$.frameElement).getDocumentPosition(t),e+=t.x,i+=t.y)),document.documentElement.getBoundingClientRect||!CKEDITOR.env.gecko||a||(e+=this.$.clientLeft?1:0,i+=this.$.clientTop?1:0),{x:e,y:i}},scrollIntoView:function(t){var e=this.getParent();if(e)do{if((e.$.clientWidth&&e.$.clientWidth<e.$.scrollWidth||e.$.clientHeight&&e.$.clientHeight<e.$.scrollHeight)&&!e.is("body")&&this.scrollIntoParent(e,t,1),e.is("html")){var i=e.getWindow();try{var n=i.$.frameElement;n&&(e=new CKEDITOR.dom.element(n))}catch(t){}}}while(e=e.getParent())},scrollIntoParent:function(t,e,i){function n(e,i){/body|html/.test(t.getName())?t.getWindow().$.scrollBy(e,i):(t.$.scrollLeft+=e,t.$.scrollTop+=i)}function o(t,e){var i={x:0,y:0};if(!t.is(c?"body":"html")){var n=t.$.getBoundingClientRect();i.x=n.left,i.y=n.top}return n=t.getWindow(),n.equals(e)||(n=o(CKEDITOR.dom.element.get(n.$.frameElement),e),i.x+=n.x,i.y+=n.y),i}function a(t,e){return parseInt(t.getComputedStyle("margin-"+e)||0,10)||0}var r,s,l,d;!t&&(t=this.getWindow()),l=t.getDocument();var c="BackCompat"==l.$.compatMode;t instanceof CKEDITOR.dom.window&&(t=c?l.getBody():l.getDocumentElement()),CKEDITOR.env.webkit&&(l=this.getEditor(!1))&&(l._.previousScrollTop=null),l=t.getWindow(),s=o(this,l);var h=o(t,l),u=this.$.offsetHeight;r=this.$.offsetWidth;var f=t.$.clientHeight,p=t.$.clientWidth;l=s.x-a(this,"left")-h.x||0,d=s.y-a(this,"top")-h.y||0,r=s.x+r+a(this,"right")-(h.x+p)||0,s=s.y+u+a(this,"bottom")-(h.y+f)||0,(0>d||0<s)&&n(0,!0===e?d:!1===e?s:0>d?d:s),i&&(0>l||0<r)&&n(0>l?l:r,0)},setState:function(t,e,i){switch(e=e||"cke",t){case CKEDITOR.TRISTATE_ON:this.addClass(e+"_on"),this.removeClass(e+"_off"),this.removeClass(e+"_disabled"),i&&this.setAttribute("aria-pressed",!0),i&&this.removeAttribute("aria-disabled");break;case CKEDITOR.TRISTATE_DISABLED:this.addClass(e+"_disabled"),this.removeClass(e+"_off"),this.removeClass(e+"_on"),i&&this.setAttribute("aria-disabled",!0),i&&this.removeAttribute("aria-pressed");break;default:this.addClass(e+"_off"),this.removeClass(e+"_on"),this.removeClass(e+"_disabled"),i&&this.removeAttribute("aria-pressed"),i&&this.removeAttribute("aria-disabled")}},getFrameDocument:function(){var t=this.$;try{t.contentWindow.document}catch(e){t.src=t.src}return t&&new CKEDITOR.dom.document(t.contentWindow.document)},copyAttributes:function(t,e){var i=this.$.attributes;e=e||{};for(var n=0;n<i.length;n++){var o,a=i[n],r=a.nodeName.toLowerCase();r in e||("checked"==r&&(o=this.getAttribute(r))?t.setAttribute(r,o):CKEDITOR.env.ie&&!this.hasAttribute(r)||(o=this.getAttribute(r),null===o&&(o=a.nodeValue),t.setAttribute(r,o)))}""!==this.$.style.cssText&&(t.$.style.cssText=this.$.style.cssText)},renameNode:function(t){if(this.getName()!=t){var e=this.getDocument();t=new CKEDITOR.dom.element(t,e),this.copyAttributes(t),this.moveChildren(t),this.getParent(!0)&&this.$.parentNode.replaceChild(t.$,this.$),t.$["data-cke-expando"]=this.$["data-cke-expando"],this.$=t.$,delete this.getName}},getChild:function(){function t(t,e){var i=t.childNodes;if(0<=e&&e<i.length)return i[e]}return function(e){var i=this.$;if(e.slice)for(e=e.slice();0<e.length&&i;)i=t(i,e.shift());else i=t(i,e);return i?new CKEDITOR.dom.node(i):null}}(),getChildCount:function(){return this.$.childNodes.length},disableContextMenu:function(){function t(t){return t.type==CKEDITOR.NODE_ELEMENT&&t.hasClass("cke_enable_context_menu")}this.on("contextmenu",function(e){e.data.getTarget().getAscendant(t,!0)||e.data.preventDefault()})},getDirection:function(t){return t?this.getComputedStyle("direction")||this.getDirection()||this.getParent()&&this.getParent().getDirection(1)||this.getDocument().$.dir||"ltr":this.getStyle("direction")||this.getAttribute("dir")},data:function(t,e){return t="data-"+t,void 0===e?this.getAttribute(t):(!1===e?this.removeAttribute(t):this.setAttribute(t,e),null)},getEditor:function(t){var e,i,n,o=CKEDITOR.instances;t=t||void 0===t;for(e in o)if(i=o[e],i.element.equals(this)&&i.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO||!t&&(n=i.editable())&&(n.equals(this)||n.contains(this)))return i;return null},find:function(t){var n=e(this);return t=new CKEDITOR.dom.nodeList(this.$.querySelectorAll(i(this,t))),n(),t},findOne:function(t){var n=e(this);return t=this.$.querySelector(i(this,t)),n(),t?new CKEDITOR.dom.element(t):null},forEach:function(t,e,i){if(!(i||e&&this.type!=e))var n=t(this);if(!1!==n){i=this.getChildren();for(var o=0;o<i.count();o++)n=i.getItem(o),n.type==CKEDITOR.NODE_ELEMENT?n.forEach(t,e):e&&n.type!=e||t(n)}}});var r={width:["border-left-width","border-right-width","padding-left","padding-right"],height:["border-top-width","border-bottom-width","padding-top","padding-bottom"]};CKEDITOR.dom.element.prototype.setSize=function(t,e,i){"number"==typeof e&&(!i||CKEDITOR.env.ie&&CKEDITOR.env.quirks||(e-=n.call(this,t)),this.setStyle(t,e+"px"))},CKEDITOR.dom.element.prototype.getSize=function(t,e){var i=Math.max(this.$["offset"+CKEDITOR.tools.capitalize(t)],this.$["client"+CKEDITOR.tools.capitalize(t)])||0;return e&&(i-=n.call(this,t)),i}}(),CKEDITOR.dom.documentFragment=function(t){t=t||CKEDITOR.document,this.$=t.type==CKEDITOR.NODE_DOCUMENT?t.$.createDocumentFragment():t},CKEDITOR.tools.extend(CKEDITOR.dom.documentFragment.prototype,CKEDITOR.dom.element.prototype,{type:CKEDITOR.NODE_DOCUMENT_FRAGMENT,insertAfterNode:function(t){t=t.$,t.parentNode.insertBefore(this.$,t.nextSibling)},getHtml:function(){var t=new CKEDITOR.dom.element("div");return this.clone(1,1).appendTo(t),t.getHtml().replace(/\s*data-cke-expando=".*?"/g,"")}},!0,{append:1,appendBogus:1,clone:1,getFirst:1,getHtml:1,getLast:1,getParent:1,getNext:1,getPrevious:1,appendTo:1,moveChildren:1,insertBefore:1,insertAfterNode:1,replace:1,trim:1,type:1,ltrim:1,rtrim:1,getDocument:1,getChildCount:1,getChild:1,getChildren:1}),function(){function t(t,e){var i=this.range;if(this._.end)return null;if(!this._.start){if(this._.start=1,i.collapsed)return this.end(),null;i.optimize()}var n,o=i.startContainer;n=i.endContainer;var a,r=i.startOffset,s=i.endOffset,l=this.guard,d=this.type,c=t?"getPreviousSourceNode":"getNextSourceNode";if(!t&&!this._.guardLTR){var h=n.type==CKEDITOR.NODE_ELEMENT?n:n.getParent(),u=n.type==CKEDITOR.NODE_ELEMENT?n.getChild(s):n.getNext();this._.guardLTR=function(t,e){return!(e&&h.equals(t)||u&&t.equals(u)||t.type==CKEDITOR.NODE_ELEMENT&&e&&t.equals(i.root))}}if(t&&!this._.guardRTL){var f=o.type==CKEDITOR.NODE_ELEMENT?o:o.getParent(),p=o.type==CKEDITOR.NODE_ELEMENT?r?o.getChild(r-1):null:o.getPrevious();this._.guardRTL=function(t,e){return!(e&&f.equals(t)||p&&t.equals(p)||t.type==CKEDITOR.NODE_ELEMENT&&e&&t.equals(i.root))}}var m=t?this._.guardRTL:this._.guardLTR;for(a=l?function(t,e){return!1!==m(t,e)&&l(t,e)}:m,this.current?n=this.current[c](!1,d,a):(t?n.type==CKEDITOR.NODE_ELEMENT&&(n=0<s?n.getChild(s-1):!1===a(n,!0)?null:n.getPreviousSourceNode(!0,d,a)):(n=o,n.type==CKEDITOR.NODE_ELEMENT&&((n=n.getChild(r))||(n=!1===a(o,!0)?null:o.getNextSourceNode(!0,d,a)))),n&&!1===a(n)&&(n=null));n&&!this._.end;){if(this.current=n,this.evaluator&&!1===this.evaluator(n)){if(e&&this.evaluator)return!1}else if(!e)return n;n=n[c](!1,d,a)}return this.end(),this.current=null}function e(e){for(var i,n=null;i=t.call(this,e);)n=i;return n}CKEDITOR.dom.walker=CKEDITOR.tools.createClass({$:function(t){this.range=t,this._={}},proto:{end:function(){this._.end=1},next:function(){return t.call(this)},previous:function(){return t.call(this,1)},checkForward:function(){return!1!==t.call(this,0,1)},checkBackward:function(){return!1!==t.call(this,1,1)},lastForward:function(){return e.call(this)},lastBackward:function(){return e.call(this,1)},reset:function(){delete this.current,this._={}}}});var i={block:1,"list-item":1,table:1,
"table-row-group":1,"table-header-group":1,"table-footer-group":1,"table-row":1,"table-column-group":1,"table-column":1,"table-cell":1,"table-caption":1},n={absolute:1,fixed:1};CKEDITOR.dom.element.prototype.isBlockBoundary=function(t){return!("none"!=this.getComputedStyle("float")||this.getComputedStyle("position")in n||!i[this.getComputedStyle("display")])||!!(this.is(CKEDITOR.dtd.$block)||t&&this.is(t))},CKEDITOR.dom.walker.blockBoundary=function(t){return function(e){return!(e.type==CKEDITOR.NODE_ELEMENT&&e.isBlockBoundary(t))}},CKEDITOR.dom.walker.listItemBoundary=function(){return this.blockBoundary({br:1})},CKEDITOR.dom.walker.bookmark=function(t,e){function i(t){return t&&t.getName&&"span"==t.getName()&&t.data("cke-bookmark")}return function(n){var o,a;return o=n&&n.type!=CKEDITOR.NODE_ELEMENT&&(a=n.getParent())&&i(a),o=t?o:o||i(n),!!(e^o)}},CKEDITOR.dom.walker.whitespaces=function(t){return function(e){var i;return e&&e.type==CKEDITOR.NODE_TEXT&&(i=!CKEDITOR.tools.trim(e.getText())||CKEDITOR.env.webkit&&e.getText()==CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE),!!(t^i)}},CKEDITOR.dom.walker.invisible=function(t){var e=CKEDITOR.dom.walker.whitespaces(),i=CKEDITOR.env.webkit?1:0;return function(n){return e(n)?n=1:(n.type==CKEDITOR.NODE_TEXT&&(n=n.getParent()),n=n.$.offsetWidth<=i),!!(t^n)}},CKEDITOR.dom.walker.nodeType=function(t,e){return function(i){return!!(e^i.type==t)}},CKEDITOR.dom.walker.bogus=function(t){function e(t){return!a(t)&&!r(t)}return function(i){var n=CKEDITOR.env.needsBrFiller?i.is&&i.is("br"):i.getText&&o.test(i.getText());return n&&(n=i.getParent(),i=i.getNext(e),n=n.isBlockBoundary()&&(!i||i.type==CKEDITOR.NODE_ELEMENT&&i.isBlockBoundary())),!!(t^n)}},CKEDITOR.dom.walker.temp=function(t){return function(e){return e.type!=CKEDITOR.NODE_ELEMENT&&(e=e.getParent()),e=e&&e.hasAttribute("data-cke-temp"),!!(t^e)}};var o=/^[\t\r\n ]*(?:&nbsp;|\xa0)$/,a=CKEDITOR.dom.walker.whitespaces(),r=CKEDITOR.dom.walker.bookmark(),s=CKEDITOR.dom.walker.temp(),l=function(t){return r(t)||a(t)||t.type==CKEDITOR.NODE_ELEMENT&&t.is(CKEDITOR.dtd.$inline)&&!t.is(CKEDITOR.dtd.$empty)};CKEDITOR.dom.walker.ignored=function(t){return function(e){return e=a(e)||r(e)||s(e),!!(t^e)}};var d=CKEDITOR.dom.walker.ignored();CKEDITOR.dom.walker.empty=function(t){return function(e){for(var i=0,n=e.getChildCount();i<n;++i)if(!d(e.getChild(i)))return!!t;return!t}};var c=CKEDITOR.dom.walker.empty(),h=CKEDITOR.dom.walker.validEmptyBlockContainers=CKEDITOR.tools.extend(function(t){var e,i={};for(e in t)CKEDITOR.dtd[e]["#"]&&(i[e]=1);return i}(CKEDITOR.dtd.$block),{caption:1,td:1,th:1});CKEDITOR.dom.walker.editable=function(t){return function(e){return e=!d(e)&&!!(e.type==CKEDITOR.NODE_TEXT||e.type==CKEDITOR.NODE_ELEMENT&&(e.is(CKEDITOR.dtd.$inline)||e.is("hr")||"false"==e.getAttribute("contenteditable")||!CKEDITOR.env.needsBrFiller&&e.is(h)&&c(e))),!!(t^e)}},CKEDITOR.dom.element.prototype.getBogus=function(){var t=this;do{t=t.getPreviousSourceNode()}while(l(t));return!(!t||!(CKEDITOR.env.needsBrFiller?t.is&&t.is("br"):t.getText&&o.test(t.getText())))&&t}}(),CKEDITOR.dom.range=function(t){this.endOffset=this.endContainer=this.startOffset=this.startContainer=null,this.collapsed=!0;var e=t instanceof CKEDITOR.dom.document;this.document=e?t:t.getDocument(),this.root=e?t.getBody():t},function(){function t(t){t.collapsed=t.startContainer&&t.endContainer&&t.startContainer.equals(t.endContainer)&&t.startOffset==t.endOffset}function e(t,e,i,n,o){function a(t,e,i,n){var a=i?t.getPrevious():t.getNext();return n&&l?a:(c||n?e.append(t.clone(!0,o),i):(t.remove(),d&&e.append(t,i)),a)}function r(){var t,e,i,n=Math.min(I.length,O.length);for(t=0;t<n;t++)if(e=I[t],i=O[t],!e.equals(i))return t;return t-1}function s(){var e=R-1,i=f&&p&&!v.equals(b);e<x-1||e<w-1||i?(i?t.moveToPosition(b,CKEDITOR.POSITION_BEFORE_START):w==e+1&&u?t.moveToPosition(O[e],CKEDITOR.POSITION_BEFORE_END):t.moveToPosition(O[e+1],CKEDITOR.POSITION_BEFORE_START),n&&(e=I[e+1])&&e.type==CKEDITOR.NODE_ELEMENT&&(i=CKEDITOR.dom.element.createFromHtml('<span data-cke-bookmark="1" style="display:none">&nbsp;</span>',t.document),i.insertAfter(e),e.mergeSiblings(!1),t.moveToBookmark({startNode:i}))):t.collapse(!0)}t.optimizeBookmark();var l=0===e,d=1==e,c=2==e;e=c||d;var h,u,f,p,m,g,v=t.startContainer,b=t.endContainer,T=t.startOffset,E=t.endOffset;if(c&&b.type==CKEDITOR.NODE_TEXT&&(v.equals(b)||v.type===CKEDITOR.NODE_ELEMENT&&v.getFirst().equals(b)))i.append(t.document.createText(b.substring(T,E)));else{b.type==CKEDITOR.NODE_TEXT?c?g=!0:b=b.split(E):0<b.getChildCount()?E>=b.getChildCount()?(b=b.getChild(E-1),u=!0):b=b.getChild(E):p=u=!0,v.type==CKEDITOR.NODE_TEXT?c?m=!0:v.split(T):0<v.getChildCount()?0===T?(v=v.getChild(T),h=!0):v=v.getChild(T-1):f=h=!0;for(var C,y,D,I=v.getParents(),O=b.getParents(),R=r(),x=I.length-1,w=O.length-1,k=i,_=-1,S=R;S<=x;S++){for(y=I[S],D=y.getNext(),S!=x||y.equals(O[S])&&x<w?e&&(C=k.append(y.clone(0,o))):h?a(y,k,!1,f):m&&k.append(t.document.createText(y.substring(T)));D;){if(D.equals(O[S])){_=S;break}D=a(D,k)}k=C}for(k=i,S=R;S<=w;S++)if(i=O[S],D=i.getPrevious(),i.equals(I[S]))e&&(k=k.getChild(0));else{if(S!=w||i.equals(I[S])&&w<x?e&&(C=k.append(i.clone(0,o))):u?a(i,k,!1,p):g&&k.append(t.document.createText(i.substring(0,E))),S>_)for(;D;)D=a(D,k,!0);k=C}c||s()}}function i(){var t=!1,e=CKEDITOR.dom.walker.whitespaces(),i=CKEDITOR.dom.walker.bookmark(!0),n=CKEDITOR.dom.walker.bogus();return function(o){return!(!i(o)&&!e(o))||(n(o)&&!t?t=!0:!(o.type==CKEDITOR.NODE_TEXT&&(o.hasAscendant("pre")||CKEDITOR.tools.trim(o.getText()).length)||o.type==CKEDITOR.NODE_ELEMENT&&!o.is(a)))}}function n(t){var e=CKEDITOR.dom.walker.whitespaces(),i=CKEDITOR.dom.walker.bookmark(1);return function(n){return!(!i(n)&&!e(n))||(!t&&r(n)||n.type==CKEDITOR.NODE_ELEMENT&&n.is(CKEDITOR.dtd.$removeEmpty))}}function o(t){return function(){var e;return this[t?"getPreviousNode":"getNextNode"](function(t){return!e&&d(t)&&(e=t),l(t)&&!(r(t)&&t.equals(e))})}}var a={abbr:1,acronym:1,b:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,q:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,tt:1,u:1,"var":1},r=CKEDITOR.dom.walker.bogus(),s=/^[\t\r\n ]*(?:&nbsp;|\xa0)$/,l=CKEDITOR.dom.walker.editable(),d=CKEDITOR.dom.walker.ignored(!0);CKEDITOR.dom.range.prototype={clone:function(){var t=new CKEDITOR.dom.range(this.root);return t._setStartContainer(this.startContainer),t.startOffset=this.startOffset,t._setEndContainer(this.endContainer),t.endOffset=this.endOffset,t.collapsed=this.collapsed,t},collapse:function(t){t?(this._setEndContainer(this.startContainer),this.endOffset=this.startOffset):(this._setStartContainer(this.endContainer),this.startOffset=this.endOffset),this.collapsed=!0},cloneContents:function(t){var i=new CKEDITOR.dom.documentFragment(this.document);return this.collapsed||e(this,2,i,!1,void 0===t||t),i},deleteContents:function(t){this.collapsed||e(this,0,null,t)},extractContents:function(t,i){var n=new CKEDITOR.dom.documentFragment(this.document);return this.collapsed||e(this,1,n,t,void 0===i||i),n},createBookmark:function(t){var e,i,n,o,a=this.collapsed;return e=this.document.createElement("span"),e.data("cke-bookmark",1),e.setStyle("display","none"),e.setHtml("&nbsp;"),t&&(n="cke_bm_"+CKEDITOR.tools.getNextNumber(),e.setAttribute("id",n+(a?"C":"S"))),a||(i=e.clone(),i.setHtml("&nbsp;"),t&&i.setAttribute("id",n+"E"),o=this.clone(),o.collapse(),o.insertNode(i)),o=this.clone(),o.collapse(!0),o.insertNode(e),i?(this.setStartAfter(e),this.setEndBefore(i)):this.moveToPosition(e,CKEDITOR.POSITION_AFTER_END),{startNode:t?n+(a?"C":"S"):e,endNode:t?n+"E":i,serializable:t,collapsed:a}},createBookmark2:function(){function t(t){var e,n=t.container,o=t.offset;e=n;var a=o;if(e=e.type!=CKEDITOR.NODE_ELEMENT||0===a||a==e.getChildCount()?0:e.getChild(a-1).type==CKEDITOR.NODE_TEXT&&e.getChild(a).type==CKEDITOR.NODE_TEXT,e&&(n=n.getChild(o-1),o=n.getLength()),n.type==CKEDITOR.NODE_ELEMENT&&0<o){t:{for(e=n;o--;)if(0<=(a=e.getChild(o).getIndex(!0))){o=a;break t}o=-1}o+=1}if(n.type==CKEDITOR.NODE_TEXT){for(e=n,a=0;(e=e.getPrevious())&&e.type==CKEDITOR.NODE_TEXT;)a+=e.getText().replace(CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE,"").length;e=a,n.getText()?o+=e:(a=n.getPrevious(i),e?(o=e,n=a?a.getNext():n.getParent().getFirst()):(n=n.getParent(),o=a?a.getIndex(!0)+1:0))}t.container=n,t.offset=o}function e(t,e){var i=e.getCustomData("cke-fillingChar");if(i){var n=t.container;i.equals(n)&&(t.offset-=CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE.length,0>=t.offset&&(t.offset=n.getIndex(),t.container=n.getParent()))}}var i=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_TEXT,!0);return function(i){var n=this.collapsed,o={container:this.startContainer,offset:this.startOffset},a={container:this.endContainer,offset:this.endOffset};return i&&(t(o),e(o,this.root),n||(t(a),e(a,this.root))),{start:o.container.getAddress(i),end:n?null:a.container.getAddress(i),startOffset:o.offset,endOffset:a.offset,normalized:i,collapsed:n,is2:!0}}}(),moveToBookmark:function(t){if(t.is2){var e=this.document.getByAddress(t.start,t.normalized),i=t.startOffset,n=t.end&&this.document.getByAddress(t.end,t.normalized);t=t.endOffset,this.setStart(e,i),n?this.setEnd(n,t):this.collapse(!0)}else e=(i=t.serializable)?this.document.getById(t.startNode):t.startNode,t=i?this.document.getById(t.endNode):t.endNode,this.setStartBefore(e),e.remove(),t?(this.setEndBefore(t),t.remove()):this.collapse(!0)},getBoundaryNodes:function(){var t,e=this.startContainer,i=this.endContainer,n=this.startOffset,o=this.endOffset;if(e.type==CKEDITOR.NODE_ELEMENT)if((t=e.getChildCount())>n)e=e.getChild(n);else if(1>t)e=e.getPreviousSourceNode();else{for(e=e.$;e.lastChild;)e=e.lastChild;e=new CKEDITOR.dom.node(e),e=e.getNextSourceNode()||e}if(i.type==CKEDITOR.NODE_ELEMENT)if((t=i.getChildCount())>o)i=i.getChild(o).getPreviousSourceNode(!0);else if(1>t)i=i.getPreviousSourceNode();else{for(i=i.$;i.lastChild;)i=i.lastChild;i=new CKEDITOR.dom.node(i)}return e.getPosition(i)&CKEDITOR.POSITION_FOLLOWING&&(e=i),{startNode:e,endNode:i}},getCommonAncestor:function(t,e){var i=this.startContainer,n=this.endContainer,i=i.equals(n)?t&&i.type==CKEDITOR.NODE_ELEMENT&&this.startOffset==this.endOffset-1?i.getChild(this.startOffset):i:i.getCommonAncestor(n);return e&&!i.is?i.getParent():i},optimize:function(){var t=this.startContainer,e=this.startOffset;t.type!=CKEDITOR.NODE_ELEMENT&&(e?e>=t.getLength()&&this.setStartAfter(t):this.setStartBefore(t)),t=this.endContainer,e=this.endOffset,t.type!=CKEDITOR.NODE_ELEMENT&&(e?e>=t.getLength()&&this.setEndAfter(t):this.setEndBefore(t))},optimizeBookmark:function(){var t=this.startContainer,e=this.endContainer;t.is&&t.is("span")&&t.data("cke-bookmark")&&this.setStartAt(t,CKEDITOR.POSITION_BEFORE_START),e&&e.is&&e.is("span")&&e.data("cke-bookmark")&&this.setEndAt(e,CKEDITOR.POSITION_AFTER_END)},trim:function(t,e){var i=this.startContainer,n=this.startOffset,o=this.collapsed;if((!t||o)&&i&&i.type==CKEDITOR.NODE_TEXT){if(n)if(n>=i.getLength())n=i.getIndex()+1,i=i.getParent();else{var a=i.split(n),n=i.getIndex()+1,i=i.getParent();this.startContainer.equals(this.endContainer)?this.setEnd(a,this.endOffset-this.startOffset):i.equals(this.endContainer)&&(this.endOffset+=1)}else n=i.getIndex(),i=i.getParent();if(this.setStart(i,n),o)return void this.collapse(!0)}i=this.endContainer,n=this.endOffset,e||o||!i||i.type!=CKEDITOR.NODE_TEXT||(n?(n>=i.getLength()||i.split(n),n=i.getIndex()+1):n=i.getIndex(),i=i.getParent(),this.setEnd(i,n))},enlarge:function(t,e){function i(t){return t&&t.type==CKEDITOR.NODE_ELEMENT&&t.hasAttribute("contenteditable")?null:t}var n=new RegExp(/[^\s\ufeff]/);switch(t){case CKEDITOR.ENLARGE_INLINE:var o=1;case CKEDITOR.ENLARGE_ELEMENT:var a=function(t,e){var i=new CKEDITOR.dom.range(p);i.setStart(t,e),i.setEndAt(p,CKEDITOR.POSITION_BEFORE_END);var o,i=new CKEDITOR.dom.walker(i);for(i.guard=function(t){return!(t.type==CKEDITOR.NODE_ELEMENT&&t.isBlockBoundary())};o=i.next();){if(o.type!=CKEDITOR.NODE_TEXT)return!1;if(u=o!=t?o.getText():o.substring(e),n.test(u))return!1}return!0};if(this.collapsed)break;var r,s,l,d,c,h,u,f=this.getCommonAncestor(),p=this.root,m=!1;h=this.startContainer;var g=this.startOffset;for(h.type==CKEDITOR.NODE_TEXT?(g&&(h=!CKEDITOR.tools.trim(h.substring(0,g)).length&&h,m=!!h),h&&((d=h.getPrevious())||(l=h.getParent()))):(g&&(d=h.getChild(g-1)||h.getLast()),d||(l=h)),l=i(l);l||d;){if(l&&!d){if(!c&&l.equals(f)&&(c=!0),o?l.isBlockBoundary():!p.contains(l))break;m&&"inline"==l.getComputedStyle("display")||(m=!1,c?r=l:this.setStartBefore(l)),d=l.getPrevious()}for(;d;)if(h=!1,d.type==CKEDITOR.NODE_COMMENT)d=d.getPrevious();else{if(d.type==CKEDITOR.NODE_TEXT)u=d.getText(),n.test(u)&&(d=null),h=/[\s\ufeff]$/.test(u);else if((d.$.offsetWidth>(CKEDITOR.env.webkit?1:0)||e&&d.is("br"))&&!d.data("cke-bookmark"))if(m&&CKEDITOR.dtd.$removeEmpty[d.getName()]){if(u=d.getText(),n.test(u))d=null;else for(var v,g=d.$.getElementsByTagName("*"),b=0;v=g[b++];)if(!CKEDITOR.dtd.$removeEmpty[v.nodeName.toLowerCase()]){d=null;break}d&&(h=!!u.length)}else d=null;if(h&&(m?c?r=l:l&&this.setStartBefore(l):m=!0),d){if(h=d.getPrevious(),!l&&!h){l=d,d=null;break}d=h}else l=null}l&&(l=i(l.getParent()))}for(h=this.endContainer,g=this.endOffset,l=d=null,c=m=!1,h.type==CKEDITOR.NODE_TEXT?CKEDITOR.tools.trim(h.substring(g)).length?m=!0:(m=!h.getLength(),g==h.getLength()?(d=h.getNext())||(l=h.getParent()):a(h,g)&&(l=h.getParent())):(d=h.getChild(g))||(l=h);l||d;){if(l&&!d){if(!c&&l.equals(f)&&(c=!0),o?l.isBlockBoundary():!p.contains(l))break;m&&"inline"==l.getComputedStyle("display")||(m=!1,c?s=l:l&&this.setEndAfter(l)),d=l.getNext()}for(;d;){if(h=!1,d.type==CKEDITOR.NODE_TEXT)u=d.getText(),a(d,0)||(d=null),h=/^[\s\ufeff]/.test(u);else if(d.type==CKEDITOR.NODE_ELEMENT){if((0<d.$.offsetWidth||e&&d.is("br"))&&!d.data("cke-bookmark"))if(m&&CKEDITOR.dtd.$removeEmpty[d.getName()]){if(u=d.getText(),n.test(u))d=null;else for(g=d.$.getElementsByTagName("*"),b=0;v=g[b++];)if(!CKEDITOR.dtd.$removeEmpty[v.nodeName.toLowerCase()]){d=null;break}d&&(h=!!u.length)}else d=null}else h=1;if(h&&m&&(c?s=l:this.setEndAfter(l)),d){if(h=d.getNext(),!l&&!h){l=d,d=null;break}d=h}else l=null}l&&(l=i(l.getParent()))}r&&s&&(f=r.contains(s)?s:r,this.setStartBefore(f),this.setEndAfter(f));break;case CKEDITOR.ENLARGE_BLOCK_CONTENTS:case CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS:l=new CKEDITOR.dom.range(this.root),p=this.root,l.setStartAt(p,CKEDITOR.POSITION_AFTER_START),l.setEnd(this.startContainer,this.startOffset),l=new CKEDITOR.dom.walker(l);var T,E,C=CKEDITOR.dom.walker.blockBoundary(t==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS?{br:1}:null),y=null,D=function(t){if(t.type==CKEDITOR.NODE_ELEMENT&&"false"==t.getAttribute("contenteditable"))if(y){if(y.equals(t))return void(y=null)}else y=t;else if(y)return;var e=C(t);return e||(T=t),e},o=function(t){var e=D(t);return!e&&t.is&&t.is("br")&&(E=t),e};if(l.guard=D,l=l.lastBackward(),T=T||p,this.setStartAt(T,!T.is("br")&&(!l&&this.checkStartOfBlock()||l&&T.contains(l))?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_AFTER_END),t==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS){l=this.clone(),l=new CKEDITOR.dom.walker(l);var I=CKEDITOR.dom.walker.whitespaces(),O=CKEDITOR.dom.walker.bookmark();if(l.evaluator=function(t){return!I(t)&&!O(t)},(l=l.previous())&&l.type==CKEDITOR.NODE_ELEMENT&&l.is("br"))break}l=this.clone(),l.collapse(),l.setEndAt(p,CKEDITOR.POSITION_BEFORE_END),l=new CKEDITOR.dom.walker(l),l.guard=t==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS?o:D,T=y=E=null,l=l.lastForward(),T=T||p,this.setEndAt(T,!l&&this.checkEndOfBlock()||l&&T.contains(l)?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_BEFORE_START),E&&this.setEndAfter(E)}},shrink:function(t,e,i){var n="boolean"==typeof i?i:!i||"boolean"!=typeof i.shrinkOnBlockBoundary||i.shrinkOnBlockBoundary,o=i&&i.skipBogus;if(!this.collapsed){t=t||CKEDITOR.SHRINK_TEXT;var a=this.clone(),r=this.startContainer,s=this.endContainer,l=this.startOffset,d=this.endOffset,c=i=1;r&&r.type==CKEDITOR.NODE_TEXT&&(l?l>=r.getLength()?a.setStartAfter(r):(a.setStartBefore(r),i=0):a.setStartBefore(r)),s&&s.type==CKEDITOR.NODE_TEXT&&(d?d>=s.getLength()?a.setEndAfter(s):(a.setEndAfter(s),c=0):a.setEndBefore(s));var a=new CKEDITOR.dom.walker(a),h=CKEDITOR.dom.walker.bookmark(),u=CKEDITOR.dom.walker.bogus();a.evaluator=function(e){return e.type==(t==CKEDITOR.SHRINK_ELEMENT?CKEDITOR.NODE_ELEMENT:CKEDITOR.NODE_TEXT)};var f;return a.guard=function(e,i){return!!(o&&u(e)||h(e))||!(t==CKEDITOR.SHRINK_ELEMENT&&e.type==CKEDITOR.NODE_TEXT||i&&e.equals(f)||!1===n&&e.type==CKEDITOR.NODE_ELEMENT&&e.isBlockBoundary()||e.type==CKEDITOR.NODE_ELEMENT&&e.hasAttribute("contenteditable"))&&(i||e.type!=CKEDITOR.NODE_ELEMENT||(f=e),!0)},i&&(r=a[t==CKEDITOR.SHRINK_ELEMENT?"lastForward":"next"]())&&this.setStartAt(r,e?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_START),c&&(a.reset(),(a=a[t==CKEDITOR.SHRINK_ELEMENT?"lastBackward":"previous"]())&&this.setEndAt(a,e?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_AFTER_END)),!(!i&&!c)}},insertNode:function(t){this.optimizeBookmark(),this.trim(!1,!0);var e=this.startContainer,i=e.getChild(this.startOffset);i?t.insertBefore(i):e.append(t),t.getParent()&&t.getParent().equals(this.endContainer)&&this.endOffset++,this.setStartBefore(t)},moveToPosition:function(t,e){this.setStartAt(t,e),this.collapse(!0)},moveToRange:function(t){this.setStart(t.startContainer,t.startOffset),this.setEnd(t.endContainer,t.endOffset)},selectNodeContents:function(t){this.setStart(t,0),this.setEnd(t,t.type==CKEDITOR.NODE_TEXT?t.getLength():t.getChildCount())},setStart:function(e,i){e.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$empty[e.getName()]&&(i=e.getIndex(),e=e.getParent()),this._setStartContainer(e),this.startOffset=i,this.endContainer||(this._setEndContainer(e),this.endOffset=i),t(this)},setEnd:function(e,i){e.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$empty[e.getName()]&&(i=e.getIndex()+1,e=e.getParent()),this._setEndContainer(e),this.endOffset=i,this.startContainer||(this._setStartContainer(e),this.startOffset=i),t(this)},setStartAfter:function(t){this.setStart(t.getParent(),t.getIndex()+1)},setStartBefore:function(t){this.setStart(t.getParent(),t.getIndex())},setEndAfter:function(t){this.setEnd(t.getParent(),t.getIndex()+1)},setEndBefore:function(t){this.setEnd(t.getParent(),t.getIndex())},setStartAt:function(e,i){switch(i){case CKEDITOR.POSITION_AFTER_START:this.setStart(e,0);break;case CKEDITOR.POSITION_BEFORE_END:e.type==CKEDITOR.NODE_TEXT?this.setStart(e,e.getLength()):this.setStart(e,e.getChildCount());break;case CKEDITOR.POSITION_BEFORE_START:this.setStartBefore(e);break;case CKEDITOR.POSITION_AFTER_END:this.setStartAfter(e)}t(this)},setEndAt:function(e,i){switch(i){case CKEDITOR.POSITION_AFTER_START:this.setEnd(e,0);break;case CKEDITOR.POSITION_BEFORE_END:e.type==CKEDITOR.NODE_TEXT?this.setEnd(e,e.getLength()):this.setEnd(e,e.getChildCount());break;case CKEDITOR.POSITION_BEFORE_START:this.setEndBefore(e);break;case CKEDITOR.POSITION_AFTER_END:this.setEndAfter(e)}t(this)},fixBlock:function(t,e){var i=this.createBookmark(),n=this.document.createElement(e);this.collapse(t),this.enlarge(CKEDITOR.ENLARGE_BLOCK_CONTENTS),this.extractContents().appendTo(n),n.trim(),this.insertNode(n);var o=n.getBogus();return o&&o.remove(),n.appendBogus(),this.moveToBookmark(i),n},splitBlock:function(t,e){var i=new CKEDITOR.dom.elementPath(this.startContainer,this.root),n=new CKEDITOR.dom.elementPath(this.endContainer,this.root),o=i.block,a=n.block,r=null;return i.blockLimit.equals(n.blockLimit)?("br"!=t&&(o||(o=this.fixBlock(!0,t),a=new CKEDITOR.dom.elementPath(this.endContainer,this.root).block),a||(a=this.fixBlock(!1,t))),i=o&&this.checkStartOfBlock(),n=a&&this.checkEndOfBlock(),this.deleteContents(),o&&o.equals(a)&&(n?(r=new CKEDITOR.dom.elementPath(this.startContainer,this.root),this.moveToPosition(a,CKEDITOR.POSITION_AFTER_END),a=null):i?(r=new CKEDITOR.dom.elementPath(this.startContainer,this.root),this.moveToPosition(o,CKEDITOR.POSITION_BEFORE_START),o=null):(a=this.splitElement(o,e||!1),o.is("ul","ol")||o.appendBogus())),{previousBlock:o,nextBlock:a,wasStartOfBlock:i,wasEndOfBlock:n,elementPath:r}):null},splitElement:function(t,e){if(!this.collapsed)return null;this.setEndAt(t,CKEDITOR.POSITION_BEFORE_END);var i=this.extractContents(!1,e||!1),n=t.clone(!1,e||!1);return i.appendTo(n),n.insertAfter(t),this.moveToPosition(t,CKEDITOR.POSITION_AFTER_END),n},removeEmptyBlocksAtEnd:function(){function t(t){return function(n){return!(e(n)||i(n)||n.type==CKEDITOR.NODE_ELEMENT&&n.isEmptyInlineRemoveable()||t.is("table")&&n.is("caption"))}}var e=CKEDITOR.dom.walker.whitespaces(),i=CKEDITOR.dom.walker.bookmark(!1);return function(e){for(var i,n=this.createBookmark(),o=this[e?"endPath":"startPath"](),a=o.block||o.blockLimit;a&&!a.equals(o.root)&&!a.getFirst(t(a));)i=a.getParent(),this[e?"setEndAt":"setStartAt"](a,CKEDITOR.POSITION_AFTER_END),a.remove(1),a=i;this.moveToBookmark(n)}}(),startPath:function(){return new CKEDITOR.dom.elementPath(this.startContainer,this.root)},endPath:function(){return new CKEDITOR.dom.elementPath(this.endContainer,this.root)},checkBoundaryOfElement:function(t,e){var i=e==CKEDITOR.START,o=this.clone();return o.collapse(i),o[i?"setStartAt":"setEndAt"](t,i?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_END),o=new CKEDITOR.dom.walker(o),o.evaluator=n(i),o[i?"checkBackward":"checkForward"]()},checkStartOfBlock:function(){var t=this.startContainer,e=this.startOffset;return CKEDITOR.env.ie&&e&&t.type==CKEDITOR.NODE_TEXT&&(t=CKEDITOR.tools.ltrim(t.substring(0,e)),s.test(t)&&this.trim(0,1)),this.trim(),t=new CKEDITOR.dom.elementPath(this.startContainer,this.root),e=this.clone(),e.collapse(!0),e.setStartAt(t.block||t.blockLimit,CKEDITOR.POSITION_AFTER_START),t=new CKEDITOR.dom.walker(e),t.evaluator=i(),t.checkBackward()},checkEndOfBlock:function(){var t=this.endContainer,e=this.endOffset;return CKEDITOR.env.ie&&t.type==CKEDITOR.NODE_TEXT&&(t=CKEDITOR.tools.rtrim(t.substring(e)),s.test(t)&&this.trim(1,0)),this.trim(),t=new CKEDITOR.dom.elementPath(this.endContainer,this.root),e=this.clone(),e.collapse(!1),e.setEndAt(t.block||t.blockLimit,CKEDITOR.POSITION_BEFORE_END),t=new CKEDITOR.dom.walker(e),t.evaluator=i(),t.checkForward()},getPreviousNode:function(t,e,i){var n=this.clone();return n.collapse(1),n.setStartAt(i||this.root,CKEDITOR.POSITION_AFTER_START),i=new CKEDITOR.dom.walker(n),i.evaluator=t,i.guard=e,i.previous()},getNextNode:function(t,e,i){var n=this.clone();return n.collapse(),n.setEndAt(i||this.root,CKEDITOR.POSITION_BEFORE_END),i=new CKEDITOR.dom.walker(n),i.evaluator=t,i.guard=e,i.next()},checkReadOnly:function(){function t(t,e){for(;t;){if(t.type==CKEDITOR.NODE_ELEMENT){if("false"==t.getAttribute("contentEditable")&&!t.data("cke-editable"))return 0;if(t.is("html")||"true"==t.getAttribute("contentEditable")&&(t.contains(e)||t.equals(e)))break}t=t.getParent()}return 1}return function(){var e=this.startContainer,i=this.endContainer;return!(t(e,i)&&t(i,e))}}(),moveToElementEditablePosition:function(t,e){if(t.type==CKEDITOR.NODE_ELEMENT&&!t.isEditable(!1))return this.moveToPosition(t,e?CKEDITOR.POSITION_AFTER_END:CKEDITOR.POSITION_BEFORE_START),!0;for(var i=0;t;){if(t.type==CKEDITOR.NODE_TEXT){e&&this.endContainer&&this.checkEndOfBlock()&&s.test(t.getText())?this.moveToPosition(t,CKEDITOR.POSITION_BEFORE_START):this.moveToPosition(t,e?CKEDITOR.POSITION_AFTER_END:CKEDITOR.POSITION_BEFORE_START),i=1;break}if(t.type==CKEDITOR.NODE_ELEMENT)if(t.isEditable())this.moveToPosition(t,e?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_AFTER_START),i=1;else if(e&&t.is("br")&&this.endContainer&&this.checkEndOfBlock())this.moveToPosition(t,CKEDITOR.POSITION_BEFORE_START);else if("false"==t.getAttribute("contenteditable")&&t.is(CKEDITOR.dtd.$block))return this.setStartBefore(t),this.setEndAfter(t),!0;var n=t,o=i,a=void 0;n.type==CKEDITOR.NODE_ELEMENT&&n.isEditable(!1)&&(a=n[e?"getLast":"getFirst"](d)),o||a||(a=n[e?"getPrevious":"getNext"](d)),t=a}return!!i},moveToClosestEditablePosition:function(t,e){var i,n,o,a=0,r=[CKEDITOR.POSITION_AFTER_END,CKEDITOR.POSITION_BEFORE_START];return t?(i=new CKEDITOR.dom.range(this.root),i.moveToPosition(t,r[e?0:1])):i=this.clone(),t&&!t.is(CKEDITOR.dtd.$block)?a=1:(n=i[e?"getNextEditableNode":"getPreviousEditableNode"]())&&(a=1,(o=n.type==CKEDITOR.NODE_ELEMENT)&&n.is(CKEDITOR.dtd.$block)&&"false"==n.getAttribute("contenteditable")?(i.setStartAt(n,CKEDITOR.POSITION_BEFORE_START),i.setEndAt(n,CKEDITOR.POSITION_AFTER_END)):!CKEDITOR.env.needsBrFiller&&o&&n.is(CKEDITOR.dom.walker.validEmptyBlockContainers)?(i.setEnd(n,0),i.collapse()):i.moveToPosition(n,r[e?1:0])),a&&this.moveToRange(i),!!a},moveToElementEditStart:function(t){return this.moveToElementEditablePosition(t)},moveToElementEditEnd:function(t){return this.moveToElementEditablePosition(t,!0)},getEnclosedNode:function(){var t=this.clone();if(t.optimize(),t.startContainer.type!=CKEDITOR.NODE_ELEMENT||t.endContainer.type!=CKEDITOR.NODE_ELEMENT)return null;var t=new CKEDITOR.dom.walker(t),e=CKEDITOR.dom.walker.bookmark(!1,!0),i=CKEDITOR.dom.walker.whitespaces(!0);t.evaluator=function(t){return i(t)&&e(t)};var n=t.next();return t.reset(),n&&n.equals(t.previous())?n:null},getTouchedStartNode:function(){var t=this.startContainer;return this.collapsed||t.type!=CKEDITOR.NODE_ELEMENT?t:t.getChild(this.startOffset)||t},getTouchedEndNode:function(){var t=this.endContainer;return this.collapsed||t.type!=CKEDITOR.NODE_ELEMENT?t:t.getChild(this.endOffset-1)||t},getNextEditableNode:o(),getPreviousEditableNode:o(1),_getTableElement:function(t){t=t||{td:1,th:1,tr:1,tbody:1,thead:1,tfoot:1,table:1};var e=this.startContainer,i=this.endContainer,n=e.getAscendant("table",!0),o=i.getAscendant("table",!0);return CKEDITOR.env.safari&&n&&i.equals(this.root)?e.getAscendant(t,!0):this.getEnclosedNode()?this.getEnclosedNode().getAscendant(t,!0):n&&o&&(n.equals(o)||n.contains(o)||o.contains(n))?e.getAscendant(t,!0):null},scrollIntoView:function(){var t,e,i,n=new CKEDITOR.dom.element.createFromHtml("<span>&nbsp;</span>",this.document),o=this.clone();o.optimize(),(i=o.startContainer.type==CKEDITOR.NODE_TEXT)?(e=o.startContainer.getText(),t=o.startContainer.split(o.startOffset),n.insertAfter(o.startContainer)):o.insertNode(n),n.scrollIntoView(),i&&(o.startContainer.setText(e),t.remove()),n.remove()},_setStartContainer:function(t){this.startContainer=t},_setEndContainer:function(t){this.endContainer=t},_find:function(t,e){var i,n,o,a,r=this.getCommonAncestor(),s=this.getBoundaryNodes(),l=[];if(r&&r.find)for(n=r.find(t),i=0;i<n.count();i++)r=n.getItem(i),(e||!r.isReadOnly())&&(o=r.getPosition(s.startNode)&CKEDITOR.POSITION_FOLLOWING||s.startNode.equals(r),a=r.getPosition(s.endNode)&CKEDITOR.POSITION_PRECEDING+CKEDITOR.POSITION_IS_CONTAINED||s.endNode.equals(r),o&&a&&l.push(r));return l}},CKEDITOR.dom.range.mergeRanges=function(t){return CKEDITOR.tools.array.reduce(t,function(t,e){var i=t[t.length-1],n=!1;if(e=e.clone(),e.enlarge(CKEDITOR.ENLARGE_ELEMENT),i){var o=new CKEDITOR.dom.range(e.root),n=new CKEDITOR.dom.walker(o),a=CKEDITOR.dom.walker.whitespaces();for(o.setStart(i.endContainer,i.endOffset),o.setEnd(e.startContainer,e.startOffset),o=n.next();a(o)||e.endContainer.equals(o);)o=n.next();n=!o}return n?i.setEnd(e.endContainer,e.endOffset):t.push(e),t},[])}}(),CKEDITOR.POSITION_AFTER_START=1,CKEDITOR.POSITION_BEFORE_END=2,CKEDITOR.POSITION_BEFORE_START=3,CKEDITOR.POSITION_AFTER_END=4,CKEDITOR.ENLARGE_ELEMENT=1,CKEDITOR.ENLARGE_BLOCK_CONTENTS=2,CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS=3,CKEDITOR.ENLARGE_INLINE=4,CKEDITOR.START=1,CKEDITOR.END=2,CKEDITOR.SHRINK_ELEMENT=1,CKEDITOR.SHRINK_TEXT=2,function(){function t(t){1>arguments.length||(this.range=t,this.forceBrBreak=0,this.enlargeBr=1,this.enforceRealBlocks=0,this._||(this._={}))}function e(t){var e=[];return t.forEach(function(t){if("true"==t.getAttribute("contenteditable"))return e.push(t),!1},CKEDITOR.NODE_ELEMENT,!0),e}function i(t,n,o,a){t:{null==a&&(a=e(o));for(var r;r=a.shift();)if(r.getDtd().p){a={element:r,remaining:a};break t}a=null}return a?(r=CKEDITOR.filter.instances[a.element.data("cke-filter")])&&!r.check(n)?i(t,n,o,a.remaining):(n=new CKEDITOR.dom.range(a.element),n.selectNodeContents(a.element),n=n.createIterator(),n.enlargeBr=t.enlargeBr,n.enforceRealBlocks=t.enforceRealBlocks,n.activeFilter=n.filter=r,t._.nestedEditable={element:a.element,container:o,remaining:a.remaining,iterator:n},1):0}function n(t,e,i){return!!e&&(t=t.clone(),t.collapse(!i),t.checkBoundaryOfElement(e,i?CKEDITOR.START:CKEDITOR.END))}var o=/^[\r\n\t ]+$/,a=CKEDITOR.dom.walker.bookmark(!1,!0),r=CKEDITOR.dom.walker.whitespaces(!0),s=function(t){return a(t)&&r(t)},l={dd:1,dt:1,li:1};t.prototype={getNextParagraph:function(t){var e,r,d,c,h;if(t=t||"p",this._.nestedEditable){if(e=this._.nestedEditable.iterator.getNextParagraph(t))return this.activeFilter=this._.nestedEditable.iterator.activeFilter,e;if(this.activeFilter=this.filter,i(this,t,this._.nestedEditable.container,this._.nestedEditable.remaining))return this.activeFilter=this._.nestedEditable.iterator.activeFilter,this._.nestedEditable.iterator.getNextParagraph(t);this._.nestedEditable=null}if(!this.range.root.getDtd()[t])return null;if(!this._.started){var u=this.range.clone();r=u.startPath();var f=u.endPath(),p=!u.collapsed&&n(u,r.block),m=!u.collapsed&&n(u,f.block,1);u.shrink(CKEDITOR.SHRINK_ELEMENT,!0),p&&u.setStartAt(r.block,CKEDITOR.POSITION_BEFORE_END),m&&u.setEndAt(f.block,CKEDITOR.POSITION_AFTER_START),r=u.endContainer.hasAscendant("pre",!0)||u.startContainer.hasAscendant("pre",!0),u.enlarge(this.forceBrBreak&&!r||!this.enlargeBr?CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS:CKEDITOR.ENLARGE_BLOCK_CONTENTS),u.collapsed||(r=new CKEDITOR.dom.walker(u.clone()),f=CKEDITOR.dom.walker.bookmark(!0,!0),r.evaluator=f,this._.nextNode=r.next(),r=new CKEDITOR.dom.walker(u.clone()),r.evaluator=f,r=r.previous(),this._.lastNode=r.getNextSourceNode(!0,null,u.root),this._.lastNode&&this._.lastNode.type==CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.trim(this._.lastNode.getText())&&this._.lastNode.getParent().isBlockBoundary()&&(f=this.range.clone(),f.moveToPosition(this._.lastNode,CKEDITOR.POSITION_AFTER_END),f.checkEndOfBlock()&&(f=new CKEDITOR.dom.elementPath(f.endContainer,f.root),this._.lastNode=(f.block||f.blockLimit).getNextSourceNode(!0))),this._.lastNode&&u.root.contains(this._.lastNode)||(this._.lastNode=this._.docEndMarker=u.document.createText(""),this._.lastNode.insertAfter(r)),u=null),this._.started=1,r=u}for(f=this._.nextNode,u=this._.lastNode,this._.nextNode=null;f;){var p=0,m=f.hasAscendant("pre"),g=f.type!=CKEDITOR.NODE_ELEMENT,v=0;if(g)f.type==CKEDITOR.NODE_TEXT&&o.test(f.getText())&&(g=0);else{var b=f.getName();if(CKEDITOR.dtd.$block[b]&&"false"==f.getAttribute("contenteditable")){e=f,i(this,t,e);break}if(f.isBlockBoundary(this.forceBrBreak&&!m&&{br:1})){if("br"==b)g=1;else if(!r&&!f.getChildCount()&&"hr"!=b){e=f,d=f.equals(u);break}r&&(r.setEndAt(f,CKEDITOR.POSITION_BEFORE_START),"br"!=b&&(this._.nextNode=f)),p=1}else{if(f.getFirst()){r||(r=this.range.clone(),r.setStartAt(f,CKEDITOR.POSITION_BEFORE_START)),f=f.getFirst();continue}g=1}}if(g&&!r&&(r=this.range.clone(),r.setStartAt(f,CKEDITOR.POSITION_BEFORE_START)),d=(!p||g)&&f.equals(u),r&&!p)for(;!f.getNext(s)&&!d;){if(b=f.getParent(),b.isBlockBoundary(this.forceBrBreak&&!m&&{br:1})){p=1,g=0,d||b.equals(u),r.setEndAt(b,CKEDITOR.POSITION_BEFORE_END);break}f=b,g=1,d=f.equals(u),v=1}if(g&&r.setEndAt(f,CKEDITOR.POSITION_AFTER_END),f=this._getNextSourceNode(f,v,u),(d=!f)||p&&r)break}if(!e){if(!r)return this._.docEndMarker&&this._.docEndMarker.remove(),this._.nextNode=null;e=new CKEDITOR.dom.elementPath(r.startContainer,r.root),f=e.blockLimit,p={div:1,th:1,td:1},e=e.block,!e&&f&&!this.enforceRealBlocks&&p[f.getName()]&&r.checkStartOfBlock()&&r.checkEndOfBlock()&&!f.equals(r.root)?e=f:!e||this.enforceRealBlocks&&e.is(l)?(e=this.range.document.createElement(t),r.extractContents().appendTo(e),e.trim(),r.insertNode(e),c=h=!0):"li"!=e.getName()?r.checkStartOfBlock()&&r.checkEndOfBlock()||(e=e.clone(!1),r.extractContents().appendTo(e),e.trim(),h=r.splitBlock(),c=!h.wasStartOfBlock,h=!h.wasEndOfBlock,r.insertNode(e)):d||(this._.nextNode=e.equals(u)?null:this._getNextSourceNode(r.getBoundaryNodes().endNode,1,u))}return c&&(c=e.getPrevious())&&c.type==CKEDITOR.NODE_ELEMENT&&("br"==c.getName()?c.remove():c.getLast()&&"br"==c.getLast().$.nodeName.toLowerCase()&&c.getLast().remove()),h&&(c=e.getLast())&&c.type==CKEDITOR.NODE_ELEMENT&&"br"==c.getName()&&(!CKEDITOR.env.needsBrFiller||c.getPrevious(a)||c.getNext(a))&&c.remove(),this._.nextNode||(this._.nextNode=d||e.equals(u)||!u?null:this._getNextSourceNode(e,1,u)),e},_getNextSourceNode:function(t,e,i){
function n(t){return!(t.equals(i)||t.equals(o))}var o=this.range.root;for(t=t.getNextSourceNode(e,null,n);!a(t);)t=t.getNextSourceNode(e,null,n);return t}},CKEDITOR.dom.range.prototype.createIterator=function(){return new t(this)}}(),CKEDITOR.command=function(t,e){this.uiItems=[],this.exec=function(i){return!(this.state==CKEDITOR.TRISTATE_DISABLED||!this.checkAllowed())&&(this.editorFocus&&t.focus(),!1===this.fire("exec")||!1!==e.exec.call(this,t,i))},this.refresh=function(t,i){return!(this.readOnly||!t.readOnly)||(this.context&&!i.isContextFor(this.context)||!this.checkAllowed(!0)?(this.disable(),!0):(this.startDisabled||this.enable(),this.modes&&!this.modes[t.mode]&&this.disable(),!1===this.fire("refresh",{editor:t,path:i})||e.refresh&&!1!==e.refresh.apply(this,arguments)))};var i;this.checkAllowed=function(e){return e||"boolean"!=typeof i?i=t.activeFilter.checkFeature(this):i},CKEDITOR.tools.extend(this,e,{modes:{wysiwyg:1},editorFocus:1,contextSensitive:!!e.context,state:CKEDITOR.TRISTATE_DISABLED}),CKEDITOR.event.call(this)},CKEDITOR.command.prototype={enable:function(){this.state==CKEDITOR.TRISTATE_DISABLED&&this.checkAllowed()&&this.setState(this.preserveState&&"undefined"!=typeof this.previousState?this.previousState:CKEDITOR.TRISTATE_OFF)},disable:function(){this.setState(CKEDITOR.TRISTATE_DISABLED)},setState:function(t){return!(this.state==t||t!=CKEDITOR.TRISTATE_DISABLED&&!this.checkAllowed())&&(this.previousState=this.state,this.state=t,this.fire("state"),!0)},toggleState:function(){this.state==CKEDITOR.TRISTATE_OFF?this.setState(CKEDITOR.TRISTATE_ON):this.state==CKEDITOR.TRISTATE_ON&&this.setState(CKEDITOR.TRISTATE_OFF)}},CKEDITOR.event.implementOn(CKEDITOR.command.prototype),CKEDITOR.ENTER_P=1,CKEDITOR.ENTER_BR=2,CKEDITOR.ENTER_DIV=3,CKEDITOR.config={customConfig:"config.js",autoUpdateElement:!0,language:"",defaultLanguage:"en",contentsLangDirection:"",enterMode:CKEDITOR.ENTER_P,forceEnterMode:!1,shiftEnterMode:CKEDITOR.ENTER_BR,docType:"<!DOCTYPE html>",bodyId:"",bodyClass:"",fullPage:!1,height:200,contentsCss:CKEDITOR.getUrl("contents.css"),extraPlugins:"",removePlugins:"",protectedSource:[],tabIndex:0,width:"",baseFloatZIndex:1e4,blockedKeystrokes:[CKEDITOR.CTRL+66,CKEDITOR.CTRL+73,CKEDITOR.CTRL+85]},function(){function t(t,e,i,n,o){var a,s;t=[];for(a in e){s=e[a],s="boolean"==typeof s?{}:"function"==typeof s?{match:s}:x(s),"$"!=a.charAt(0)&&(s.elements=a),i&&(s.featureName=i.toLowerCase());var l=s;l.elements=r(l.elements,/\s+/)||null,l.propertiesOnly=l.propertiesOnly||!0===l.elements;var d=/\s*,\s*/,c=void 0;for(c in S){l[c]=r(l[c],d)||null;var h=l,u=N[c],f=r(l[N[c]],d),p=l[c],m=[],g=!0,b=void 0;f?g=!1:f={};for(b in p)"!"==b.charAt(0)&&(b=b.slice(1),m.push(b),f[b]=!0,g=!1);for(;b=m.pop();)p[b]=p["!"+b],delete p["!"+b];h[u]=!g&&f||null}l.match=l.match||null,n.push(s),t.push(s)}e=o.elements,o=o.generic;var T;for(i=0,n=t.length;i<n;++i){a=x(t[i]),s=!0===a.classes||!0===a.styles||!0===a.attributes,l=a,c=u=d=void 0;for(d in S)l[d]=v(l[d]);h=!0;for(c in N){d=N[c],u=l[d],f=[],p=void 0;for(p in u)-1<p.indexOf("*")?f.push(new RegExp("^"+p.replace(/\*/g,".*")+"$")):f.push(p);u=f,u.length&&(l[d]=u,h=!1)}if(l.nothingRequired=h,l.noProperties=!(l.attributes||l.classes||l.styles),!0===a.elements||null===a.elements)o[s?"unshift":"push"](a);else for(T in l=a.elements,delete a.elements,l)e[T]?e[T][s?"unshift":"push"](a):e[T]=[a]}}function e(t,e,n,o){if((!t.match||t.match(e))&&(o||s(t,e))&&(t.propertiesOnly||(n.valid=!0),n.allAttributes||(n.allAttributes=i(t.attributes,e.attributes,n.validAttributes)),n.allStyles||(n.allStyles=i(t.styles,e.styles,n.validStyles)),!n.allClasses)){if(t=t.classes,e=e.classes,o=n.validClasses,t)if(!0===t)t=!0;else{for(var a,r=0,l=e.length;r<l;++r)a=e[r],o[a]||(o[a]=t(a));t=!1}else t=!1;n.allClasses=t}}function i(t,e,i){if(!t)return!1;if(!0===t)return!0;for(var n in e)i[n]||(i[n]=t(n));return!1}function n(t,e,i){if(!t.match||t.match(e)){if(t.noProperties)return!1;if(i.hadInvalidAttribute=o(t.attributes,e.attributes)||i.hadInvalidAttribute,i.hadInvalidStyle=o(t.styles,e.styles)||i.hadInvalidStyle,t=t.classes,e=e.classes,t){for(var n=!1,a=!0===t,r=e.length;r--;)(a||t(e[r]))&&(e.splice(r,1),n=!0);t=n}else t=!1;i.hadInvalidClass=t||i.hadInvalidClass}}function o(t,e){if(!t)return!1;var i,n=!1,o=!0===t;for(i in e)(o||t(i))&&(delete e[i],n=!0);return n}function a(t,e,i){return!(t.disabled||t.customConfig&&!i||!e)&&(t._.cachedChecks={},!0)}function r(t,e){if(!t)return!1;if(!0===t)return t;if("string"==typeof t)return"*"==(t=w(t))||CKEDITOR.tools.convertArrayToObject(t.split(e));if(CKEDITOR.tools.isArray(t))return!!t.length&&CKEDITOR.tools.convertArrayToObject(t);var i,n={},o=0;for(i in t)n[i]=t[i],o++;return!!o&&n}function s(t,e){if(t.nothingRequired)return!0;var i,n,o,a;if(o=t.requiredClasses)for(a=e.classes,i=0;i<o.length;++i)if("string"==typeof(n=o[i])){if(-1==CKEDITOR.tools.indexOf(a,n))return!1}else if(!CKEDITOR.tools.checkIfAnyArrayItemMatches(a,n))return!1;return l(e.styles,t.requiredStyles)&&l(e.attributes,t.requiredAttributes)}function l(t,e){if(!e)return!0;for(var i,n=0;n<e.length;++n)if("string"==typeof(i=e[n])){if(!(i in t))return!1}else if(!CKEDITOR.tools.checkIfAnyObjectPropertyMatches(t,i))return!1;return!0}function d(t){if(!t)return{};t=t.split(/\s*,\s*/).sort();for(var e={};t.length;)e[t.shift()]="cke-test";return e}function c(t){var e,i,n,o,a={},r=1;for(t=w(t);e=t.match(K);)(i=e[2])?(n=h(i,"styles"),o=h(i,"attrs"),i=h(i,"classes")):n=o=i=null,a["$"+r++]={elements:e[1],classes:i,styles:n,attributes:o},t=t.slice(e[0].length);return a}function h(t,e){var i=t.match(A[e]);return i?w(i[1]):null}function u(t){var e=t.styleBackup=t.attributes.style,i=t.classBackup=t.attributes["class"];t.styles||(t.styles=CKEDITOR.tools.parseCssText(e||"",1)),t.classes||(t.classes=i?i.split(/\s+/):[])}function f(t,i,o,a){var r,s=0;if(a.toHtml&&(i.name=i.name.replace(M,"$1")),a.doCallbacks&&t.elementCallbacks){t:{r=t.elementCallbacks;for(var l,d=0,c=r.length;d<c;++d)if(l=r[d](i)){r=l;break t}r=void 0}if(r)return r}if(a.doTransform&&(r=t._.transformations[i.name])){for(u(i),d=0;d<r.length;++d)C(t,i,r[d]);m(i)}if(a.doFilter){t:{d=i.name,c=t._,t=c.allowedRules.elements[d],r=c.allowedRules.generic,d=c.disallowedRules.elements[d],c=c.disallowedRules.generic,l=a.skipRequired;var h,f,p={valid:!1,validAttributes:{},validClasses:{},validStyles:{},allAttributes:!1,allClasses:!1,allStyles:!1,hadInvalidAttribute:!1,hadInvalidClass:!1,hadInvalidStyle:!1};if(t||r){if(u(i),d)for(h=0,f=d.length;h<f;++h)if(!1===n(d[h],i,p)){t=null;break t}if(c)for(h=0,f=c.length;h<f;++h)n(c[h],i,p);if(t)for(h=0,f=t.length;h<f;++h)e(t[h],i,p,l);if(r)for(h=0,f=r.length;h<f;++h)e(r[h],i,p,l);t=p}else t=null}if(!t||!t.valid)return o.push(i),1;f=t.validAttributes;var v=t.validStyles;r=t.validClasses;var d=i.attributes,b=i.styles,c=i.classes;l=i.classBackup;var T,E,y=i.styleBackup,D=[],p=[],I=/^data-cke-/;if(h=!1,delete d.style,delete d["class"],delete i.classBackup,delete i.styleBackup,!t.allAttributes)for(T in d)f[T]||(I.test(T)?T==(E=T.replace(/^data-cke-saved-/,""))||f[E]||(delete d[T],h=!0):(delete d[T],h=!0));if(!t.allStyles||t.hadInvalidStyle){for(T in b)t.allStyles||v[T]?D.push(T+":"+b[T]):h=!0;D.length&&(d.style=D.sort().join("; "))}else y&&(d.style=y);if(!t.allClasses||t.hadInvalidClass){for(T=0;T<c.length;++T)(t.allClasses||r[c[T]])&&p.push(c[T]);p.length&&(d["class"]=p.sort().join(" ")),l&&p.length<l.split(/\s+/).length&&(h=!0)}else l&&(d["class"]=l);if(h&&(s=1),!a.skipFinalValidation&&!g(i))return o.push(i),1}return a.toHtml&&(i.name=i.name.replace(L,"cke:$1")),s}function p(t){var e,i=[];for(e in t)-1<e.indexOf("*")&&i.push(e.replace(/\*/g,".*"));return i.length?new RegExp("^(?:"+i.join("|")+")$"):null}function m(t){var e,i=t.attributes;delete i.style,delete i["class"],(e=CKEDITOR.tools.writeCssText(t.styles,!0))&&(i.style=e),t.classes.length&&(i["class"]=t.classes.sort().join(" "))}function g(t){switch(t.name){case"a":if(!(t.children.length||t.attributes.name||t.attributes.id))return!1;break;case"img":if(!t.attributes.src)return!1}return!0}function v(t){if(!t)return!1;if(!0===t)return!0;var e=p(t);return function(i){return i in t||e&&i.match(e)}}function b(){return new CKEDITOR.htmlParser.element("br")}function T(t){return t.type==CKEDITOR.NODE_ELEMENT&&("br"==t.name||R.$block[t.name])}function E(t,e,i){var n=t.name;if(R.$empty[n]||!t.children.length)"hr"==n&&"br"==e?t.replaceWith(b()):(t.parent&&i.push({check:"it",el:t.parent}),t.remove());else if(R.$block[n]||"tr"==n)if("br"==e)t.previous&&!T(t.previous)&&(e=b(),e.insertBefore(t)),t.next&&!T(t.next)&&(e=b(),e.insertAfter(t)),t.replaceWithChildren();else{var o,n=t.children;t:{o=R[e];for(var a,r=0,s=n.length;r<s;++r)if(a=n[r],a.type==CKEDITOR.NODE_ELEMENT&&!o[a.name]){o=!1;break t}o=!0}if(o)t.name=e,t.attributes={},i.push({check:"parent-down",el:t});else{o=t.parent;for(var l,d,r=o.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||"body"==o.name,s=n.length;0<s;)a=n[--s],r&&(a.type==CKEDITOR.NODE_TEXT||a.type==CKEDITOR.NODE_ELEMENT&&R.$inline[a.name])?(l||(l=new CKEDITOR.htmlParser.element(e),l.insertAfter(t),i.push({check:"parent-down",el:l})),l.add(a,0)):(l=null,d=R[o.name]||R.span,a.insertAfter(t),o.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||a.type!=CKEDITOR.NODE_ELEMENT||d[a.name]||i.push({check:"el-up",el:a}));t.remove()}}else n in{style:1,script:1}?t.remove():(t.parent&&i.push({check:"it",el:t.parent}),t.replaceWithChildren())}function C(t,e,i){var n,o;for(n=0;n<i.length;++n)if(o=i[n],!(o.check&&!t.check(o.check,!1)||o.left&&!o.left(e))){o.right(e,_);break}}function y(t,e){var i,n,o,a,r=e.getDefinition(),s=r.attributes,l=r.styles;if(t.name!=r.element)return!1;for(i in s)if("class"==i){for(r=s[i].split(/\s+/),o=t.classes.join("|");a=r.pop();)if(-1==o.indexOf(a))return!1}else if(t.attributes[i]!=s[i])return!1;for(n in l)if(t.styles[n]!=l[n])return!1;return!0}function D(t,e){var i,n;return"string"==typeof t?i=t:t instanceof CKEDITOR.style?n=t:(i=t[0],n=t[1]),[{element:i,left:n,right:function(t,i){i.transform(t,e)}}]}function I(t){return function(e){return y(e,t)}}function O(t){return function(e,i){i[t](e)}}var R=CKEDITOR.dtd,x=CKEDITOR.tools.copy,w=CKEDITOR.tools.trim,k=["","p","br","div"];CKEDITOR.FILTER_SKIP_TREE=2,CKEDITOR.filter=function(t){if(this.allowedContent=[],this.disallowedContent=[],this.elementCallbacks=null,this.disabled=!1,this.editor=null,this.id=CKEDITOR.tools.getNextNumber(),this._={allowedRules:{elements:{},generic:[]},disallowedRules:{elements:{},generic:[]},transformations:{},cachedTests:{},cachedChecks:{}},CKEDITOR.filter.instances[this.id]=this,t instanceof CKEDITOR.editor){t=this.editor=t,this.customConfig=!0;var e=t.config.allowedContent;!0===e?this.disabled=!0:(e||(this.customConfig=!1),this.allow(e,"config",1),this.allow(t.config.extraAllowedContent,"extra",1),this.allow(k[t.enterMode]+" "+k[t.shiftEnterMode],"default",1),this.disallow(t.config.disallowedContent))}else this.customConfig=!1,this.allow(t,"default",1)},CKEDITOR.filter.instances={},CKEDITOR.filter.prototype={allow:function(e,i,n){if(!a(this,e,n))return!1;var o,r;if("string"==typeof e)e=c(e);else if(e instanceof CKEDITOR.style){if(e.toAllowedContentRules)return this.allow(e.toAllowedContentRules(this.editor),i,n);o=e.getDefinition(),e={},n=o.attributes,e[o.element]=o={styles:o.styles,requiredStyles:o.styles&&CKEDITOR.tools.objectKeys(o.styles)},n&&(n=x(n),o.classes=n["class"]?n["class"].split(/\s+/):null,o.requiredClasses=o.classes,delete n["class"],o.attributes=n,o.requiredAttributes=n&&CKEDITOR.tools.objectKeys(n))}else if(CKEDITOR.tools.isArray(e)){for(o=0;o<e.length;++o)r=this.allow(e[o],i,n);return r}return t(this,e,i,this.allowedContent,this._.allowedRules),!0},applyTo:function(t,e,i,n){if(this.disabled)return!1;var o,a=this,r=[],s=this.editor&&this.editor.config.protectedSource,l=!1,d={doFilter:!i,doTransform:!0,doCallbacks:!0,toHtml:e};t.forEach(function(t){if(t.type==CKEDITOR.NODE_ELEMENT){if("off"==t.attributes["data-cke-filter"])return!1;if(!e||"span"!=t.name||!~CKEDITOR.tools.objectKeys(t.attributes).join("|").indexOf("data-cke-"))if(1&(o=f(a,t,r,d)))l=!0;else if(2&o)return!1}else if(t.type==CKEDITOR.NODE_COMMENT&&t.value.match(/^\{cke_protected\}(?!\{C\})/)){var i;t:{var n=decodeURIComponent(t.value.replace(/^\{cke_protected\}/,""));i=[];var c,h,u;if(s)for(h=0;h<s.length;++h)if((u=n.match(s[h]))&&u[0].length==n.length){i=!0;break t}n=CKEDITOR.htmlParser.fragment.fromHtml(n),1==n.children.length&&(c=n.children[0]).type==CKEDITOR.NODE_ELEMENT&&f(a,c,i,d),i=!i.length}i||r.push(t)}},null,!0),r.length&&(l=!0);var c;t=[],n=k[n||(this.editor?this.editor.enterMode:CKEDITOR.ENTER_P)];for(var h;i=r.pop();)i.type==CKEDITOR.NODE_ELEMENT?E(i,n,t):i.remove();for(;c=t.pop();)if(i=c.el,i.parent)switch(h=R[i.parent.name]||R.span,c.check){case"it":R.$removeEmpty[i.name]&&!i.children.length?E(i,n,t):g(i)||E(i,n,t);break;case"el-up":i.parent.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||h[i.name]||E(i,n,t);break;case"parent-down":i.parent.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||h[i.name]||E(i.parent,n,t)}return l},checkFeature:function(t){return!(!this.disabled&&t)||(t.toFeature&&(t=t.toFeature(this.editor)),!t.requiredContent||this.check(t.requiredContent))},disable:function(){this.disabled=!0},disallow:function(e){return!!a(this,e,!0)&&("string"==typeof e&&(e=c(e)),t(this,e,null,this.disallowedContent,this._.disallowedRules),!0)},addContentForms:function(t){if(!this.disabled&&t){var e,i,n,o=[];for(e=0;e<t.length&&!n;++e)("string"==typeof(i=t[e])||i instanceof CKEDITOR.style)&&this.check(i)&&(n=i);if(n){for(e=0;e<t.length;++e)o.push(D(t[e],n));this.addTransformations(o)}}},addElementCallback:function(t){this.elementCallbacks||(this.elementCallbacks=[]),this.elementCallbacks.push(t)},addFeature:function(t){return!(!this.disabled&&t)||(t.toFeature&&(t=t.toFeature(this.editor)),this.allow(t.allowedContent,t.name),this.addTransformations(t.contentTransformations),this.addContentForms(t.contentForms),!t.requiredContent||!this.customConfig&&!this.disallowedContent.length||this.check(t.requiredContent))},addTransformations:function(t){var e,i;if(!this.disabled&&t){var n,o=this._.transformations;for(n=0;n<t.length;++n){e=t[n];var a=void 0,r=void 0,s=void 0,l=void 0,d=void 0,c=void 0;for(i=[],r=0;r<e.length;++r)s=e[r],"string"==typeof s?(s=s.split(/\s*:\s*/),l=s[0],d=null,c=s[1]):(l=s.check,d=s.left,c=s.right),a||(a=s,a=a.element?a.element:l?l.match(/^([a-z0-9]+)/i)[0]:a.left.getDefinition().element),d instanceof CKEDITOR.style&&(d=I(d)),i.push({check:l==a?null:l,left:d,right:"string"==typeof c?O(c):c});e=a,o[e]||(o[e]=[]),o[e].push(i)}}},check:function(t,e,i){if(this.disabled)return!0;if(CKEDITOR.tools.isArray(t)){for(var n=t.length;n--;)if(this.check(t[n],e,i))return!0;return!1}var o,a;if("string"==typeof t){if((a=t+"<"+(!1===e?"0":"1")+(i?"1":"0")+">")in this._.cachedChecks)return this._.cachedChecks[a];n=c(t).$1,o=n.styles;var r=n.classes;n.name=n.elements,n.classes=r=r?r.split(/\s*,\s*/):[],n.styles=d(o),n.attributes=d(n.attributes),n.children=[],r.length&&(n.attributes["class"]=r.join(" ")),o&&(n.attributes.style=CKEDITOR.tools.writeCssText(n.styles)),o=n}else n=t.getDefinition(),o=n.styles,r=n.attributes||{},o&&!CKEDITOR.tools.isEmpty(o)?(o=x(o),r.style=CKEDITOR.tools.writeCssText(o,!0)):o={},o={name:n.element,attributes:r,classes:r["class"]?r["class"].split(/\s+/):[],styles:o,children:[]};var s,r=CKEDITOR.tools.clone(o),l=[];if(!1!==e&&(s=this._.transformations[o.name])){for(n=0;n<s.length;++n)C(this,o,s[n]);m(o)}return f(this,r,l,{doFilter:!0,doTransform:!1!==e,skipRequired:!i,skipFinalValidation:!i}),e=!(0<l.length)&&!!CKEDITOR.tools.objectCompare(o.attributes,r.attributes,!0),"string"==typeof t&&(this._.cachedChecks[a]=e),e},getAllowedEnterMode:function(){var t=["p","div","br"],e={p:CKEDITOR.ENTER_P,div:CKEDITOR.ENTER_DIV,br:CKEDITOR.ENTER_BR};return function(i,n){var o,a=t.slice();if(this.check(k[i]))return i;for(n||(a=a.reverse());o=a.pop();)if(this.check(o))return e[o];return CKEDITOR.ENTER_BR}}(),clone:function(){var t=new CKEDITOR.filter,e=CKEDITOR.tools.clone;return t.allowedContent=e(this.allowedContent),t._.allowedRules=e(this._.allowedRules),t.disallowedContent=e(this.disallowedContent),t._.disallowedRules=e(this._.disallowedRules),t._.transformations=e(this._.transformations),t.disabled=this.disabled,t.editor=this.editor,t},destroy:function(){delete CKEDITOR.filter.instances[this.id],delete this._,delete this.allowedContent,delete this.disallowedContent}};var _,S={styles:1,attributes:1,classes:1},N={styles:"requiredStyles",attributes:"requiredAttributes",classes:"requiredClasses"},K=/^([a-z0-9\-*\s]+)((?:\s*\{[!\w\-,\s\*]+\}\s*|\s*\[[!\w\-,\s\*]+\]\s*|\s*\([!\w\-,\s\*]+\)\s*){0,3})(?:;\s*|$)/i,A={styles:/{([^}]+)}/,attrs:/\[([^\]]+)\]/,classes:/\(([^\)]+)\)/},M=/^cke:(object|embed|param)$/,L=/^(object|embed|param)$/;_=CKEDITOR.filter.transformationsTools={sizeToStyle:function(t){this.lengthToStyle(t,"width"),this.lengthToStyle(t,"height")},sizeToAttribute:function(t){this.lengthToAttribute(t,"width"),this.lengthToAttribute(t,"height")},lengthToStyle:function(t,e,i){if(!((i=i||e)in t.styles)){var n=t.attributes[e];n&&(/^\d+$/.test(n)&&(n+="px"),t.styles[i]=n)}delete t.attributes[e]},lengthToAttribute:function(t,e,i){if(!((i=i||e)in t.attributes)){var n=t.styles[e],o=n&&n.match(/^(\d+)(?:\.\d*)?px$/);o?t.attributes[i]=o[1]:"cke-test"==n&&(t.attributes[i]="cke-test")}delete t.styles[e]},alignmentToStyle:function(t){if(!("float"in t.styles)){var e=t.attributes.align;"left"!=e&&"right"!=e||(t.styles["float"]=e)}delete t.attributes.align},alignmentToAttribute:function(t){if(!("align"in t.attributes)){var e=t.styles["float"];"left"!=e&&"right"!=e||(t.attributes.align=e)}delete t.styles["float"]},splitBorderShorthand:function(t){function e(e){t.styles["border-top-width"]=i[e[0]],t.styles["border-right-width"]=i[e[1]],t.styles["border-bottom-width"]=i[e[2]],t.styles["border-left-width"]=i[e[3]]}if(t.styles.border){var i=t.styles.border.match(/([\.\d]+\w+)/g)||["0px"];switch(i.length){case 1:t.styles["border-width"]=i[0];break;case 2:e([0,1,0,1]);break;case 3:e([0,1,2,1]);break;case 4:e([0,1,2,3])}t.styles["border-style"]=t.styles["border-style"]||(t.styles.border.match(/(none|hidden|dotted|dashed|solid|double|groove|ridge|inset|outset|initial|inherit)/)||[])[0],t.styles["border-style"]||delete t.styles["border-style"],delete t.styles.border}},listTypeToStyle:function(t){if(t.attributes.type)switch(t.attributes.type){case"a":t.styles["list-style-type"]="lower-alpha";break;case"A":t.styles["list-style-type"]="upper-alpha";break;case"i":t.styles["list-style-type"]="lower-roman";break;case"I":t.styles["list-style-type"]="upper-roman";break;case"1":t.styles["list-style-type"]="decimal";break;default:t.styles["list-style-type"]=t.attributes.type}},splitMarginShorthand:function(t){function e(e){t.styles["margin-top"]=i[e[0]],t.styles["margin-right"]=i[e[1]],t.styles["margin-bottom"]=i[e[2]],t.styles["margin-left"]=i[e[3]]}if(t.styles.margin){var i=t.styles.margin.match(/(\-?[\.\d]+\w+)/g)||["0px"];switch(i.length){case 1:e([0,0,0,0]);break;case 2:e([0,1,0,1]);break;case 3:e([0,1,2,1]);break;case 4:e([0,1,2,3])}delete t.styles.margin}},matchesStyle:y,transform:function(t,e){if("string"==typeof e)t.name=e;else{var i,n,o,a,r=e.getDefinition(),s=r.styles,l=r.attributes;t.name=r.element;for(i in l)if("class"==i)for(r=t.classes.join("|"),o=l[i].split(/\s+/);a=o.pop();)-1==r.indexOf(a)&&t.classes.push(a);else t.attributes[i]=l[i];for(n in s)t.styles[n]=s[n]}}}}(),function(){CKEDITOR.focusManager=function(t){return t.focusManager?t.focusManager:(this.hasFocus=!1,this.currentActive=null,this._={editor:t},this)},CKEDITOR.focusManager._={blurDelay:200},CKEDITOR.focusManager.prototype={focus:function(t){this._.timer&&clearTimeout(this._.timer),t&&(this.currentActive=t),this.hasFocus||this._.locked||((t=CKEDITOR.currentInstance)&&t.focusManager.blur(1),this.hasFocus=!0,(t=this._.editor.container)&&t.addClass("cke_focus"),this._.editor.fire("focus"))},lock:function(){this._.locked=1},unlock:function(){delete this._.locked},blur:function(t){function e(){if(this.hasFocus){this.hasFocus=!1;var t=this._.editor.container;t&&t.removeClass("cke_focus"),this._.editor.fire("blur")}}if(!this._.locked){this._.timer&&clearTimeout(this._.timer);var i=CKEDITOR.focusManager._.blurDelay;t||!i?e.call(this):this._.timer=CKEDITOR.tools.setTimeout(function(){delete this._.timer,e.call(this)},i,this)}},add:function(t,e){var i=t.getCustomData("focusmanager");if(!i||i!=this){i&&i.remove(t);var i="focus",n="blur";e&&(CKEDITOR.env.ie?(i="focusin",n="focusout"):CKEDITOR.event.useCapture=1);var o={blur:function(){t.equals(this.currentActive)&&this.blur()},focus:function(){this.focus(t)}};t.on(i,o.focus,this),t.on(n,o.blur,this),e&&(CKEDITOR.event.useCapture=0),t.setCustomData("focusmanager",this),t.setCustomData("focusmanager_handlers",o)}},remove:function(t){t.removeCustomData("focusmanager");var e=t.removeCustomData("focusmanager_handlers");t.removeListener("blur",e.blur),t.removeListener("focus",e.focus)}}}(),CKEDITOR.keystrokeHandler=function(t){return t.keystrokeHandler?t.keystrokeHandler:(this.keystrokes={},this.blockedKeystrokes={},this._={editor:t},this)},function(){var t,e=function(e){e=e.data;var i=e.getKeystroke(),n=this.keystrokes[i],o=this._.editor;return t=!1===o.fire("key",{keyCode:i,domEvent:e}),t||(n&&(t=!1!==o.execCommand(n,{from:"keystrokeHandler"})),t||(t=!!this.blockedKeystrokes[i])),t&&e.preventDefault(!0),!t},i=function(e){t&&(t=!1,e.data.preventDefault(!0))};CKEDITOR.keystrokeHandler.prototype={attach:function(t){t.on("keydown",e,this),CKEDITOR.env.gecko&&CKEDITOR.env.mac&&t.on("keypress",i,this)}}}(),function(){CKEDITOR.lang={languages:{af:1,ar:1,az:1,bg:1,bn:1,bs:1,ca:1,cs:1,cy:1,da:1,de:1,"de-ch":1,el:1,"en-au":1,"en-ca":1,"en-gb":1,en:1,eo:1,es:1,"es-mx":1,et:1,eu:1,fa:1,fi:1,fo:1,"fr-ca":1,fr:1,gl:1,gu:1,he:1,hi:1,hr:1,hu:1,id:1,is:1,it:1,ja:1,ka:1,km:1,ko:1,ku:1,lt:1,lv:1,mk:1,mn:1,ms:1,nb:1,nl:1,no:1,oc:1,pl:1,"pt-br":1,pt:1,ro:1,ru:1,si:1,sk:1,sl:1,sq:1,"sr-latn":1,sr:1,sv:1,th:1,tr:1,tt:1,ug:1,uk:1,vi:1,"zh-cn":1,zh:1},rtl:{ar:1,fa:1,he:1,ku:1,ug:1},load:function(t,e,i){t&&CKEDITOR.lang.languages[t]||(t=this.detect(e,t));var n=this;e=function(){n[t].dir=n.rtl[t]?"rtl":"ltr",i(t,n[t])},this[t]?e():CKEDITOR.scriptLoader.load(CKEDITOR.getUrl("lang/"+t+".js"),e,this)},detect:function(t,e){var i=this.languages;e=e||navigator.userLanguage||navigator.language||t;var n=e.toLowerCase().match(/([a-z]+)(?:-([a-z]+))?/),o=n[1],n=n[2];return i[o+"-"+n]?o=o+"-"+n:i[o]||(o=null),CKEDITOR.lang.detect=o?function(){return o}:function(t){return t},o||t}}}(),CKEDITOR.scriptLoader=function(){var t={},e={};return{load:function(i,n,o,a){var r="string"==typeof i;r&&(i=[i]),o||(o=CKEDITOR);var s=i.length,l=[],d=[],c=function(t){n&&(r?n.call(o,t):n.call(o,l,d))};if(0===s)c(!0);else{var h=function(t,e){(e?l:d).push(t),0>=--s&&(a&&CKEDITOR.document.getDocumentElement().removeStyle("cursor"),c(e))},u=function(i,n){t[i]=1;var o=e[i];delete e[i];for(var a=0;a<o.length;a++)o[a](i,n)},f=function(i){if(t[i])h(i,!0);else{var o=e[i]||(e[i]=[]);if(o.push(h),!(1<o.length)){var a=new CKEDITOR.dom.element("script");a.setAttributes({type:"text/javascript",src:i}),n&&(CKEDITOR.env.ie&&(8>=CKEDITOR.env.version||CKEDITOR.env.ie9Compat)?a.$.onreadystatechange=function(){"loaded"!=a.$.readyState&&"complete"!=a.$.readyState||(a.$.onreadystatechange=null,u(i,!0))}:(a.$.onload=function(){setTimeout(function(){u(i,!0)},0)},a.$.onerror=function(){u(i,!1)})),a.appendTo(CKEDITOR.document.getHead())}}};a&&CKEDITOR.document.getDocumentElement().setStyle("cursor","wait");for(var p=0;p<s;p++)f(i[p])}},queue:function(){function t(){var t;(t=e[0])&&this.load(t.scriptUrl,t.callback,CKEDITOR,0)}var e=[];return function(i,n){var o=this;e.push({scriptUrl:i,callback:function(){n&&n.apply(this,arguments),e.shift(),t.call(o)}}),1==e.length&&t.call(this)}}()}}(),CKEDITOR.resourceManager=function(t,e){this.basePath=t,this.fileName=e,this.registered={},this.loaded={},this.externals={},this._={waitingList:{}}},CKEDITOR.resourceManager.prototype={add:function(t,e){if(this.registered[t])throw Error('[CKEDITOR.resourceManager.add] The resource name "'+t+'" is already registered.');var i=this.registered[t]=e||{};return i.name=t,i.path=this.getPath(t),CKEDITOR.fire(t+CKEDITOR.tools.capitalize(this.fileName)+"Ready",i),this.get(t)},get:function(t){return this.registered[t]||null},getPath:function(t){var e=this.externals[t];return CKEDITOR.getUrl(e&&e.dir||this.basePath+t+"/")},getFilePath:function(t){var e=this.externals[t];return CKEDITOR.getUrl(this.getPath(t)+(e?e.file:this.fileName+".js"))},addExternal:function(t,e,i){t=t.split(",");for(var n=0;n<t.length;n++){var o=t[n];i||(e=e.replace(/[^\/]+$/,function(t){return i=t,""})),this.externals[o]={dir:e,file:i||this.fileName+".js"}}},load:function(t,e,i){CKEDITOR.tools.isArray(t)||(t=t?[t]:[]);for(var n=this.loaded,o=this.registered,a=[],r={},s={},l=0;l<t.length;l++){var d=t[l];if(d)if(n[d]||o[d])s[d]=this.get(d);else{var c=this.getFilePath(d);a.push(c),c in r||(r[c]=[]),r[c].push(d)}}CKEDITOR.scriptLoader.load(a,function(t,o){if(o.length)throw Error('[CKEDITOR.resourceManager.load] Resource name "'+r[o[0]].join(",")+'" was not found at "'+o[0]+'".');for(var a=0;a<t.length;a++)for(var l=r[t[a]],d=0;d<l.length;d++){var c=l[d];s[c]=this.get(c),n[c]=1}e.call(i,s)},this)}},CKEDITOR.plugins=new CKEDITOR.resourceManager("plugins/","plugin"),CKEDITOR.plugins.load=CKEDITOR.tools.override(CKEDITOR.plugins.load,function(t){var e={};return function(i,n,o){var a={},r=function(i){t.call(this,i,function(t){CKEDITOR.tools.extend(a,t);var i,s=[];for(i in t){var l=t[i],d=l&&l.requires;if(!e[i]){if(l.icons)for(var c=l.icons.split(","),h=c.length;h--;)CKEDITOR.skin.addIcon(c[h],l.path+"icons/"+(CKEDITOR.env.hidpi&&l.hidpi?"hidpi/":"")+c[h]+".png");e[i]=1}if(d)for(d.split&&(d=d.split(",")),l=0;l<d.length;l++)a[d[l]]||s.push(d[l])}if(s.length)r.call(this,s);else{for(i in a)l=a[i],l.onLoad&&!l.onLoad._called&&(!1===l.onLoad()&&delete a[i],l.onLoad._called=1);n&&n.call(o||window,a)}},this)};r.call(this,i)}}),CKEDITOR.plugins.setLang=function(t,e,i){var n=this.get(t);t=n.langEntries||(n.langEntries={}),n=n.lang||(n.lang=[]),n.split&&(n=n.split(",")),-1==CKEDITOR.tools.indexOf(n,e)&&n.push(e),t[e]=i},CKEDITOR.ui=function(t){return t.ui?t.ui:(this.items={},this.instances={},this.editor=t,this._={handlers:{}},this)},CKEDITOR.ui.prototype={add:function(t,e,i){i.name=t.toLowerCase();var n=this.items[t]={type:e,command:i.command||null,args:Array.prototype.slice.call(arguments,2)};CKEDITOR.tools.extend(n,i)},get:function(t){return this.instances[t]},create:function(t){var e=this.items[t],i=e&&this._.handlers[e.type],n=e&&e.command&&this.editor.getCommand(e.command),i=i&&i.create.apply(this,e.args);return this.instances[t]=i,n&&n.uiItems.push(i),i&&!i.type&&(i.type=e.type),i},addHandler:function(t,e){this._.handlers[t]=e},space:function(t){return CKEDITOR.document.getById(this.spaceId(t))},spaceId:function(t){return this.editor.id+"_"+t}},CKEDITOR.event.implementOn(CKEDITOR.ui),function(){function t(t,o,r){if(CKEDITOR.event.call(this),t=t&&CKEDITOR.tools.clone(t),void 0!==o){if(!(o instanceof CKEDITOR.dom.element))throw Error("Expect element of type CKEDITOR.dom.element.");if(!r)throw Error("One of the element modes must be specified.");if(CKEDITOR.env.ie&&CKEDITOR.env.quirks&&r==CKEDITOR.ELEMENT_MODE_INLINE)throw Error("Inline element mode is not supported on IE quirks.");if(!i(o,r))throw Error('The specified element mode is not supported on element: "'+o.getName()+'".');this.element=o,this.elementMode=r,this.name=this.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO&&(o.getId()||o.getNameAtt())}else this.elementMode=CKEDITOR.ELEMENT_MODE_NONE;this._={},this.commands={},this.templates={},this.name=this.name||e(),this.id=CKEDITOR.tools.getNextId(),this.status="unloaded",this.config=CKEDITOR.tools.prototypedCopy(CKEDITOR.config),this.ui=new CKEDITOR.ui(this),this.focusManager=new CKEDITOR.focusManager(this),this.keystrokeHandler=new CKEDITOR.keystrokeHandler(this),this.on("readOnly",n),this.on("selectionChange",function(t){a(this,t.data.path)}),this.on("activeFilterChange",function(){a(this,this.elementPath(),!0)}),this.on("mode",n),this.on("instanceReady",function(){this.config.startupFocus&&this.focus()}),CKEDITOR.fire("instanceCreated",null,this),CKEDITOR.add(this),CKEDITOR.tools.setTimeout(function(){"destroyed"!==this.status?s(this,t):CKEDITOR.warn("editor-incorrect-destroy")},0,this)}function e(){do{var t="editor"+ ++p}while(CKEDITOR.instances[t]);return t}function i(t,e){return e==CKEDITOR.ELEMENT_MODE_INLINE?t.is(CKEDITOR.dtd.$editable)||t.is("textarea"):e==CKEDITOR.ELEMENT_MODE_REPLACE?!t.is(CKEDITOR.dtd.$nonBodyContent):1}function n(){var t,e=this.commands;for(t in e)o(this,e[t])}function o(t,e){e[e.startDisabled?"disable":t.readOnly&&!e.readOnly?"disable":e.modes[t.mode]?"enable":"disable"]()}function a(t,e,i){if(e){var n,o,a=t.commands;for(o in a)n=a[o],(i||n.contextSensitive)&&n.refresh(t,e)}}function r(t){var e=t.config.customConfig;if(!e)return!1;var e=CKEDITOR.getUrl(e),i=m[e]||(m[e]={});return i.fn?(i.fn.call(t,t.config),CKEDITOR.getUrl(t.config.customConfig)!=e&&r(t)||t.fireOnce("customConfigLoaded")):CKEDITOR.scriptLoader.queue(e,function(){i.fn=CKEDITOR.editorConfig?CKEDITOR.editorConfig:function(){},r(t)}),!0}function s(t,e){t.on("customConfigLoaded",function(){if(e){if(e.on)for(var i in e.on)t.on(i,e.on[i]);CKEDITOR.tools.extend(t.config,e,!0),delete t.config.on}i=t.config,t.readOnly=!!i.readOnly||(t.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?t.element.is("textarea")?t.element.hasAttribute("disabled")||t.element.hasAttribute("readonly"):t.element.isReadOnly():t.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE&&(t.element.hasAttribute("disabled")||t.element.hasAttribute("readonly"))),t.blockless=t.elementMode==CKEDITOR.ELEMENT_MODE_INLINE&&!(t.element.is("textarea")||CKEDITOR.dtd[t.element.getName()].p),t.tabIndex=i.tabIndex||t.element&&t.element.getAttribute("tabindex")||0,t.activeEnterMode=t.enterMode=t.blockless?CKEDITOR.ENTER_BR:i.enterMode,t.activeShiftEnterMode=t.shiftEnterMode=t.blockless?CKEDITOR.ENTER_BR:i.shiftEnterMode,i.skin&&(CKEDITOR.skinName=i.skin),t.fireOnce("configLoaded"),t.dataProcessor=new CKEDITOR.htmlDataProcessor(t),t.filter=t.activeFilter=new CKEDITOR.filter(t),l(t)}),e&&null!=e.customConfig&&(t.config.customConfig=e.customConfig),r(t)||t.fireOnce("customConfigLoaded")}function l(t){CKEDITOR.skin.loadPart("editor",function(){d(t)})}function d(t){CKEDITOR.lang.load(t.config.language,t.config.defaultLanguage,function(e,i){var n=t.config.title;t.langCode=e,t.lang=CKEDITOR.tools.prototypedCopy(i),t.title="string"==typeof n||!1===n?n:[t.lang.editor,t.name].join(", "),t.config.contentsLangDirection||(t.config.contentsLangDirection=t.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?t.element.getDirection(1):t.lang.dir),t.fire("langLoaded"),c(t)})}function c(t){t.getStylesSet(function(e){t.once("loaded",function(){t.fire("stylesSet",{styles:e})},null,null,1),h(t)})}function h(t){var e=t.config,i=e.plugins,n=e.extraPlugins,o=e.removePlugins;if(n)var a=new RegExp("(?:^|,)(?:"+n.replace(/\s*,\s*/g,"|")+")(?=,|$)","g"),i=i.replace(a,""),i=i+","+n;if(o)var r=new RegExp("(?:^|,)(?:"+o.replace(/\s*,\s*/g,"|")+")(?=,|$)","g"),i=i.replace(r,"");CKEDITOR.env.air&&(i+=",adobeair"),CKEDITOR.plugins.load(i.split(","),function(i){var n=[],o=[],a=[];t.plugins=i;for(var s in i){var l,d=i[s],c=d.lang,h=null,u=d.requires;if(CKEDITOR.tools.isArray(u)&&(u=u.join(",")),u&&(l=u.match(r)))for(;u=l.pop();)CKEDITOR.error("editor-plugin-required",{plugin:u.replace(",",""),requiredBy:s});c&&!t.lang[s]&&(c.split&&(c=c.split(",")),0<=CKEDITOR.tools.indexOf(c,t.langCode)?h=t.langCode:(h=t.langCode.replace(/-.*/,""),h=h!=t.langCode&&0<=CKEDITOR.tools.indexOf(c,h)?h:0<=CKEDITOR.tools.indexOf(c,"en")?"en":c[0]),d.langEntries&&d.langEntries[h]?(t.lang[s]=d.langEntries[h],h=null):a.push(CKEDITOR.getUrl(d.path+"lang/"+h+".js"))),o.push(h),n.push(d)}CKEDITOR.scriptLoader.load(a,function(){for(var i=["beforeInit","init","afterInit"],a=0;a<i.length;a++)for(var r=0;r<n.length;r++){var s=n[r];0===a&&o[r]&&s.lang&&s.langEntries&&(t.lang[s.name]=s.langEntries[o[r]]),s[i[a]]&&s[i[a]](t)}for(t.fireOnce("pluginsLoaded"),e.keystrokes&&t.setKeystroke(t.config.keystrokes),r=0;r<t.config.blockedKeystrokes.length;r++)t.keystrokeHandler.blockedKeystrokes[t.config.blockedKeystrokes[r]]=1;t.status="loaded",t.fireOnce("loaded"),CKEDITOR.fire("instanceLoaded",null,t)})})}function u(){var t=this.element;if(t&&this.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO){var e=this.getData()
;return this.config.htmlEncodeOutput&&(e=CKEDITOR.tools.htmlEncode(e)),t.is("textarea")?t.setValue(e):t.setHtml(e),!0}return!1}function f(t,e){function i(t){var e=t.startContainer,i=t.endContainer;return!(!e.is||!(e.is("tr")||e.is("td")&&e.equals(i)&&t.endOffset===e.getChildCount()))}function n(t){var e=t.startContainer;return e.is("tr")?t.cloneContents():e.clone(!0)}for(var o,a,r,s=new CKEDITOR.dom.documentFragment,l=0;l<t.length;l++){var d=t[l],c=d.startContainer.getAscendant("tr",!0);i(d)?(o||(o=c.getAscendant("table").clone(),o.append(c.getAscendant({thead:1,tbody:1,tfoot:1}).clone()),s.append(o),o=o.findOne("thead, tbody, tfoot")),a&&a.equals(c)||(a=c,r=c.clone(),o.append(r)),r.append(n(d))):s.append(d.cloneContents())}return o?s:e.getHtmlFromRange(t[0])}t.prototype=CKEDITOR.editor.prototype,CKEDITOR.editor=t;var p=0,m={};CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{addCommand:function(t,e){e.name=t.toLowerCase();var i=new CKEDITOR.command(this,e);return this.mode&&o(this,i),this.commands[t]=i},_attachToForm:function(){function t(t){i.updateElement(),i._.required&&!n.getValue()&&!1===i.fire("required")&&t.data.preventDefault()}function e(t){return!!(t&&t.call&&t.apply)}var i=this,n=i.element,o=new CKEDITOR.dom.element(n.$.form);n.is("textarea")&&o&&(o.on("submit",t),e(o.$.submit)&&(o.$.submit=CKEDITOR.tools.override(o.$.submit,function(e){return function(){t(),e.apply?e.apply(this):e()}})),i.on("destroy",function(){o.removeListener("submit",t)}))},destroy:function(t){this.fire("beforeDestroy"),!t&&u.call(this),this.editable(null),this.filter&&(this.filter.destroy(),delete this.filter),delete this.activeFilter,this.status="destroyed",this.fire("destroy"),this.removeAllListeners(),CKEDITOR.remove(this),CKEDITOR.fire("instanceDestroyed",null,this)},elementPath:function(t){if(!t){if(!(t=this.getSelection()))return null;t=t.getStartElement()}return t?new CKEDITOR.dom.elementPath(t,this.editable()):null},createRange:function(){var t=this.editable();return t?new CKEDITOR.dom.range(t):null},execCommand:function(t,e){var i=this.getCommand(t),n={name:t,commandData:e||{},command:i};return!(!i||i.state==CKEDITOR.TRISTATE_DISABLED||!1===this.fire("beforeCommandExec",n)||(n.returnValue=i.exec(n.commandData),i.async||!1===this.fire("afterCommandExec",n)))&&n.returnValue},getCommand:function(t){return this.commands[t]},getData:function(t){!t&&this.fire("beforeGetData");var e=this._.data;return"string"!=typeof e&&(e=(e=this.element)&&this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE?e.is("textarea")?e.getValue():e.getHtml():""),e={dataValue:e},!t&&this.fire("getData",e),e.dataValue},getSnapshot:function(){var t=this.fire("getSnapshot");return"string"!=typeof t&&(t=(t=this.element)&&this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE?t.is("textarea")?t.getValue():t.getHtml():""),t},loadSnapshot:function(t){this.fire("loadSnapshot",t)},setData:function(t,e,i){var n=!0,o=e;e&&"object"==typeof e&&(i=e.internal,o=e.callback,n=!e.noSnapshot),!i&&n&&this.fire("saveSnapshot"),!o&&i||this.once("dataReady",function(t){!i&&n&&this.fire("saveSnapshot"),o&&o.call(t.editor)}),t={dataValue:t},!i&&this.fire("setData",t),this._.data=t.dataValue,!i&&this.fire("afterSetData",t)},setReadOnly:function(t){t=null==t||t,this.readOnly!=t&&(this.readOnly=t,this.keystrokeHandler.blockedKeystrokes[8]=+t,this.editable().setReadOnly(t),this.fire("readOnly"))},insertHtml:function(t,e,i){this.fire("insertHtml",{dataValue:t,mode:e,range:i})},insertText:function(t){this.fire("insertText",t)},insertElement:function(t){this.fire("insertElement",t)},getSelectedHtml:function(t){var e=this.editable(),i=this.getSelection(),i=i&&i.getRanges();return e&&i&&0!==i.length?(e=f(i,e),t?e.getHtml():e):null},extractSelectedHtml:function(t,e){var i,n=this.editable(),o=this.getSelection().getRanges(),a=new CKEDITOR.dom.documentFragment;if(!n||0===o.length)return null;for(i=0;i<o.length;i++)a.append(n.extractHtmlFromRange(o[i],e));return e||this.getSelection().selectRanges([o[0]]),t?a.getHtml():a},focus:function(){this.fire("beforeFocus")},checkDirty:function(){return"ready"==this.status&&this._.previousValue!==this.getSnapshot()},resetDirty:function(){this._.previousValue=this.getSnapshot()},updateElement:function(){return u.call(this)},setKeystroke:function(){for(var t,e,i=this.keystrokeHandler.keystrokes,n=CKEDITOR.tools.isArray(arguments[0])?arguments[0]:[[].slice.call(arguments,0)],o=n.length;o--;)t=n[o],e=0,CKEDITOR.tools.isArray(t)&&(e=t[1],t=t[0]),e?i[t]=e:delete i[t]},getCommandKeystroke:function(t){if(t="string"==typeof t?this.getCommand(t):t){var e,i=CKEDITOR.tools.object.findKey(this.commands,t),n=this.keystrokeHandler.keystrokes;if(t.fakeKeystroke)return t.fakeKeystroke;for(e in n)if(n.hasOwnProperty(e)&&n[e]==i)return e}return null},addFeature:function(t){return this.filter.addFeature(t)},setActiveFilter:function(t){t||(t=this.filter),this.activeFilter!==t&&(this.activeFilter=t,this.fire("activeFilterChange"),t===this.filter?this.setActiveEnterMode(null,null):this.setActiveEnterMode(t.getAllowedEnterMode(this.enterMode),t.getAllowedEnterMode(this.shiftEnterMode,!0)))},setActiveEnterMode:function(t,e){t=t?this.blockless?CKEDITOR.ENTER_BR:t:this.enterMode,e=e?this.blockless?CKEDITOR.ENTER_BR:e:this.shiftEnterMode,this.activeEnterMode==t&&this.activeShiftEnterMode==e||(this.activeEnterMode=t,this.activeShiftEnterMode=e,this.fire("activeEnterModeChange"))},showNotification:function(t){alert(t)}})}(),CKEDITOR.ELEMENT_MODE_NONE=0,CKEDITOR.ELEMENT_MODE_REPLACE=1,CKEDITOR.ELEMENT_MODE_APPENDTO=2,CKEDITOR.ELEMENT_MODE_INLINE=3,CKEDITOR.htmlParser=function(){this._={htmlPartsRegex:/<(?:(?:\/([^>]+)>)|(?:!--([\S|\s]*?)--\x3e)|(?:([^\/\s>]+)((?:\s+[\w\-:.]+(?:\s*=\s*?(?:(?:"[^"]*")|(?:'[^']*')|[^\s"'\/>]+))?)*)[\S\s]*?(\/?)>))/g}},function(){var t=/([\w\-:.]+)(?:(?:\s*=\s*(?:(?:"([^"]*)")|(?:'([^']*)')|([^\s>]+)))|(?=\s|$))/g,e={checked:1,compact:1,declare:1,defer:1,disabled:1,ismap:1,multiple:1,nohref:1,noresize:1,noshade:1,nowrap:1,readonly:1,selected:1};CKEDITOR.htmlParser.prototype={onTagOpen:function(){},onTagClose:function(){},onText:function(){},onCDATA:function(){},onComment:function(){},parse:function(i){for(var n,o,a,r=0;n=this._.htmlPartsRegex.exec(i);)if(o=n.index,o>r&&(r=i.substring(r,o),a?a.push(r):this.onText(r)),r=this._.htmlPartsRegex.lastIndex,!(o=n[1])||(o=o.toLowerCase(),a&&CKEDITOR.dtd.$cdata[o]&&(this.onCDATA(a.join("")),a=null),a))if(a)a.push(n[0]);else if(o=n[3]){if(o=o.toLowerCase(),!/="/.test(o)){var s,l={},d=n[4];if(n=!!n[5],d)for(;s=t.exec(d);){var c=s[1].toLowerCase();s=s[2]||s[3]||s[4]||"",l[c]=!s&&e[c]?c:CKEDITOR.tools.htmlDecodeAttr(s)}this.onTagOpen(o,l,n),!a&&CKEDITOR.dtd.$cdata[o]&&(a=[])}}else(o=n[2])&&this.onComment(o);else this.onTagClose(o);i.length>r&&this.onText(i.substring(r,i.length))}}}(),CKEDITOR.htmlParser.basicWriter=CKEDITOR.tools.createClass({$:function(){this._={output:[]}},proto:{openTag:function(t){this._.output.push("<",t)},openTagClose:function(t,e){e?this._.output.push(" />"):this._.output.push(">")},attribute:function(t,e){"string"==typeof e&&(e=CKEDITOR.tools.htmlEncodeAttr(e)),this._.output.push(" ",t,'="',e,'"')},closeTag:function(t){this._.output.push("</",t,">")},text:function(t){this._.output.push(t)},comment:function(t){this._.output.push("<!--",t,"-->")},write:function(t){this._.output.push(t)},reset:function(){this._.output=[],this._.indent=!1},getHtml:function(t){var e=this._.output.join("");return t&&this.reset(),e}}}),function(){CKEDITOR.htmlParser.node=function(){},CKEDITOR.htmlParser.node.prototype={remove:function(){var t=this.parent.children,e=CKEDITOR.tools.indexOf(t,this),i=this.previous,n=this.next;i&&(i.next=n),n&&(n.previous=i),t.splice(e,1),this.parent=null},replaceWith:function(t){var e=this.parent.children,i=CKEDITOR.tools.indexOf(e,this),n=t.previous=this.previous,o=t.next=this.next;n&&(n.next=t),o&&(o.previous=t),e[i]=t,t.parent=this.parent,this.parent=null},insertAfter:function(t){var e=t.parent.children,i=CKEDITOR.tools.indexOf(e,t),n=t.next;e.splice(i+1,0,this),this.next=t.next,this.previous=t,t.next=this,n&&(n.previous=this),this.parent=t.parent},insertBefore:function(t){var e=t.parent.children,i=CKEDITOR.tools.indexOf(e,t);e.splice(i,0,this),this.next=t,(this.previous=t.previous)&&(t.previous.next=this),t.previous=this,this.parent=t.parent},getAscendant:function(t){for(var e=("function"==typeof t?t:"string"==typeof t?function(e){return e.name==t}:function(e){return e.name in t}),i=this.parent;i&&i.type==CKEDITOR.NODE_ELEMENT;){if(e(i))return i;i=i.parent}return null},wrapWith:function(t){return this.replaceWith(t),t.add(this),t},getIndex:function(){return CKEDITOR.tools.indexOf(this.parent.children,this)},getFilterContext:function(t){return t||{}}}}(),CKEDITOR.htmlParser.comment=function(t){this.value=t,this._={isBlockLike:!1}},CKEDITOR.htmlParser.comment.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_COMMENT,filter:function(t,e){var i=this.value;return(i=t.onComment(e,i,this))?"string"!=typeof i?(this.replaceWith(i),!1):(this.value=i,!0):(this.remove(),!1)},writeHtml:function(t,e){e&&this.filter(e),t.comment(this.value)}}),function(){CKEDITOR.htmlParser.text=function(t){this.value=t,this._={isBlockLike:!1}},CKEDITOR.htmlParser.text.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_TEXT,filter:function(t,e){if(!(this.value=t.onText(e,this.value,this)))return this.remove(),!1},writeHtml:function(t,e){e&&this.filter(e),t.text(this.value)}})}(),function(){CKEDITOR.htmlParser.cdata=function(t){this.value=t},CKEDITOR.htmlParser.cdata.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_TEXT,filter:function(){},writeHtml:function(t){t.write(this.value)}})}(),CKEDITOR.htmlParser.fragment=function(){this.children=[],this.parent=null,this._={isBlockLike:!0,hasInlineStarted:!1}},function(){function t(t){return!t.attributes["data-cke-survive"]&&("a"==t.name&&t.attributes.href||CKEDITOR.dtd.$removeEmpty[t.name])}var e=CKEDITOR.tools.extend({table:1,ul:1,ol:1,dl:1},CKEDITOR.dtd.table,CKEDITOR.dtd.ul,CKEDITOR.dtd.ol,CKEDITOR.dtd.dl),i={ol:1,ul:1},n=CKEDITOR.tools.extend({},{html:1},CKEDITOR.dtd.html,CKEDITOR.dtd.body,CKEDITOR.dtd.head,{style:1,script:1}),o={ul:"li",ol:"li",dl:"dd",table:"tbody",tbody:"tr",thead:"tr",tfoot:"tr",tr:"td"};CKEDITOR.htmlParser.fragment.fromHtml=function(a,r,s){function l(t){var e;if(0<g.length)for(var i=0;i<g.length;i++){var n=g[i],o=n.name,a=CKEDITOR.dtd[o],r=b.name&&CKEDITOR.dtd[b.name];r&&!r[o]||t&&a&&!a[t]&&CKEDITOR.dtd[t]?o==b.name&&(h(b,b.parent,1),i--):(e||(d(),e=1),n=n.clone(),n.parent=b,b=n,g.splice(i,1),i--)}}function d(){for(;v.length;)h(v.shift(),b)}function c(t){if(t._.isBlockLike&&"pre"!=t.name&&"textarea"!=t.name){var e,i=t.children.length,n=t.children[i-1];n&&n.type==CKEDITOR.NODE_TEXT&&((e=CKEDITOR.tools.rtrim(n.value))?n.value=e:t.children.length=i-1)}}function h(e,i,n){i=i||b||m;var o=b;void 0===e.previous&&(u(i,e)&&(b=i,p.onTagOpen(s,{}),e.returnPoint=i=b),c(e),t(e)&&!e.children.length||i.add(e),"pre"==e.name&&(E=!1),"textarea"==e.name&&(T=!1)),e.returnPoint?(b=e.returnPoint,delete e.returnPoint):b=n?i:o}function u(t,e){if((t==m||"body"==t.name)&&s&&(!t.name||CKEDITOR.dtd[t.name][s])){var i,n;return(i=e.attributes&&(n=e.attributes["data-cke-real-element-type"])?n:e.name)&&i in CKEDITOR.dtd.$inline&&!(i in CKEDITOR.dtd.head)&&!e.isOrphan||e.type==CKEDITOR.NODE_TEXT}}function f(t,e){return(t in CKEDITOR.dtd.$listItem||t in CKEDITOR.dtd.$tableContent)&&(t==e||"dt"==t&&"dd"==e||"dd"==t&&"dt"==e)}var p=new CKEDITOR.htmlParser,m=r instanceof CKEDITOR.htmlParser.element?r:"string"==typeof r?new CKEDITOR.htmlParser.element(r):new CKEDITOR.htmlParser.fragment,g=[],v=[],b=m,T="textarea"==m.name,E="pre"==m.name;p.onTagOpen=function(o,a,r,s){if(a=new CKEDITOR.htmlParser.element(o,a),a.isUnknown&&r&&(a.isEmpty=!0),a.isOptionalClose=s,t(a))g.push(a);else{if("pre"==o)E=!0;else{if("br"==o&&E)return void b.add(new CKEDITOR.htmlParser.text("\n"));"textarea"==o&&(T=!0)}if("br"==o)v.push(a);else{for(;s=(r=b.name)?CKEDITOR.dtd[r]||(b._.isBlockLike?CKEDITOR.dtd.div:CKEDITOR.dtd.span):n,!(a.isUnknown||b.isUnknown||s[o]);)if(b.isOptionalClose)p.onTagClose(r);else if(o in i&&r in i)r=b.children,(r=r[r.length-1])&&"li"==r.name||h(r=new CKEDITOR.htmlParser.element("li"),b),!a.returnPoint&&(a.returnPoint=b),b=r;else if(o in CKEDITOR.dtd.$listItem&&!f(o,r))p.onTagOpen("li"==o?"ul":"dl",{},0,1);else if(r in e&&!f(o,r))!a.returnPoint&&(a.returnPoint=b),b=b.parent;else{if(r in CKEDITOR.dtd.$inline&&g.unshift(b),!b.parent){a.isOrphan=1;break}h(b,b.parent,1)}l(o),d(),a.parent=b,a.isEmpty?h(a):b=a}}},p.onTagClose=function(t){for(var e=g.length-1;0<=e;e--)if(t==g[e].name)return void g.splice(e,1);for(var i=[],n=[],o=b;o!=m&&o.name!=t;)o._.isBlockLike||n.unshift(o),i.push(o),o=o.returnPoint||o.parent;if(o!=m){for(e=0;e<i.length;e++){var a=i[e];h(a,a.parent)}b=o,o._.isBlockLike&&d(),h(o,o.parent),o==b&&(b=b.parent),g=g.concat(n)}"body"==t&&(s=!1)},p.onText=function(t){if(b._.hasInlineStarted&&!v.length||E||T||(t=CKEDITOR.tools.ltrim(t),0!==t.length)){var i=b.name,a=i?CKEDITOR.dtd[i]||(b._.isBlockLike?CKEDITOR.dtd.div:CKEDITOR.dtd.span):n;!T&&!a["#"]&&i in e?(p.onTagOpen(o[i]||""),p.onText(t)):(d(),l(),E||T||(t=t.replace(/[\t\r\n ]{2,}|[\t\r\n]/g," ")),t=new CKEDITOR.htmlParser.text(t),u(b,t)&&this.onTagOpen(s,{},0,1),b.add(t))}},p.onCDATA=function(t){b.add(new CKEDITOR.htmlParser.cdata(t))},p.onComment=function(t){d(),l(),b.add(new CKEDITOR.htmlParser.comment(t))},p.parse(a);for(d();b!=m;)h(b,b.parent,1);return c(m),m},CKEDITOR.htmlParser.fragment.prototype={type:CKEDITOR.NODE_DOCUMENT_FRAGMENT,add:function(t,e){isNaN(e)&&(e=this.children.length);var i=0<e?this.children[e-1]:null;if(i){if(t._.isBlockLike&&i.type==CKEDITOR.NODE_TEXT&&(i.value=CKEDITOR.tools.rtrim(i.value),0===i.value.length))return this.children.pop(),void this.add(t);i.next=t}t.previous=i,t.parent=this,this.children.splice(e,0,t),this._.hasInlineStarted||(this._.hasInlineStarted=t.type==CKEDITOR.NODE_TEXT||t.type==CKEDITOR.NODE_ELEMENT&&!t._.isBlockLike)},filter:function(t,e){e=this.getFilterContext(e),t.onRoot(e,this),this.filterChildren(t,!1,e)},filterChildren:function(t,e,i){if(this.childrenFilteredBy!=t.id)for(i=this.getFilterContext(i),e&&!this.parent&&t.onRoot(i,this),this.childrenFilteredBy=t.id,e=0;e<this.children.length;e++)!1===this.children[e].filter(t,i)&&e--},writeHtml:function(t,e){e&&this.filter(e),this.writeChildrenHtml(t)},writeChildrenHtml:function(t,e,i){var n=this.getFilterContext();for(i&&!this.parent&&e&&e.onRoot(n,this),e&&this.filterChildren(e,!1,n),e=0,i=this.children,n=i.length;e<n;e++)i[e].writeHtml(t)},forEach:function(t,e,i){if(!(i||e&&this.type!=e))var n=t(this);if(!1!==n){i=this.children;for(var o=0;o<i.length;o++)n=i[o],n.type==CKEDITOR.NODE_ELEMENT?n.forEach(t,e):e&&n.type!=e||t(n)}},getFilterContext:function(t){return t||{}}}}(),function(){function t(){this.rules=[]}function e(e,i,n,o){var a,r;for(a in i)(r=e[a])||(r=e[a]=new t),r.add(i[a],n,o)}CKEDITOR.htmlParser.filter=CKEDITOR.tools.createClass({$:function(e){this.id=CKEDITOR.tools.getNextNumber(),this.elementNameRules=new t,this.attributeNameRules=new t,this.elementsRules={},this.attributesRules={},this.textRules=new t,this.commentRules=new t,this.rootRules=new t,e&&this.addRules(e,10)},proto:{addRules:function(t,i){var n;"number"==typeof i?n=i:i&&"priority"in i&&(n=i.priority),"number"!=typeof n&&(n=10),"object"!=typeof i&&(i={}),t.elementNames&&this.elementNameRules.addMany(t.elementNames,n,i),t.attributeNames&&this.attributeNameRules.addMany(t.attributeNames,n,i),t.elements&&e(this.elementsRules,t.elements,n,i),t.attributes&&e(this.attributesRules,t.attributes,n,i),t.text&&this.textRules.add(t.text,n,i),t.comment&&this.commentRules.add(t.comment,n,i),t.root&&this.rootRules.add(t.root,n,i)},applyTo:function(t){t.filter(this)},onElementName:function(t,e){return this.elementNameRules.execOnName(t,e)},onAttributeName:function(t,e){return this.attributeNameRules.execOnName(t,e)},onText:function(t,e,i){return this.textRules.exec(t,e,i)},onComment:function(t,e,i){return this.commentRules.exec(t,e,i)},onRoot:function(t,e){return this.rootRules.exec(t,e)},onElement:function(t,e){for(var i,n=[this.elementsRules["^"],this.elementsRules[e.name],this.elementsRules.$],o=0;3>o;o++)if(i=n[o]){if(!1===(i=i.exec(t,e,this)))return null;if(i&&i!=e)return this.onNode(t,i);if(e.parent&&!e.name)break}return e},onNode:function(t,e){var i=e.type;return i==CKEDITOR.NODE_ELEMENT?this.onElement(t,e):i==CKEDITOR.NODE_TEXT?new CKEDITOR.htmlParser.text(this.onText(t,e.value)):i==CKEDITOR.NODE_COMMENT?new CKEDITOR.htmlParser.comment(this.onComment(t,e.value)):null},onAttribute:function(t,e,i,n){return(i=this.attributesRules[i])?i.exec(t,n,e,this):n}}}),CKEDITOR.htmlParser.filterRulesGroup=t,t.prototype={add:function(t,e,i){this.rules.splice(this.findIndex(e),0,{value:t,priority:e,options:i})},addMany:function(t,e,i){for(var n=[this.findIndex(e),0],o=0,a=t.length;o<a;o++)n.push({value:t[o],priority:e,options:i});this.rules.splice.apply(this.rules,n)},findIndex:function(t){for(var e=this.rules,i=e.length-1;0<=i&&t<e[i].priority;)i--;return i+1},exec:function(t,e){var i,n,o,a,r=e instanceof CKEDITOR.htmlParser.node||e instanceof CKEDITOR.htmlParser.fragment,s=Array.prototype.slice.call(arguments,1),l=this.rules,d=l.length;for(a=0;a<d;a++)if(r&&(i=e.type,n=e.name),o=l[a],!(t.nonEditable&&!o.options.applyToAll||t.nestedEditable&&o.options.excludeNestedEditable)){if(!1===(o=o.value.apply(null,s))||r&&o&&(o.name!=n||o.type!=i))return o;null!=o&&(s[0]=e=o)}return e},execOnName:function(t,e){for(var i,n=0,o=this.rules,a=o.length;e&&n<a;n++)i=o[n],t.nonEditable&&!i.options.applyToAll||t.nestedEditable&&i.options.excludeNestedEditable||(e=e.replace(i.value[0],i.value[1]));return e}}}(),function(){function t(t,e){function s(t){return t||CKEDITOR.env.needsNbspFiller?new CKEDITOR.htmlParser.text("\xa0"):new CKEDITOR.htmlParser.element("br",{"data-cke-bogus":1})}function l(t,e){return function(o){if(o.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT){var r,l,c=[],h=i(o);if(h)for(d(h,1)&&c.push(h);h;)a(h)&&(r=n(h))&&d(r)&&((l=n(r))&&!a(l)?c.push(r):(s(u).insertAfter(r),r.remove())),h=h.previous;for(h=0;h<c.length;h++)c[h].remove();(c=!t||!1!==("function"==typeof e?e(o):e))&&((u||CKEDITOR.env.needsBrFiller||o.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT)&&(u||CKEDITOR.env.needsBrFiller||!(7<document.documentMode||o.name in CKEDITOR.dtd.tr||o.name in CKEDITOR.dtd.$listItem))?(c=i(o),c=!c||"form"==o.name&&"input"==c.name):c=!1),c&&o.add(s(t))}}}function d(t,e){if((!u||CKEDITOR.env.needsBrFiller)&&t.type==CKEDITOR.NODE_ELEMENT&&"br"==t.name&&!t.attributes["data-cke-eol"])return!0;var i;return!!(t.type==CKEDITOR.NODE_TEXT&&(i=t.value.match(g))&&(i.index&&(new CKEDITOR.htmlParser.text(t.value.substring(0,i.index)).insertBefore(t),t.value=i[0]),!CKEDITOR.env.needsBrFiller&&u&&(!e||t.parent.name in f)||!u&&((i=t.previous)&&"br"==i.name||!i||a(i))))}var c,h={elements:{}},u="html"==e,f=CKEDITOR.tools.extend({},E);for(c in f)"#"in b[c]||delete f[c];for(c in f)h.elements[c]=l(u,t.config.fillEmptyBlocks);return h.root=l(u,!1),h.elements.br=function(t){return function(e){if(e.parent.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT){var i=e.attributes;if("data-cke-bogus"in i||"data-cke-eol"in i)delete i["data-cke-bogus"];else{for(i=e.next;i&&o(i);)i=i.next;var l=n(e);!i&&a(e.parent)?r(e.parent,s(t)):a(i)&&l&&!a(l)&&s(t).insertBefore(i)}}}}(u),h}function e(t,e){return t!=CKEDITOR.ENTER_BR&&!1!==e&&(t==CKEDITOR.ENTER_DIV?"div":"p")}function i(t){for(t=t.children[t.children.length-1];t&&o(t);)t=t.previous;return t}function n(t){for(t=t.previous;t&&o(t);)t=t.previous;return t}function o(t){return t.type==CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.trim(t.value)||t.type==CKEDITOR.NODE_ELEMENT&&t.attributes["data-cke-bookmark"]}function a(t){return t&&(t.type==CKEDITOR.NODE_ELEMENT&&t.name in E||t.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT)}function r(t,e){var i=t.children[t.children.length-1];t.children.push(e),e.parent=t,i&&(i.next=e,e.previous=i)}function s(t){t=t.attributes,"false"!=t.contenteditable&&(t["data-cke-editable"]=t.contenteditable?"true":1),t.contenteditable="false"}function l(t){switch(t=t.attributes,t["data-cke-editable"]){case"true":t.contenteditable="true";break;case"1":delete t.contenteditable}}function d(t){return t.replace(O,function(t,e,i){return"<"+e+i.replace(R,function(t,e){return x.test(e)&&-1==i.indexOf("data-cke-saved-"+e)?" data-cke-saved-"+t+" data-cke-"+CKEDITOR.rnd+"-"+t:t})+">"})}function c(t,e){return t.replace(e,function(t,e,i){return 0===t.indexOf("<textarea")&&(t=e+f(i).replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</textarea>"),"<cke:encoded>"+encodeURIComponent(t)+"</cke:encoded>"})}function h(t){return t.replace(_,function(t,e){return decodeURIComponent(e)})}function u(t){return t.replace(/\x3c!--(?!{cke_protected})[\s\S]+?--\x3e/g,function(t){return"<!--"+v+"{C}"+encodeURIComponent(t).replace(/--/g,"%2D%2D")+"-->"})}function f(t){return t.replace(/\x3c!--\{cke_protected\}\{C\}([\s\S]+?)--\x3e/g,function(t,e){return decodeURIComponent(e)})}function p(t,e){var i=e._.dataStore;return t.replace(/\x3c!--\{cke_protected\}([\s\S]+?)--\x3e/g,function(t,e){return decodeURIComponent(e)}).replace(/\{cke_protected_(\d+)\}/g,function(t,e){return i&&i[e]||""})}function m(t,e){var i=[],n=e.config.protectedSource,o=e._.dataStore||(e._.dataStore={id:1}),a=/<\!--\{cke_temp(comment)?\}(\d*?)--\x3e/g,n=[/<script[\s\S]*?(<\/script>|$)/gi,/<noscript[\s\S]*?<\/noscript>/gi,/<meta[\s\S]*?\/?>/gi].concat(n);t=t.replace(/\x3c!--[\s\S]*?--\x3e/g,function(t){return"<!--{cke_tempcomment}"+(i.push(t)-1)+"-->"});for(var r=0;r<n.length;r++)t=t.replace(n[r],function(t){return t=t.replace(a,function(t,e,n){return i[n]}),/cke_temp(comment)?/.test(t)?t:"<!--{cke_temp}"+(i.push(t)-1)+"-->"});return t=t.replace(a,function(t,e,n){return"<!--"+v+(e?"{C}":"")+encodeURIComponent(i[n]).replace(/--/g,"%2D%2D")+"-->"}),t=t.replace(/<\w+(?:\s+(?:(?:[^\s=>]+\s*=\s*(?:[^'"\s>]+|'[^']*'|"[^"]*"))|[^\s=\/>]+))+\s*\/?>/g,function(t){return t.replace(/\x3c!--\{cke_protected\}([^>]*)--\x3e/g,function(t,e){return o[o.id]=decodeURIComponent(e),"{cke_protected_"+o.id+++"}"})}),t=t.replace(/<(title|iframe|textarea)([^>]*)>([\s\S]*?)<\/\1>/g,function(t,i,n,o){return"<"+i+n+">"+p(f(o),e)+"</"+i+">"})}CKEDITOR.htmlDataProcessor=function(i){var n,o,a=this;this.editor=i,this.dataFilter=n=new CKEDITOR.htmlParser.filter,this.htmlFilter=o=new CKEDITOR.htmlParser.filter,this.writer=new CKEDITOR.htmlParser.basicWriter,n.addRules(C),n.addRules(y,{applyToAll:!0}),n.addRules(t(i,"data"),{applyToAll:!0}),o.addRules(D),o.addRules(I,{applyToAll:!0}),o.addRules(t(i,"html"),{applyToAll:!0}),i.on("toHtml",function(t){t=t.data;var n,o=t.dataValue,o=m(o,i),o=c(o,k),o=d(o),o=c(o,w),o=o.replace(S,"$1cke:$2"),o=o.replace(K,"<cke:$1$2></cke:$1>"),o=o.replace(/(<pre\b[^>]*>)(\r\n|\n)/g,"$1$2$2"),o=o.replace(/([^a-z0-9<\-])(on\w{3,})(?!>)/gi,"$1data-cke-"+CKEDITOR.rnd+"-$2");n=t.context||i.editable().getName();var a;CKEDITOR.env.ie&&9>CKEDITOR.env.version&&"pre"==n&&(n="div",o="<pre>"+o+"</pre>",a=1),n=i.document.createElement(n),n.setHtml("a"+o),o=n.getHtml().substr(1),o=o.replace(new RegExp("data-cke-"+CKEDITOR.rnd+"-","ig"),""),a&&(o=o.replace(/^<pre>|<\/pre>$/gi,"")),o=o.replace(N,"$1$2"),o=h(o),o=f(o),n=!1!==t.fixForBody&&e(t.enterMode,i.config.autoParagraph),o=CKEDITOR.htmlParser.fragment.fromHtml(o,t.context,n),n&&(a=o,!a.children.length&&CKEDITOR.dtd[a.name][n]&&(n=new CKEDITOR.htmlParser.element(n),a.add(n))),t.dataValue=o},null,null,5),i.on("toHtml",function(t){t.data.filter.applyTo(t.data.dataValue,!0,t.data.dontFilter,t.data.enterMode)&&i.fire("dataFiltered")},null,null,6),i.on("toHtml",function(t){t.data.dataValue.filterChildren(a.dataFilter,!0)},null,null,10),i.on("toHtml",function(t){t=t.data;var e=t.dataValue,i=new CKEDITOR.htmlParser.basicWriter;e.writeChildrenHtml(i),e=i.getHtml(!0),t.dataValue=u(e)},null,null,15),i.on("toDataFormat",function(t){var n=t.data.dataValue;t.data.enterMode!=CKEDITOR.ENTER_BR&&(n=n.replace(/^<br *\/?>/i,"")),t.data.dataValue=CKEDITOR.htmlParser.fragment.fromHtml(n,t.data.context,e(t.data.enterMode,i.config.autoParagraph))},null,null,5),i.on("toDataFormat",function(t){t.data.dataValue.filterChildren(a.htmlFilter,!0)},null,null,10),i.on("toDataFormat",function(t){t.data.filter.applyTo(t.data.dataValue,!1,!0)},null,null,11),i.on("toDataFormat",function(t){var e=t.data.dataValue,n=a.writer;n.reset(),e.writeChildrenHtml(n),e=n.getHtml(!0),e=f(e),e=p(e,i),t.data.dataValue=e},null,null,15)},CKEDITOR.htmlDataProcessor.prototype={toHtml:function(t,e,i,n){var o,a,r,s,l=this.editor;return e&&"object"==typeof e?(o=e.context,i=e.fixForBody,n=e.dontFilter,a=e.filter,r=e.enterMode,s=e.protectedWhitespaces):o=e,o||null===o||(o=l.editable().getName()),l.fire("toHtml",{dataValue:t,context:o,fixForBody:i,dontFilter:n,filter:a||l.filter,enterMode:r||l.enterMode,protectedWhitespaces:s}).dataValue},toDataFormat:function(t,e){var i,n,o;return e&&(i=e.context,n=e.filter,o=e.enterMode),i||null===i||(i=this.editor.editable().getName()),this.editor.fire("toDataFormat",{dataValue:t,filter:n||this.editor.filter,context:i,enterMode:o||this.editor.enterMode}).dataValue}};var g=/(?:&nbsp;|\xa0)$/,v="{cke_protected}",b=CKEDITOR.dtd,T="caption colgroup col thead tfoot tbody".split(" "),E=CKEDITOR.tools.extend({},b.$blockLimit,b.$block),C={elements:{input:s,textarea:s}},y={attributeNames:[[/^on/,"data-cke-pa-on"],[/^srcdoc/,"data-cke-pa-srcdoc"],[/^data-cke-expando$/,""]],elements:{iframe:function(t){if(t.attributes&&t.attributes.src){var e=t.attributes.src.toLowerCase().replace(/[^a-z]/gi,"");0!==e.indexOf("javascript")&&0!==e.indexOf("data")||(t.attributes["data-cke-pa-src"]=t.attributes.src,delete t.attributes.src)}}}},D={elements:{embed:function(t){var e=t.parent;if(e&&"object"==e.name){var i=e.attributes.width,e=e.attributes.height;i&&(t.attributes.width=i),e&&(t.attributes.height=e)}},a:function(t){var e=t.attributes;if(!(t.children.length||e.name||e.id||t.attributes["data-cke-saved-name"]))return!1}}},I={elementNames:[[/^cke:/,""],[/^\?xml:namespace$/,""]],attributeNames:[[/^data-cke-(saved|pa)-/,""],[/^data-cke-.*/,""],["hidefocus",""]],elements:{$:function(t){var e=t.attributes;if(e){if(e["data-cke-temp"])return!1;for(var i=["name","href","src"],n=0;n<i.length;n++)"data-cke-saved-"+i[n]in e&&delete e[i[n]]}return t},table:function(t){t.children.slice(0).sort(function(t,e){var i,n;return t.type==CKEDITOR.NODE_ELEMENT&&e.type==t.type&&(i=CKEDITOR.tools.indexOf(T,t.name),n=CKEDITOR.tools.indexOf(T,e.name)),-1<i&&-1<n&&i!=n||(i=t.parent?t.getIndex():-1,n=e.parent?e.getIndex():-1),i>n?1:-1})},param:function(t){return t.children=[],t.isEmpty=!0,t},span:function(t){"Apple-style-span"==t.attributes["class"]&&delete t.name},html:function(t){delete t.attributes.contenteditable,delete t.attributes["class"]},body:function(t){delete t.attributes.spellcheck,delete t.attributes.contenteditable},style:function(t){var e=t.children[0];e&&e.value&&(e.value=CKEDITOR.tools.trim(e.value)),t.attributes.type||(t.attributes.type="text/css")},title:function(t){var e=t.children[0];!e&&r(t,e=new CKEDITOR.htmlParser.text),e.value=t.attributes["data-cke-title"]||""},input:l,textarea:l},attributes:{"class":function(t){return CKEDITOR.tools.ltrim(t.replace(/(?:^|\s+)cke_[^\s]*/g,""))||!1}}};CKEDITOR.env.ie&&(I.attributes.style=function(t){return t.replace(/(^|;)([^\:]+)/g,function(t){return t.toLowerCase()})});var O=/<(a|area|img|input|source)\b([^>]*)>/gi,R=/([\w-:]+)\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|(?:[^ "'>]+))/gi,x=/^(href|src|name)$/i,w=/(?:<style(?=[ >])[^>]*>[\s\S]*?<\/style>)|(?:<(:?link|meta|base)[^>]*>)/gi,k=/(<textarea(?=[ >])[^>]*>)([\s\S]*?)(?:<\/textarea>)/gi,_=/<cke:encoded>([^<]*)<\/cke:encoded>/gi,S=/(<\/?)((?:object|embed|param|html|body|head|title)[^>]*>)/gi,N=/(<\/?)cke:((?:html|body|head|title)[^>]*>)/gi,K=/<cke:(param|embed)([^>]*?)\/?>(?!\s*<\/cke:\1)/gi}(),CKEDITOR.htmlParser.element=function(t,e){this.name=t,this.attributes=e||{},this.children=[];var i=t||"",n=i.match(/^cke:(.*)/);n&&(i=n[1]),i=!!(CKEDITOR.dtd.$nonBodyContent[i]||CKEDITOR.dtd.$block[i]||CKEDITOR.dtd.$listItem[i]||CKEDITOR.dtd.$tableContent[i]||CKEDITOR.dtd.$nonEditable[i]||"br"==i),this.isEmpty=!!CKEDITOR.dtd.$empty[t],this.isUnknown=!CKEDITOR.dtd[t],this._={isBlockLike:i,hasInlineStarted:this.isEmpty||!i}},CKEDITOR.htmlParser.cssStyle=function(t){var e={};return((t instanceof CKEDITOR.htmlParser.element?t.attributes.style:t)||"").replace(/&quot;/g,'"').replace(/\s*([^ :;]+)\s*:\s*([^;]+)\s*(?=;|$)/g,function(t,i,n){"font-family"==i&&(n=n.replace(/["']/g,"")),e[i.toLowerCase()]=n}),{rules:e,populate:function(t){var e=this.toString();e&&(t instanceof CKEDITOR.dom.element?t.setAttribute("style",e):t instanceof CKEDITOR.htmlParser.element?t.attributes.style=e:t.style=e)},toString:function(){var t,i=[];for(t in e)e[t]&&i.push(t,":",e[t],";");return i.join("")}}},function(){function t(t){return function(e){return e.type==CKEDITOR.NODE_ELEMENT&&("string"==typeof t?e.name==t:e.name in t)}}var e=function(t,e){return t=t[0],e=e[0],t<e?-1:t>e?1:0},i=CKEDITOR.htmlParser.fragment.prototype;CKEDITOR.htmlParser.element.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_ELEMENT,add:i.add,clone:function(){return new CKEDITOR.htmlParser.element(this.name,this.attributes)},filter:function(t,e){var i,n,o=this;if(e=o.getFilterContext(e),e.off)return!0;for(o.parent||t.onRoot(e,o);;){if(i=o.name,!(n=t.onElementName(e,i)))return this.remove(),!1;if(o.name=n,!(o=t.onElement(e,o)))return this.remove(),!1;if(o!==this)return this.replaceWith(o),!1;if(o.name==i)break;if(o.type!=CKEDITOR.NODE_ELEMENT)return this.replaceWith(o),!1;if(!o.name)return this.replaceWithChildren(),!1}i=o.attributes;var a,r;for(a in i){for(n=i[a];;){if(!(r=t.onAttributeName(e,a))){delete i[a];break}if(r==a)break;delete i[a],a=r}r&&(!1===(n=t.onAttribute(e,o,r,n))?delete i[r]:i[r]=n)}return o.isEmpty||this.filterChildren(t,!1,e),!0},filterChildren:i.filterChildren,writeHtml:function(t,i){i&&this.filter(i);var n,o,a=this.name,r=[],s=this.attributes;t.openTag(a,s);for(n in s)r.push([n,s[n]]);for(t.sortAttributes&&r.sort(e),n=0,o=r.length;n<o;n++)s=r[n],t.attribute(s[0],s[1]);t.openTagClose(a,this.isEmpty),this.writeChildrenHtml(t),this.isEmpty||t.closeTag(a)},writeChildrenHtml:i.writeChildrenHtml,replaceWithChildren:function(){for(var t=this.children,e=t.length;e;)t[--e].insertAfter(this);this.remove()},forEach:i.forEach,getFirst:function(e){if(!e)return this.children.length?this.children[0]:null;"function"!=typeof e&&(e=t(e));for(var i=0,n=this.children.length;i<n;++i)if(e(this.children[i]))return this.children[i];return null},getHtml:function(){var t=new CKEDITOR.htmlParser.basicWriter;return this.writeChildrenHtml(t),t.getHtml()},setHtml:function(t){t=this.children=CKEDITOR.htmlParser.fragment.fromHtml(t).children;for(var e=0,i=t.length;e<i;++e)t[e].parent=this},getOuterHtml:function(){var t=new CKEDITOR.htmlParser.basicWriter;return this.writeHtml(t),t.getHtml()},split:function(t){for(var e=this.children.splice(t,this.children.length-t),i=this.clone(),n=0;n<e.length;++n)e[n].parent=i;return i.children=e,e[0]&&(e[0].previous=null),0<t&&(this.children[t-1].next=null),this.parent.add(i,this.getIndex()+1),i},find:function(t,e){void 0===e&&(e=!1);var i,n=[];for(i=0;i<this.children.length;i++){var o=this.children[i];"function"==typeof t&&t(o)?n.push(o):"string"==typeof t&&o.name===t&&n.push(o),e&&o.find&&(n=n.concat(o.find(t,e)))}return n},addClass:function(t){if(!this.hasClass(t)){var e=this.attributes["class"]||"";this.attributes["class"]=e+(e?" ":"")+t}},removeClass:function(t){var e=this.attributes["class"];e&&((e=CKEDITOR.tools.trim(e.replace(new RegExp("(?:\\s+|^)"+t+"(?:\\s+|$)")," ")))?this.attributes["class"]=e:delete this.attributes["class"])},hasClass:function(t){var e=this.attributes["class"];return!!e&&new RegExp("(?:^|\\s)"+t+"(?=\\s|$)").test(e)},getFilterContext:function(t){var e=[];if(t||(t={off:!1,nonEditable:!1,nestedEditable:!1}),t.off||"off"!=this.attributes["data-cke-processor"]||e.push("off",!0),t.nonEditable||"false"!=this.attributes.contenteditable?t.nonEditable&&!t.nestedEditable&&"true"==this.attributes.contenteditable&&e.push("nestedEditable",!0):e.push("nonEditable",!0),e.length){t=CKEDITOR.tools.copy(t);for(var i=0;i<e.length;i+=2)t[e[i]]=e[i+1]}return t}},!0)}(),function(){var t=/{([^}]+)}/g;CKEDITOR.template=function(t){this.source=String(t)},CKEDITOR.template.prototype.output=function(e,i){var n=this.source.replace(t,function(t,i){return void 0!==e[i]?e[i]:t});return i?i.push(n):n}}(),delete CKEDITOR.loadFullCore,
CKEDITOR.instances={},CKEDITOR.document=new CKEDITOR.dom.document(document),CKEDITOR.add=function(t){CKEDITOR.instances[t.name]=t,t.on("focus",function(){CKEDITOR.currentInstance!=t&&(CKEDITOR.currentInstance=t,CKEDITOR.fire("currentInstance"))}),t.on("blur",function(){CKEDITOR.currentInstance==t&&(CKEDITOR.currentInstance=null,CKEDITOR.fire("currentInstance"))}),CKEDITOR.fire("instance",null,t)},CKEDITOR.remove=function(t){delete CKEDITOR.instances[t.name]},function(){var t={};CKEDITOR.addTemplate=function(e,i){var n=t[e];return n||(n={name:e,source:i},CKEDITOR.fire("template",n),t[e]=new CKEDITOR.template(n.source))},CKEDITOR.getTemplate=function(e){return t[e]}}(),function(){var t=[];CKEDITOR.addCss=function(e){t.push(e)},CKEDITOR.getCss=function(){return t.join("\n")}}(),CKEDITOR.on("instanceDestroyed",function(){CKEDITOR.tools.isEmpty(this.instances)&&CKEDITOR.fire("reset")}),CKEDITOR.TRISTATE_ON=1,CKEDITOR.TRISTATE_OFF=2,CKEDITOR.TRISTATE_DISABLED=0,function(){CKEDITOR.inline=function(t,e){if(!CKEDITOR.env.isCompatible)return null;if(t=CKEDITOR.dom.element.get(t),t.getEditor())throw'The editor instance "'+t.getEditor().name+'" is already attached to the provided element.';var i=new CKEDITOR.editor(e,t,CKEDITOR.ELEMENT_MODE_INLINE),n=t.is("textarea")?t:null;return n?(i.setData(n.getValue(),null,!0),t=CKEDITOR.dom.element.createFromHtml('<div contenteditable="'+!!i.readOnly+'" class="cke_textarea_inline">'+n.getValue()+"</div>",CKEDITOR.document),t.insertAfter(n),n.hide(),n.$.form&&i._attachToForm()):i.setData(t.getHtml(),null,!0),i.on("loaded",function(){i.fire("uiReady"),i.editable(t),i.container=t,i.ui.contentsElement=t,i.setData(i.getData(1)),i.resetDirty(),i.fire("contentDom"),i.mode="wysiwyg",i.fire("mode"),i.status="ready",i.fireOnce("instanceReady"),CKEDITOR.fire("instanceReady",null,i)},null,null,1e4),i.on("destroy",function(){n&&(i.container.clearCustomData(),i.container.remove(),n.show()),i.element.clearCustomData(),delete i.element}),i},CKEDITOR.inlineAll=function(){var t,e,i;for(i in CKEDITOR.dtd.$editable)for(var n=CKEDITOR.document.getElementsByTag(i),o=0,a=n.count();o<a;o++)t=n.getItem(o),"true"==t.getAttribute("contenteditable")&&(e={element:t,config:{}},!1!==CKEDITOR.fire("inline",e)&&CKEDITOR.inline(t,e.config))},CKEDITOR.domReady(function(){!CKEDITOR.disableAutoInline&&CKEDITOR.inlineAll()})}(),CKEDITOR.replaceClass="ckeditor",function(){function t(t,n,o,a){if(!CKEDITOR.env.isCompatible)return null;if(t=CKEDITOR.dom.element.get(t),t.getEditor())throw'The editor instance "'+t.getEditor().name+'" is already attached to the provided element.';var r=new CKEDITOR.editor(n,t,a);return a==CKEDITOR.ELEMENT_MODE_REPLACE&&(t.setStyle("visibility","hidden"),r._.required=t.hasAttribute("required"),t.removeAttribute("required")),o&&r.setData(o,null,!0),r.on("loaded",function(){i(r),a==CKEDITOR.ELEMENT_MODE_REPLACE&&r.config.autoUpdateElement&&t.$.form&&r._attachToForm(),r.setMode(r.config.startupMode,function(){r.resetDirty(),r.status="ready",r.fireOnce("instanceReady"),CKEDITOR.fire("instanceReady",null,r)})}),r.on("destroy",e),r}function e(){var t=this.container,e=this.element;t&&(t.clearCustomData(),t.remove()),e&&(e.clearCustomData(),this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE&&(e.show(),this._.required&&e.setAttribute("required","required")),delete this.element)}function i(t){var e=t.name,i=t.element,n=t.elementMode,o=t.fire("uiSpace",{space:"top",html:""}).html,a=t.fire("uiSpace",{space:"bottom",html:""}).html,r=new CKEDITOR.template('<{outerEl} id="cke_{name}" class="{id} cke cke_reset cke_chrome cke_editor_{name} cke_{langDir} '+CKEDITOR.env.cssClass+'"  dir="{langDir}" lang="{langCode}" role="application"'+(t.title?' aria-labelledby="cke_{name}_arialbl"':"")+">"+(t.title?'<span id="cke_{name}_arialbl" class="cke_voice_label">{voiceLabel}</span>':"")+'<{outerEl} class="cke_inner cke_reset" role="presentation">{topHtml}<{outerEl} id="{contentId}" class="cke_contents cke_reset" role="presentation"></{outerEl}>{bottomHtml}</{outerEl}></{outerEl}>'),e=CKEDITOR.dom.element.createFromHtml(r.output({id:t.id,name:e,langDir:t.lang.dir,langCode:t.langCode,voiceLabel:t.title,topHtml:o?'<span id="'+t.ui.spaceId("top")+'" class="cke_top cke_reset_all" role="presentation" style="height:auto">'+o+"</span>":"",contentId:t.ui.spaceId("contents"),bottomHtml:a?'<span id="'+t.ui.spaceId("bottom")+'" class="cke_bottom cke_reset_all" role="presentation">'+a+"</span>":"",outerEl:CKEDITOR.env.ie?"span":"div"}));n==CKEDITOR.ELEMENT_MODE_REPLACE?(i.hide(),e.insertAfter(i)):i.append(e),t.container=e,t.ui.contentsElement=t.ui.space("contents"),o&&t.ui.space("top").unselectable(),a&&t.ui.space("bottom").unselectable(),i=t.config.width,n=t.config.height,i&&e.setStyle("width",CKEDITOR.tools.cssLength(i)),n&&t.ui.space("contents").setStyle("height",CKEDITOR.tools.cssLength(n)),e.disableContextMenu(),CKEDITOR.env.webkit&&e.on("focus",function(){t.focus()}),t.fireOnce("uiReady")}CKEDITOR.replace=function(e,i){return t(e,i,null,CKEDITOR.ELEMENT_MODE_REPLACE)},CKEDITOR.appendTo=function(e,i,n){return t(e,i,n,CKEDITOR.ELEMENT_MODE_APPENDTO)},CKEDITOR.replaceAll=function(){for(var t=document.getElementsByTagName("textarea"),e=0;e<t.length;e++){var i=null,n=t[e];if(n.name||n.id){if("string"==typeof arguments[0]){if(!new RegExp("(?:^|\\s)"+arguments[0]+"(?:$|\\s)").test(n.className))continue}else if("function"==typeof arguments[0]&&(i={},!1===arguments[0](n,i)))continue;this.replace(n,i)}}},CKEDITOR.editor.prototype.addMode=function(t,e){(this._.modes||(this._.modes={}))[t]=e},CKEDITOR.editor.prototype.setMode=function(t,e){var i=this,n=this._.modes;if(t!=i.mode&&n&&n[t]){if(i.fire("beforeSetMode",t),i.mode){var o,a=i.checkDirty(),n=i._.previousModeData,r=0;i.fire("beforeModeUnload"),i.editable(0),i._.previousMode=i.mode,i._.previousModeData=o=i.getData(1),"source"==i.mode&&n==o&&(i.fire("lockSnapshot",{forceUpdate:!0}),r=1),i.ui.space("contents").setHtml(""),i.mode=""}else i._.previousModeData=i.getData(1);this._.modes[t](function(){i.mode=t,void 0!==a&&!a&&i.resetDirty(),r?i.fire("unlockSnapshot"):"wysiwyg"==t&&i.fire("saveSnapshot"),setTimeout(function(){i.fire("mode"),e&&e.call(i)},0)})}},CKEDITOR.editor.prototype.resize=function(t,e,i,n){var o=this.container,a=this.ui.space("contents"),r=CKEDITOR.env.webkit&&this.document&&this.document.getWindow().$.frameElement;n=n?this.container.getFirst(function(t){return t.type==CKEDITOR.NODE_ELEMENT&&t.hasClass("cke_inner")}):o,n.setSize("width",t,!0),r&&(r.style.width="1%");var s=(n.$.offsetHeight||0)-(a.$.clientHeight||0),o=Math.max(e-(i?0:s),0);e=i?e+s:e,a.setStyle("height",o+"px"),r&&(r.style.width="100%"),this.fire("resize",{outerHeight:e,contentsHeight:o,outerWidth:t||n.getSize("width")})},CKEDITOR.editor.prototype.getResizable=function(t){return t?this.ui.space("contents"):this.container},CKEDITOR.domReady(function(){CKEDITOR.replaceClass&&CKEDITOR.replaceAll(CKEDITOR.replaceClass)})}(),CKEDITOR.config.startupMode="wysiwyg",function(){function t(t){var i,o=t.editor,a=t.data.path,s=a.blockLimit,l=t.data.selection,d=l.getRanges()[0];(CKEDITOR.env.gecko||CKEDITOR.env.ie&&CKEDITOR.env.needsBrFiller)&&(l=e(l,a))&&(l.appendBogus(),i=CKEDITOR.env.ie),r(o,a.block,s)&&d.collapsed&&!d.getCommonAncestor().isReadOnly()&&(a=d.clone(),a.enlarge(CKEDITOR.ENLARGE_BLOCK_CONTENTS),s=new CKEDITOR.dom.walker(a),s.guard=function(t){return!n(t)||t.type==CKEDITOR.NODE_COMMENT||t.isReadOnly()},!s.checkForward()||a.checkStartOfBlock()&&a.checkEndOfBlock())&&(o=d.fixBlock(!0,o.activeEnterMode==CKEDITOR.ENTER_DIV?"div":"p"),CKEDITOR.env.needsBrFiller||(o=o.getFirst(n))&&o.type==CKEDITOR.NODE_TEXT&&CKEDITOR.tools.trim(o.getText()).match(/^(?:&nbsp;|\xa0)$/)&&o.remove(),i=1,t.cancel()),i&&d.select()}function e(t,e){if(t.isFake)return 0;var i=e.block||e.blockLimit,o=i&&i.getLast(n);return!i||!i.isBlockBoundary()||o&&o.type==CKEDITOR.NODE_ELEMENT&&o.isBlockBoundary()||i.is("pre")||i.getBogus()?void 0:i}function i(t){var e=t.data.getTarget();e.is("input")&&("submit"!=(e=e.getAttribute("type"))&&"reset"!=e||t.data.preventDefault())}function n(t){return c(t)&&h(t)}function o(t,e){return function(i){var n=i.data.$.toElement||i.data.$.fromElement||i.data.$.relatedTarget;(n=n&&n.nodeType==CKEDITOR.NODE_ELEMENT?new CKEDITOR.dom.element(n):null)&&(e.equals(n)||e.contains(n))||t.call(this,i)}}function a(t){function e(t){return function(e,o){if(o&&e.type==CKEDITOR.NODE_ELEMENT&&e.is(a)&&(i=e),!(o||!n(e)||t&&f(e)))return!1}}var i,o=t.getRanges()[0];t=t.root;var a={table:1,ul:1,ol:1,dl:1};if(o.startPath().contains(a)){var r=o.clone();if(r.collapse(1),r.setStartAt(t,CKEDITOR.POSITION_AFTER_START),t=new CKEDITOR.dom.walker(r),t.guard=e(),t.checkBackward(),i)return r=o.clone(),r.collapse(),r.setEndAt(i,CKEDITOR.POSITION_AFTER_END),t=new CKEDITOR.dom.walker(r),t.guard=e(!0),i=!1,t.checkForward(),i}return null}function r(t,e,i){return!1!==t.config.autoParagraph&&t.activeEnterMode!=CKEDITOR.ENTER_BR&&(t.editable().equals(i)&&!e||e&&"true"==e.getAttribute("contenteditable"))}function s(t){return t.activeEnterMode!=CKEDITOR.ENTER_BR&&!1!==t.config.autoParagraph&&(t.activeEnterMode==CKEDITOR.ENTER_DIV?"div":"p")}function l(t){var e=t.editor;e.getSelection().scrollIntoView(),setTimeout(function(){e.fire("saveSnapshot")},0)}function d(t,e,i){var n=t.getCommonAncestor(e);for(e=t=i?e:t;(t=t.getParent())&&!n.equals(t)&&1==t.getChildCount();)e=t;e.remove()}var c,h,u,f,p,m,g,v,b,T;CKEDITOR.editable=CKEDITOR.tools.createClass({base:CKEDITOR.dom.element,$:function(t,e){this.base(e.$||e),this.editor=t,this.status="unloaded",this.hasFocus=!1,this.setup()},proto:{focus:function(){var t;if(CKEDITOR.env.webkit&&!this.hasFocus&&(t=this.editor._.previousActive||this.getDocument().getActive(),this.contains(t)))return void t.focus();CKEDITOR.env.edge&&14<CKEDITOR.env.version&&!this.hasFocus&&this.getDocument().equals(CKEDITOR.document)&&(this.editor._.previousScrollTop=this.$.scrollTop);try{if(!CKEDITOR.env.ie||CKEDITOR.env.edge&&14<CKEDITOR.env.version||!this.getDocument().equals(CKEDITOR.document))if(CKEDITOR.env.chrome){var e=this.$.scrollTop;this.$.focus(),this.$.scrollTop=e}else this.$.focus();else this.$.setActive()}catch(t){if(!CKEDITOR.env.ie)throw t}CKEDITOR.env.safari&&!this.isInline()&&(t=CKEDITOR.document.getActive(),t.equals(this.getWindow().getFrame())||this.getWindow().focus())},on:function(t,e){var i=Array.prototype.slice.call(arguments,0);return CKEDITOR.env.ie&&/^focus|blur$/.exec(t)&&(t="focus"==t?"focusin":"focusout",e=o(e,this),i[0]=t,i[1]=e),CKEDITOR.dom.element.prototype.on.apply(this,i)},attachListener:function(t){!this._.listeners&&(this._.listeners=[]);var e=Array.prototype.slice.call(arguments,1),e=t.on.apply(t,e);return this._.listeners.push(e),e},clearListeners:function(){var t=this._.listeners;try{for(;t.length;)t.pop().removeListener()}catch(t){}},restoreAttrs:function(){var t,e,i=this._.attrChanges;for(e in i)i.hasOwnProperty(e)&&(t=i[e],null!==t?this.setAttribute(e,t):this.removeAttribute(e))},attachClass:function(t){var e=this.getCustomData("classes");this.hasClass(t)||(!e&&(e=[]),e.push(t),this.setCustomData("classes",e),this.addClass(t))},changeAttr:function(t,e){var i=this.getAttribute(t);e!==i&&(!this._.attrChanges&&(this._.attrChanges={}),t in this._.attrChanges||(this._.attrChanges[t]=i),this.setAttribute(t,e))},insertText:function(t){this.editor.focus(),this.insertHtml(this.transformPlainTextToHtml(t),"text")},transformPlainTextToHtml:function(t){var e=this.editor.getSelection().getStartElement().hasAscendant("pre",!0)?CKEDITOR.ENTER_BR:this.editor.activeEnterMode;return CKEDITOR.tools.transformPlainTextToHtml(t,e)},insertHtml:function(t,e,i){var n=this.editor;n.focus(),n.fire("saveSnapshot"),i||(i=n.getSelection().getRanges()[0]),m(this,e||"html",t,i),i.select(),l(this),this.editor.fire("afterInsertHtml",{})},insertHtmlIntoRange:function(t,e,i){m(this,i||"html",t,e),this.editor.fire("afterInsertHtml",{intoRange:e})},insertElement:function(t,e){var i=this.editor;i.focus(),i.fire("saveSnapshot");var o=i.activeEnterMode,i=i.getSelection(),a=t.getName(),a=CKEDITOR.dtd.$block[a];e||(e=i.getRanges()[0]),this.insertElementIntoRange(t,e)&&(e.moveToPosition(t,CKEDITOR.POSITION_AFTER_END),a&&((a=t.getNext(function(t){return n(t)&&!f(t)}))&&a.type==CKEDITOR.NODE_ELEMENT&&a.is(CKEDITOR.dtd.$block)?a.getDtd()["#"]?e.moveToElementEditStart(a):e.moveToElementEditEnd(t):a||o==CKEDITOR.ENTER_BR||(a=e.fixBlock(!0,o==CKEDITOR.ENTER_DIV?"div":"p"),e.moveToElementEditStart(a)))),i.selectRanges([e]),l(this)},insertElementIntoSelection:function(t){this.insertElement(t)},insertElementIntoRange:function(t,e){var i=this.editor,n=i.config.enterMode,o=t.getName(),a=CKEDITOR.dtd.$block[o];if(e.checkReadOnly())return!1;e.deleteContents(1),e.startContainer.type==CKEDITOR.NODE_ELEMENT&&(e.startContainer.is({tr:1,table:1,tbody:1,thead:1,tfoot:1})?g(e):e.startContainer.is(CKEDITOR.dtd.$list)&&v(e));var r,s;if(a)for(;(r=e.getCommonAncestor(0,1))&&(s=CKEDITOR.dtd[r.getName()])&&(!s||!s[o]);)r.getName()in CKEDITOR.dtd.span?e.splitElement(r):e.checkStartOfBlock()&&e.checkEndOfBlock()?(e.setStartBefore(r),e.collapse(!0),r.remove()):e.splitBlock(n==CKEDITOR.ENTER_DIV?"div":"p",i.editable());return e.insertNode(t),!0},setData:function(t,e){e||(t=this.editor.dataProcessor.toHtml(t)),this.setHtml(t),this.fixInitialSelection(),"unloaded"==this.status&&(this.status="ready"),this.editor.fire("dataReady")},getData:function(t){var e=this.getHtml();return t||(e=this.editor.dataProcessor.toDataFormat(e)),e},setReadOnly:function(t){this.setAttribute("contenteditable",!t)},detach:function(){this.removeClass("cke_editable"),this.status="detached";var t=this.editor;this._.detach(),delete t.document,delete t.window},isInline:function(){return this.getDocument().equals(CKEDITOR.document)},fixInitialSelection:function(){function t(){var t,e=i.getDocument().$,n=e.getSelection();t:if(n.anchorNode&&n.anchorNode==i.$)t=!0;else{if(CKEDITOR.env.webkit&&(t=i.getDocument().getActive())&&t.equals(i)&&!n.anchorNode){t=!0;break t}t=void 0}t&&(t=new CKEDITOR.dom.range(i),t.moveToElementEditStart(i),e=e.createRange(),e.setStart(t.startContainer.$,t.startOffset),e.collapse(!0),n.removeAllRanges(),n.addRange(e))}function e(){var t=i.getDocument().$,e=t.selection,n=i.getDocument().getActive();"None"==e.type&&n.equals(i)&&(e=new CKEDITOR.dom.range(i),t=t.body.createTextRange(),e.moveToElementEditStart(i),e=e.startContainer,e.type!=CKEDITOR.NODE_ELEMENT&&(e=e.getParent()),t.moveToElementText(e.$),t.collapse(!0),t.select())}var i=this;CKEDITOR.env.ie&&(9>CKEDITOR.env.version||CKEDITOR.env.quirks)?this.hasFocus&&(this.focus(),e()):this.hasFocus?(this.focus(),t()):this.once("focus",function(){t()},null,null,-999)},getHtmlFromRange:function(t){return t.collapsed?new CKEDITOR.dom.documentFragment(t.document):(t={doc:this.getDocument(),range:t.clone()},b.eol.detect(t,this),b.bogus.exclude(t),b.cell.shrink(t),t.fragment=t.range.cloneContents(),b.tree.rebuild(t,this),b.eol.fix(t,this),new CKEDITOR.dom.documentFragment(t.fragment.$))},extractHtmlFromRange:function(t,e){var i=T,n={range:t,doc:t.document},o=this.getHtmlFromRange(t);if(t.collapsed)return t.optimize(),o;t.enlarge(CKEDITOR.ENLARGE_INLINE,1),i.table.detectPurge(n),n.bookmark=t.createBookmark(),delete n.range;var a=this.editor.createRange();if(a.moveToPosition(n.bookmark.startNode,CKEDITOR.POSITION_BEFORE_START),n.targetBookmark=a.createBookmark(),i.list.detectMerge(n,this),i.table.detectRanges(n,this),i.block.detectMerge(n,this),n.tableContentsRanges?(i.table.deleteRanges(n),t.moveToBookmark(n.bookmark),n.range=t):(t.moveToBookmark(n.bookmark),n.range=t,t.extractContents(i.detectExtractMerge(n))),t.moveToBookmark(n.targetBookmark),t.optimize(),i.fixUneditableRangePosition(t),i.list.merge(n,this),i.table.purge(n,this),i.block.merge(n,this),e){if(i=t.startPath(),n=t.checkStartOfBlock()&&t.checkEndOfBlock()&&i.block&&!t.root.equals(i.block)){t:{var r,n=i.block.getElementsByTag("span"),a=0;if(n)for(;r=n.getItem(a++);)if(!h(r)){n=!0;break t}n=!1}n=!n}n&&(t.moveToPosition(i.block,CKEDITOR.POSITION_BEFORE_START),i.block.remove())}else i.autoParagraph(this.editor,t),u(t.startContainer)&&t.startContainer.appendBogus();return t.startContainer.mergeSiblings(),o},setup:function(){var t=this.editor;if(this.attachListener(t,"beforeGetData",function(){var e=this.getData();this.is("textarea")||!1!==t.config.ignoreEmptyParagraph&&(e=e.replace(p,function(t,e){return e})),t.setData(e,null,1)},this),this.attachListener(t,"getSnapshot",function(t){t.data=this.getData(1)},this),this.attachListener(t,"afterSetData",function(){this.setData(t.getData(1))},this),this.attachListener(t,"loadSnapshot",function(t){this.setData(t.data,1)},this),this.attachListener(t,"beforeFocus",function(){var e=t.getSelection();(e=e&&e.getNative())&&"Control"==e.type||this.focus()},this),this.attachListener(t,"insertHtml",function(t){this.insertHtml(t.data.dataValue,t.data.mode,t.data.range)},this),this.attachListener(t,"insertElement",function(t){this.insertElement(t.data)},this),this.attachListener(t,"insertText",function(t){this.insertText(t.data)},this),this.setReadOnly(t.readOnly),this.attachClass("cke_editable"),t.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?this.attachClass("cke_editable_inline"):t.elementMode!=CKEDITOR.ELEMENT_MODE_REPLACE&&t.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO||this.attachClass("cke_editable_themed"),this.attachClass("cke_contents_"+t.config.contentsLangDirection),t.keystrokeHandler.blockedKeystrokes[8]=+t.readOnly,t.keystrokeHandler.attach(this),this.on("blur",function(){this.hasFocus=!1},null,null,-1),this.on("focus",function(){this.hasFocus=!0},null,null,-1),CKEDITOR.env.webkit&&this.on("scroll",function(){t._.previousScrollTop=t.editable().$.scrollTop},null,null,-1),CKEDITOR.env.edge&&14<CKEDITOR.env.version){var e=function(){var i=t.editable();null!=t._.previousScrollTop&&i.getDocument().equals(CKEDITOR.document)&&(i.$.scrollTop=t._.previousScrollTop,t._.previousScrollTop=null,this.removeListener("scroll",e))};this.on("scroll",e)}if(t.focusManager.add(this),this.equals(CKEDITOR.document.getActive())&&(this.hasFocus=!0,t.once("contentDom",function(){t.focusManager.focus(this)},this)),this.isInline()&&this.changeAttr("tabindex",t.tabIndex),!this.is("textarea")){t.document=this.getDocument(),t.window=this.getWindow();var o=t.document;this.changeAttr("spellcheck",!t.config.disableNativeSpellChecker);var r=t.config.contentsLangDirection;this.getDirection(1)!=r&&this.changeAttr("dir",r);var s=CKEDITOR.getCss();if(s){var r=o.getHead(),l=r.getCustomData("stylesheet");l?s!=l.getText()&&(CKEDITOR.env.ie&&9>CKEDITOR.env.version?l.$.styleSheet.cssText=s:l.setText(s)):(s=o.appendStyleText(s),s=new CKEDITOR.dom.element(s.ownerNode||s.owningElement),r.setCustomData("stylesheet",s),s.data("cke-temp",1))}r=o.getCustomData("stylesheet_ref")||0,o.setCustomData("stylesheet_ref",r+1),this.setCustomData("cke_includeReadonly",!t.config.disableReadonlyStyling),this.attachListener(this,"click",function(t){t=t.data;var e=new CKEDITOR.dom.elementPath(t.getTarget(),this).contains("a");e&&2!=t.$.button&&e.isReadOnly()&&t.preventDefault()});var h={8:1,46:1};this.attachListener(t,"key",function(e){if(t.readOnly)return!0;var i,n=e.data.domEvent.getKey();if(e=t.getSelection(),0!==e.getRanges().length){if(n in h){var o,r,s,l,d=e.getRanges()[0],u=d.startPath(),n=8==n;CKEDITOR.env.ie&&11>CKEDITOR.env.version&&(o=e.getSelectedElement())||(o=a(e))?(t.fire("saveSnapshot"),d.moveToPosition(o,CKEDITOR.POSITION_BEFORE_START),o.remove(),d.select(),t.fire("saveSnapshot"),i=1):d.collapsed&&((r=u.block)&&(l=r[n?"getPrevious":"getNext"](c))&&l.type==CKEDITOR.NODE_ELEMENT&&l.is("table")&&d[n?"checkStartOfBlock":"checkEndOfBlock"]()?(t.fire("saveSnapshot"),d[n?"checkEndOfBlock":"checkStartOfBlock"]()&&r.remove(),d["moveToElementEdit"+(n?"End":"Start")](l),d.select(),t.fire("saveSnapshot"),i=1):u.blockLimit&&u.blockLimit.is("td")&&(s=u.blockLimit.getAscendant("table"))&&d.checkBoundaryOfElement(s,n?CKEDITOR.START:CKEDITOR.END)&&(l=s[n?"getPrevious":"getNext"](c))?(t.fire("saveSnapshot"),d["moveToElementEdit"+(n?"End":"Start")](l),d.checkStartOfBlock()&&d.checkEndOfBlock()?l.remove():d.select(),t.fire("saveSnapshot"),i=1):(s=u.contains(["td","th","caption"]))&&d.checkBoundaryOfElement(s,n?CKEDITOR.START:CKEDITOR.END)&&(i=1))}return!i}}),t.blockless&&CKEDITOR.env.ie&&CKEDITOR.env.needsBrFiller&&this.attachListener(this,"keyup",function(e){e.data.getKeystroke()in h&&!this.getFirst(n)&&(this.appendBogus(),e=t.createRange(),e.moveToPosition(this,CKEDITOR.POSITION_AFTER_START),e.select())}),this.attachListener(this,"dblclick",function(e){if(t.readOnly)return!1;e={element:e.data.getTarget()},t.fire("doubleclick",e)}),CKEDITOR.env.ie&&this.attachListener(this,"click",i),CKEDITOR.env.ie&&!CKEDITOR.env.edge||this.attachListener(this,"mousedown",function(e){var i=e.data.getTarget();i.is("img","hr","input","textarea","select")&&!i.isReadOnly()&&(t.getSelection().selectElement(i),i.is("input","textarea","select")&&e.data.preventDefault())}),CKEDITOR.env.edge&&this.attachListener(this,"mouseup",function(e){(e=e.data.getTarget())&&e.is("img")&&t.getSelection().selectElement(e)}),CKEDITOR.env.gecko&&this.attachListener(this,"mouseup",function(e){if(2==e.data.$.button&&(e=e.data.getTarget(),!e.getOuterHtml().replace(p,""))){var i=t.createRange();i.moveToElementEditStart(e),i.select(!0)}}),CKEDITOR.env.webkit&&(this.attachListener(this,"click",function(t){t.data.getTarget().is("input","select")&&t.data.preventDefault()}),this.attachListener(this,"mouseup",function(t){t.data.getTarget().is("input","textarea")&&t.data.preventDefault()})),CKEDITOR.env.webkit&&this.attachListener(t,"key",function(e){if(t.readOnly)return!0;var i=e.data.domEvent.getKey();if(i in h&&(e=t.getSelection(),0!==e.getRanges().length)){var i=8==i,n=e.getRanges()[0];if(e=n.startPath(),n.collapsed)t:{var o=e.block;if(o&&n[i?"checkStartOfBlock":"checkEndOfBlock"]()&&n.moveToClosestEditablePosition(o,!i)&&n.collapsed){if(n.startContainer.type==CKEDITOR.NODE_ELEMENT){var a=n.startContainer.getChild(n.startOffset-(i?1:0));if(a&&a.type==CKEDITOR.NODE_ELEMENT&&a.is("hr")){t.fire("saveSnapshot"),a.remove(),e=!0;break t}}if(!(n=n.startPath().block)||n&&n.contains(o))e=void 0;else{t.fire("saveSnapshot");var r;(r=(i?n:o).getBogus())&&r.remove(),r=t.getSelection(),a=r.createBookmarks(),(i?o:n).moveChildren(i?n:o,!1),e.lastElement.mergeSiblings(),d(o,n,!i),r.selectBookmarks(a),e=!0}}else e=!1}else i=n,r=e.block,n=i.endPath().block,r&&n&&!r.equals(n)?(t.fire("saveSnapshot"),(o=r.getBogus())&&o.remove(),i.enlarge(CKEDITOR.ENLARGE_INLINE),i.deleteContents(),n.getParent()&&(n.moveChildren(r,!1),e.lastElement.mergeSiblings(),d(r,n,!0)),i=t.getSelection().getRanges()[0],i.collapse(1),i.optimize(),""===i.startContainer.getHtml()&&i.startContainer.appendBogus(),i.select(),e=!0):e=!1;if(!e)return;return t.getSelection().scrollIntoView(),t.fire("saveSnapshot"),!1}},this,null,100)}}},_:{detach:function(){this.editor.setData(this.editor.getData(),0,1),this.clearListeners(),this.restoreAttrs();var t;if(t=this.removeCustomData("classes"))for(;t.length;)this.removeClass(t.pop());if(!this.is("textarea")){t=this.getDocument();var e=t.getHead();if(e.getCustomData("stylesheet")){var i=t.getCustomData("stylesheet_ref");--i?t.setCustomData("stylesheet_ref",i):(t.removeCustomData("stylesheet_ref"),e.removeCustomData("stylesheet").remove())}}this.editor.fire("contentDomUnload"),delete this.editor}}}),CKEDITOR.editor.prototype.editable=function(t){var e=this._.editable;return e&&t?0:(arguments.length&&(e=this._.editable=t?t instanceof CKEDITOR.editable?t:new CKEDITOR.editable(this,t):(e&&e.detach(),null)),e)},CKEDITOR.on("instanceLoaded",function(e){var i=e.editor;i.on("insertElement",function(t){t=t.data,t.type==CKEDITOR.NODE_ELEMENT&&(t.is("input")||t.is("textarea"))&&("false"!=t.getAttribute("contentEditable")&&t.data("cke-editable",t.hasAttribute("contenteditable")?"true":"1"),t.setAttribute("contentEditable",!1))}),i.on("selectionChange",function(e){if(!i.readOnly){var n=i.getSelection();n&&!n.isLocked&&(n=i.checkDirty(),i.fire("lockSnapshot"),t(e),i.fire("unlockSnapshot"),!n&&i.resetDirty())}})}),CKEDITOR.on("instanceCreated",function(t){var e=t.editor;e.on("mode",function(){var t=e.editable();if(t&&t.isInline()){var i=e.title;t.changeAttr("role","textbox"),t.changeAttr("aria-label",i),i&&t.changeAttr("title",i);var n=e.fire("ariaEditorHelpLabel",{}).label;if(n&&(i=this.ui.space(this.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?"top":"contents"))){var o=CKEDITOR.tools.getNextId(),n=CKEDITOR.dom.element.createFromHtml('<span id="'+o+'" class="cke_voice_label">'+n+"</span>");i.append(n),t.changeAttr("aria-describedby",o)}}})}),CKEDITOR.addCss(".cke_editable{cursor:text}.cke_editable img,.cke_editable input,.cke_editable textarea{cursor:default}"),c=CKEDITOR.dom.walker.whitespaces(!0),h=CKEDITOR.dom.walker.bookmark(!1,!0),u=CKEDITOR.dom.walker.empty(),f=CKEDITOR.dom.walker.bogus(),p=/(^|<body\b[^>]*>)\s*<(p|div|address|h\d|center|pre)[^>]*>\s*(?:<br[^>]*>|&nbsp;|\u00A0|&#160;)?\s*(:?<\/\2>)?\s*(?=$|<\/body>)/gi,m=function(){function t(t){return t.type==CKEDITOR.NODE_ELEMENT}function e(i,n){var o,a,r,s,l=[],d=n.range.startContainer;o=n.range.startPath();for(var d=c[d.getName()],h=0,u=i.getChildren(),f=u.count(),p=-1,m=-1,g=0,v=o.contains(c.$list);h<f;++h)o=u.getItem(h),t(o)?(r=o.getName(),v&&r in CKEDITOR.dtd.$list?l=l.concat(e(o,n)):(s=!!d[r],"br"!=r||!o.data("cke-eol")||h&&h!=f-1||(g=(a=h?l[h-1].node:u.getItem(h+1))&&(!t(a)||!a.is("br")),a=a&&t(a)&&c.$block[a.getName()]),-1!=p||s||(p=h),s||(m=h),l.push({isElement:1,isLineBreak:g,isBlock:o.isBlockBoundary(),hasBlockSibling:a,node:o,name:r,allowed:s}),a=g=0)):l.push({isElement:0,node:o,allowed:1});return-1<p&&(l[p].firstNotAllowed=1),-1<m&&(l[m].lastNotAllowed=1),l}function i(e,n){var o,a=[],r=e.getChildren(),s=r.count(),l=0,d=c[n],h=!e.is(c.$inline)||e.is("br");for(h&&a.push(" ");l<s;l++)o=r.getItem(l),t(o)&&!o.is(d)?a=a.concat(i(o,n)):a.push(o);return h&&a.push(" "),a}function o(e){return t(e.startContainer)&&e.startContainer.getChild(e.startOffset-1)}function a(e){return e&&t(e)&&(e.is(c.$removeEmpty)||e.is("a")&&!e.isBlockBoundary())}function l(e,i,n,o){var a,r,s=e.clone();s.setEndAt(i,CKEDITOR.POSITION_BEFORE_END),(a=new CKEDITOR.dom.walker(s).next())&&t(a)&&h[a.getName()]&&(r=a.getPrevious())&&t(r)&&!r.getParent().equals(e.startContainer)&&n.contains(r)&&o.contains(a)&&a.isIdentical(r)&&(a.moveChildren(r),a.remove(),l(e,i,n,o))}function d(e,i){function n(e,i){if(i.isBlock&&i.isElement&&!i.node.is("br")&&t(e)&&e.is("br"))return e.remove(),1}var o=i.endContainer.getChild(i.endOffset),a=i.endContainer.getChild(i.endOffset-1);o&&n(o,e[e.length-1]),a&&n(a,e[0])&&(i.setEnd(i.endContainer,i.endOffset-1),i.collapse())}var c=CKEDITOR.dtd,h={p:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,ul:1,ol:1,li:1,pre:1,dl:1,blockquote:1},u={p:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1},f=CKEDITOR.tools.extend({},c.$inline);return delete f.br,function(h,p,m,g){var v=h.editor,b=!1;if("unfiltered_html"==p&&(p="html",b=!0),!g.checkReadOnly()){var T=new CKEDITOR.dom.elementPath(g.startContainer,g.root).blockLimit||g.root;h={type:p,dontFilter:b,editable:h,editor:v,range:g,blockLimit:T,mergeCandidates:[],zombies:[]},p=h.range,g=h.mergeCandidates;var E,C;if("text"==h.type&&p.shrink(CKEDITOR.SHRINK_ELEMENT,!0,!1)&&(E=CKEDITOR.dom.element.createFromHtml("<span>&nbsp;</span>",p.document),p.insertNode(E),p.setStartAfter(E)),b=new CKEDITOR.dom.elementPath(p.startContainer),h.endPath=T=new CKEDITOR.dom.elementPath(p.endContainer),!p.collapsed){var v=T.block||T.blockLimit,y=p.getCommonAncestor();v&&!v.equals(y)&&!v.contains(y)&&p.checkEndOfBlock()&&h.zombies.push(v),p.deleteContents()}for(;(C=o(p))&&t(C)&&C.isBlockBoundary()&&b.contains(C);)p.moveToPosition(C,CKEDITOR.POSITION_BEFORE_END);for(l(p,h.blockLimit,b,T),E&&(p.setEndBefore(E),p.collapse(),E.remove()),E=p.startPath(),(v=E.contains(a,!1,1))&&(p.splitElement(v),h.inlineStylesRoot=v,h.inlineStylesPeak=E.lastElement),E=p.createBookmark(),(v=E.startNode.getPrevious(n))&&t(v)&&a(v)&&g.push(v),(v=E.startNode.getNext(n))&&t(v)&&a(v)&&g.push(v),v=E.startNode;(v=v.getParent())&&a(v);)g.push(v);if(p.moveToBookmark(E),E=m){if(E=h.range,"text"==h.type&&h.inlineStylesRoot){for(C=h.inlineStylesPeak,p=C.getDocument().createText("{cke-peak}"),g=h.inlineStylesRoot.getParent();!C.equals(g);)p=p.appendTo(C.clone()),C=C.getParent();m=p.getOuterHtml().split("{cke-peak}").join(m)}if(C=h.blockLimit.getName(),/^\s+|\s+$/.test(m)&&"span"in CKEDITOR.dtd[C]){var D='<span data-cke-marker="1">&nbsp;</span>';m=D+m+D}if(m=h.editor.dataProcessor.toHtml(m,{context:null,fixForBody:!1,protectedWhitespaces:!!D,dontFilter:h.dontFilter,filter:h.editor.activeFilter,enterMode:h.editor.activeEnterMode}),C=E.document.createElement("body"),C.setHtml(m),D&&(C.getFirst().remove(),C.getLast().remove()),(D=E.startPath().block)&&(1!=D.getChildCount()||!D.getBogus()))t:{var I;if(1==C.getChildCount()&&t(I=C.getFirst())&&I.is(u)&&!I.hasAttribute("contenteditable")){for(D=I.getElementsByTag("*"),E=0,g=D.count();E<g;E++)if(p=D.getItem(E),!p.is(f))break t;I.moveChildren(I.getParent(1)),I.remove()}}h.dataWrapper=C,E=m}if(E){I=h.range,E=I.document;var O;C=h.blockLimit,g=0;var R,x,w,D=[];m=v=0;var k,_;p=I.startContainer;var S,b=h.endPath.elements[0],T=b.getPosition(p),y=!(!b.getCommonAncestor(p)||T==CKEDITOR.POSITION_IDENTICAL||T&CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_IS_CONTAINED);for(p=e(h.dataWrapper,h),d(p,I);g<p.length;g++){if(T=p[g],O=T.isLineBreak){O=I,k=C;var N=void 0,K=void 0;T.hasBlockSibling?O=1:(N=O.startContainer.getAscendant(c.$block,1))&&N.is({div:1,p:1})?(K=N.getPosition(k),K==CKEDITOR.POSITION_IDENTICAL||K==CKEDITOR.POSITION_CONTAINS?O=0:(k=O.splitElement(N),O.moveToPosition(k,CKEDITOR.POSITION_AFTER_START),O=1)):O=0}if(O)m=0<g;else{if(O=I.startPath(),!T.isBlock&&r(h.editor,O.block,O.blockLimit)&&(w=s(h.editor))&&(w=E.createElement(w),w.appendBogus(),I.insertNode(w),CKEDITOR.env.needsBrFiller&&(R=w.getBogus())&&R.remove(),I.moveToPosition(w,CKEDITOR.POSITION_BEFORE_END)),(O=I.startPath().block)&&!O.equals(x)&&((R=O.getBogus())&&(R.remove(),D.push(O)),x=O),T.firstNotAllowed&&(v=1),v&&T.isElement){for(O=I.startContainer,k=null;O&&!c[O.getName()][T.name];){if(O.equals(C)){O=null;break}k=O,O=O.getParent()}if(O)k&&(_=I.splitElement(k),h.zombies.push(_),h.zombies.push(k));else{k=C.getName(),S=!g,O=g==p.length-1,k=i(T.node,k);for(var N=[],K=k.length,A=0,M=void 0,L=0,F=-1;A<K;A++)M=k[A]," "==M?(L||S&&!A||(N.push(new CKEDITOR.dom.text(" ")),F=N.length),L=1):(N.push(M),L=0);O&&F==N.length&&N.pop(),S=N}}if(S){for(;O=S.pop();)I.insertNode(O);S=0}else I.insertNode(T.node);T.lastNotAllowed&&g<p.length-1&&((_=y?b:_)&&I.setEndAt(_,CKEDITOR.POSITION_AFTER_START),v=0),I.collapse()}}1!=p.length?R=!1:(R=p[0],R=R.isElement&&"false"==R.node.getAttribute("contenteditable")),R&&(m=!0,O=p[0].node,I.setStartAt(O,CKEDITOR.POSITION_BEFORE_START),I.setEndAt(O,CKEDITOR.POSITION_AFTER_END)),h.dontMoveCaret=m,h.bogusNeededBlocks=D}R=h.range;var P;for(_=h.bogusNeededBlocks,S=R.createBookmark();x=h.zombies.pop();)x.getParent()&&(w=R.clone(),w.moveToElementEditStart(x),w.removeEmptyBlocksAtEnd());if(_)for(;x=_.pop();)CKEDITOR.env.needsBrFiller?x.appendBogus():x.append(R.document.createText("\xa0"));for(;x=h.mergeCandidates.pop();)x.mergeSiblings();if(R.moveToBookmark(S),!h.dontMoveCaret){for(x=o(R);x&&t(x)&&!x.is(c.$empty);){if(x.isBlockBoundary())R.moveToPosition(x,CKEDITOR.POSITION_BEFORE_END);else{if(a(x)&&x.getHtml().match(/(\s|&nbsp;)$/g)){P=null;break}P=R.clone(),P.moveToPosition(x,CKEDITOR.POSITION_BEFORE_END)}x=x.getLast(n)}P&&R.moveToRange(P)}}}}(),g=function(){function t(t){return t=new CKEDITOR.dom.walker(t),t.guard=function(t,e){return!e&&(t.type==CKEDITOR.NODE_ELEMENT?t.is(CKEDITOR.dtd.$tableContent):void 0)},t.evaluator=function(t){return t.type==CKEDITOR.NODE_ELEMENT},t}function e(t,e,i){return e=t.getDocument().createElement(e),t.append(e,i),e}function i(t){var e,i=t.count();for(i;0<i--;)e=t.getItem(i),CKEDITOR.tools.trim(e.getHtml())||(e.appendBogus(),CKEDITOR.env.ie&&9>CKEDITOR.env.version&&e.getChildCount()&&e.getFirst().remove())}return function(n){var o=n.startContainer,a=o.getAscendant("table",1),r=!1;i(a.getElementsByTag("td")),i(a.getElementsByTag("th")),a=n.clone(),a.setStart(o,0),a=t(a).lastBackward(),a||(a=n.clone(),a.setEndAt(o,CKEDITOR.POSITION_BEFORE_END),a=t(a).lastForward(),r=!0),a||(a=o),a.is("table")?(n.setStartAt(a,CKEDITOR.POSITION_BEFORE_START),n.collapse(!0),a.remove()):(a.is({tbody:1,thead:1,tfoot:1})&&(a=e(a,"tr",r)),a.is("tr")&&(a=e(a,a.getParent().is("thead")?"th":"td",r)),(o=a.getBogus())&&o.remove(),
n.moveToPosition(a,r?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_END))}}(),v=function(){function t(t){return t=new CKEDITOR.dom.walker(t),t.guard=function(t,e){return!e&&(t.type==CKEDITOR.NODE_ELEMENT?t.is(CKEDITOR.dtd.$list)||t.is(CKEDITOR.dtd.$listItem):void 0)},t.evaluator=function(t){return t.type==CKEDITOR.NODE_ELEMENT&&t.is(CKEDITOR.dtd.$listItem)},t}return function(e){var i,n=e.startContainer,o=!1;i=e.clone(),i.setStart(n,0),i=t(i).lastBackward(),i||(i=e.clone(),i.setEndAt(n,CKEDITOR.POSITION_BEFORE_END),i=t(i).lastForward(),o=!0),i||(i=n),i.is(CKEDITOR.dtd.$list)?(e.setStartAt(i,CKEDITOR.POSITION_BEFORE_START),e.collapse(!0),i.remove()):((n=i.getBogus())&&n.remove(),e.moveToPosition(i,o?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_END),e.select())}}(),b={eol:{detect:function(t,e){var i=t.range,n=i.clone(),o=i.clone(),a=new CKEDITOR.dom.elementPath(i.startContainer,e),r=new CKEDITOR.dom.elementPath(i.endContainer,e);n.collapse(1),o.collapse(),a.block&&n.checkBoundaryOfElement(a.block,CKEDITOR.END)&&(i.setStartAfter(a.block),t.prependEolBr=1),r.block&&o.checkBoundaryOfElement(r.block,CKEDITOR.START)&&(i.setEndBefore(r.block),t.appendEolBr=1)},fix:function(t,e){var i,n=e.getDocument();t.appendEolBr&&(i=this.createEolBr(n),t.fragment.append(i)),!t.prependEolBr||i&&!i.getPrevious()||t.fragment.append(this.createEolBr(n),1)},createEolBr:function(t){return t.createElement("br",{attributes:{"data-cke-eol":1}})}},bogus:{exclude:function(t){var e=t.range.getBoundaryNodes(),i=e.startNode,e=e.endNode;!e||!f(e)||i&&i.equals(e)||t.range.setEndBefore(e)}},tree:{rebuild:function(t,e){var i,n=t.range,o=n.getCommonAncestor(),a=new CKEDITOR.dom.elementPath(o,e),r=new CKEDITOR.dom.elementPath(n.startContainer,e),n=new CKEDITOR.dom.elementPath(n.endContainer,e);if(o.type==CKEDITOR.NODE_TEXT&&(o=o.getParent()),a.blockLimit.is({tr:1,table:1})){var s=a.contains("table").getParent();i=function(t){return!t.equals(s)}}else if(a.block&&a.block.is(CKEDITOR.dtd.$listItem)&&(r=r.contains(CKEDITOR.dtd.$list),n=n.contains(CKEDITOR.dtd.$list),!r.equals(n))){var l=a.contains(CKEDITOR.dtd.$list).getParent();i=function(t){return!t.equals(l)}}i||(i=function(t){return!t.equals(a.block)&&!t.equals(a.blockLimit)}),this.rebuildFragment(t,e,o,i)},rebuildFragment:function(t,e,i,n){for(var o;i&&!i.equals(e)&&n(i);)o=i.clone(0,1),t.fragment.appendTo(o),t.fragment=o,i=i.getParent()}},cell:{shrink:function(t){t=t.range;var e=t.startContainer,i=t.endContainer,n=t.startOffset,o=t.endOffset;e.type==CKEDITOR.NODE_ELEMENT&&e.equals(i)&&e.is("tr")&&++n==o&&t.shrink(CKEDITOR.SHRINK_TEXT)}}},T=function(){function t(t,e){var i=t.getParent();i.is(CKEDITOR.dtd.$inline)&&t[e?"insertBefore":"insertAfter"](i)}function e(e,i,n){t(i),t(n,1);for(var o;o=n.getNext();)o.insertAfter(i),i=o;u(e)&&e.remove()}function i(t,e){var i=new CKEDITOR.dom.range(t);return i.setStartAfter(e.startNode),i.setEndBefore(e.endNode),i}return{list:{detectMerge:function(t,e){var n=i(e,t.bookmark),o=n.startPath(),a=n.endPath(),r=o.contains(CKEDITOR.dtd.$list),s=a.contains(CKEDITOR.dtd.$list);t.mergeList=r&&s&&r.getParent().equals(s.getParent())&&!r.equals(s),t.mergeListItems=o.block&&a.block&&o.block.is(CKEDITOR.dtd.$listItem)&&a.block.is(CKEDITOR.dtd.$listItem),(t.mergeList||t.mergeListItems)&&(n=n.clone(),n.setStartBefore(t.bookmark.startNode),n.setEndAfter(t.bookmark.endNode),t.mergeListBookmark=n.createBookmark())},merge:function(t,i){if(t.mergeListBookmark){var n=t.mergeListBookmark.startNode,o=t.mergeListBookmark.endNode,a=new CKEDITOR.dom.elementPath(n,i),r=new CKEDITOR.dom.elementPath(o,i);if(t.mergeList){var s=a.contains(CKEDITOR.dtd.$list),l=r.contains(CKEDITOR.dtd.$list);s.equals(l)||(l.moveChildren(s),l.remove())}t.mergeListItems&&(a=a.contains(CKEDITOR.dtd.$listItem),r=r.contains(CKEDITOR.dtd.$listItem),a.equals(r)||e(r,n,o)),n.remove(),o.remove()}}},block:{detectMerge:function(t,e){if(!t.tableContentsRanges&&!t.mergeListBookmark){var i=new CKEDITOR.dom.range(e);i.setStartBefore(t.bookmark.startNode),i.setEndAfter(t.bookmark.endNode),t.mergeBlockBookmark=i.createBookmark()}},merge:function(t,i){if(t.mergeBlockBookmark&&!t.purgeTableBookmark){var n=t.mergeBlockBookmark.startNode,o=t.mergeBlockBookmark.endNode,a=new CKEDITOR.dom.elementPath(n,i),r=new CKEDITOR.dom.elementPath(o,i),a=a.block,r=r.block;a&&r&&!a.equals(r)&&e(r,n,o),n.remove(),o.remove()}}},table:function(){function t(t){var i,o=[],a=new CKEDITOR.dom.walker(t),r=t.startPath().contains(n),s=t.endPath().contains(n),l={};return a.guard=function(a,d){if(a.type==CKEDITOR.NODE_ELEMENT){var c="visited_"+(d?"out":"in");if(a.getCustomData(c))return;CKEDITOR.dom.element.setMarker(l,a,c,1)}if(d&&r&&a.equals(r))i=t.clone(),i.setEndAt(r,CKEDITOR.POSITION_BEFORE_END),o.push(i);else if(!d&&s&&a.equals(s))i=t.clone(),i.setStartAt(s,CKEDITOR.POSITION_AFTER_START),o.push(i);else{if((c=!d)&&(c=a.type==CKEDITOR.NODE_ELEMENT&&a.is(n)&&(!r||e(a,r))&&(!s||e(a,s))),!c&&(c=d))if(a.is(n))var c=r&&r.getAscendant("table",!0),h=s&&s.getAscendant("table",!0),u=a.getAscendant("table",!0),c=c&&c.contains(u)||h&&h.contains(u);else c=void 0;c&&(i=t.clone(),i.selectNodeContents(a),o.push(i))}},a.lastForward(),CKEDITOR.dom.element.clearAllMarkers(l),o}function e(t,e){var i=CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_IS_CONTAINED,n=t.getPosition(e);return n!==CKEDITOR.POSITION_IDENTICAL&&0==(n&i)}var n={td:1,th:1,caption:1};return{detectPurge:function(t){var e=t.range,i=e.clone();i.enlarge(CKEDITOR.ENLARGE_ELEMENT);var i=new CKEDITOR.dom.walker(i),o=0;if(i.evaluator=function(t){t.type==CKEDITOR.NODE_ELEMENT&&t.is(n)&&++o},i.checkForward(),1<o){var i=e.startPath().contains("table"),a=e.endPath().contains("table");i&&a&&e.checkBoundaryOfElement(i,CKEDITOR.START)&&e.checkBoundaryOfElement(a,CKEDITOR.END)&&(e=t.range.clone(),e.setStartBefore(i),e.setEndAfter(a),t.purgeTableBookmark=e.createBookmark())}},detectRanges:function(o,a){var r,s,l=i(a,o.bookmark),d=l.clone(),c=l.getCommonAncestor();c.is(CKEDITOR.dtd.$tableContent)&&!c.is(n)&&(c=c.getAscendant("table",!0)),s=c,c=new CKEDITOR.dom.elementPath(l.startContainer,s),s=new CKEDITOR.dom.elementPath(l.endContainer,s),c=c.contains("table"),s=s.contains("table"),(c||s)&&(c&&s&&e(c,s)?(o.tableSurroundingRange=d,d.setStartAt(c,CKEDITOR.POSITION_AFTER_END),d.setEndAt(s,CKEDITOR.POSITION_BEFORE_START),d=l.clone(),d.setEndAt(c,CKEDITOR.POSITION_AFTER_END),r=l.clone(),r.setStartAt(s,CKEDITOR.POSITION_BEFORE_START),r=t(d).concat(t(r))):c?s||(o.tableSurroundingRange=d,d.setStartAt(c,CKEDITOR.POSITION_AFTER_END),l.setEndAt(c,CKEDITOR.POSITION_AFTER_END)):(o.tableSurroundingRange=d,d.setEndAt(s,CKEDITOR.POSITION_BEFORE_START),l.setStartAt(s,CKEDITOR.POSITION_AFTER_START)),o.tableContentsRanges=r||t(l))},deleteRanges:function(t){for(var e;e=t.tableContentsRanges.pop();)e.extractContents(),u(e.startContainer)&&e.startContainer.appendBogus();t.tableSurroundingRange&&t.tableSurroundingRange.extractContents()},purge:function(t){if(t.purgeTableBookmark){var e=t.doc,i=t.range.clone(),e=e.createElement("p");e.insertBefore(t.purgeTableBookmark.startNode),i.moveToBookmark(t.purgeTableBookmark),i.deleteContents(),t.range.moveToPosition(e,CKEDITOR.POSITION_AFTER_START)}}}}(),detectExtractMerge:function(t){return!(t.range.startPath().contains(CKEDITOR.dtd.$listItem)&&t.range.endPath().contains(CKEDITOR.dtd.$listItem))},fixUneditableRangePosition:function(t){t.startContainer.getDtd()["#"]||t.moveToClosestEditablePosition(null,!0)},autoParagraph:function(t,e){var i,n=e.startPath();r(t,n.block,n.blockLimit)&&(i=s(t))&&(i=e.document.createElement(i),i.appendBogus(),e.insertNode(i),e.moveToPosition(i,CKEDITOR.POSITION_AFTER_START))}}}()}(),function(){function t(t){return CKEDITOR.plugins.widget&&CKEDITOR.plugins.widget.isDomWidget(t)}function e(e,i){if(0===e.length||t(e[0].getEnclosedNode()))return!1;var n,o;if((n=!i&&1===e.length)&&!(n=e[0].collapsed)){var a=e[0];n=a.startContainer.getAscendant({td:1,th:1},!0);var r=a.endContainer.getAscendant({td:1,th:1},!0);o=CKEDITOR.tools.trim,n&&n.equals(r)&&!n.findOne("td, th, tr, tbody, table")?(a=a.cloneContents(),n=!a.getFirst()||o(a.getFirst().getText())!==o(n.getText())):n=!1}if(n)return!1;for(o=0;o<e.length;o++)if(!(n=e[o]._getTableElement()))return!1;return!0}function i(t){function e(t){t=t.find("td, th");var e,i=[];for(e=0;e<t.count();e++)i.push(t.getItem(e));return i}var i,n,o=[];for(n=0;n<t.length;n++)i=t[n]._getTableElement(),i.is&&i.is({td:1,th:1})?o.push(i):o=o.concat(e(i));return o}function n(t){t=i(t);var e,n,o="",a=[];for(n=0;n<t.length;n++)e&&!e.equals(t[n].getAscendant("tr"))?(o+=a.join("\t")+"\n",e=t[n].getAscendant("tr"),a=[]):0===n&&(e=t[n].getAscendant("tr")),a.push(t[n].getText());return o+=a.join("\t")}function o(t){var e=this.root.editor,i=e.getSelection(1);this.reset(),g=!0,i.root.once("selectionchange",function(t){t.cancel()},null,null,0),i.selectRanges([t[0]]),i=this._.cache,i.ranges=new CKEDITOR.dom.rangeList(t),i.type=CKEDITOR.SELECTION_TEXT,i.selectedElement=t[0]._getTableElement(),i.selectedText=n(t),i.nativeSel=null,this.isFake=1,this.rev=E++,e._.fakeSelection=this,g=!1,this.root.fire("selectionchange")}function a(){var i,n=this._.fakeSelection;if(n){i=this.getSelection(1);var o;if(!(o=!i)&&(o=!i.isHidden())){o=n;var a=i.getRanges(),r=o.getRanges(),s=a.length&&a[0]._getTableElement()&&a[0]._getTableElement().getAscendant("table",!0),l=r.length&&r[0]._getTableElement()&&r[0]._getTableElement().getAscendant("table",!0),d=1===a.length&&a[0]._getTableElement()&&a[0]._getTableElement().is("table"),c=1===r.length&&r[0]._getTableElement()&&r[0]._getTableElement().is("table");if(t(o.getSelectedElement()))o=!1;else{var h=1===a.length&&a[0].collapsed,r=e(a,!!CKEDITOR.env.webkit)&&e(r);s=!(!s||!l)&&(s.equals(l)||l.contains(s)),s&&(h||r)?(d&&!c&&o.selectRanges(a),o=!0):o=!1}o=!o}o&&(n.reset(),n=0)}(n||(n=i||this.getSelection(1))&&n.getType()!=CKEDITOR.SELECTION_NONE)&&(this.fire("selectionCheck",n),i=this.elementPath(),i.compare(this._.selectionPreviousPath)||(o=this._.selectionPreviousPath&&this._.selectionPreviousPath.blockLimit.equals(i.blockLimit),CKEDITOR.env.webkit&&!o&&(this._.previousActive=this.document.getActive()),this._.selectionPreviousPath=i,this.fire("selectionChange",{selection:n,path:i})))}function r(){b=!0,v||(s.call(this),v=CKEDITOR.tools.setTimeout(s,200,this))}function s(){v=null,b&&(CKEDITOR.tools.setTimeout(a,0,this),b=!1)}function l(t){return!(!D(t)&&(t.type!=CKEDITOR.NODE_ELEMENT||t.is(CKEDITOR.dtd.$empty)))}function d(t){function e(e,i){return!(!e||e.type==CKEDITOR.NODE_TEXT)&&t.clone()["moveToElementEdit"+(i?"End":"Start")](e)}if(!(t.root instanceof CKEDITOR.editable))return!1;var i=t.startContainer,n=t.getPreviousNode(l,null,i),o=t.getNextNode(l,null,i);return!(!e(n)&&!e(o,1)&&(n||o||i.type==CKEDITOR.NODE_ELEMENT&&i.isBlockBoundary()&&i.getBogus()))}function c(t){h(t,!1);var e=t.getDocument().createText(C);return t.setCustomData("cke-fillingChar",e),e}function h(t,e){var i=t&&t.removeCustomData("cke-fillingChar");if(i){if(!1!==e){var n=t.getDocument().getSelection().getNative(),o=n&&"None"!=n.type&&n.getRangeAt(0),a=C.length;if(i.getLength()>a&&o&&o.intersectsNode(i.$)){var r=[{node:n.anchorNode,offset:n.anchorOffset},{node:n.focusNode,offset:n.focusOffset}];n.anchorNode==i.$&&n.anchorOffset>a&&(r[0].offset-=a),n.focusNode==i.$&&n.focusOffset>a&&(r[1].offset-=a)}}i.setText(u(i.getText(),1)),r&&(i=t.getDocument().$,n=i.getSelection(),i=i.createRange(),i.setStart(r[0].node,r[0].offset),i.collapse(!0),n.removeAllRanges(),n.addRange(i),n.extend(r[1].node,r[1].offset))}}function u(t,e){return e?t.replace(y,function(t,e){return e?"\xa0":""}):t.replace(C,"")}function f(t,e){var i=CKEDITOR.dom.element.createFromHtml('<div data-cke-hidden-sel="1" data-cke-temp="1" style="'+(CKEDITOR.env.ie&&14>CKEDITOR.env.version?"display:none":"position:fixed;top:0;left:-1000px")+'">'+(e||"&nbsp;")+"</div>",t.document);t.fire("lockSnapshot"),t.editable().append(i);var n=t.getSelection(1),o=t.createRange(),a=n.root.on("selectionchange",function(t){t.cancel()},null,null,0);o.setStartAt(i,CKEDITOR.POSITION_AFTER_START),o.setEndAt(i,CKEDITOR.POSITION_BEFORE_END),n.selectRanges([o]),a.removeListener(),t.fire("unlockSnapshot"),t._.hiddenSelectionContainer=i}function p(t){var e={37:1,39:1,8:1,46:1};return function(i){var n=i.data.getKeystroke();if(e[n]){var o=t.getSelection().getRanges(),a=o[0];1==o.length&&a.collapsed&&(n=a[38>n?"getPreviousEditableNode":"getNextEditableNode"]())&&n.type==CKEDITOR.NODE_ELEMENT&&"false"==n.getAttribute("contenteditable")&&(t.getSelection().fake(n),i.data.preventDefault(),i.cancel())}}}function m(t){for(var e=0;e<t.length;e++){var i=t[e];if(i.getCommonAncestor().isReadOnly()&&t.splice(e,1),!i.collapsed){if(i.startContainer.isReadOnly())for(var n,o=i.startContainer;o&&!((n=o.type==CKEDITOR.NODE_ELEMENT)&&o.is("body")||!o.isReadOnly());)n&&"false"==o.getAttribute("contentEditable")&&i.setStartAfter(o),o=o.getParent();o=i.startContainer,n=i.endContainer;var a=i.startOffset,r=i.endOffset,s=i.clone();o&&o.type==CKEDITOR.NODE_TEXT&&(a>=o.getLength()?s.setStartAfter(o):s.setStartBefore(o)),n&&n.type==CKEDITOR.NODE_TEXT&&(r?s.setEndAfter(n):s.setEndBefore(n)),o=new CKEDITOR.dom.walker(s),o.evaluator=function(n){if(n.type==CKEDITOR.NODE_ELEMENT&&n.isReadOnly()){var o=i.clone();return i.setEndBefore(n),i.collapsed&&t.splice(e--,1),n.getPosition(s.endContainer)&CKEDITOR.POSITION_CONTAINS||(o.setStartAfter(n),o.collapsed||t.splice(e+1,0,o)),!0}return!1},o.next()}}return t}var g,v,b,T="function"!=typeof window.getSelection,E=1,C=CKEDITOR.tools.repeat("\u200b",7),y=new RegExp(C+"( )?","g"),D=CKEDITOR.dom.walker.invisible(1),I=function(){function t(t){return function(e){var i=e.editor.createRange();return i.moveToClosestEditablePosition(e.selected,t)&&e.editor.getSelection().selectRanges([i]),!1}}function e(t){return function(e){var i,n=e.editor,o=n.createRange();return(i=o.moveToClosestEditablePosition(e.selected,t))||(i=o.moveToClosestEditablePosition(e.selected,!t)),i&&n.getSelection().selectRanges([o]),n.fire("saveSnapshot"),e.selected.remove(),i||(o.moveToElementEditablePosition(n.editable()),n.getSelection().selectRanges([o])),n.fire("saveSnapshot"),!1}}var i=t(),n=t(1);return{37:i,38:i,39:n,40:n,8:e(),46:e(1)}}();CKEDITOR.on("instanceCreated",function(t){function e(){var t=i.getSelection();t&&t.removeAllRanges()}var i=t.editor;i.on("contentDom",function(){function t(){s=new CKEDITOR.dom.selection(i.getSelection()),s.lock()}function e(){d.removeListener("mouseup",e),f.removeListener("mouseup",e);var t=CKEDITOR.document.$.selection,i=t.createRange();"None"!=t.type&&i.parentElement()&&i.parentElement().ownerDocument==l.$&&i.select()}function n(t){if(CKEDITOR.env.ie){var e=(t=t.getRanges()[0])?t.startContainer.getAscendant(function(t){return t.type==CKEDITOR.NODE_ELEMENT&&("false"==t.getAttribute("contenteditable")||"true"==t.getAttribute("contenteditable"))},!0):null;return t&&"false"==e.getAttribute("contenteditable")&&e}}var o,s,l=i.document,d=CKEDITOR.document,c=i.editable(),u=l.getBody(),f=l.getDocumentElement(),m=c.isInline();if(CKEDITOR.env.gecko&&c.attachListener(c,"focus",function(t){t.removeListener(),0!==o&&(t=i.getSelection().getNative())&&t.isCollapsed&&t.anchorNode==c.$&&(t=i.createRange(),t.moveToElementEditStart(c),t.select())},null,null,-2),c.attachListener(c,CKEDITOR.env.webkit?"DOMFocusIn":"focus",function(){o&&CKEDITOR.env.webkit&&(o=i._.previousActive&&i._.previousActive.equals(l.getActive()))&&null!=i._.previousScrollTop&&i._.previousScrollTop!=c.$.scrollTop&&(c.$.scrollTop=i._.previousScrollTop),i.unlockSelection(o),o=0},null,null,-1),c.attachListener(c,"mousedown",function(){o=0}),(CKEDITOR.env.ie||m)&&(T?c.attachListener(c,"beforedeactivate",t,null,null,-1):c.attachListener(i,"selectionCheck",t,null,null,-1),c.attachListener(c,CKEDITOR.env.webkit?"DOMFocusOut":"blur",function(){i.lockSelection(s),o=1},null,null,-1),c.attachListener(c,"mousedown",function(){o=0})),CKEDITOR.env.ie&&!m){var g;if(c.attachListener(c,"mousedown",function(t){2==t.data.$.button&&((t=i.document.getSelection())&&t.getType()!=CKEDITOR.SELECTION_NONE||(g=i.window.getScrollPosition()))}),c.attachListener(c,"mouseup",function(t){2==t.data.$.button&&g&&(i.document.$.documentElement.scrollLeft=g.x,i.document.$.documentElement.scrollTop=g.y),g=null}),"BackCompat"!=l.$.compatMode){if(CKEDITOR.env.ie7Compat||CKEDITOR.env.ie6Compat){var v,b;f.on("mousedown",function(t){function e(t){if(t=t.data.$,v){var e=u.$.createTextRange();try{e.moveToPoint(t.clientX,t.clientY)}catch(t){}v.setEndPoint(0>b.compareEndPoints("StartToStart",e)?"EndToEnd":"StartToStart",e),v.select()}}function i(){f.removeListener("mousemove",e),d.removeListener("mouseup",i),f.removeListener("mouseup",i),v.select()}if(t=t.data,t.getTarget().is("html")&&t.$.y<f.$.clientHeight&&t.$.x<f.$.clientWidth){v=u.$.createTextRange();try{v.moveToPoint(t.$.clientX,t.$.clientY)}catch(t){}b=v.duplicate(),f.on("mousemove",e),d.on("mouseup",i),f.on("mouseup",i)}})}7<CKEDITOR.env.version&&11>CKEDITOR.env.version&&f.on("mousedown",function(t){t.data.getTarget().is("html")&&(d.on("mouseup",e),f.on("mouseup",e))})}}if(c.attachListener(c,"selectionchange",a,i),c.attachListener(c,"keyup",r,i),c.attachListener(c,"keydown",function(t){var e=this.getSelection(1);n(e)&&(e.selectElement(n(e)),t.data.preventDefault())},i),c.attachListener(c,CKEDITOR.env.webkit?"DOMFocusIn":"focus",function(){i.forceNextSelectionCheck(),i.selectionChange(1)}),m&&(CKEDITOR.env.webkit||CKEDITOR.env.gecko)){var E;c.attachListener(c,"mousedown",function(){E=1}),c.attachListener(l.getDocumentElement(),"mouseup",function(){E&&r.call(i),E=0})}else c.attachListener(CKEDITOR.env.ie?c:l.getDocumentElement(),"mouseup",r,i);CKEDITOR.env.webkit&&c.attachListener(l,"keydown",function(t){switch(t.data.getKey()){case 13:case 33:case 34:case 35:case 36:case 37:case 39:case 8:case 45:case 46:c.hasFocus&&h(c)}},null,null,-1),c.attachListener(c,"keydown",p(i),null,null,-1)}),i.on("setData",function(){i.unlockSelection(),CKEDITOR.env.webkit&&e()}),i.on("contentDomUnload",function(){i.unlockSelection()}),CKEDITOR.env.ie9Compat&&i.on("beforeDestroy",e,null,null,9),i.on("dataReady",function(){delete i._.fakeSelection,delete i._.hiddenSelectionContainer,i.selectionChange(1)}),i.on("loadSnapshot",function(){var t=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_ELEMENT),e=i.editable().getLast(t);e&&e.hasAttribute("data-cke-hidden-sel")&&(e.remove(),CKEDITOR.env.gecko&&(t=i.editable().getFirst(t))&&t.is("br")&&t.getAttribute("_moz_editor_bogus_node")&&t.remove())},null,null,100),i.on("key",function(t){if("wysiwyg"==i.mode){var e=i.getSelection();if(e.isFake){var n=I[t.data.keyCode];if(n)return n({editor:i,selected:e.getSelectedElement(),selection:e,keyEvent:t})}}})}),CKEDITOR.env.webkit&&CKEDITOR.on("instanceReady",function(t){var e=t.editor;e.on("selectionChange",function(){var t=e.editable(),i=t.getCustomData("cke-fillingChar");i&&(i.getCustomData("ready")?(h(t),t.editor.fire("selectionCheck")):i.setCustomData("ready",1))},null,null,-1),e.on("beforeSetMode",function(){h(e.editable())},null,null,-1),e.on("getSnapshot",function(t){t.data&&(t.data=u(t.data))},e,null,20),e.on("toDataFormat",function(t){t.data.dataValue=u(t.data.dataValue)},null,null,0)}),CKEDITOR.editor.prototype.selectionChange=function(t){(t?a:r).call(this)},CKEDITOR.editor.prototype.getSelection=function(t){return!this._.savedSelection&&!this._.fakeSelection||t?(t=this.editable())&&"wysiwyg"==this.mode?new CKEDITOR.dom.selection(t):null:this._.savedSelection||this._.fakeSelection},CKEDITOR.editor.prototype.lockSelection=function(t){return t=t||this.getSelection(1),t.getType()!=CKEDITOR.SELECTION_NONE&&(!t.isLocked&&t.lock(),this._.savedSelection=t,!0)},CKEDITOR.editor.prototype.unlockSelection=function(t){var e=this._.savedSelection;return!!e&&(e.unlock(t),delete this._.savedSelection,!0)},CKEDITOR.editor.prototype.forceNextSelectionCheck=function(){delete this._.selectionPreviousPath},CKEDITOR.dom.document.prototype.getSelection=function(){return new CKEDITOR.dom.selection(this)},CKEDITOR.dom.range.prototype.select=function(){var t=this.root instanceof CKEDITOR.editable?this.root.editor.getSelection():new CKEDITOR.dom.selection(this.root);return t.selectRanges([this]),t},CKEDITOR.SELECTION_NONE=1,CKEDITOR.SELECTION_TEXT=2,CKEDITOR.SELECTION_ELEMENT=3,CKEDITOR.dom.selection=function(t){if(t instanceof CKEDITOR.dom.selection){var e=t;t=t.root}var i=t instanceof CKEDITOR.dom.element;if(this.rev=e?e.rev:E++,this.document=t instanceof CKEDITOR.dom.document?t:t.getDocument(),this.root=i?t:this.document.getBody(),this.isLocked=0,this._={cache:{}},e)return CKEDITOR.tools.extend(this._.cache,e._.cache),this.isFake=e.isFake,this.isLocked=e.isLocked,this;t=this.getNative();var n,o;if(t)if(t.getRangeAt)n=(o=t.rangeCount&&t.getRangeAt(0))&&new CKEDITOR.dom.node(o.commonAncestorContainer);else{try{o=t.createRange()}catch(t){}n=o&&CKEDITOR.dom.element.get(o.item&&o.item(0)||o.parentElement())}return(!n||n.type!=CKEDITOR.NODE_ELEMENT&&n.type!=CKEDITOR.NODE_TEXT||!this.root.equals(n)&&!this.root.contains(n))&&(this._.cache.type=CKEDITOR.SELECTION_NONE,this._.cache.startElement=null,this._.cache.selectedElement=null,this._.cache.selectedText="",this._.cache.ranges=new CKEDITOR.dom.rangeList),this};var O={img:1,hr:1,li:1,table:1,tr:1,td:1,th:1,embed:1,object:1,ol:1,ul:1,a:1,input:1,form:1,select:1,textarea:1,button:1,fieldset:1,thead:1,tfoot:1};CKEDITOR.tools.extend(CKEDITOR.dom.selection,{_removeFillingCharSequenceString:u,_createFillingCharSequenceNode:c,FILLING_CHAR_SEQUENCE:C}),CKEDITOR.dom.selection.prototype={getNative:function(){return void 0!==this._.cache.nativeSel?this._.cache.nativeSel:this._.cache.nativeSel=T?this.document.$.selection:this.document.getWindow().$.getSelection()},getType:T?function(){var t=this._.cache;if(t.type)return t.type;var e=CKEDITOR.SELECTION_NONE;try{var i=this.getNative(),n=i.type;"Text"==n&&(e=CKEDITOR.SELECTION_TEXT),"Control"==n&&(e=CKEDITOR.SELECTION_ELEMENT),i.createRange().parentElement()&&(e=CKEDITOR.SELECTION_TEXT)}catch(t){}return t.type=e}:function(){var t=this._.cache;if(t.type)return t.type;var e=CKEDITOR.SELECTION_TEXT,i=this.getNative();if(i&&i.rangeCount){if(1==i.rangeCount){var i=i.getRangeAt(0),n=i.startContainer;n==i.endContainer&&1==n.nodeType&&1==i.endOffset-i.startOffset&&O[n.childNodes[i.startOffset].nodeName.toLowerCase()]&&(e=CKEDITOR.SELECTION_ELEMENT)}}else e=CKEDITOR.SELECTION_NONE;return t.type=e},getRanges:function(){var t=T?function(){function t(t){return new CKEDITOR.dom.node(t).getIndex()}var e=function(e,i){e=e.duplicate(),e.collapse(i);var n=e.parentElement();if(!n.hasChildNodes())return{container:n,offset:0};for(var o,a,r,s,l=n.children,d=e.duplicate(),c=0,h=l.length-1,u=-1;c<=h;)if(u=Math.floor((c+h)/2),o=l[u],d.moveToElementText(o),0<(r=d.compareEndPoints("StartToStart",e)))h=u-1;else{if(!(0>r))return{container:n,offset:t(o)};c=u+1}if(-1==u||u==l.length-1&&0>r){if(d.moveToElementText(n),d.setEndPoint("StartToStart",e),d=d.text.replace(/(\r\n|\r)/g,"\n").length,l=n.childNodes,!d)return o=l[l.length-1],o.nodeType!=CKEDITOR.NODE_TEXT?{container:n,offset:l.length}:{container:o,offset:o.nodeValue.length};for(n=l.length;0<d&&0<n;)a=l[--n],a.nodeType==CKEDITOR.NODE_TEXT&&(s=a,d-=a.nodeValue.length);return{container:s,offset:-d}}if(d.collapse(0<r),d.setEndPoint(0<r?"StartToStart":"EndToStart",e),!(d=d.text.replace(/(\r\n|\r)/g,"\n").length))return{container:n,offset:t(o)+(0<r?0:1)};for(;0<d;)try{a=o[0<r?"previousSibling":"nextSibling"],a.nodeType==CKEDITOR.NODE_TEXT&&(d-=a.nodeValue.length,s=a),o=a}catch(e){return{container:n,offset:t(o)}}return{container:s,offset:0<r?-d:s.nodeValue.length+d}};return function(){var t=this.getNative(),i=t&&t.createRange(),n=this.getType();if(!t)return[];if(n==CKEDITOR.SELECTION_TEXT)return t=new CKEDITOR.dom.range(this.root),n=e(i,!0),t.setStart(new CKEDITOR.dom.node(n.container),n.offset),n=e(i),t.setEnd(new CKEDITOR.dom.node(n.container),n.offset),t.endContainer.getPosition(t.startContainer)&CKEDITOR.POSITION_PRECEDING&&t.endOffset<=t.startContainer.getIndex()&&t.collapse(),[t];if(n==CKEDITOR.SELECTION_ELEMENT){for(var n=[],o=0;o<i.length;o++){for(var a=i.item(o),r=a.parentNode,s=0,t=new CKEDITOR.dom.range(this.root);s<r.childNodes.length&&r.childNodes[s]!=a;s++);t.setStart(new CKEDITOR.dom.node(r),s),t.setEnd(new CKEDITOR.dom.node(r),s+1),n.push(t)}return n}return[]}}():function(){var t,e=[],i=this.getNative();if(!i)return e;for(var n=0;n<i.rangeCount;n++){var o=i.getRangeAt(n);t=new CKEDITOR.dom.range(this.root),t.setStart(new CKEDITOR.dom.node(o.startContainer),o.startOffset),t.setEnd(new CKEDITOR.dom.node(o.endContainer),o.endOffset),e.push(t)}return e};return function(e){var i=this._.cache,n=i.ranges;return n||(i.ranges=n=new CKEDITOR.dom.rangeList(t.call(this))),e?m(new CKEDITOR.dom.rangeList(n.slice())):n}}(),getStartElement:function(){var t=this._.cache;if(void 0!==t.startElement)return t.startElement;var e;switch(this.getType()){case CKEDITOR.SELECTION_ELEMENT:return this.getSelectedElement();case CKEDITOR.SELECTION_TEXT:var i=this.getRanges()[0];if(i){if(i.collapsed)e=i.startContainer,e.type!=CKEDITOR.NODE_ELEMENT&&(e=e.getParent());else{for(i.optimize();e=i.startContainer,i.startOffset==(e.getChildCount?e.getChildCount():e.getLength())&&!e.isBlockBoundary();)i.setStartAfter(e);if(e=i.startContainer,e.type!=CKEDITOR.NODE_ELEMENT)return e.getParent();if((e=e.getChild(i.startOffset))&&e.type==CKEDITOR.NODE_ELEMENT)for(i=e.getFirst();i&&i.type==CKEDITOR.NODE_ELEMENT;)e=i,i=i.getFirst();else e=i.startContainer}e=e.$}}return t.startElement=e?new CKEDITOR.dom.element(e):null},getSelectedElement:function(){var t=this._.cache;if(void 0!==t.selectedElement)return t.selectedElement;var e=this,i=CKEDITOR.tools.tryThese(function(){return e.getNative().createRange().item(0)},function(){for(var t,i,n=e.getRanges()[0].clone(),o=2;o&&!((t=n.getEnclosedNode())&&t.type==CKEDITOR.NODE_ELEMENT&&O[t.getName()]&&(i=t));o--)n.shrink(CKEDITOR.SHRINK_ELEMENT);return i&&i.$});return t.selectedElement=i?new CKEDITOR.dom.element(i):null},getSelectedText:function(){var t=this._.cache;if(void 0!==t.selectedText)return t.selectedText;var e=this.getNative(),e=T?"Control"==e.type?"":e.createRange().text:e.toString();return t.selectedText=e},lock:function(){this.getRanges(),this.getStartElement(),this.getSelectedElement(),this.getSelectedText(),this._.cache.nativeSel=null,this.isLocked=1},unlock:function(t){if(this.isLocked){if(t)var i=this.getSelectedElement(),n=this.getRanges(),a=this.isFake;this.isLocked=0,this.reset(),t&&(t=i||n[0]&&n[0].getCommonAncestor())&&t.getAscendant("body",1)&&(e(n)?o.call(this,n):a?this.fake(i):i?this.selectElement(i):this.selectRanges(n))}},reset:function(){this._.cache={},this.isFake=0;var t=this.root.editor;if(t&&t._.fakeSelection)if(this.rev==t._.fakeSelection.rev){delete t._.fakeSelection;var e=t._.hiddenSelectionContainer;if(e){var i=t.checkDirty();t.fire("lockSnapshot"),e.remove(),t.fire("unlockSnapshot"),!i&&t.resetDirty()}delete t._.hiddenSelectionContainer}else CKEDITOR.warn("selection-fake-reset");this.rev=E++},selectElement:function(t){var e=new CKEDITOR.dom.range(this.root);e.setStartBefore(t),e.setEndAfter(t),this.selectRanges([e])},selectRanges:function(t){var i=this.root.editor,n=i&&i._.hiddenSelectionContainer;if(this.reset(),n)for(var a,n=this.root,r=0;r<t.length;++r)a=t[r],a.endContainer.equals(n)&&(a.endOffset=Math.min(a.endOffset,n.getChildCount()));if(t.length)if(this.isLocked){var s=CKEDITOR.document.getActive();this.unlock(),this.selectRanges(t),this.lock(),s&&!s.equals(this.root)&&s.focus()}else{var l,u,f;if(1==t.length&&!(f=t[0]).collapsed&&(l=f.getEnclosedNode())&&l.type==CKEDITOR.NODE_ELEMENT&&(f=f.clone(),f.shrink(CKEDITOR.SHRINK_ELEMENT,!0),(u=f.getEnclosedNode())&&u.type==CKEDITOR.NODE_ELEMENT&&(l=u),"false"==l.getAttribute("contenteditable"))||(l=void 0),l)this.fake(l);else if(i&&i.plugins.tableselection&&CKEDITOR.plugins.tableselection.isSupportedEnvironment&&e(t)&&!g)o.call(this,t);else{if(T){u=CKEDITOR.dom.walker.whitespaces(!0),l=/\ufeff|\u00a0/,f={table:1,tbody:1,tr:1},1<t.length&&(i=t[t.length-1],t[0].setEnd(i.endContainer,i.endOffset)),i=t[0],t=i.collapsed;var p,m,v;if((n=i.getEnclosedNode())&&n.type==CKEDITOR.NODE_ELEMENT&&n.getName()in O&&(!n.is("a")||!n.getText()))try{return v=n.$.createControlRange(),v.addElement(n.$),void v.select()}catch(t){}(i.startContainer.type==CKEDITOR.NODE_ELEMENT&&i.startContainer.getName()in f||i.endContainer.type==CKEDITOR.NODE_ELEMENT&&i.endContainer.getName()in f)&&(i.shrink(CKEDITOR.NODE_ELEMENT,!0),t=i.collapsed),v=i.createBookmark(),f=v.startNode,t||(s=v.endNode),v=i.document.$.body.createTextRange(),v.moveToElementText(f.$),v.moveStart("character",1),s?(l=i.document.$.body.createTextRange(),l.moveToElementText(s.$),v.setEndPoint("EndToEnd",l),v.moveEnd("character",-1)):(p=f.getNext(u),m=f.hasAscendant("pre"),p=!(p&&p.getText&&p.getText().match(l))&&(m||!f.hasPrevious()||f.getPrevious().is&&f.getPrevious().is("br")),m=i.document.createElement("span"),m.setHtml("&#65279;"),m.insertBefore(f),p&&i.document.createText("\ufeff").insertBefore(f)),i.setStartBefore(f),f.remove(),t?(p?(v.moveStart("character",-1),v.select(),i.document.$.selection.clear()):v.select(),i.moveToPosition(m,CKEDITOR.POSITION_BEFORE_START),m.remove()):(i.setEndBefore(s),s.remove(),v.select())}else{if(!(s=this.getNative()))return;for(this.removeAllRanges(),v=0;v<t.length;v++)if(v<t.length-1&&(p=t[v],m=t[v+1],l=p.clone(),l.setStart(p.endContainer,p.endOffset),l.setEnd(m.startContainer,m.startOffset),!l.collapsed&&(l.shrink(CKEDITOR.NODE_ELEMENT,!0),i=l.getCommonAncestor(),l=l.getEnclosedNode(),i.isReadOnly()||l&&l.isReadOnly())))m.setStart(p.startContainer,p.startOffset),t.splice(v--,1);else{i=t[v],m=this.document.$.createRange(),i.collapsed&&CKEDITOR.env.webkit&&d(i)&&(l=c(this.root),i.insertNode(l),(p=l.getNext())&&!l.getPrevious()&&p.type==CKEDITOR.NODE_ELEMENT&&"br"==p.getName()?(h(this.root),i.moveToPosition(p,CKEDITOR.POSITION_BEFORE_START)):i.moveToPosition(l,CKEDITOR.POSITION_AFTER_END)),m.setStart(i.startContainer.$,i.startOffset);try{m.setEnd(i.endContainer.$,i.endOffset)}catch(t){if(!(0<=t.toString().indexOf("NS_ERROR_ILLEGAL_VALUE")))throw t;i.collapse(1),m.setEnd(i.endContainer.$,i.endOffset)}s.addRange(m)}}this.reset(),this.root.fire("selectionchange")}}},fake:function(t,e){var i=this.root.editor;void 0===e&&t.hasAttribute("aria-label")&&(e=t.getAttribute("aria-label")),this.reset(),f(i,e);var n=this._.cache,o=new CKEDITOR.dom.range(this.root);o.setStartBefore(t),o.setEndAfter(t),n.ranges=new CKEDITOR.dom.rangeList(o),n.selectedElement=n.startElement=t,n.type=CKEDITOR.SELECTION_ELEMENT,n.selectedText=n.nativeSel=null,this.isFake=1,this.rev=E++,i._.fakeSelection=this,this.root.fire("selectionchange")},isHidden:function(){var t=this.getCommonAncestor();return t&&t.type==CKEDITOR.NODE_TEXT&&(t=t.getParent()),!(!t||!t.data("cke-hidden-sel"))},isInTable:function(t){return e(this.getRanges(),t)},isCollapsed:function(){var t=this.getRanges();return 1===t.length&&t[0].collapsed},createBookmarks:function(t){return t=this.getRanges().createBookmarks(t),this.isFake&&(t.isFake=1),t},createBookmarks2:function(t){return t=this.getRanges().createBookmarks2(t),this.isFake&&(t.isFake=1),t},selectBookmarks:function(t){for(var i,n=[],o=0;o<t.length;o++){var a=new CKEDITOR.dom.range(this.root);a.moveToBookmark(t[o]),n.push(a)}return t.isFake&&((i=e(n)?n[0]._getTableElement():n[0].getEnclosedNode())&&i.type==CKEDITOR.NODE_ELEMENT||(CKEDITOR.warn("selection-not-fake"),t.isFake=0)),t.isFake&&!e(n)?this.fake(i):this.selectRanges(n),this},getCommonAncestor:function(){var t=this.getRanges();return t.length?t[0].startContainer.getCommonAncestor(t[t.length-1].endContainer):null},scrollIntoView:function(){this.type!=CKEDITOR.SELECTION_NONE&&this.getRanges()[0].scrollIntoView()},removeAllRanges:function(){if(this.getType()!=CKEDITOR.SELECTION_NONE){var t=this.getNative();try{t&&t[T?"empty":"removeAllRanges"]()}catch(t){}this.reset()}}}}(),CKEDITOR.STYLE_BLOCK=1,CKEDITOR.STYLE_INLINE=2,CKEDITOR.STYLE_OBJECT=3,function(){function t(t,e){for(var i,n;(t=t.getParent())&&!t.equals(e);)if(t.getAttribute("data-nostyle"))i=t;else if(!n){var o=t.getAttribute("contentEditable");"false"==o?i=t:"true"==o&&(n=1)}return i}function e(t,e,i,n){return(t.getPosition(e)|n)==n&&(!i.childRule||i.childRule(t))}function i(n){var a=n.document;if(n.collapsed)a=v(this,a),n.insertNode(a),n.moveToPosition(a,CKEDITOR.POSITION_BEFORE_END);else{var r,s=this.element,l=this._.definition,d=l.ignoreReadonly,c=d||l.includeReadonly;null==c&&(c=n.root.getCustomData("cke_includeReadonly"));var h=CKEDITOR.dtd[s];h||(r=!0,h=CKEDITOR.dtd.span),
n.enlarge(CKEDITOR.ENLARGE_INLINE,1),n.trim();var u,f=n.createBookmark(),m=f.startNode,g=f.endNode,b=m;if(!d){var T=n.getCommonAncestor(),d=t(m,T),T=t(g,T);d&&(b=d.getNextSourceNode(!0)),T&&(g=T)}for(b.getPosition(g)==CKEDITOR.POSITION_FOLLOWING&&(b=0);b;){if(d=!1,b.equals(g))b=null,d=!0;else{var E=b.type==CKEDITOR.NODE_ELEMENT?b.getName():null,T=E&&"false"==b.getAttribute("contentEditable"),C=E&&b.getAttribute("data-nostyle");if(E&&b.data("cke-bookmark")){b=b.getNextSourceNode(!0);continue}if(T&&c&&CKEDITOR.dtd.$block[E])for(var y=b,D=o(y),I=void 0,O=D.length,R=0,y=O&&new CKEDITOR.dom.range(y.getDocument());R<O;++R){var I=D[R],x=CKEDITOR.filter.instances[I.data("cke-filter")];(x?x.check(this):1)&&(y.selectNodeContents(I),i.call(this,y))}if(D=E?!h[E]||C?0:T&&!c?0:e(b,g,l,_):1){if(I=b.getParent(),D=l,O=s,R=r,!I||!(I.getDtd()||CKEDITOR.dtd.span)[O]&&!R||D.parentRule&&!D.parentRule(I))d=!0;else if(u||E&&CKEDITOR.dtd.$removeEmpty[E]&&(b.getPosition(g)|_)!=_||(u=n.clone(),u.setStartBefore(b)),(E=b.type)==CKEDITOR.NODE_TEXT||T||E==CKEDITOR.NODE_ELEMENT&&!b.getChildCount()){for(var k,E=b;(d=!E.getNext(w))&&(k=E.getParent(),h[k.getName()])&&e(k,m,l,S);)E=k;u.setEndAfter(E)}}else d=!0;b=b.getNextSourceNode(C||T)}if(d&&u&&!u.collapsed){for(var N,K,A,d=v(this,a),T=d.hasAttributes(),C=u.getCommonAncestor(),E={},D={},I={},O={};d&&C;){if(C.getName()==s){for(N in l.attributes)!O[N]&&(A=C.getAttribute(K))&&(d.getAttribute(N)==A?D[N]=1:O[N]=1);for(K in l.styles)!I[K]&&(A=C.getStyle(K))&&(d.getStyle(K)==A?E[K]=1:I[K]=1)}C=C.getParent()}for(N in D)d.removeAttribute(N);for(K in E)d.removeStyle(K);T&&!d.hasAttributes()&&(d=null),d?(u.extractContents().appendTo(d),u.insertNode(d),p.call(this,d),d.mergeSiblings(),CKEDITOR.env.ie||d.$.normalize()):(d=new CKEDITOR.dom.element("span"),u.extractContents().appendTo(d),u.insertNode(d),p.call(this,d),d.remove(!0)),u=null}}n.moveToBookmark(f),n.shrink(CKEDITOR.SHRINK_TEXT),n.shrink(CKEDITOR.NODE_ELEMENT,!0)}}function n(t){function e(){for(var t=new CKEDITOR.dom.elementPath(n.getParent()),e=new CKEDITOR.dom.elementPath(c.getParent()),i=null,o=null,a=0;a<t.elements.length;a++){var r=t.elements[a];if(r==t.block||r==t.blockLimit)break;h.checkElementRemovable(r,!0)&&(i=r)}for(a=0;a<e.elements.length&&((r=e.elements[a])!=e.block&&r!=e.blockLimit);a++)h.checkElementRemovable(r,!0)&&(o=r);o&&c.breakParent(o),i&&n.breakParent(i)}t.enlarge(CKEDITOR.ENLARGE_INLINE,1);var i=t.createBookmark(),n=i.startNode,o=this._.definition.alwaysRemoveElement;if(t.collapsed){for(var a,r,s=new CKEDITOR.dom.elementPath(n.getParent(),t.root),l=0;l<s.elements.length&&(r=s.elements[l])&&r!=s.block&&r!=s.blockLimit;l++)if(this.checkElementRemovable(r)){var d;!o&&t.collapsed&&(t.checkBoundaryOfElement(r,CKEDITOR.END)||(d=t.checkBoundaryOfElement(r,CKEDITOR.START)))?(a=r,a.match=d?"start":"end"):(r.mergeSiblings(),r.is(this.element)?f.call(this,r):m(r,E(this)[r.getName()]))}if(a){for(o=n,l=0;r=s.elements[l],!r.equals(a);l++)r.match||(r=r.clone(),r.append(o),o=r);o["start"==a.match?"insertBefore":"insertAfter"](a)}}else{var c=i.endNode,h=this;for(e(),s=n;!s.equals(c);)a=s.getNextSourceNode(),s.type==CKEDITOR.NODE_ELEMENT&&this.checkElementRemovable(s)&&(s.getName()==this.element?f.call(this,s):m(s,E(this)[s.getName()]),a.type==CKEDITOR.NODE_ELEMENT&&a.contains(n)&&(e(),a=n.getNext())),s=a}t.moveToBookmark(i),t.shrink(CKEDITOR.NODE_ELEMENT,!0)}function o(t){var e=[];return t.forEach(function(t){if("true"==t.getAttribute("contenteditable"))return e.push(t),!1},CKEDITOR.NODE_ELEMENT,!0),e}function a(t){var e=t.getEnclosedNode()||t.getCommonAncestor(!1,!0);(t=new CKEDITOR.dom.elementPath(e,t.root).contains(this.element,1))&&!t.isReadOnly()&&b(t,this)}function r(t){var e=t.getCommonAncestor(!0,!0);if(t=new CKEDITOR.dom.elementPath(e,t.root).contains(this.element,1)){var e=this._.definition,i=e.attributes;if(i)for(var n in i)t.removeAttribute(n,i[n]);if(e.styles)for(var o in e.styles)e.styles.hasOwnProperty(o)&&t.removeStyle(o)}}function s(t){var e=t.createBookmark(!0),i=t.createIterator();i.enforceRealBlocks=!0,this._.enterMode&&(i.enlargeBr=this._.enterMode!=CKEDITOR.ENTER_BR);for(var n,o,a=t.document;n=i.getNextParagraph();)!n.isReadOnly()&&(i.activeFilter?i.activeFilter.check(this):1)&&(o=v(this,a,n),d(n,o));t.moveToBookmark(e)}function l(t){var e=t.createBookmark(1),i=t.createIterator();i.enforceRealBlocks=!0,i.enlargeBr=this._.enterMode!=CKEDITOR.ENTER_BR;for(var n,o;n=i.getNextParagraph();)this.checkElementRemovable(n)&&(n.is("pre")?((o=this._.enterMode==CKEDITOR.ENTER_BR?null:t.document.createElement(this._.enterMode==CKEDITOR.ENTER_P?"p":"div"))&&n.copyAttributes(o),d(n,o)):f.call(this,n));t.moveToBookmark(e)}function d(t,e){var i=!e;i&&(e=t.getDocument().createElement("div"),t.copyAttributes(e));var n=e&&e.is("pre"),o=t.is("pre"),a=!n&&o;if(n&&!o){if(o=e,(a=t.getBogus())&&a.remove(),a=t.getHtml(),a=h(a,/(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g,""),a=a.replace(/[ \t\r\n]*(<br[^>]*>)[ \t\r\n]*/gi,"$1"),a=a.replace(/([ \t\n\r]+|&nbsp;)/g," "),a=a.replace(/<br\b[^>]*>/gi,"\n"),CKEDITOR.env.ie){var r=t.getDocument().createElement("div");r.append(o),o.$.outerHTML="<pre>"+a+"</pre>",o.copyAttributes(r.getFirst()),o=r.getFirst().remove()}else o.setHtml(a);e=o}else a?e=u(i?[t.getHtml()]:c(t),e):t.moveChildren(e);if(e.replace(t),n){var s,i=e;(s=i.getPrevious(k))&&s.type==CKEDITOR.NODE_ELEMENT&&s.is("pre")&&(n=h(s.getHtml(),/\n$/,"")+"\n\n"+h(i.getHtml(),/^\n/,""),CKEDITOR.env.ie?i.$.outerHTML="<pre>"+n+"</pre>":i.setHtml(n),s.remove())}else i&&g(e)}function c(t){var e=[];return h(t.getOuterHtml(),/(\S\s*)\n(?:\s|(<span[^>]+data-cke-bookmark.*?\/span>))*\n(?!$)/gi,function(t,e,i){return e+"</pre>"+i+"<pre>"}).replace(/<pre\b.*?>([\s\S]*?)<\/pre>/gi,function(t,i){e.push(i)}),e}function h(t,e,i){var n="",o="";return t=t.replace(/(^<span[^>]+data-cke-bookmark.*?\/span>)|(<span[^>]+data-cke-bookmark.*?\/span>$)/gi,function(t,e,i){return e&&(n=e),i&&(o=i),""}),n+t.replace(e,i)+o}function u(t,e){var i;1<t.length&&(i=new CKEDITOR.dom.documentFragment(e.getDocument()));for(var n=0;n<t.length;n++){var o=t[n],o=o.replace(/(\r\n|\r)/g,"\n"),o=h(o,/^[ \t]*\n/,""),o=h(o,/\n$/,""),o=h(o,/^[ \t]+|[ \t]+$/g,function(t,e){return 1==t.length?"&nbsp;":e?" "+CKEDITOR.tools.repeat("&nbsp;",t.length-1):CKEDITOR.tools.repeat("&nbsp;",t.length-1)+" "}),o=o.replace(/\n/g,"<br>"),o=o.replace(/[ \t]{2,}/g,function(t){return CKEDITOR.tools.repeat("&nbsp;",t.length-1)+" "});if(i){var a=e.clone();a.setHtml(o),i.append(a)}else e.setHtml(o)}return i||e}function f(t,e){var i,n=this._.definition,o=n.attributes,n=n.styles,a=E(this)[t.getName()],r=CKEDITOR.tools.isEmpty(o)&&CKEDITOR.tools.isEmpty(n);for(i in o)("class"!=i&&!this._.definition.fullMatch||t.getAttribute(i)==C(i,o[i]))&&(e&&"data-"==i.slice(0,5)||(r=t.hasAttribute(i),t.removeAttribute(i)));for(var s in n)this._.definition.fullMatch&&t.getStyle(s)!=C(s,n[s],!0)||(r=r||!!t.getStyle(s),t.removeStyle(s));m(t,a,I[t.getName()]),r&&(this._.definition.alwaysRemoveElement?g(t,1):!CKEDITOR.dtd.$block[t.getName()]||this._.enterMode==CKEDITOR.ENTER_BR&&!t.hasAttributes()?g(t):t.renameNode(this._.enterMode==CKEDITOR.ENTER_P?"p":"div"))}function p(t){for(var e,i=E(this),n=t.getElementsByTag(this.element),o=n.count();0<=--o;)e=n.getItem(o),e.isReadOnly()||f.call(this,e,!0);for(var a in i)if(a!=this.element)for(n=t.getElementsByTag(a),o=n.count()-1;0<=o;o--)e=n.getItem(o),e.isReadOnly()||m(e,i[a])}function m(t,e,i){if(e=e&&e.attributes)for(var n=0;n<e.length;n++){var o,a=e[n][0];if(o=t.getAttribute(a)){var r=e[n][1];(null===r||r.test&&r.test(o)||"string"==typeof r&&o==r)&&t.removeAttribute(a)}}i||g(t)}function g(t,e){if(!t.hasAttributes()||e)if(CKEDITOR.dtd.$block[t.getName()]){var i=t.getPrevious(k),n=t.getNext(k);!i||i.type!=CKEDITOR.NODE_TEXT&&i.isBlockBoundary({br:1})||t.append("br",1),!n||n.type!=CKEDITOR.NODE_TEXT&&n.isBlockBoundary({br:1})||t.append("br"),t.remove(!0)}else i=t.getFirst(),n=t.getLast(),t.remove(!0),i&&(i.type==CKEDITOR.NODE_ELEMENT&&i.mergeSiblings(),n&&!i.equals(n)&&n.type==CKEDITOR.NODE_ELEMENT&&n.mergeSiblings())}function v(t,e,i){var n;return n=t.element,"*"==n&&(n="span"),n=new CKEDITOR.dom.element(n,e),i&&i.copyAttributes(n),n=b(n,t),e.getCustomData("doc_processing_style")&&n.hasAttribute("id")?n.removeAttribute("id"):e.setCustomData("doc_processing_style",1),n}function b(t,e){var i=e._.definition,n=i.attributes,i=CKEDITOR.style.getStyleText(i);if(n)for(var o in n)t.setAttribute(o,n[o]);return i&&t.setAttribute("style",i),t}function T(t,e){for(var i in t)t[i]=t[i].replace(x,function(t,i){return e[i]})}function E(t){if(t._.overrides)return t._.overrides;var e=t._.overrides={},i=t._.definition.overrides;if(i){CKEDITOR.tools.isArray(i)||(i=[i]);for(var n=0;n<i.length;n++){var o,a,r=i[n];if("string"==typeof r?o=r.toLowerCase():(o=r.element?r.element.toLowerCase():t.element,a=r.attributes),r=e[o]||(e[o]={}),a){var s,r=r.attributes=r.attributes||[];for(s in a)r.push([s.toLowerCase(),a[s]])}}}return e}function C(t,e,i){var n=new CKEDITOR.dom.element("span");return n[i?"setStyle":"setAttribute"](t,e),n[i?"getStyle":"getAttribute"](t)}function y(t,e){function i(t,e){return"font-family"==e.toLowerCase()?t.replace(/["']/g,""):t}"string"==typeof t&&(t=CKEDITOR.tools.parseCssText(t)),"string"==typeof e&&(e=CKEDITOR.tools.parseCssText(e,!0));for(var n in t)if(!(n in e)||i(e[n],n)!=i(t[n],n)&&"inherit"!=t[n]&&"inherit"!=e[n])return!1;return!0}function D(t,e,i){var n=t.document,o=t.getRanges();e=e?this.removeFromRange:this.applyToRange;var a,r;if(t.isFake&&t.isInTable())for(a=[],r=0;r<o.length;r++)a.push(o[r].clone());for(var s=o.createIterator();r=s.getNextRange();)e.call(this,r,i);t.selectRanges(a||o),n.removeCustomData("doc_processing_style")}var I={address:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,p:1,pre:1,section:1,header:1,footer:1,nav:1,article:1,aside:1,figure:1,dialog:1,hgroup:1,time:1,meter:1,menu:1,command:1,keygen:1,output:1,progress:1,details:1,datagrid:1,datalist:1},O={a:1,blockquote:1,embed:1,hr:1,img:1,li:1,object:1,ol:1,table:1,td:1,tr:1,th:1,ul:1,dl:1,dt:1,dd:1,form:1,audio:1,video:1},R=/\s*(?:;\s*|$)/,x=/#\((.+?)\)/g,w=CKEDITOR.dom.walker.bookmark(0,1),k=CKEDITOR.dom.walker.whitespaces(1);CKEDITOR.style=function(t,e){if("string"==typeof t.type)return new CKEDITOR.style.customHandlers[t.type](t);var i=t.attributes;i&&i.style&&(t.styles=CKEDITOR.tools.extend({},t.styles,CKEDITOR.tools.parseCssText(i.style)),delete i.style),e&&(t=CKEDITOR.tools.clone(t),T(t.attributes,e),T(t.styles,e)),i=this.element=t.element?"string"==typeof t.element?t.element.toLowerCase():t.element:"*",this.type=t.type||(I[i]?CKEDITOR.STYLE_BLOCK:O[i]?CKEDITOR.STYLE_OBJECT:CKEDITOR.STYLE_INLINE),"object"==typeof this.element&&(this.type=CKEDITOR.STYLE_OBJECT),this._={definition:t}},CKEDITOR.style.prototype={apply:function(t){if(t instanceof CKEDITOR.dom.document)return D.call(this,t.getSelection());if(this.checkApplicable(t.elementPath(),t)){var e=this._.enterMode;e||(this._.enterMode=t.activeEnterMode),D.call(this,t.getSelection(),0,t),this._.enterMode=e}},remove:function(t){if(t instanceof CKEDITOR.dom.document)return D.call(this,t.getSelection(),1);if(this.checkApplicable(t.elementPath(),t)){var e=this._.enterMode;e||(this._.enterMode=t.activeEnterMode),D.call(this,t.getSelection(),1,t),this._.enterMode=e}},applyToRange:function(t){return this.applyToRange=this.type==CKEDITOR.STYLE_INLINE?i:this.type==CKEDITOR.STYLE_BLOCK?s:this.type==CKEDITOR.STYLE_OBJECT?a:null,this.applyToRange(t)},removeFromRange:function(t){return this.removeFromRange=this.type==CKEDITOR.STYLE_INLINE?n:this.type==CKEDITOR.STYLE_BLOCK?l:this.type==CKEDITOR.STYLE_OBJECT?r:null,this.removeFromRange(t)},applyToObject:function(t){b(t,this)},checkActive:function(t,e){switch(this.type){case CKEDITOR.STYLE_BLOCK:return this.checkElementRemovable(t.block||t.blockLimit,!0,e);case CKEDITOR.STYLE_OBJECT:case CKEDITOR.STYLE_INLINE:for(var i,n=t.elements,o=0;o<n.length;o++)if(i=n[o],this.type!=CKEDITOR.STYLE_INLINE||i!=t.block&&i!=t.blockLimit){if(this.type==CKEDITOR.STYLE_OBJECT){var a=i.getName();if(!("string"==typeof this.element?a==this.element:a in this.element))continue}if(this.checkElementRemovable(i,!0,e))return!0}}return!1},checkApplicable:function(t,e,i){if(e&&e instanceof CKEDITOR.filter&&(i=e),i&&!i.check(this))return!1;switch(this.type){case CKEDITOR.STYLE_OBJECT:return!!t.contains(this.element);case CKEDITOR.STYLE_BLOCK:return!!t.blockLimit.getDtd()[this.element]}return!0},checkElementMatch:function(t,e){var i=this._.definition;if(!t||!i.ignoreReadonly&&t.isReadOnly())return!1;var n=t.getName();if("string"==typeof this.element?n==this.element:n in this.element){if(!e&&!t.hasAttributes())return!0;if(n=i._AC)i=n;else{var n={},o=0,a=i.attributes;if(a)for(var r in a)o++,n[r]=a[r];(r=CKEDITOR.style.getStyleText(i))&&(n.style||o++,n.style=r),n._length=o,i=i._AC=n}if(!i._length)return!0;for(var s in i)if("_length"!=s)if(n=t.getAttribute(s)||"","style"==s?y(i[s],n):i[s]==n){if(!e)return!0}else if(e)return!1;if(e)return!0}return!1},checkElementRemovable:function(t,e,i){if(this.checkElementMatch(t,e,i))return!0;if(e=E(this)[t.getName()]){var n;if(!(e=e.attributes))return!0;for(i=0;i<e.length;i++)if(n=e[i][0],n=t.getAttribute(n)){var o=e[i][1];if(null===o)return!0;if("string"==typeof o){if(n==o)return!0}else if(o.test(n))return!0}}return!1},buildPreview:function(t){var e=this._.definition,i=[],n=e.element;"bdo"==n&&(n="span");var i=["<",n],o=e.attributes;if(o)for(var a in o)i.push(" ",a,'="',o[a],'"');return(o=CKEDITOR.style.getStyleText(e))&&i.push(' style="',o,'"'),i.push(">",t||e.name,"</",n,">"),i.join("")},getDefinition:function(){return this._.definition}},CKEDITOR.style.getStyleText=function(t){var e=t._ST;if(e)return e;var e=t.styles,i=t.attributes&&t.attributes.style||"",n="";i.length&&(i=i.replace(R,";"));for(var o in e){var a=e[o],r=(o+":"+a).replace(R,";");"inherit"==a?n+=r:i+=r}return i.length&&(i=CKEDITOR.tools.normalizeCssText(i,!0)),t._ST=i+n},CKEDITOR.style.customHandlers={},CKEDITOR.style.addCustomHandler=function(t){var e=function(t){this._={definition:t},this.setup&&this.setup(t)};return e.prototype=CKEDITOR.tools.extend(CKEDITOR.tools.prototypedCopy(CKEDITOR.style.prototype),{assignedTo:CKEDITOR.STYLE_OBJECT},t,!0),this.customHandlers[t.type]=e};var _=CKEDITOR.POSITION_PRECEDING|CKEDITOR.POSITION_IDENTICAL|CKEDITOR.POSITION_IS_CONTAINED,S=CKEDITOR.POSITION_FOLLOWING|CKEDITOR.POSITION_IDENTICAL|CKEDITOR.POSITION_IS_CONTAINED}(),CKEDITOR.styleCommand=function(t,e){this.requiredContent=this.allowedContent=this.style=t,CKEDITOR.tools.extend(this,e,!0)},CKEDITOR.styleCommand.prototype.exec=function(t){t.focus(),this.state==CKEDITOR.TRISTATE_OFF?t.applyStyle(this.style):this.state==CKEDITOR.TRISTATE_ON&&t.removeStyle(this.style)},CKEDITOR.stylesSet=new CKEDITOR.resourceManager("","stylesSet"),CKEDITOR.addStylesSet=CKEDITOR.tools.bind(CKEDITOR.stylesSet.add,CKEDITOR.stylesSet),CKEDITOR.loadStylesSet=function(t,e,i){CKEDITOR.stylesSet.addExternal(t,e,""),CKEDITOR.stylesSet.load(t,i)},CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{attachStyleStateChange:function(t,e){var i=this._.styleStateChangeCallbacks;i||(i=this._.styleStateChangeCallbacks=[],this.on("selectionChange",function(t){for(var e=0;e<i.length;e++){var n=i[e],o=n.style.checkActive(t.data.path,this)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF;n.fn.call(this,o)}})),i.push({style:t,fn:e})},applyStyle:function(t){t.apply(this)},removeStyle:function(t){t.remove(this)},getStylesSet:function(t){if(this._.stylesDefinitions)t(this._.stylesDefinitions);else{var e=this,i=e.config.stylesCombo_stylesSet||e.config.stylesSet;if(!1===i)t(null);else if(i instanceof Array)e._.stylesDefinitions=i,t(i);else{i||(i="default");var i=i.split(":"),n=i[0];CKEDITOR.stylesSet.addExternal(n,i[1]?i.slice(1).join(":"):CKEDITOR.getUrl("styles.js"),""),CKEDITOR.stylesSet.load(n,function(i){e._.stylesDefinitions=i[n],t(e._.stylesDefinitions)})}}}}),CKEDITOR.dom.comment=function(t,e){"string"==typeof t&&(t=(e?e.$:document).createComment(t)),CKEDITOR.dom.domObject.call(this,t)},CKEDITOR.dom.comment.prototype=new CKEDITOR.dom.node,CKEDITOR.tools.extend(CKEDITOR.dom.comment.prototype,{type:CKEDITOR.NODE_COMMENT,getOuterHtml:function(){return"<!--"+this.$.nodeValue+"-->"}}),function(){var t,e={},i={};for(t in CKEDITOR.dtd.$blockLimit)t in CKEDITOR.dtd.$list||(e[t]=1);for(t in CKEDITOR.dtd.$block)t in CKEDITOR.dtd.$blockLimit||t in CKEDITOR.dtd.$empty||(i[t]=1);CKEDITOR.dom.elementPath=function(t,n){var o,a=null,r=null,s=[],l=t;n=n||t.getDocument().getBody(),l||(l=n);do{if(l.type==CKEDITOR.NODE_ELEMENT){if(s.push(l),!this.lastElement&&(this.lastElement=l,l.is(CKEDITOR.dtd.$object)||"false"==l.getAttribute("contenteditable")))continue;if(l.equals(n))break;if(!r&&(o=l.getName(),"true"==l.getAttribute("contenteditable")?r=l:!a&&i[o]&&(a=l),e[o])){if(o=!a&&"div"==o){t:{o=l.getChildren();for(var d=0,c=o.count();d<c;d++){var h=o.getItem(d);if(h.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$block[h.getName()]){o=!0;break t}}o=!1}o=!o}o?a=l:r=l}}}while(l=l.getParent());r||(r=n),this.block=a,this.blockLimit=r,this.root=n,this.elements=s}}(),CKEDITOR.dom.elementPath.prototype={compare:function(t){var e=this.elements;if(!(t=t&&t.elements)||e.length!=t.length)return!1;for(var i=0;i<e.length;i++)if(!e[i].equals(t[i]))return!1;return!0},contains:function(t,e,i){var n,o=0;"string"==typeof t&&(n=function(e){return e.getName()==t}),t instanceof CKEDITOR.dom.element?n=function(e){return e.equals(t)}:CKEDITOR.tools.isArray(t)?n=function(e){return-1<CKEDITOR.tools.indexOf(t,e.getName())}:"function"==typeof t?n=t:"object"==typeof t&&(n=function(e){return e.getName()in t});var a=this.elements,r=a.length;for(e&&(i?o+=1:--r),i&&(a=Array.prototype.slice.call(a,0),a.reverse());o<r;o++)if(n(a[o]))return a[o];return null},isContextFor:function(t){var e;return!(t in CKEDITOR.dtd.$block)||(e=this.contains(CKEDITOR.dtd.$intermediate)||this.root.equals(this.block)&&this.block||this.blockLimit,!!e.getDtd()[t])},direction:function(){return(this.block||this.blockLimit||this.root).getDirection(1)}},CKEDITOR.dom.text=function(t,e){"string"==typeof t&&(t=(e?e.$:document).createTextNode(t)),this.$=t},CKEDITOR.dom.text.prototype=new CKEDITOR.dom.node,CKEDITOR.tools.extend(CKEDITOR.dom.text.prototype,{type:CKEDITOR.NODE_TEXT,getLength:function(){return this.$.nodeValue.length},getText:function(){return this.$.nodeValue},setText:function(t){this.$.nodeValue=t},split:function(t){var e=this.$.parentNode,i=e.childNodes.length,n=this.getLength(),o=this.getDocument(),a=new CKEDITOR.dom.text(this.$.splitText(t),o);return e.childNodes.length==i&&(t>=n?(a=o.createText(""),a.insertAfter(this)):(t=o.createText(""),t.insertAfter(a),t.remove())),a},substring:function(t,e){return"number"!=typeof e?this.$.nodeValue.substr(t):this.$.nodeValue.substring(t,e)}}),function(){function t(t,e,i){var n=t.serializable,o=e[i?"endContainer":"startContainer"],a=i?"endOffset":"startOffset",r=n?e.document.getById(t.startNode):t.startNode;return t=n?e.document.getById(t.endNode):t.endNode,o.equals(r.getPrevious())?(e.startOffset=e.startOffset-o.getLength()-t.getPrevious().getLength(),o=t.getNext()):o.equals(t.getPrevious())&&(e.startOffset-=o.getLength(),o=t.getNext()),o.equals(r.getParent())&&e[a]++,o.equals(t.getParent())&&e[a]++,e[i?"endContainer":"startContainer"]=o,e}CKEDITOR.dom.rangeList=function(t){return t instanceof CKEDITOR.dom.rangeList?t:(t?t instanceof CKEDITOR.dom.range&&(t=[t]):t=[],CKEDITOR.tools.extend(t,e))};var e={createIterator:function(){var t,e=this,i=CKEDITOR.dom.walker.bookmark(),n=[];return{getNextRange:function(o){t=void 0===t?0:t+1;var a=e[t];if(a&&1<e.length){if(!t)for(var r=e.length-1;0<=r;r--)n.unshift(e[r].createBookmark(!0));if(o)for(var s=0;e[t+s+1];){var l=a.document;for(o=0,r=l.getById(n[s].endNode),l=l.getById(n[s+1].startNode);;){if(r=r.getNextSourceNode(!1),l.equals(r))o=1;else if(i(r)||r.type==CKEDITOR.NODE_ELEMENT&&r.isBlockBoundary())continue;break}if(!o)break;s++}for(a.moveToBookmark(n.shift());s--;)r=e[++t],r.moveToBookmark(n.shift()),a.setEnd(r.endContainer,r.endOffset)}return a}}},createBookmarks:function(e){for(var i,n=[],o=0;o<this.length;o++){n.push(i=this[o].createBookmark(e,!0));for(var a=o+1;a<this.length;a++)this[a]=t(i,this[a]),this[a]=t(i,this[a],!0)}return n},createBookmarks2:function(t){for(var e=[],i=0;i<this.length;i++)e.push(this[i].createBookmark2(t));return e},moveToBookmarks:function(t){for(var e=0;e<this.length;e++)this[e].moveToBookmark(t[e])}}}(),function(){function t(){return CKEDITOR.getUrl(CKEDITOR.skinName.split(",")[1]||"skins/"+CKEDITOR.skinName.split(",")[0]+"/")}function e(e){var i=CKEDITOR.skin["ua_"+e],n=CKEDITOR.env;if(i)for(var o,i=i.split(",").sort(function(t,e){return t>e?-1:1}),a=0;a<i.length;a++)if(o=i[a],n.ie&&(o.replace(/^ie/,"")==n.version||n.quirks&&"iequirks"==o)&&(o="ie"),n[o]){e+="_"+i[a];break}return CKEDITOR.getUrl(t()+e+".css")}function i(t,i){a[t]||(CKEDITOR.document.appendStyleSheet(e(t)),a[t]=1),i&&i()}function n(t){var e=t.getById(r);return e||(e=t.getHead().append("style"),e.setAttribute("id",r),e.setAttribute("type","text/css")),e}function o(t,e,i){var n,o,a;if(CKEDITOR.env.webkit)for(e=e.split("}").slice(0,-1),o=0;o<e.length;o++)e[o]=e[o].split("{");for(var r=0;r<t.length;r++)if(CKEDITOR.env.webkit)for(o=0;o<e.length;o++){for(a=e[o][1],n=0;n<i.length;n++)a=a.replace(i[n][0],i[n][1]);t[r].$.sheet.addRule(e[o][0],a)}else{for(a=e,n=0;n<i.length;n++)a=a.replace(i[n][0],i[n][1]);CKEDITOR.env.ie&&11>CKEDITOR.env.version?t[r].$.styleSheet.cssText+=a:t[r].$.innerHTML+=a}}var a={};CKEDITOR.skin={path:t,loadPart:function(e,n){CKEDITOR.skin.name!=CKEDITOR.skinName.split(",")[0]?CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(t()+"skin.js"),function(){i(e,n)}):i(e,n)},getPath:function(t){return CKEDITOR.getUrl(e(t))},icons:{},addIcon:function(t,e,i,n){t=t.toLowerCase(),this.icons[t]||(this.icons[t]={path:e,offset:i||0,bgsize:n||"16px"})},getIconStyle:function(t,e,i,n,o){var a;return t&&(t=t.toLowerCase(),e&&(a=this.icons[t+"-rtl"]),a||(a=this.icons[t])),t=i||a&&a.path||"",n=n||a&&a.offset,o=o||a&&a.bgsize||"16px",t&&(t=t.replace(/'/g,"\\'")),t&&"background-image:url('"+CKEDITOR.getUrl(t)+"');background-position:0 "+n+"px;background-size:"+o+";"}},CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{getUiColor:function(){return this.uiColor},setUiColor:function(t){var e=n(CKEDITOR.document);return(this.setUiColor=function(t){this.uiColor=t;var i=CKEDITOR.skin.chameleon,n="",a="";"function"==typeof i&&(n=i(this,"editor"),a=i(this,"panel")),t=[[l,t]],o([e],n,t),o(s,a,t)}).call(this,t)}});var r="cke_ui_color",s=[],l=/\$color/g;CKEDITOR.on("instanceLoaded",function(t){if(!CKEDITOR.env.ie||!CKEDITOR.env.quirks){var e=t.editor;t=function(t){if(t=(t.data[0]||t.data).element.getElementsByTag("iframe").getItem(0).getFrameDocument(),!t.getById("cke_ui_color")){t=n(t),s.push(t);var i=e.getUiColor();i&&o([t],CKEDITOR.skin.chameleon(e,"panel"),[[l,i]])}},e.on("panelShow",t),e.on("menuShow",t),e.config.uiColor&&e.setUiColor(e.config.uiColor)}})}(),function(){if(CKEDITOR.env.webkit)CKEDITOR.env.hc=!1;else{var t=CKEDITOR.dom.element.createFromHtml('<div style="width:0;height:0;position:absolute;left:-10000px;border:1px solid;border-color:red blue"></div>',CKEDITOR.document);t.appendTo(CKEDITOR.document.getHead());try{var e=t.getComputedStyle("border-top-color"),i=t.getComputedStyle("border-right-color");CKEDITOR.env.hc=!(!e||e!=i)}catch(t){CKEDITOR.env.hc=!1}t.remove()}if(CKEDITOR.env.hc&&(CKEDITOR.env.cssClass+=" cke_hc"),CKEDITOR.document.appendStyleText(".cke{visibility:hidden;}"),CKEDITOR.status="loaded",CKEDITOR.fireOnce("loaded"),t=CKEDITOR._.pending)for(delete CKEDITOR._.pending,e=0;e<t.length;e++)CKEDITOR.editor.prototype.constructor.apply(t[e][0],t[e][1]),CKEDITOR.add(t[e][0])}(),CKEDITOR.skin.name="moono-lisa",CKEDITOR.skin.ua_editor="ie,iequirks,ie8,gecko",CKEDITOR.skin.ua_dialog="ie,iequirks,ie8",CKEDITOR.skin.chameleon=function(){var t=function(){return function(t,e){for(var i=t.match(/[^#]./g),n=0;3>n;n++){var o,a=n;o=parseInt(i[n],16),o=("0"+(0>e?0|o*(1+e):0|o+(255-o)*e).toString(16)).slice(-2),i[a]=o}return"#"+i.join("")}}(),e={editor:new CKEDITOR.template("{id}.cke_chrome [border-color:{defaultBorder};] {id} .cke_top [ background-color:{defaultBackground};border-bottom-color:{defaultBorder};] {id} .cke_bottom [background-color:{defaultBackground};border-top-color:{defaultBorder};] {id} .cke_resizer [border-right-color:{ckeResizer}] {id} .cke_dialog_title [background-color:{defaultBackground};border-bottom-color:{defaultBorder};] {id} .cke_dialog_footer [background-color:{defaultBackground};outline-color:{defaultBorder};] {id} .cke_dialog_tab [background-color:{dialogTab};border-color:{defaultBorder};] {id} .cke_dialog_tab:hover [background-color:{lightBackground};] {id} .cke_dialog_contents [border-top-color:{defaultBorder};] {id} .cke_dialog_tab_selected, {id} .cke_dialog_tab_selected:hover [background:{dialogTabSelected};border-bottom-color:{dialogTabSelectedBorder};] {id} .cke_dialog_body [background:{dialogBody};border-color:{defaultBorder};] {id} a.cke_button_off:hover,{id} a.cke_button_off:focus,{id} a.cke_button_off:active [background-color:{darkBackground};border-color:{toolbarElementsBorder};] {id} .cke_button_on [background-color:{ckeButtonOn};border-color:{toolbarElementsBorder};] {id} .cke_toolbar_separator,{id} .cke_toolgroup a.cke_button:last-child:after,{id} .cke_toolgroup a.cke_button.cke_button_disabled:hover:last-child:after [background-color: {toolbarElementsBorder};border-color: {toolbarElementsBorder};] {id} a.cke_combo_button:hover,{id} a.cke_combo_button:focus,{id} .cke_combo_on a.cke_combo_button [border-color:{toolbarElementsBorder};background-color:{darkBackground};] {id} .cke_combo:after [border-color:{toolbarElementsBorder};] {id} .cke_path_item [color:{elementsPathColor};] {id} a.cke_path_item:hover,{id} a.cke_path_item:focus,{id} a.cke_path_item:active [background-color:{darkBackground};] {id}.cke_panel [border-color:{defaultBorder};] "),panel:new CKEDITOR.template(".cke_panel_grouptitle [background-color:{lightBackground};border-color:{defaultBorder};] .cke_menubutton_icon [background-color:{menubuttonIcon};] .cke_menubutton:hover,.cke_menubutton:focus,.cke_menubutton:active [background-color:{menubuttonHover};] .cke_menubutton:hover .cke_menubutton_icon, .cke_menubutton:focus .cke_menubutton_icon, .cke_menubutton:active .cke_menubutton_icon [background-color:{menubuttonIconHover};] .cke_menubutton_disabled:hover .cke_menubutton_icon,.cke_menubutton_disabled:focus .cke_menubutton_icon,.cke_menubutton_disabled:active .cke_menubutton_icon [background-color:{menubuttonIcon};] .cke_menuseparator [background-color:{menubuttonIcon};] a:hover.cke_colorbox, a:active.cke_colorbox [border-color:{defaultBorder};] a:hover.cke_colorauto, a:hover.cke_colormore, a:active.cke_colorauto, a:active.cke_colormore [background-color:{ckeColorauto};border-color:{defaultBorder};] ")};return function(i,n){var o=t(i.uiColor,.4),o={id:"."+i.id,defaultBorder:t(o,-.2),toolbarElementsBorder:t(o,-.25),defaultBackground:o,lightBackground:t(o,.8),darkBackground:t(o,-.15),ckeButtonOn:t(o,.4),ckeResizer:t(o,-.4),ckeColorauto:t(o,.8),dialogBody:t(o,.7),dialogTab:t(o,.65),dialogTabSelected:"#FFF",dialogTabSelectedBorder:"#FFF",elementsPathColor:t(o,-.6),menubuttonHover:t(o,.1),menubuttonIcon:t(o,.5),menubuttonIconHover:t(o,.3)};return e[n].output(o).replace(/\[/g,"{").replace(/\]/g,"}")}}(),CKEDITOR.plugins.add("dialogui",{onLoad:function(){var t=function(t){this._||(this._={}),this._["default"]=this._.initValue=t["default"]||"",this._.required=t.required||!1;for(var e=[this._],i=1;i<arguments.length;i++)e.push(arguments[i]);return e.push(!0),CKEDITOR.tools.extend.apply(CKEDITOR.tools,e),this._},e={build:function(t,e,i){return new CKEDITOR.ui.dialog.textInput(t,e,i)}},i={build:function(t,e,i){return new CKEDITOR.ui.dialog[e.type](t,e,i)}},n={isChanged:function(){return this.getValue()!=this.getInitValue()},reset:function(t){this.setValue(this.getInitValue(),t)},setInitValue:function(){this._.initValue=this.getValue()},resetInitValue:function(){this._.initValue=this._["default"]},getInitValue:function(){return this._.initValue}},o=CKEDITOR.tools.extend({},CKEDITOR.ui.dialog.uiElement.prototype.eventProcessors,{onChange:function(t,e){this._.domOnChangeRegistered||(t.on("load",function(){this.getInputElement().on("change",function(){t.parts.dialog.isVisible()&&this.fire("change",{value:this.getValue()})},this)},this),this._.domOnChangeRegistered=!0),this.on("change",e)}},!0),a=/^on([A-Z]\w+)/,r=function(t){for(var e in t)(a.test(e)||"title"==e||"type"==e)&&delete t[e];return t},s=function(t){t=t.data.getKeystroke(),t==CKEDITOR.SHIFT+CKEDITOR.ALT+36?this.setDirectionMarker("ltr"):t==CKEDITOR.SHIFT+CKEDITOR.ALT+35&&this.setDirectionMarker("rtl")};CKEDITOR.tools.extend(CKEDITOR.ui.dialog,{labeledElement:function(e,i,n,o){if(!(4>arguments.length)){var a=t.call(this,i);a.labelId=CKEDITOR.tools.getNextId()+"_label",this._.children=[];var r={role:i.role||"presentation"};i.includeLabel&&(r["aria-labelledby"]=a.labelId),CKEDITOR.ui.dialog.uiElement.call(this,e,i,n,"div",null,r,function(){var t=[],n=i.required?" cke_required":"";return"horizontal"!=i.labelLayout?t.push('<label class="cke_dialog_ui_labeled_label'+n+'" ',' id="'+a.labelId+'"',a.inputId?' for="'+a.inputId+'"':"",(i.labelStyle?' style="'+i.labelStyle+'"':"")+">",i.label,"</label>",'<div class="cke_dialog_ui_labeled_content"',i.controlStyle?' style="'+i.controlStyle+'"':"",' role="presentation">',o.call(this,e,i),"</div>"):(n={type:"hbox",widths:i.widths,padding:0,children:[{type:"html",html:'<label class="cke_dialog_ui_labeled_label'+n+'" id="'+a.labelId+'" for="'+a.inputId+'"'+(i.labelStyle?' style="'+i.labelStyle+'"':"")+">"+CKEDITOR.tools.htmlEncode(i.label)+"</label>"},{type:"html",html:'<span class="cke_dialog_ui_labeled_content"'+(i.controlStyle?' style="'+i.controlStyle+'"':"")+">"+o.call(this,e,i)+"</span>"}]},CKEDITOR.dialog._.uiElementBuilders.hbox.build(e,n,t)),t.join("")})}},textInput:function(e,i,n){if(!(3>arguments.length)){t.call(this,i);var o=this._.inputId=CKEDITOR.tools.getNextId()+"_textInput",a={"class":"cke_dialog_ui_input_"+i.type,id:o,type:i.type};i.validate&&(this.validate=i.validate),i.maxLength&&(a.maxlength=i.maxLength),i.size&&(a.size=i.size),i.inputStyle&&(a.style=i.inputStyle);var r=this,l=!1;e.on("load",function(){r.getInputElement().on("keydown",function(t){13==t.data.getKeystroke()&&(l=!0)}),r.getInputElement().on("keyup",function(t){13==t.data.getKeystroke()&&l&&(e.getButton("ok")&&setTimeout(function(){e.getButton("ok").click()},0),l=!1),r.bidi&&s.call(r,t)},null,null,1e3)}),CKEDITOR.ui.dialog.labeledElement.call(this,e,i,n,function(){var t=['<div class="cke_dialog_ui_input_',i.type,'" role="presentation"'];i.width&&t.push('style="width:'+i.width+'" '),t.push("><input "),a["aria-labelledby"]=this._.labelId,this._.required&&(a["aria-required"]=this._.required);for(var e in a)t.push(e+'="'+a[e]+'" ');return t.push(" /></div>"),t.join("")})}},textarea:function(e,i,n){if(!(3>arguments.length)){t.call(this,i);var o=this,a=this._.inputId=CKEDITOR.tools.getNextId()+"_textarea",r={};i.validate&&(this.validate=i.validate),r.rows=i.rows||5,r.cols=i.cols||20,r["class"]="cke_dialog_ui_input_textarea "+(i["class"]||""),"undefined"!=typeof i.inputStyle&&(r.style=i.inputStyle),i.dir&&(r.dir=i.dir),o.bidi&&e.on("load",function(){o.getInputElement().on("keyup",s)},o),CKEDITOR.ui.dialog.labeledElement.call(this,e,i,n,function(){r["aria-labelledby"]=this._.labelId,this._.required&&(r["aria-required"]=this._.required);var t,e=['<div class="cke_dialog_ui_input_textarea" role="presentation"><textarea id="',a,'" '];for(t in r)e.push(t+'="'+CKEDITOR.tools.htmlEncode(r[t])+'" ');return e.push(">",CKEDITOR.tools.htmlEncode(o._["default"]),"</textarea></div>"),e.join("")})}},checkbox:function(e,i,n){if(!(3>arguments.length)){var o=t.call(this,i,{"default":!!i["default"]});i.validate&&(this.validate=i.validate),CKEDITOR.ui.dialog.uiElement.call(this,e,i,n,"span",null,null,function(){var t=CKEDITOR.tools.extend({},i,{id:i.id?i.id+"_checkbox":CKEDITOR.tools.getNextId()+"_checkbox"},!0),n=[],a=CKEDITOR.tools.getNextId()+"_label",s={"class":"cke_dialog_ui_checkbox_input",type:"checkbox","aria-labelledby":a};return r(t),i["default"]&&(s.checked="checked"),"undefined"!=typeof t.inputStyle&&(t.style=t.inputStyle),o.checkbox=new CKEDITOR.ui.dialog.uiElement(e,t,n,"input",null,s),n.push(' <label id="',a,'" for="',s.id,'"'+(i.labelStyle?' style="'+i.labelStyle+'"':"")+">",CKEDITOR.tools.htmlEncode(i.label),"</label>"),n.join("")})}},radio:function(e,i,n){if(!(3>arguments.length)){t.call(this,i),
this._["default"]||(this._["default"]=this._.initValue=i.items[0][1]),i.validate&&(this.validate=i.validate);var o=[],a=this;i.role="radiogroup",i.includeLabel=!0,CKEDITOR.ui.dialog.labeledElement.call(this,e,i,n,function(){for(var t=[],n=[],s=(i.id?i.id:CKEDITOR.tools.getNextId())+"_radio",l=0;l<i.items.length;l++){var d=i.items[l],c=void 0!==d[2]?d[2]:d[0],h=void 0!==d[1]?d[1]:d[0],u=CKEDITOR.tools.getNextId()+"_radio_input",f=u+"_label",u=CKEDITOR.tools.extend({},i,{id:u,title:null,type:null},!0),c=CKEDITOR.tools.extend({},u,{title:c},!0),p={type:"radio","class":"cke_dialog_ui_radio_input",name:s,value:h,"aria-labelledby":f},m=[];a._["default"]==h&&(p.checked="checked"),r(u),r(c),"undefined"!=typeof u.inputStyle&&(u.style=u.inputStyle),u.keyboardFocusable=!0,o.push(new CKEDITOR.ui.dialog.uiElement(e,u,m,"input",null,p)),m.push(" "),new CKEDITOR.ui.dialog.uiElement(e,c,m,"label",null,{id:f,"for":p.id},d[0]),t.push(m.join(""))}return new CKEDITOR.ui.dialog.hbox(e,o,t,n),n.join("")}),this._.children=o}},button:function(e,i,n){if(arguments.length){"function"==typeof i&&(i=i(e.getParentEditor())),t.call(this,i,{disabled:i.disabled||!1}),CKEDITOR.event.implementOn(this);var o=this;e.on("load",function(){var t=this.getElement();!function(){t.on("click",function(t){o.click(),t.data.preventDefault()}),t.on("keydown",function(t){t.data.getKeystroke()in{32:1}&&(o.click(),t.data.preventDefault())})}(),t.unselectable()},this);var a=CKEDITOR.tools.extend({},i);delete a.style;var r=CKEDITOR.tools.getNextId()+"_label";CKEDITOR.ui.dialog.uiElement.call(this,e,a,n,"a",null,{style:i.style,href:"javascript:void(0)",title:i.label,hidefocus:"true","class":i["class"],role:"button","aria-labelledby":r},'<span id="'+r+'" class="cke_dialog_ui_button">'+CKEDITOR.tools.htmlEncode(i.label)+"</span>")}},select:function(e,i,n){if(!(3>arguments.length)){var o=t.call(this,i);i.validate&&(this.validate=i.validate),o.inputId=CKEDITOR.tools.getNextId()+"_select",CKEDITOR.ui.dialog.labeledElement.call(this,e,i,n,function(){var t=CKEDITOR.tools.extend({},i,{id:i.id?i.id+"_select":CKEDITOR.tools.getNextId()+"_select"},!0),n=[],a=[],s={id:o.inputId,"class":"cke_dialog_ui_input_select","aria-labelledby":this._.labelId};n.push('<div class="cke_dialog_ui_input_',i.type,'" role="presentation"'),i.width&&n.push('style="width:'+i.width+'" '),n.push(">"),void 0!==i.size&&(s.size=i.size),void 0!==i.multiple&&(s.multiple=i.multiple),r(t);for(var l,d=0;d<i.items.length&&(l=i.items[d]);d++)a.push('<option value="',CKEDITOR.tools.htmlEncode(void 0!==l[1]?l[1]:l[0]).replace(/"/g,"&quot;"),'" /> ',CKEDITOR.tools.htmlEncode(l[0]));return"undefined"!=typeof t.inputStyle&&(t.style=t.inputStyle),o.select=new CKEDITOR.ui.dialog.uiElement(e,t,n,"select",null,s,a.join("")),n.push("</div>"),n.join("")})}},file:function(e,i,n){if(!(3>arguments.length)){void 0===i["default"]&&(i["default"]="");var o=CKEDITOR.tools.extend(t.call(this,i),{definition:i,buttons:[]});i.validate&&(this.validate=i.validate),e.on("load",function(){CKEDITOR.document.getById(o.frameId).getParent().addClass("cke_dialog_ui_input_file")}),CKEDITOR.ui.dialog.labeledElement.call(this,e,i,n,function(){o.frameId=CKEDITOR.tools.getNextId()+"_fileInput";var t=['<iframe frameborder="0" allowtransparency="0" class="cke_dialog_ui_input_file" role="presentation" id="',o.frameId,'" title="',i.label,'" src="javascript:void('];return t.push(CKEDITOR.env.ie?"(function(){"+encodeURIComponent("document.open();("+CKEDITOR.tools.fixDomain+")();document.close();")+"})()":"0"),t.push(')"></iframe>'),t.join("")})}},fileButton:function(e,i,n){var o=this;if(!(3>arguments.length)){t.call(this,i),i.validate&&(this.validate=i.validate);var a=CKEDITOR.tools.extend({},i),r=a.onClick;a.className=(a.className?a.className+" ":"")+"cke_dialog_ui_button",a.onClick=function(t){var n=i["for"];r&&!1===r.call(this,t)||(e.getContentElement(n[0],n[1]).submit(),this.disable())},e.on("load",function(){e.getContentElement(i["for"][0],i["for"][1])._.buttons.push(o)}),CKEDITOR.ui.dialog.button.call(this,e,a,n)}},html:function(){var t=/^\s*<[\w:]+\s+([^>]*)?>/,e=/^(\s*<[\w:]+(?:\s+[^>]*)?)((?:.|\r|\n)+)$/,i=/\/$/;return function(n,o,a){if(!(3>arguments.length)){var r=[],s=o.html;"<"!=s.charAt(0)&&(s="<span>"+s+"</span>");var l=o.focus;if(l){var d=this.focus;this.focus=function(){("function"==typeof l?l:d).call(this),this.fire("focus")},o.isFocusable&&(this.isFocusable=this.isFocusable),this.keyboardFocusable=!0}CKEDITOR.ui.dialog.uiElement.call(this,n,o,r,"span",null,null,""),r=r.join("").match(t),s=s.match(e)||["","",""],i.test(s[1])&&(s[1]=s[1].slice(0,-1),s[2]="/"+s[2]),a.push([s[1]," ",r[1]||"",s[2]].join(""))}}}(),fieldset:function(t,e,i,n,o){var a=o.label;this._={children:e},CKEDITOR.ui.dialog.uiElement.call(this,t,o,n,"fieldset",null,null,function(){var t=[];a&&t.push("<legend"+(o.labelStyle?' style="'+o.labelStyle+'"':"")+">"+a+"</legend>");for(var e=0;e<i.length;e++)t.push(i[e]);return t.join("")})}},!0),CKEDITOR.ui.dialog.html.prototype=new CKEDITOR.ui.dialog.uiElement,CKEDITOR.ui.dialog.labeledElement.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{setLabel:function(t){var e=CKEDITOR.document.getById(this._.labelId);return 1>e.getChildCount()?new CKEDITOR.dom.text(t,CKEDITOR.document).appendTo(e):e.getChild(0).$.nodeValue=t,this},getLabel:function(){var t=CKEDITOR.document.getById(this._.labelId);return!t||1>t.getChildCount()?"":t.getChild(0).getText()},eventProcessors:o},!0),CKEDITOR.ui.dialog.button.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{click:function(){return!this._.disabled&&this.fire("click",{dialog:this._.dialog})},enable:function(){this._.disabled=!1;var t=this.getElement();t&&t.removeClass("cke_disabled")},disable:function(){this._.disabled=!0,this.getElement().addClass("cke_disabled")},isVisible:function(){return this.getElement().getFirst().isVisible()},isEnabled:function(){return!this._.disabled},eventProcessors:CKEDITOR.tools.extend({},CKEDITOR.ui.dialog.uiElement.prototype.eventProcessors,{onClick:function(t,e){this.on("click",function(){e.apply(this,arguments)})}},!0),accessKeyUp:function(){this.click()},accessKeyDown:function(){this.focus()},keyboardFocusable:!0},!0),CKEDITOR.ui.dialog.textInput.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement,{getInputElement:function(){return CKEDITOR.document.getById(this._.inputId)},focus:function(){var t=this.selectParentTab();setTimeout(function(){var e=t.getInputElement();e&&e.$.focus()},0)},select:function(){var t=this.selectParentTab();setTimeout(function(){var e=t.getInputElement();e&&(e.$.focus(),e.$.select())},0)},accessKeyUp:function(){this.select()},setValue:function(t){if(this.bidi){var e=t&&t.charAt(0);(e="\u202a"==e?"ltr":"\u202b"==e?"rtl":null)&&(t=t.slice(1)),this.setDirectionMarker(e)}return t||(t=""),CKEDITOR.ui.dialog.uiElement.prototype.setValue.apply(this,arguments)},getValue:function(){var t=CKEDITOR.ui.dialog.uiElement.prototype.getValue.call(this);if(this.bidi&&t){var e=this.getDirectionMarker();e&&(t=("ltr"==e?"\u202a":"\u202b")+t)}return t},setDirectionMarker:function(t){var e=this.getInputElement();t?e.setAttributes({dir:t,"data-cke-dir-marker":t}):this.getDirectionMarker()&&e.removeAttributes(["dir","data-cke-dir-marker"])},getDirectionMarker:function(){return this.getInputElement().data("cke-dir-marker")},keyboardFocusable:!0},n,!0),CKEDITOR.ui.dialog.textarea.prototype=new CKEDITOR.ui.dialog.textInput,CKEDITOR.ui.dialog.select.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement,{getInputElement:function(){return this._.select.getElement()},add:function(t,e,i){var n=new CKEDITOR.dom.element("option",this.getDialog().getParentEditor().document),o=this.getInputElement().$;return n.$.text=t,n.$.value=void 0===e||null===e?t:e,void 0===i||null===i?CKEDITOR.env.ie?o.add(n.$):o.add(n.$,null):o.add(n.$,i),this},remove:function(t){return this.getInputElement().$.remove(t),this},clear:function(){for(var t=this.getInputElement().$;0<t.length;)t.remove(0);return this},keyboardFocusable:!0},n,!0),CKEDITOR.ui.dialog.checkbox.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{getInputElement:function(){return this._.checkbox.getElement()},setValue:function(t,e){this.getInputElement().$.checked=t,!e&&this.fire("change",{value:t})},getValue:function(){return this.getInputElement().$.checked},accessKeyUp:function(){this.setValue(!this.getValue())},eventProcessors:{onChange:function(t,e){return!CKEDITOR.env.ie||8<CKEDITOR.env.version?o.onChange.apply(this,arguments):(t.on("load",function(){var t=this._.checkbox.getElement();t.on("propertychange",function(e){e=e.data.$,"checked"==e.propertyName&&this.fire("change",{value:t.$.checked})},this)},this),this.on("change",e),null)}},keyboardFocusable:!0},n,!0),CKEDITOR.ui.dialog.radio.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{setValue:function(t,e){for(var i,n=this._.children,o=0;o<n.length&&(i=n[o]);o++)i.getElement().$.checked=i.getValue()==t;!e&&this.fire("change",{value:t})},getValue:function(){for(var t=this._.children,e=0;e<t.length;e++)if(t[e].getElement().$.checked)return t[e].getValue();return null},accessKeyUp:function(){var t,e=this._.children;for(t=0;t<e.length;t++)if(e[t].getElement().$.checked)return void e[t].getElement().focus();e[0].getElement().focus()},eventProcessors:{onChange:function(t,e){return!CKEDITOR.env.ie||8<CKEDITOR.env.version?o.onChange.apply(this,arguments):(t.on("load",function(){for(var t=this._.children,e=this,i=0;i<t.length;i++)t[i].getElement().on("propertychange",function(t){t=t.data.$,"checked"==t.propertyName&&this.$.checked&&e.fire("change",{value:this.getAttribute("value")})})},this),this.on("change",e),null)}}},n,!0),CKEDITOR.ui.dialog.file.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement,n,{getInputElement:function(){var t=CKEDITOR.document.getById(this._.frameId).getFrameDocument();return 0<t.$.forms.length?new CKEDITOR.dom.element(t.$.forms[0].elements[0]):this.getElement()},submit:function(){return this.getInputElement().getParent().$.submit(),this},getAction:function(){return this.getInputElement().getParent().$.action},registerEvents:function(t){var e,i,n=/^on([A-Z]\w+)/,o=function(t,e,i,n){t.on("formLoaded",function(){t.getInputElement().on(i,n,t)})};for(i in t)(e=i.match(n))&&(this.eventProcessors[i]?this.eventProcessors[i].call(this,this._.dialog,t[i]):o(this,this._.dialog,e[1].toLowerCase(),t[i]));return this},reset:function(){function t(){i.$.open();var t="";n.size&&(t=n.size-(CKEDITOR.env.ie?7:0));var d=e.frameId+"_input";for(i.$.write(['<html dir="'+s+'" lang="'+l+'"><head><title></title></head><body style="margin: 0; overflow: hidden; background: transparent;">','<form enctype="multipart/form-data" method="POST" dir="'+s+'" lang="'+l+'" action="',CKEDITOR.tools.htmlEncode(n.action),'"><label id="',e.labelId,'" for="',d,'" style="display:none">',CKEDITOR.tools.htmlEncode(n.label),'</label><input style="width:100%" id="',d,'" aria-labelledby="',e.labelId,'" type="file" name="',CKEDITOR.tools.htmlEncode(n.id||"cke_upload"),'" size="',CKEDITOR.tools.htmlEncode(0<t?t:""),'" /></form></body></html><script>',CKEDITOR.env.ie?"("+CKEDITOR.tools.fixDomain+")();":"","window.parent.CKEDITOR.tools.callFunction("+a+");","window.onbeforeunload = function() {window.parent.CKEDITOR.tools.callFunction("+r+")}","</script>"].join("")),i.$.close(),t=0;t<o.length;t++)o[t].enable()}var e=this._,i=CKEDITOR.document.getById(e.frameId).getFrameDocument(),n=e.definition,o=e.buttons,a=this.formLoadedNumber,r=this.formUnloadNumber,s=e.dialog._.editor.lang.dir,l=e.dialog._.editor.langCode;a||(a=this.formLoadedNumber=CKEDITOR.tools.addFunction(function(){this.fire("formLoaded")},this),r=this.formUnloadNumber=CKEDITOR.tools.addFunction(function(){this.getInputElement().clearCustomData()},this),this.getDialog()._.editor.on("destroy",function(){CKEDITOR.tools.removeFunction(a),CKEDITOR.tools.removeFunction(r)})),CKEDITOR.env.gecko?setTimeout(t,500):t()},getValue:function(){return this.getInputElement().$.value||""},setInitValue:function(){this._.initValue=""},eventProcessors:{onChange:function(t,e){this._.domOnChangeRegistered||(this.on("formLoaded",function(){this.getInputElement().on("change",function(){this.fire("change",{value:this.getValue()})},this)},this),this._.domOnChangeRegistered=!0),this.on("change",e)}},keyboardFocusable:!0},!0),CKEDITOR.ui.dialog.fileButton.prototype=new CKEDITOR.ui.dialog.button,CKEDITOR.ui.dialog.fieldset.prototype=CKEDITOR.tools.clone(CKEDITOR.ui.dialog.hbox.prototype),CKEDITOR.dialog.addUIElement("text",e),CKEDITOR.dialog.addUIElement("password",e),CKEDITOR.dialog.addUIElement("textarea",i),CKEDITOR.dialog.addUIElement("checkbox",i),CKEDITOR.dialog.addUIElement("radio",i),CKEDITOR.dialog.addUIElement("button",i),CKEDITOR.dialog.addUIElement("select",i),CKEDITOR.dialog.addUIElement("file",i),CKEDITOR.dialog.addUIElement("fileButton",i),CKEDITOR.dialog.addUIElement("html",i),CKEDITOR.dialog.addUIElement("fieldset",{build:function(t,e,i){for(var n,o=e.children,a=[],r=[],s=0;s<o.length&&(n=o[s]);s++){var l=[];a.push(l),r.push(CKEDITOR.dialog._.uiElementBuilders[n.type].build(t,n,l))}return new CKEDITOR.ui.dialog[e.type](t,r,a,i,e)}})}}),CKEDITOR.DIALOG_RESIZE_NONE=0,CKEDITOR.DIALOG_RESIZE_WIDTH=1,CKEDITOR.DIALOG_RESIZE_HEIGHT=2,CKEDITOR.DIALOG_RESIZE_BOTH=3,CKEDITOR.DIALOG_STATE_IDLE=1,CKEDITOR.DIALOG_STATE_BUSY=2,function(){function t(){for(var t=this._.tabIdList.length,e=CKEDITOR.tools.indexOf(this._.tabIdList,this._.currentTabId)+t,i=e-1;i>e-t;i--)if(this._.tabs[this._.tabIdList[i%t]][0].$.offsetHeight)return this._.tabIdList[i%t];return null}function e(){for(var t=this._.tabIdList.length,e=CKEDITOR.tools.indexOf(this._.tabIdList,this._.currentTabId),i=e+1;i<e+t;i++)if(this._.tabs[this._.tabIdList[i%t]][0].$.offsetHeight)return this._.tabIdList[i%t];return null}function i(t,e){for(var i=t.$.getElementsByTagName("input"),n=0,o=i.length;n<o;n++){var a=new CKEDITOR.dom.element(i[n]);"text"==a.getAttribute("type").toLowerCase()&&(e?(a.setAttribute("value",a.getCustomData("fake_value")||""),a.removeCustomData("fake_value")):(a.setCustomData("fake_value",a.getAttribute("value")),a.setAttribute("value","")))}}function n(t,e){var i=this.getInputElement();i&&(t?i.removeAttribute("aria-invalid"):i.setAttribute("aria-invalid",!0)),t||(this.select?this.select():this.focus()),e&&alert(e),this.fire("validated",{valid:t,msg:e})}function o(){var t=this.getInputElement();t&&t.removeAttribute("aria-invalid")}function a(t){var e=CKEDITOR.dom.element.createFromHtml(CKEDITOR.addTemplate("dialog",m).output({id:CKEDITOR.tools.getNextNumber(),editorId:t.id,langDir:t.lang.dir,langCode:t.langCode,editorDialogClass:"cke_editor_"+t.name.replace(/\./g,"\\.")+"_dialog",closeTitle:t.lang.common.close,hidpi:CKEDITOR.env.hidpi?"cke_hidpi":""})),i=e.getChild([0,0,0,0,0]),n=i.getChild(0),o=i.getChild(1);return t.plugins.clipboard&&CKEDITOR.plugins.clipboard.preventDefaultDropOnElement(i),!CKEDITOR.env.ie||CKEDITOR.env.quirks||CKEDITOR.env.edge||(t="javascript:void(function(){"+encodeURIComponent("document.open();("+CKEDITOR.tools.fixDomain+")();document.close();")+"}())",CKEDITOR.dom.element.createFromHtml('<iframe frameBorder="0" class="cke_iframe_shim" src="'+t+'" tabIndex="-1"></iframe>').appendTo(i.getParent())),n.unselectable(),o.unselectable(),{element:e,parts:{dialog:e.getChild(0),title:n,close:o,tabs:i.getChild(2),contents:i.getChild([3,0,0,0]),footer:i.getChild([3,0,1,0])}}}function r(t,e,i){this.element=e,this.focusIndex=i,this.tabIndex=0,this.isFocusable=function(){return!e.getAttribute("disabled")&&e.isVisible()},this.focus=function(){t._.currentFocusIndex=this.focusIndex,this.element.focus()},e.on("keydown",function(t){t.data.getKeystroke()in{32:1,13:1}&&this.fire("click")}),e.on("focus",function(){this.fire("mouseover")}),e.on("blur",function(){this.fire("mouseout")})}function s(t){function e(){t.layout()}var i=CKEDITOR.document.getWindow();i.on("resize",e),t.on("hide",function(){i.removeListener("resize",e)})}function l(t,e){this._={dialog:t},CKEDITOR.tools.extend(this,e)}function d(t){function e(e){var i=t.getSize(),l=CKEDITOR.document.getWindow().getViewPaneSize(),d=e.data.$.screenX,c=e.data.$.screenY,h=d-n.x,u=c-n.y;n={x:d,y:c},o.x+=h,o.y+=u,t.move(o.x+s[3]<r?-s[3]:o.x-s[1]>l.width-i.width-r?l.width-i.width+("rtl"==a.lang.dir?0:s[1]):o.x,o.y+s[0]<r?-s[0]:o.y-s[2]>l.height-i.height-r?l.height-i.height+s[2]:o.y,1),e.data.preventDefault()}function i(){if(CKEDITOR.document.removeListener("mousemove",e),CKEDITOR.document.removeListener("mouseup",i),CKEDITOR.env.ie6Compat){var t=y.getChild(0).getFrameDocument();t.removeListener("mousemove",e),t.removeListener("mouseup",i)}}var n=null,o=null,a=t.getParentEditor(),r=a.config.dialog_magnetDistance,s=CKEDITOR.skin.margins||[0,0,0,0];void 0===r&&(r=20),t.parts.title.on("mousedown",function(a){if(n={x:a.data.$.screenX,y:a.data.$.screenY},CKEDITOR.document.on("mousemove",e),CKEDITOR.document.on("mouseup",i),o=t.getPosition(),CKEDITOR.env.ie6Compat){var r=y.getChild(0).getFrameDocument();r.on("mousemove",e),r.on("mouseup",i)}a.data.preventDefault()},t)}function c(t){function e(e){var i="rtl"==h.lang.dir,c=d.width,u=d.height,f=c+(e.data.$.screenX-l.x)*(i?-1:1)*(t._.moved?1:2),p=u+(e.data.$.screenY-l.y)*(t._.moved?1:2),m=t._.element.getFirst(),m=i&&m.getComputedStyle("right"),g=t.getPosition();g.y+p>s.height&&(p=s.height-g.y),(i?m:g.x)+f>s.width&&(f=s.width-(i?m:g.x)),o!=CKEDITOR.DIALOG_RESIZE_WIDTH&&o!=CKEDITOR.DIALOG_RESIZE_BOTH||(c=Math.max(n.minWidth||0,f-a)),o!=CKEDITOR.DIALOG_RESIZE_HEIGHT&&o!=CKEDITOR.DIALOG_RESIZE_BOTH||(u=Math.max(n.minHeight||0,p-r)),t.resize(c,u),t._.moved||t.layout(),e.data.preventDefault()}function i(){if(CKEDITOR.document.removeListener("mouseup",i),CKEDITOR.document.removeListener("mousemove",e),c&&(c.remove(),c=null),CKEDITOR.env.ie6Compat){var t=y.getChild(0).getFrameDocument();t.removeListener("mouseup",i),t.removeListener("mousemove",e)}}var n=t.definition,o=n.resizable;if(o!=CKEDITOR.DIALOG_RESIZE_NONE){var a,r,s,l,d,c,h=t.getParentEditor(),u=CKEDITOR.tools.addFunction(function(n){d=t.getSize();var o=t.parts.contents;o.$.getElementsByTagName("iframe").length&&(c=CKEDITOR.dom.element.createFromHtml('<div class="cke_dialog_resize_cover" style="height: 100%; position: absolute; width: 100%;"></div>'),o.append(c)),r=d.height-t.parts.contents.getSize("height",!(CKEDITOR.env.gecko||CKEDITOR.env.ie&&CKEDITOR.env.quirks)),a=d.width-t.parts.contents.getSize("width",1),l={x:n.screenX,y:n.screenY},s=CKEDITOR.document.getWindow().getViewPaneSize(),CKEDITOR.document.on("mousemove",e),CKEDITOR.document.on("mouseup",i),CKEDITOR.env.ie6Compat&&(o=y.getChild(0).getFrameDocument(),o.on("mousemove",e),o.on("mouseup",i)),n.preventDefault&&n.preventDefault()});t.on("load",function(){var e="";o==CKEDITOR.DIALOG_RESIZE_WIDTH?e=" cke_resizer_horizontal":o==CKEDITOR.DIALOG_RESIZE_HEIGHT&&(e=" cke_resizer_vertical"),e=CKEDITOR.dom.element.createFromHtml('<div class="cke_resizer'+e+" cke_resizer_"+h.lang.dir+'" title="'+CKEDITOR.tools.htmlEncode(h.lang.common.resize)+'" onmousedown="CKEDITOR.tools.callFunction('+u+', event )">'+("ltr"==h.lang.dir?"\u25e2":"\u25e3")+"</div>"),t.parts.footer.append(e,1)}),h.on("destroy",function(){CKEDITOR.tools.removeFunction(u)})}}function h(t){t.data.preventDefault(1)}function u(t){var e=CKEDITOR.document.getWindow(),i=t.config,n=CKEDITOR.skinName||t.config.skin,o=i.dialog_backgroundCoverColor||("moono-lisa"==n?"black":"white"),n=i.dialog_backgroundCoverOpacity,a=i.baseFloatZIndex,i=CKEDITOR.tools.genKey(o,n,a),r=D[i];r?r.show():(a=['<div tabIndex="-1" style="position: ',CKEDITOR.env.ie6Compat?"absolute":"fixed","; z-index: ",a,"; top: 0px; left: 0px; ",CKEDITOR.env.ie6Compat?"":"background-color: "+o,'" class="cke_dialog_background_cover">'],CKEDITOR.env.ie6Compat&&(o="<html><body style=\\'background-color:"+o+";\\'></body></html>",a.push('<iframe hidefocus="true" frameborder="0" id="cke_dialog_background_iframe" src="javascript:'),a.push("void((function(){"+encodeURIComponent("document.open();("+CKEDITOR.tools.fixDomain+")();document.write( '"+o+"' );document.close();")+"})())"),a.push('" style="position:absolute;left:0;top:0;width:100%;height: 100%;filter: progid:DXImageTransform.Microsoft.Alpha(opacity=0)"></iframe>')),a.push("</div>"),r=CKEDITOR.dom.element.createFromHtml(a.join("")),r.setOpacity(void 0!==n?n:.5),r.on("keydown",h),r.on("keypress",h),r.on("keyup",h),r.appendTo(CKEDITOR.document.getBody()),D[i]=r),t.focusManager.add(r),y=r,t=function(){var t=e.getViewPaneSize();r.setStyles({width:t.width+"px",height:t.height+"px"})};var s=function(){var t=e.getScrollPosition(),i=CKEDITOR.dialog._.currentTop;if(r.setStyles({left:t.x+"px",top:t.y+"px"}),i)do{t=i.getPosition(),i.move(t.x,t.y)}while(i=i._.parentDialog)};if(C=t,e.on("resize",t),t(),CKEDITOR.env.mac&&CKEDITOR.env.webkit||r.focus(),CKEDITOR.env.ie6Compat){var l=function(){s(),arguments.callee.prevScrollHandler.apply(this,arguments)};e.$.setTimeout(function(){l.prevScrollHandler=window.onscroll||function(){},window.onscroll=l},0),s()}}function f(t){y&&(t.focusManager.remove(y),t=CKEDITOR.document.getWindow(),y.hide(),t.removeListener("resize",C),CKEDITOR.env.ie6Compat&&t.$.setTimeout(function(){window.onscroll=window.onscroll&&window.onscroll.prevScrollHandler||null},0),C=null)}var p=CKEDITOR.tools.cssLength,m='<div class="cke_reset_all {editorId} {editorDialogClass} {hidpi}" dir="{langDir}" lang="{langCode}" role="dialog" aria-labelledby="cke_dialog_title_{id}"><table class="cke_dialog '+CKEDITOR.env.cssClass+' cke_{langDir}" style="position:absolute" role="presentation"><tr><td role="presentation"><div class="cke_dialog_body" role="presentation"><div id="cke_dialog_title_{id}" class="cke_dialog_title" role="presentation"></div><a id="cke_dialog_close_button_{id}" class="cke_dialog_close_button" href="javascript:void(0)" title="{closeTitle}" role="button"><span class="cke_label">X</span></a><div id="cke_dialog_tabs_{id}" class="cke_dialog_tabs" role="tablist"></div><table class="cke_dialog_contents" role="presentation"><tr><td id="cke_dialog_contents_{id}" class="cke_dialog_contents_body" role="presentation"></td></tr><tr><td id="cke_dialog_footer_{id}" class="cke_dialog_footer" role="presentation"></td></tr></table></div></td></tr></table></div>';CKEDITOR.dialog=function(i,r){function s(){var t=D._.focusList;t.sort(function(t,e){return t.tabIndex!=e.tabIndex?e.tabIndex-t.tabIndex:t.focusIndex-e.focusIndex});for(var e=t.length,i=0;i<e;i++)t[i].focusIndex=i}function l(t){var e=D._.focusList;if(t=t||0,!(1>e.length)){var i=D._.currentFocusIndex;D._.tabBarMode&&0>t&&(i=0);try{e[i].getInputElement().$.blur()}catch(t){}var n=i,o=1<D._.pageCount;do{if(n+=t,o&&!D._.tabBarMode&&(n==e.length||-1==n))return D._.tabBarMode=!0,D._.tabs[D._.currentTabId][0].focus(),void(D._.currentFocusIndex=-1);if((n=(n+e.length)%e.length)==i)break}while(t&&!e[n].isFocusable());e[n].focus(),"text"==e[n].type&&e[n].select()}}function h(n){if(D==CKEDITOR.dialog._.currentTop){var o=n.data.getKeystroke(),a="rtl"==i.lang.dir,r=[37,38,39,40];if(f=p=0,9==o||o==CKEDITOR.SHIFT+9)l(o==CKEDITOR.SHIFT+9?-1:1),f=1;else if(o==CKEDITOR.ALT+121&&!D._.tabBarMode&&1<D.getPageCount())D._.tabBarMode=!0,D._.tabs[D._.currentTabId][0].focus(),D._.currentFocusIndex=-1,f=1;else if(-1!=CKEDITOR.tools.indexOf(r,o)&&D._.tabBarMode)o=-1!=CKEDITOR.tools.indexOf([a?39:37,38],o)?t.call(D):e.call(D),D.selectPage(o),D._.tabs[o][0].focus(),f=1;else if(13!=o&&32!=o||!D._.tabBarMode)if(13==o)o=n.data.getTarget(),o.is("a","button","select","textarea")||o.is("input")&&"button"==o.$.type||((o=this.getButton("ok"))&&CKEDITOR.tools.setTimeout(o.click,0,o),f=1),p=1;else{if(27!=o)return;(o=this.getButton("cancel"))?CKEDITOR.tools.setTimeout(o.click,0,o):!1!==this.fire("cancel",{hide:!0}).hide&&this.hide(),p=1}else this.selectPage(this._.currentTabId),this._.tabBarMode=!1,this._.currentFocusIndex=-1,l(1),f=1;u(n)}}function u(t){f?t.data.preventDefault(1):p&&t.data.stopPropagation()}var f,p,m=CKEDITOR.dialog._.dialogDefinitions[r],v=CKEDITOR.tools.clone(g),b=i.config.dialog_buttonsOrder||"OS",T=i.lang.dir,C={};if(("OS"==b&&CKEDITOR.env.mac||"rtl"==b&&"ltr"==T||"ltr"==b&&"rtl"==T)&&v.buttons.reverse(),m=CKEDITOR.tools.extend(m(i),v),m=CKEDITOR.tools.clone(m),m=new E(this,m),v=a(i),this._={editor:i,element:v.element,name:r,contentSize:{width:0,height:0},size:{width:0,height:0},contents:{},buttons:{},accessKeyMap:{},tabs:{},tabIdList:[],currentTabId:null,currentTabIndex:null,pageCount:0,lastTab:null,tabBarMode:!1,focusList:[],currentFocusIndex:0,hasFocus:!1},this.parts=v.parts,CKEDITOR.tools.setTimeout(function(){i.fire("ariaWidget",this.parts.contents)},0,this),v={position:CKEDITOR.env.ie6Compat?"absolute":"fixed",top:0,visibility:"hidden"},v["rtl"==T?"right":"left"]=0,this.parts.dialog.setStyles(v),CKEDITOR.event.call(this),this.definition=m=CKEDITOR.fire("dialogDefinition",{name:r,definition:m},i).definition,!("removeDialogTabs"in i._)&&i.config.removeDialogTabs){for(v=i.config.removeDialogTabs.split(";"),T=0;T<v.length;T++)if(b=v[T].split(":"),2==b.length){var y=b[0];C[y]||(C[y]=[]),C[y].push(b[1])}i._.removeDialogTabs=C}if(i._.removeDialogTabs&&(C=i._.removeDialogTabs[r]))for(T=0;T<C.length;T++)m.removeContents(C[T]);m.onLoad&&this.on("load",m.onLoad),m.onShow&&this.on("show",m.onShow),m.onHide&&this.on("hide",m.onHide),m.onOk&&this.on("ok",function(t){i.fire("saveSnapshot"),setTimeout(function(){i.fire("saveSnapshot")},0),!1===m.onOk.call(this,t)&&(t.data.hide=!1)}),this.state=CKEDITOR.DIALOG_STATE_IDLE,m.onCancel&&this.on("cancel",function(t){!1===m.onCancel.call(this,t)&&(t.data.hide=!1)});var D=this,I=function(t){var e,i=D._.contents;for(e in i)for(var n in i[e])if(t.call(this,i[e][n]))return};this.on("ok",function(t){I(function(e){if(e.validate){var i=e.validate(this),o="string"==typeof i||!1===i;return o&&(t.data.hide=!1,t.stop()),n.call(e,!o,"string"==typeof i?i:void 0),o}})},this,null,0),this.on("cancel",function(t){I(function(e){if(e.isChanged())return i.config.dialog_noConfirmCancel||confirm(i.lang.common.confirmCancel)||(t.data.hide=!1),!0})},this,null,0),this.parts.close.on("click",function(t){!1!==this.fire("cancel",{hide:!0}).hide&&this.hide(),t.data.preventDefault()},this),this.changeFocus=l;var O=this._.element;for(i.focusManager.add(O,1),this.on("show",function(){O.on("keydown",h,this),CKEDITOR.env.gecko&&O.on("keypress",u,this)}),this.on("hide",function(){O.removeListener("keydown",h),CKEDITOR.env.gecko&&O.removeListener("keypress",u),I(function(t){o.apply(t)})}),this.on("iframeAdded",function(t){new CKEDITOR.dom.document(t.data.iframe.$.contentWindow.document).on("keydown",h,this,null,0)}),this.on("show",function(){s();var t=1<D._.pageCount;i.config.dialog_startupFocusTab&&t?(D._.tabBarMode=!0,D._.tabs[D._.currentTabId][0].focus(),D._.currentFocusIndex=-1):this._.hasFocus||(this._.currentFocusIndex=t?-1:this._.focusList.length-1,m.onFocus?(t=m.onFocus.call(this))&&t.focus():l(1))},this,null,4294967295),CKEDITOR.env.ie6Compat&&this.on("load",function(){var t=this.getElement(),e=t.getFirst();e.remove(),e.appendTo(t)},this),d(this),c(this),new CKEDITOR.dom.text(m.title,CKEDITOR.document).appendTo(this.parts.title),T=0;T<m.contents.length;T++)(C=m.contents[T])&&this.addPage(C);for(this.parts.tabs.on("click",function(t){var e=t.data.getTarget();e.hasClass("cke_dialog_tab")&&(e=e.$.id,this.selectPage(e.substring(4,e.lastIndexOf("_"))),this._.tabBarMode&&(this._.tabBarMode=!1,this._.currentFocusIndex=-1,l(1)),t.data.preventDefault())},this),T=[],C=CKEDITOR.dialog._.uiElementBuilders.hbox.build(this,{type:"hbox",className:"cke_dialog_footer_buttons",widths:[],children:m.buttons},T).getChild(),this.parts.footer.setHtml(T.join("")),T=0;T<C.length;T++)this._.buttons[C[T].id]=C[T]},CKEDITOR.dialog.prototype={destroy:function(){this.hide(),this._.element.remove()},resize:function(){return function(t,e){this._.contentSize&&this._.contentSize.width==t&&this._.contentSize.height==e||(CKEDITOR.dialog.fire("resize",{dialog:this,width:t,height:e},this._.editor),this.fire("resize",{width:t,height:e},this._.editor),this.parts.contents.setStyles({width:t+"px",height:e+"px"}),"rtl"==this._.editor.lang.dir&&this._.position&&(this._.position.x=CKEDITOR.document.getWindow().getViewPaneSize().width-this._.contentSize.width-parseInt(this._.element.getFirst().getStyle("right"),10)),this._.contentSize={width:t,height:e})}}(),getSize:function(){var t=this._.element.getFirst();return{width:t.$.offsetWidth||0,height:t.$.offsetHeight||0}},move:function(t,e,i){var n=this._.element.getFirst(),o="rtl"==this._.editor.lang.dir,a="fixed"==n.getComputedStyle("position");CKEDITOR.env.ie&&n.setStyle("zoom","100%"),a&&this._.position&&this._.position.x==t&&this._.position.y==e||(this._.position={x:t,y:e},a||(a=CKEDITOR.document.getWindow().getScrollPosition(),t+=a.x,e+=a.y),o&&(a=this.getSize(),t=CKEDITOR.document.getWindow().getViewPaneSize().width-a.width-t),e={top:(0<e?e:0)+"px"},e[o?"right":"left"]=(0<t?t:0)+"px",n.setStyles(e),i&&(this._.moved=1))},getPosition:function(){return CKEDITOR.tools.extend({},this._.position)},show:function(){var t=this._.element,e=this.definition;t.getParent()&&t.getParent().equals(CKEDITOR.document.getBody())?t.setStyle("display","block"):t.appendTo(CKEDITOR.document.getBody()),this.resize(this._.contentSize&&this._.contentSize.width||e.width||e.minWidth,this._.contentSize&&this._.contentSize.height||e.height||e.minHeight),this.reset(),null===this._.currentTabId&&this.selectPage(this.definition.contents[0].id),null===CKEDITOR.dialog._.currentZIndex&&(CKEDITOR.dialog._.currentZIndex=this._.editor.config.baseFloatZIndex),this._.element.getFirst().setStyle("z-index",CKEDITOR.dialog._.currentZIndex+=10),null===CKEDITOR.dialog._.currentTop?(CKEDITOR.dialog._.currentTop=this,this._.parentDialog=null,u(this._.editor)):(this._.parentDialog=CKEDITOR.dialog._.currentTop,this._.parentDialog.getElement().getFirst().$.style.zIndex-=Math.floor(this._.editor.config.baseFloatZIndex/2),CKEDITOR.dialog._.currentTop=this),t.on("keydown",O),t.on("keyup",R),this._.hasFocus=!1;for(var i in e.contents)if(e.contents[i]){var t=e.contents[i],n=this._.tabs[t.id],o=t.requiredContent,a=0;if(n){for(var r in this._.contents[t.id]){var l=this._.contents[t.id][r];"hbox"!=l.type&&"vbox"!=l.type&&l.getInputElement()&&(l.requiredContent&&!this._.editor.activeFilter.check(l.requiredContent)?l.disable():(l.enable(),a++))}!a||o&&!this._.editor.activeFilter.check(o)?n[0].addClass("cke_dialog_tab_disabled"):n[0].removeClass("cke_dialog_tab_disabled")}}CKEDITOR.tools.setTimeout(function(){this.layout(),s(this),this.parts.dialog.setStyle("visibility",""),this.fireOnce("load",{}),CKEDITOR.ui.fire("ready",this),this.fire("show",{}),this._.editor.fire("dialogShow",this),this._.parentDialog||this._.editor.focusManager.lock(),this.foreach(function(t){t.setInitValue&&t.setInitValue()})},100,this)},layout:function(){var t=this.parts.dialog,e=this.getSize(),i=CKEDITOR.document.getWindow().getViewPaneSize(),n=(i.width-e.width)/2,o=(i.height-e.height)/2;CKEDITOR.env.ie6Compat||(e.height+(0<o?o:0)>i.height||e.width+(0<n?n:0)>i.width?t.setStyle("position","absolute"):t.setStyle("position","fixed")),this.move(this._.moved?this._.position.x:n,this._.moved?this._.position.y:o)},foreach:function(t){for(var e in this._.contents)for(var i in this._.contents[e])t.call(this,this._.contents[e][i]);return this},reset:function(){var t=function(t){t.reset&&t.reset(1)};return function(){return this.foreach(t),this}}(),setupContent:function(){var t=arguments;this.foreach(function(e){e.setup&&e.setup.apply(e,t)})},commitContent:function(){var t=arguments;this.foreach(function(e){CKEDITOR.env.ie&&this._.currentFocusIndex==e.focusIndex&&e.getInputElement().$.blur(),e.commit&&e.commit.apply(e,t)})},hide:function(){if(this.parts.dialog.isVisible()){this.fire("hide",{}),this._.editor.fire("dialogHide",this),this.selectPage(this._.tabIdList[0]);var t=this._.element;for(t.setStyle("display","none"),this.parts.dialog.setStyle("visibility","hidden"),w(this);CKEDITOR.dialog._.currentTop!=this;)CKEDITOR.dialog._.currentTop.hide();if(this._.parentDialog){var e=this._.parentDialog.getElement().getFirst();e.setStyle("z-index",parseInt(e.$.style.zIndex,10)+Math.floor(this._.editor.config.baseFloatZIndex/2))}else f(this._.editor);if(CKEDITOR.dialog._.currentTop=this._.parentDialog)CKEDITOR.dialog._.currentZIndex-=10;else{CKEDITOR.dialog._.currentZIndex=null,t.removeListener("keydown",O),t.removeListener("keyup",R);var i=this._.editor;i.focus(),setTimeout(function(){i.focusManager.unlock(),CKEDITOR.env.iOS&&i.window.focus()},0)}delete this._.parentDialog,
this.foreach(function(t){t.resetInitValue&&t.resetInitValue()}),this.setState(CKEDITOR.DIALOG_STATE_IDLE)}},addPage:function(t){if(!t.requiredContent||this._.editor.filter.check(t.requiredContent)){for(var e=[],i=t.label?' title="'+CKEDITOR.tools.htmlEncode(t.label)+'"':"",n=CKEDITOR.dialog._.uiElementBuilders.vbox.build(this,{type:"vbox",className:"cke_dialog_page_contents",children:t.elements,expand:!!t.expand,padding:t.padding,style:t.style||"width: 100%;"},e),o=this._.contents[t.id]={},a=n.getChild(),r=0;n=a.shift();)n.notAllowed||"hbox"==n.type||"vbox"==n.type||r++,o[n.id]=n,"function"==typeof n.getChild&&a.push.apply(a,n.getChild());r||(t.hidden=!0),e=CKEDITOR.dom.element.createFromHtml(e.join("")),e.setAttribute("role","tabpanel"),n=CKEDITOR.env,o="cke_"+t.id+"_"+CKEDITOR.tools.getNextNumber(),i=CKEDITOR.dom.element.createFromHtml(['<a class="cke_dialog_tab"',0<this._.pageCount?" cke_last":"cke_first",i,t.hidden?' style="display:none"':"",' id="',o,'"',n.gecko&&!n.hc?"":' href="javascript:void(0)"',' tabIndex="-1" hidefocus="true" role="tab">',t.label,"</a>"].join("")),e.setAttribute("aria-labelledby",o),this._.tabs[t.id]=[i,e],this._.tabIdList.push(t.id),!t.hidden&&this._.pageCount++,this._.lastTab=i,this.updateStyle(),e.setAttribute("name",t.id),e.appendTo(this.parts.contents),i.unselectable(),this.parts.tabs.append(i),t.accessKey&&(x(this,this,"CTRL+"+t.accessKey,_,k),this._.accessKeyMap["CTRL+"+t.accessKey]=t.id)}},selectPage:function(t){if(this._.currentTabId!=t&&!this._.tabs[t][0].hasClass("cke_dialog_tab_disabled")&&!1!==this.fire("selectPage",{page:t,currentPage:this._.currentTabId})){for(var e in this._.tabs){var n=this._.tabs[e][0],o=this._.tabs[e][1];e!=t&&(n.removeClass("cke_dialog_tab_selected"),o.hide()),o.setAttribute("aria-hidden",e!=t)}var a=this._.tabs[t];a[0].addClass("cke_dialog_tab_selected"),CKEDITOR.env.ie6Compat||CKEDITOR.env.ie7Compat?(i(a[1]),a[1].show(),setTimeout(function(){i(a[1],1)},0)):a[1].show(),this._.currentTabId=t,this._.currentTabIndex=CKEDITOR.tools.indexOf(this._.tabIdList,t)}},updateStyle:function(){this.parts.dialog[(1===this._.pageCount?"add":"remove")+"Class"]("cke_single_page")},hidePage:function(e){var i=this._.tabs[e]&&this._.tabs[e][0];i&&1!=this._.pageCount&&i.isVisible()&&(e==this._.currentTabId&&this.selectPage(t.call(this)),i.hide(),this._.pageCount--,this.updateStyle())},showPage:function(t){(t=this._.tabs[t]&&this._.tabs[t][0])&&(t.show(),this._.pageCount++,this.updateStyle())},getElement:function(){return this._.element},getName:function(){return this._.name},getContentElement:function(t,e){var i=this._.contents[t];return i&&i[e]},getValueOf:function(t,e){return this.getContentElement(t,e).getValue()},setValueOf:function(t,e,i){return this.getContentElement(t,e).setValue(i)},getButton:function(t){return this._.buttons[t]},click:function(t){return this._.buttons[t].click()},disableButton:function(t){return this._.buttons[t].disable()},enableButton:function(t){return this._.buttons[t].enable()},getPageCount:function(){return this._.pageCount},getParentEditor:function(){return this._.editor},getSelectedElement:function(){return this.getParentEditor().getSelection().getSelectedElement()},addFocusable:function(t,e){if(void 0===e)e=this._.focusList.length,this._.focusList.push(new r(this,t,e));else{this._.focusList.splice(e,0,new r(this,t,e));for(var i=e+1;i<this._.focusList.length;i++)this._.focusList[i].focusIndex++}},setState:function(t){if(this.state!=t){if(this.state=t,t==CKEDITOR.DIALOG_STATE_BUSY){if(!this.parts.spinner){var e=this.getParentEditor().lang.dir,i={attributes:{"class":"cke_dialog_spinner"},styles:{"float":"rtl"==e?"right":"left"}};i.styles["margin-"+("rtl"==e?"left":"right")]="8px",this.parts.spinner=CKEDITOR.document.createElement("div",i),this.parts.spinner.setHtml("&#8987;"),this.parts.spinner.appendTo(this.parts.title,1)}this.parts.spinner.show(),this.getButton("ok").disable()}else t==CKEDITOR.DIALOG_STATE_IDLE&&(this.parts.spinner&&this.parts.spinner.hide(),this.getButton("ok").enable());this.fire("state",t)}}},CKEDITOR.tools.extend(CKEDITOR.dialog,{add:function(t,e){this._.dialogDefinitions[t]&&"function"!=typeof e||(this._.dialogDefinitions[t]=e)},exists:function(t){return!!this._.dialogDefinitions[t]},getCurrent:function(){return CKEDITOR.dialog._.currentTop},isTabEnabled:function(t,e,i){return!((t=t.config.removeDialogTabs)&&t.match(new RegExp("(?:^|;)"+e+":"+i+"(?:$|;)","i")))},okButton:function(){var t=function(t,e){return e=e||{},CKEDITOR.tools.extend({id:"ok",type:"button",label:t.lang.common.ok,"class":"cke_dialog_ui_button_ok",onClick:function(t){t=t.data.dialog,!1!==t.fire("ok",{hide:!0}).hide&&t.hide()}},e,!0)};return t.type="button",t.override=function(e){return CKEDITOR.tools.extend(function(i){return t(i,e)},{type:"button"},!0)},t}(),cancelButton:function(){var t=function(t,e){return e=e||{},CKEDITOR.tools.extend({id:"cancel",type:"button",label:t.lang.common.cancel,"class":"cke_dialog_ui_button_cancel",onClick:function(t){t=t.data.dialog,!1!==t.fire("cancel",{hide:!0}).hide&&t.hide()}},e,!0)};return t.type="button",t.override=function(e){return CKEDITOR.tools.extend(function(i){return t(i,e)},{type:"button"},!0)},t}(),addUIElement:function(t,e){this._.uiElementBuilders[t]=e}}),CKEDITOR.dialog._={uiElementBuilders:{},dialogDefinitions:{},currentTop:null,currentZIndex:null},CKEDITOR.event.implementOn(CKEDITOR.dialog),CKEDITOR.event.implementOn(CKEDITOR.dialog.prototype);var g={resizable:CKEDITOR.DIALOG_RESIZE_BOTH,minWidth:600,minHeight:400,buttons:[CKEDITOR.dialog.okButton,CKEDITOR.dialog.cancelButton]},v=function(t,e,i){for(var n,o=0;n=t[o];o++)if(n.id==e||i&&n[i]&&(n=v(n[i],e,i)))return n;return null},b=function(t,e,i,n,o){if(i){for(var a,r=0;a=t[r];r++){if(a.id==i)return t.splice(r,0,e),e;if(n&&a[n]&&(a=b(a[n],e,i,n,!0)))return a}if(o)return null}return t.push(e),e},T=function(t,e,i){for(var n,o=0;n=t[o];o++){if(n.id==e)return t.splice(o,1);if(i&&n[i]&&(n=T(n[i],e,i)))return n}return null},E=function(t,e){this.dialog=t;for(var i,n=e.contents,o=0;i=n[o];o++)n[o]=i&&new l(t,i);CKEDITOR.tools.extend(this,e)};E.prototype={getContents:function(t){return v(this.contents,t)},getButton:function(t){return v(this.buttons,t)},addContents:function(t,e){return b(this.contents,t,e)},addButton:function(t,e){return b(this.buttons,t,e)},removeContents:function(t){T(this.contents,t)},removeButton:function(t){T(this.buttons,t)}},l.prototype={get:function(t){return v(this.elements,t,"children")},add:function(t,e){return b(this.elements,t,e,"children")},remove:function(t){T(this.elements,t,"children")}};var C,y,D={},I={},O=function(t){var e=t.data.$.ctrlKey||t.data.$.metaKey,i=t.data.$.altKey,n=t.data.$.shiftKey,o=String.fromCharCode(t.data.$.keyCode);(e=I[(e?"CTRL+":"")+(i?"ALT+":"")+(n?"SHIFT+":"")+o])&&e.length&&(e=e[e.length-1],e.keydown&&e.keydown.call(e.uiElement,e.dialog,e.key),t.data.preventDefault())},R=function(t){var e=t.data.$.ctrlKey||t.data.$.metaKey,i=t.data.$.altKey,n=t.data.$.shiftKey,o=String.fromCharCode(t.data.$.keyCode);(e=I[(e?"CTRL+":"")+(i?"ALT+":"")+(n?"SHIFT+":"")+o])&&e.length&&(e=e[e.length-1],e.keyup&&(e.keyup.call(e.uiElement,e.dialog,e.key),t.data.preventDefault()))},x=function(t,e,i,n,o){(I[i]||(I[i]=[])).push({uiElement:t,dialog:e,key:i,keyup:o||t.accessKeyUp,keydown:n||t.accessKeyDown})},w=function(t){for(var e in I){for(var i=I[e],n=i.length-1;0<=n;n--)i[n].dialog!=t&&i[n].uiElement!=t||i.splice(n,1);0===i.length&&delete I[e]}},k=function(t,e){t._.accessKeyMap[e]&&t.selectPage(t._.accessKeyMap[e])},_=function(){};!function(){CKEDITOR.ui.dialog={uiElement:function(t,e,i,n,o,a,r){if(!(4>arguments.length)){var s=(n.call?n(e):n)||"div",l=["<",s," "],d=(o&&o.call?o(e):o)||{},c=(a&&a.call?a(e):a)||{},h=(r&&r.call?r.call(this,t,e):r)||"",u=this.domId=c.id||CKEDITOR.tools.getNextId()+"_uiElement";e.requiredContent&&!t.getParentEditor().filter.check(e.requiredContent)&&(d.display="none",this.notAllowed=!0),c.id=u;var f={};e.type&&(f["cke_dialog_ui_"+e.type]=1),e.className&&(f[e.className]=1),e.disabled&&(f.cke_disabled=1);for(var p=c["class"]&&c["class"].split?c["class"].split(" "):[],u=0;u<p.length;u++)p[u]&&(f[p[u]]=1);p=[];for(u in f)p.push(u);c["class"]=p.join(" "),e.title&&(c.title=e.title),f=(e.style||"").split(";"),e.align&&(p=e.align,d["margin-left"]="left"==p?0:"auto",d["margin-right"]="right"==p?0:"auto");for(u in d)f.push(u+":"+d[u]);for(e.hidden&&f.push("display:none"),u=f.length-1;0<=u;u--)""===f[u]&&f.splice(u,1);0<f.length&&(c.style=(c.style?c.style+"; ":"")+f.join("; "));for(u in c)l.push(u+'="'+CKEDITOR.tools.htmlEncode(c[u])+'" ');l.push(">",h,"</",s,">"),i.push(l.join("")),(this._||(this._={})).dialog=t,"boolean"==typeof e.isChanged&&(this.isChanged=function(){return e.isChanged}),"function"==typeof e.isChanged&&(this.isChanged=e.isChanged),"function"==typeof e.setValue&&(this.setValue=CKEDITOR.tools.override(this.setValue,function(t){return function(i){t.call(this,e.setValue.call(this,i))}})),"function"==typeof e.getValue&&(this.getValue=CKEDITOR.tools.override(this.getValue,function(t){return function(){return e.getValue.call(this,t.call(this))}})),CKEDITOR.event.implementOn(this),this.registerEvents(e),this.accessKeyUp&&this.accessKeyDown&&e.accessKey&&x(this,t,"CTRL+"+e.accessKey);var m=this;t.on("load",function(){var e=m.getInputElement();if(e){var i=m.type in{checkbox:1,ratio:1}&&CKEDITOR.env.ie&&8>CKEDITOR.env.version?"cke_dialog_ui_focused":"";e.on("focus",function(){t._.tabBarMode=!1,t._.hasFocus=!0,m.fire("focus"),i&&this.addClass(i)}),e.on("blur",function(){m.fire("blur"),i&&this.removeClass(i)})}}),CKEDITOR.tools.extend(this,e),this.keyboardFocusable&&(this.tabIndex=e.tabIndex||0,this.focusIndex=t._.focusList.push(this)-1,this.on("focus",function(){t._.currentFocusIndex=m.focusIndex}))}},hbox:function(t,e,i,n,o){if(!(4>arguments.length)){this._||(this._={});var a,r=this._.children=e,s=o&&o.widths||null,l=o&&o.height||null,d={role:"presentation"};o&&o.align&&(d.align=o.align),CKEDITOR.ui.dialog.uiElement.call(this,t,o||{type:"hbox"},n,"table",{},d,function(){var t=['<tbody><tr class="cke_dialog_ui_hbox">'];for(a=0;a<i.length;a++){var e="cke_dialog_ui_hbox_child",n=[];0===a&&(e="cke_dialog_ui_hbox_first"),a==i.length-1&&(e="cke_dialog_ui_hbox_last"),t.push('<td class="',e,'" role="presentation" '),s?s[a]&&n.push("width:"+p(s[a])):n.push("width:"+Math.floor(100/i.length)+"%"),l&&n.push("height:"+p(l)),o&&void 0!==o.padding&&n.push("padding:"+p(o.padding)),CKEDITOR.env.ie&&CKEDITOR.env.quirks&&r[a].align&&n.push("text-align:"+r[a].align),0<n.length&&t.push('style="'+n.join("; ")+'" '),t.push(">",i[a],"</td>")}return t.push("</tr></tbody>"),t.join("")})}},vbox:function(t,e,i,n,o){if(!(3>arguments.length)){this._||(this._={});var a=this._.children=e,r=o&&o.width||null,s=o&&o.heights||null;CKEDITOR.ui.dialog.uiElement.call(this,t,o||{type:"vbox"},n,"div",null,{role:"presentation"},function(){var e=['<table role="presentation" cellspacing="0" border="0" '];e.push('style="'),o&&o.expand&&e.push("height:100%;"),e.push("width:"+p(r||"100%"),";"),CKEDITOR.env.webkit&&e.push("float:none;"),e.push('"'),e.push('align="',CKEDITOR.tools.htmlEncode(o&&o.align||("ltr"==t.getParentEditor().lang.dir?"left":"right")),'" '),e.push("><tbody>");for(var n=0;n<i.length;n++){var l=[];e.push('<tr><td role="presentation" '),r&&l.push("width:"+p(r||"100%")),s?l.push("height:"+p(s[n])):o&&o.expand&&l.push("height:"+Math.floor(100/i.length)+"%"),o&&void 0!==o.padding&&l.push("padding:"+p(o.padding)),CKEDITOR.env.ie&&CKEDITOR.env.quirks&&a[n].align&&l.push("text-align:"+a[n].align),0<l.length&&e.push('style="',l.join("; "),'" '),e.push(' class="cke_dialog_ui_vbox_child">',i[n],"</td></tr>")}return e.push("</tbody></table>"),e.join("")})}}}}(),CKEDITOR.ui.dialog.uiElement.prototype={getElement:function(){return CKEDITOR.document.getById(this.domId)},getInputElement:function(){return this.getElement()},getDialog:function(){return this._.dialog},setValue:function(t,e){return this.getInputElement().setValue(t),!e&&this.fire("change",{value:t}),this},getValue:function(){return this.getInputElement().getValue()},isChanged:function(){return!1},selectParentTab:function(){for(var t=this.getInputElement();(t=t.getParent())&&-1==t.$.className.search("cke_dialog_page_contents"););return t?(t=t.getAttribute("name"),this._.dialog._.currentTabId!=t&&this._.dialog.selectPage(t),this):this},focus:function(){return this.selectParentTab().getInputElement().focus(),this},registerEvents:function(t){var e,i,n=/^on([A-Z]\w+)/,o=function(t,e,i,n){e.on("load",function(){t.getInputElement().on(i,n,t)})};for(i in t)(e=i.match(n))&&(this.eventProcessors[i]?this.eventProcessors[i].call(this,this._.dialog,t[i]):o(this,this._.dialog,e[1].toLowerCase(),t[i]));return this},eventProcessors:{onLoad:function(t,e){t.on("load",e,this)},onShow:function(t,e){t.on("show",e,this)},onHide:function(t,e){t.on("hide",e,this)}},accessKeyDown:function(){this.focus()},accessKeyUp:function(){},disable:function(){var t=this.getElement();this.getInputElement().setAttribute("disabled","true"),t.addClass("cke_disabled")},enable:function(){var t=this.getElement();this.getInputElement().removeAttribute("disabled"),t.removeClass("cke_disabled")},isEnabled:function(){return!this.getElement().hasClass("cke_disabled")},isVisible:function(){return this.getInputElement().isVisible()},isFocusable:function(){return!(!this.isEnabled()||!this.isVisible())}},CKEDITOR.ui.dialog.hbox.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{getChild:function(t){return 1>arguments.length?this._.children.concat():(t.splice||(t=[t]),2>t.length?this._.children[t[0]]:this._.children[t[0]]&&this._.children[t[0]].getChild?this._.children[t[0]].getChild(t.slice(1,t.length)):null)}},!0),CKEDITOR.ui.dialog.vbox.prototype=new CKEDITOR.ui.dialog.hbox,function(){var t={build:function(t,e,i){for(var n,o=e.children,a=[],r=[],s=0;s<o.length&&(n=o[s]);s++){var l=[];a.push(l),r.push(CKEDITOR.dialog._.uiElementBuilders[n.type].build(t,n,l))}return new CKEDITOR.ui.dialog[e.type](t,r,a,i,e)}};CKEDITOR.dialog.addUIElement("hbox",t),CKEDITOR.dialog.addUIElement("vbox",t)}(),CKEDITOR.dialogCommand=function(t,e){this.dialogName=t,CKEDITOR.tools.extend(this,e,!0)},CKEDITOR.dialogCommand.prototype={exec:function(t){var e=this.tabId;t.openDialog(this.dialogName,function(t){e&&t.selectPage(e)})},canUndo:!1,editorFocus:1},function(){var t=/^([a]|[^a])+$/,e=/^\d*$/,i=/^\d*(?:\.\d+)?$/,n=/^(((\d*(\.\d+))|(\d*))(px|\%)?)?$/,o=/^(((\d*(\.\d+))|(\d*))(px|em|ex|in|cm|mm|pt|pc|\%)?)?$/i,a=/^(\s*[\w-]+\s*:\s*[^:;]+(?:;|$))*$/;CKEDITOR.VALIDATE_OR=1,CKEDITOR.VALIDATE_AND=2,CKEDITOR.dialog.validate={functions:function(){var t=arguments;return function(){var e,i,n=this&&this.getValue?this.getValue():t[0],o=CKEDITOR.VALIDATE_AND,a=[];for(i=0;i<t.length&&"function"==typeof t[i];i++)a.push(t[i]);i<t.length&&"string"==typeof t[i]&&(e=t[i],i++),i<t.length&&"number"==typeof t[i]&&(o=t[i]);var r=o==CKEDITOR.VALIDATE_AND;for(i=0;i<a.length;i++)r=o==CKEDITOR.VALIDATE_AND?r&&a[i](n):r||a[i](n);return!!r||e}},regex:function(t,e){return function(i){return i=this&&this.getValue?this.getValue():i,!!t.test(i)||e}},notEmpty:function(e){return this.regex(t,e)},integer:function(t){return this.regex(e,t)},number:function(t){return this.regex(i,t)},cssLength:function(t){return this.functions(function(t){return o.test(CKEDITOR.tools.trim(t))},t)},htmlLength:function(t){return this.functions(function(t){return n.test(CKEDITOR.tools.trim(t))},t)},inlineStyle:function(t){return this.functions(function(t){return a.test(CKEDITOR.tools.trim(t))},t)},equals:function(t,e){return this.functions(function(e){return e==t},e)},notEqual:function(t,e){return this.functions(function(e){return e!=t},e)}},CKEDITOR.on("instanceDestroyed",function(t){if(CKEDITOR.tools.isEmpty(CKEDITOR.instances)){for(var e;e=CKEDITOR.dialog._.currentTop;)e.hide();for(var i in D)D[i].remove();D={}}t=t.editor._.storedDialogs;for(var n in t)t[n].destroy()})}(),CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{openDialog:function(t,e){var i=null,n=CKEDITOR.dialog._.dialogDefinitions[t];if(null===CKEDITOR.dialog._.currentTop&&u(this),"function"==typeof n)i=this._.storedDialogs||(this._.storedDialogs={}),i=i[t]||(i[t]=new CKEDITOR.dialog(this,t)),e&&e.call(i,i),i.show();else{if("failed"==n)throw f(this),Error('[CKEDITOR.dialog.openDialog] Dialog "'+t+'" failed when loading definition.');"string"==typeof n&&CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(n),function(){"function"!=typeof CKEDITOR.dialog._.dialogDefinitions[t]&&(CKEDITOR.dialog._.dialogDefinitions[t]="failed"),this.openDialog(t,e)},this,0,1)}return CKEDITOR.skin.loadPart("dialog"),i}})}(),CKEDITOR.plugins.add("dialog",{requires:"dialogui",init:function(t){t.on("doubleclick",function(e){e.data.dialog&&t.openDialog(e.data.dialog)},null,null,999)}}),CKEDITOR.plugins.add("about",{requires:"dialog",init:function(t){var e=t.addCommand("about",new CKEDITOR.dialogCommand("about"));e.modes={wysiwyg:1,source:1},e.canUndo=!1,e.readOnly=1,t.ui.addButton&&t.ui.addButton("About",{label:t.lang.about.dlgTitle,command:"about",toolbar:"about"}),CKEDITOR.dialog.add("about",this.path+"dialogs/about.js")}}),function(){CKEDITOR.plugins.add("a11yhelp",{requires:"dialog",availableLangs:{af:1,ar:1,az:1,bg:1,ca:1,cs:1,cy:1,da:1,de:1,"de-ch":1,el:1,en:1,"en-au":1,"en-gb":1,eo:1,es:1,"es-mx":1,et:1,eu:1,fa:1,fi:1,fo:1,fr:1,"fr-ca":1,gl:1,gu:1,he:1,hi:1,hr:1,hu:1,id:1,it:1,ja:1,km:1,ko:1,ku:1,lt:1,lv:1,mk:1,mn:1,nb:1,nl:1,no:1,oc:1,pl:1,pt:1,"pt-br":1,ro:1,ru:1,si:1,sk:1,sl:1,sq:1,sr:1,"sr-latn":1,sv:1,th:1,tr:1,tt:1,ug:1,uk:1,vi:1,zh:1,"zh-cn":1},init:function(t){var e=this;t.addCommand("a11yHelp",{exec:function(){var i=t.langCode,i=e.availableLangs[i]?i:e.availableLangs[i.replace(/-.*/,"")]?i.replace(/-.*/,""):"en";CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(e.path+"dialogs/lang/"+i+".js"),function(){t.lang.a11yhelp=e.langEntries[i],t.openDialog("a11yHelp")})},modes:{wysiwyg:1,source:1},readOnly:1,canUndo:!1}),t.setKeystroke(CKEDITOR.ALT+48,"a11yHelp"),CKEDITOR.dialog.add("a11yHelp",this.path+"dialogs/a11yhelp.js"),t.on("ariaEditorHelpLabel",function(e){e.data.label=t.lang.common.editorHelp})}})}(),CKEDITOR.plugins.add("basicstyles",{init:function(t){var e=0,i=function(i,o,a,r){if(r){r=new CKEDITOR.style(r);var s=n[a];s.unshift(r),t.attachStyleStateChange(r,function(e){!t.readOnly&&t.getCommand(a).setState(e)}),t.addCommand(a,new CKEDITOR.styleCommand(r,{contentForms:s})),t.ui.addButton&&t.ui.addButton(i,{label:o,command:a,toolbar:"basicstyles,"+(e+=10)})}},n={bold:["strong","b",["span",function(t){return"bold"==(t=t.styles["font-weight"])||700<=+t}]],italic:["em","i",["span",function(t){return"italic"==t.styles["font-style"]}]],underline:["u",["span",function(t){return"underline"==t.styles["text-decoration"]}]],strike:["s","strike",["span",function(t){return"line-through"==t.styles["text-decoration"]}]],subscript:["sub"],superscript:["sup"]},o=t.config,a=t.lang.basicstyles;i("Bold",a.bold,"bold",o.coreStyles_bold),i("Italic",a.italic,"italic",o.coreStyles_italic),i("Underline",a.underline,"underline",o.coreStyles_underline),i("Strike",a.strike,"strike",o.coreStyles_strike),i("Subscript",a.subscript,"subscript",o.coreStyles_subscript),i("Superscript",a.superscript,"superscript",o.coreStyles_superscript),t.setKeystroke([[CKEDITOR.CTRL+66,"bold"],[CKEDITOR.CTRL+73,"italic"],[CKEDITOR.CTRL+85,"underline"]])}}),CKEDITOR.config.coreStyles_bold={element:"strong",overrides:"b"},CKEDITOR.config.coreStyles_italic={element:"em",overrides:"i"},CKEDITOR.config.coreStyles_underline={element:"u"},CKEDITOR.config.coreStyles_strike={element:"s",overrides:"strike"},CKEDITOR.config.coreStyles_subscript={element:"sub"},CKEDITOR.config.coreStyles_superscript={element:"sup"},function(){var t={exec:function(t){var e=t.getCommand("blockquote").state,i=t.getSelection(),n=i&&i.getRanges()[0];if(n){var o=i.createBookmarks();if(CKEDITOR.env.ie){var a,r=o[0].startNode,s=o[0].endNode;if(r&&"blockquote"==r.getParent().getName())for(a=r;a=a.getNext();)if(a.type==CKEDITOR.NODE_ELEMENT&&a.isBlockBoundary()){r.move(a,!0);break}if(s&&"blockquote"==s.getParent().getName())for(a=s;a=a.getPrevious();)if(a.type==CKEDITOR.NODE_ELEMENT&&a.isBlockBoundary()){s.move(a);break}}var l=n.createIterator();if(l.enlargeBr=t.config.enterMode!=CKEDITOR.ENTER_BR,e==CKEDITOR.TRISTATE_OFF){for(r=[];e=l.getNextParagraph();)r.push(e);for(1>r.length&&(e=t.document.createElement(t.config.enterMode==CKEDITOR.ENTER_P?"p":"div"),s=o.shift(),n.insertNode(e),e.append(new CKEDITOR.dom.text("\ufeff",t.document)),n.moveToBookmark(s),n.selectNodeContents(e),n.collapse(!0),s=n.createBookmark(),r.push(e),o.unshift(s)),a=r[0].getParent(),n=[],s=0;s<r.length;s++)e=r[s],a=a.getCommonAncestor(e.getParent());for(e={table:1,tbody:1,tr:1,ol:1,ul:1};e[a.getName()];)a=a.getParent();for(s=null;0<r.length;){for(e=r.shift();!e.getParent().equals(a);)e=e.getParent();e.equals(s)||n.push(e),s=e}for(;0<n.length;)if(e=n.shift(),"blockquote"==e.getName()){for(s=new CKEDITOR.dom.documentFragment(t.document);e.getFirst();)s.append(e.getFirst().remove()),r.push(s.getLast());s.replace(e)}else r.push(e);for(n=t.document.createElement("blockquote"),n.insertBefore(r[0]);0<r.length;)e=r.shift(),n.append(e)}else if(e==CKEDITOR.TRISTATE_ON){for(s=[],a={};e=l.getNextParagraph();){for(r=n=null;e.getParent();){if("blockquote"==e.getParent().getName()){n=e.getParent(),r=e;break}e=e.getParent()}n&&r&&!r.getCustomData("blockquote_moveout")&&(s.push(r),CKEDITOR.dom.element.setMarker(a,r,"blockquote_moveout",!0))}for(CKEDITOR.dom.element.clearAllMarkers(a),e=[],r=[],a={};0<s.length;)l=s.shift(),n=l.getParent(),l.getPrevious()?l.getNext()?(l.breakParent(l.getParent()),r.push(l.getNext())):l.remove().insertAfter(n):l.remove().insertBefore(n),n.getCustomData("blockquote_processed")||(r.push(n),CKEDITOR.dom.element.setMarker(a,n,"blockquote_processed",!0)),e.push(l);for(CKEDITOR.dom.element.clearAllMarkers(a),s=r.length-1;0<=s;s--){n=r[s];t:{a=n;for(var l=0,d=a.getChildCount(),c=void 0;l<d&&(c=a.getChild(l));l++)if(c.type==CKEDITOR.NODE_ELEMENT&&c.isBlockBoundary()){a=!1;break t}a=!0}a&&n.remove()}if(t.config.enterMode==CKEDITOR.ENTER_BR)for(n=!0;e.length;)if(l=e.shift(),"div"==l.getName()){for(s=new CKEDITOR.dom.documentFragment(t.document),!n||!l.getPrevious()||l.getPrevious().type==CKEDITOR.NODE_ELEMENT&&l.getPrevious().isBlockBoundary()||s.append(t.document.createElement("br")),n=l.getNext()&&!(l.getNext().type==CKEDITOR.NODE_ELEMENT&&l.getNext().isBlockBoundary());l.getFirst();)l.getFirst().remove().appendTo(s);n&&s.append(t.document.createElement("br")),s.replace(l),n=!1}}i.selectBookmarks(o),t.focus()}},refresh:function(t,e){this.setState(t.elementPath(e.block||e.blockLimit).contains("blockquote",1)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF)},context:"blockquote",allowedContent:"blockquote",requiredContent:"blockquote"};CKEDITOR.plugins.add("blockquote",{init:function(e){e.blockless||(e.addCommand("blockquote",t),e.ui.addButton&&e.ui.addButton("Blockquote",{label:e.lang.blockquote.toolbar,command:"blockquote",toolbar:"blocks,10"}))}})}(),function(){function t(t,e){CKEDITOR.tools.extend(this,e,{editor:t,id:"cke-"+CKEDITOR.tools.getUniqueId(),area:t._.notificationArea}),e.type||(this.type="info"),this.element=this._createElement(),t.plugins.clipboard&&CKEDITOR.plugins.clipboard.preventDefaultDropOnElement(this.element)}function e(t){var e=this;this.editor=t,this.notifications=[],this.element=this._createElement(),this._uiBuffer=CKEDITOR.tools.eventsBuffer(10,this._layout,this),this._changeBuffer=CKEDITOR.tools.eventsBuffer(500,this._layout,this),t.on("destroy",function(){e._removeListeners(),e.element.remove()})}CKEDITOR.plugins.add("notification",{init:function(t){function i(t){var e=new CKEDITOR.dom.element("div");e.setStyles({position:"fixed","margin-left":"-9999px"}),e.setAttributes({"aria-live":"assertive","aria-atomic":"true"}),e.setText(t),CKEDITOR.document.getBody().append(e),setTimeout(function(){e.remove()},100)}t._.notificationArea=new e(t),t.showNotification=function(e,i,n){var o,a;return"progress"==i?o=n:a=n,e=new CKEDITOR.plugins.notification(t,{message:e,type:i,progress:o,duration:a}),e.show(),e},t.on("key",function(e){if(27==e.data.keyCode){var n=t._.notificationArea.notifications;n.length&&(i(t.lang.notification.closed),n[n.length-1].hide(),e.cancel())}})}}),t.prototype={show:function(){!1!==this.editor.fire("notificationShow",{notification:this})&&(this.area.add(this),this._hideAfterTimeout())},update:function(t){var e=!0;!1===this.editor.fire("notificationUpdate",{notification:this,options:t})&&(e=!1);var i=this.element,n=i.findOne(".cke_notification_message"),o=i.findOne(".cke_notification_progress"),a=t.type;i.removeAttribute("role"),t.progress&&"progress"!=this.type&&(a="progress"),a&&(i.removeClass(this._getClass()),i.removeAttribute("aria-label"),this.type=a,i.addClass(this._getClass()),i.setAttribute("aria-label",this.type),"progress"!=this.type||o?"progress"!=this.type&&o&&o.remove():(o=this._createProgressElement(),o.insertBefore(n))),void 0!==t.message&&(this.message=t.message,n.setHtml(this.message)),void 0!==t.progress&&(this.progress=t.progress,o&&o.setStyle("width",this._getPercentageProgress())),e&&t.important&&(i.setAttribute("role","alert"),this.isVisible()||this.area.add(this)),this.duration=t.duration,this._hideAfterTimeout()},hide:function(){!1!==this.editor.fire("notificationHide",{notification:this})&&this.area.remove(this)},isVisible:function(){return 0<=CKEDITOR.tools.indexOf(this.area.notifications,this)},_createElement:function(){var t,e,i=this,n=this.editor.lang.common.close;return t=new CKEDITOR.dom.element("div"),t.addClass("cke_notification"),t.addClass(this._getClass()),t.setAttributes({id:this.id,role:"alert","aria-label":this.type}),"progress"==this.type&&t.append(this._createProgressElement()),e=new CKEDITOR.dom.element("p"),e.addClass("cke_notification_message"),e.setHtml(this.message),t.append(e),e=CKEDITOR.dom.element.createFromHtml('<a class="cke_notification_close" href="javascript:void(0)" title="'+n+'" role="button" tabindex="-1"><span class="cke_label">X</span></a>'),t.append(e),e.on("click",function(){i.editor.focus(),i.hide()}),t},_getClass:function(){return"progress"==this.type?"cke_notification_info":"cke_notification_"+this.type},_createProgressElement:function(){var t=new CKEDITOR.dom.element("span");return t.addClass("cke_notification_progress"),t.setStyle("width",this._getPercentageProgress()),t},_getPercentageProgress:function(){return Math.round(100*(this.progress||0))+"%"},_hideAfterTimeout:function(){var t,e=this;this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),"number"==typeof this.duration?t=this.duration:"info"!=this.type&&"success"!=this.type||(t="number"==typeof this.editor.config.notification_duration?this.editor.config.notification_duration:5e3),t&&(e._hideTimeoutId=setTimeout(function(){e.hide()},t))}},e.prototype={add:function(t){this.notifications.push(t),this.element.append(t.element),1==this.element.getChildCount()&&(CKEDITOR.document.getBody().append(this.element),this._attachListeners()),this._layout()},remove:function(t){var e=CKEDITOR.tools.indexOf(this.notifications,t);0>e||(this.notifications.splice(e,1),t.element.remove(),this.element.getChildCount()||(this._removeListeners(),this.element.remove()))},_createElement:function(){var t=this.editor,e=t.config,i=new CKEDITOR.dom.element("div");return i.addClass("cke_notifications_area"),i.setAttribute("id","cke_notifications_area_"+t.name),i.setStyle("z-index",e.baseFloatZIndex-2),i},_attachListeners:function(){var t=CKEDITOR.document.getWindow(),e=this.editor;t.on("scroll",this._uiBuffer.input),t.on("resize",this._uiBuffer.input),e.on("change",this._changeBuffer.input),e.on("floatingSpaceLayout",this._layout,this,null,20),e.on("blur",this._layout,this,null,20)},_removeListeners:function(){var t=CKEDITOR.document.getWindow(),e=this.editor;t.removeListener("scroll",this._uiBuffer.input),t.removeListener("resize",this._uiBuffer.input),e.removeListener("change",this._changeBuffer.input),e.removeListener("floatingSpaceLayout",this._layout),e.removeListener("blur",this._layout)},_layout:function(){function t(){o.setStyle("left",m(g+r.width-d-c))}var e,i,n,o=this.element,a=this.editor,r=a.ui.contentsElement.getClientRect(),s=a.ui.contentsElement.getDocumentPosition(),l=o.getClientRect(),d=this._notificationWidth,c=this._notificationMargin;n=CKEDITOR.document.getWindow();var h=n.getScrollPosition(),u=n.getViewPaneSize(),f=CKEDITOR.document.getBody(),p=f.getDocumentPosition(),m=CKEDITOR.tools.cssLength;d&&c||(n=this.element.getChild(0),d=this._notificationWidth=n.getClientRect().width,c=this._notificationMargin=parseInt(n.getComputedStyle("margin-left"),10)+parseInt(n.getComputedStyle("margin-right"),10)),a.toolbar&&(e=a.ui.space("top"),i=e.getClientRect()),e&&e.isVisible()&&i.bottom>r.top&&i.bottom<r.bottom-l.height?o.setStyles({position:"fixed",top:m(i.bottom)}):0<r.top?o.setStyles({position:"absolute",top:m(s.y)}):s.y+r.height-l.height>h.y?o.setStyles({position:"fixed",top:0}):o.setStyles({position:"absolute",top:m(s.y+r.height-l.height)});var g="fixed"==o.getStyle("position")?r.left:"static"!=f.getComputedStyle("position")?s.x-p.x:s.x;r.width<d+c?s.x+d+c>h.x+u.width?t():o.setStyle("left",m(g)):s.x+d+c>h.x+u.width?o.setStyle("left",m(g)):s.x+r.width/2+d/2+c>h.x+u.width?o.setStyle("left",m(g-s.x+h.x+u.width-d-c)):0>r.left+r.width-d-c?t():0>r.left+r.width/2-d/2?o.setStyle("left",m(g-s.x+h.x)):o.setStyle("left",m(g+r.width/2-d/2-c/2))}},CKEDITOR.plugins.notification=t}(),function(){var t='<a id="{id}" class="cke_button cke_button__{name} cke_button_{state} {cls}"'+(CKEDITOR.env.gecko&&!CKEDITOR.env.hc?"":" href=\"javascript:void('{titleJs}')\"")+' title="{title}" tabindex="-1" hidefocus="true" role="button" aria-labelledby="{id}_label" aria-describedby="{id}_description" aria-haspopup="{hasArrow}" aria-disabled="{ariaDisabled}"';CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(t+=' onkeypress="return false;"'),CKEDITOR.env.gecko&&(t+=' onblur="this.style.cssText = this.style.cssText;"');var t=t+' onkeydown="return CKEDITOR.tools.callFunction({keydownFn},event);" onfocus="return CKEDITOR.tools.callFunction({focusFn},event);" '+(CKEDITOR.env.ie?'onclick="return false;" onmouseup':"onclick")+'="CKEDITOR.tools.callFunction({clickFn},this);return false;"><span class="cke_button_icon cke_button__{iconName}_icon" style="{style}"',t=t+'>&nbsp;</span><span id="{id}_label" class="cke_button_label cke_button__{name}_label" aria-hidden="false">{label}</span><span id="{id}_description" class="cke_button_label" aria-hidden="false">{ariaShortcut}</span>{arrowHtml}</a>',e=CKEDITOR.addTemplate("buttonArrow",'<span class="cke_button_arrow">'+(CKEDITOR.env.hc?"&#9660;":"")+"</span>"),i=CKEDITOR.addTemplate("button",t);CKEDITOR.plugins.add("button",{beforeInit:function(t){t.ui.addHandler(CKEDITOR.UI_BUTTON,CKEDITOR.ui.button.handler)}}),CKEDITOR.UI_BUTTON="button",CKEDITOR.ui.button=function(t){CKEDITOR.tools.extend(this,t,{title:t.label,click:t.click||function(e){e.execCommand(t.command)}}),this._={}},CKEDITOR.ui.button.handler={create:function(t){return new CKEDITOR.ui.button(t)}},CKEDITOR.ui.button.prototype={render:function(t,n){function o(){var e=t.mode;e&&(e=this.modes[e]?void 0!==g[e]?g[e]:CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,e=t.readOnly&&!this.readOnly?CKEDITOR.TRISTATE_DISABLED:e,this.setState(e),this.refresh&&this.refresh())}var a,r,s,l=CKEDITOR.env,d=this._.id=CKEDITOR.tools.getNextId(),c="",h=this.command;this._.editor=t;var u={id:d,button:this,editor:t,focus:function(){CKEDITOR.document.getById(d).focus()},execute:function(){this.button.click(t)},attach:function(t){this.button.attach(t)}},f=CKEDITOR.tools.addFunction(function(t){if(u.onkey)return t=new CKEDITOR.dom.event(t),!1!==u.onkey(u,t.getKeystroke())}),p=CKEDITOR.tools.addFunction(function(t){var e;return u.onfocus&&(e=!1!==u.onfocus(u,new CKEDITOR.dom.event(t))),e}),m=0;if(u.clickFn=a=CKEDITOR.tools.addFunction(function(){m&&(t.unlockSelection(1),m=0),u.execute(),l.iOS&&t.focus()}),this.modes){var g={};t.on("beforeModeUnload",function(){t.mode&&this._.state!=CKEDITOR.TRISTATE_DISABLED&&(g[t.mode]=this._.state)},this),t.on("activeFilterChange",o,this),t.on("mode",o,this),!this.readOnly&&t.on("readOnly",o,this)}else h&&(h=t.getCommand(h))&&(h.on("state",function(){this.setState(h.state)},this),c+=h.state==CKEDITOR.TRISTATE_ON?"on":h.state==CKEDITOR.TRISTATE_DISABLED?"disabled":"off");this.directional&&t.on("contentDirChanged",function(e){var i=CKEDITOR.document.getById(this._.id),n=i.getFirst();e=e.data,
e!=t.lang.dir?i.addClass("cke_"+e):i.removeClass("cke_ltr").removeClass("cke_rtl"),n.setAttribute("style",CKEDITOR.skin.getIconStyle(v,"rtl"==e,this.icon,this.iconOffset))},this),h?(r=t.getCommandKeystroke(h))&&(s=CKEDITOR.tools.keystrokeToString(t.lang.common.keyboard,r)):c+="off";var v=r=this.name||this.command;return this.icon&&!/\./.test(this.icon)&&(v=this.icon,this.icon=null),c={id:d,name:r,iconName:v,label:this.label,cls:this.className||"",state:c,ariaDisabled:"disabled"==c?"true":"false",title:this.title+(s?" ("+s.display+")":""),ariaShortcut:s?t.lang.common.keyboardShortcut+" "+s.aria:"",titleJs:l.gecko&&!l.hc?"":(this.title||"").replace("'",""),hasArrow:this.hasArrow?"true":"false",keydownFn:f,focusFn:p,clickFn:a,style:CKEDITOR.skin.getIconStyle(v,"rtl"==t.lang.dir,this.icon,this.iconOffset),arrowHtml:this.hasArrow?e.output():""},i.output(c,n),this.onRender&&this.onRender(),u},setState:function(t){if(this._.state==t)return!1;this._.state=t;var e=CKEDITOR.document.getById(this._.id);return!!e&&(e.setState(t,"cke_button"),t==CKEDITOR.TRISTATE_DISABLED?e.setAttribute("aria-disabled",!0):e.removeAttribute("aria-disabled"),this.hasArrow?(t=t==CKEDITOR.TRISTATE_ON?this._.editor.lang.button.selectedLabel.replace(/%1/g,this.label):this.label,CKEDITOR.document.getById(this._.id+"_label").setText(t)):t==CKEDITOR.TRISTATE_ON?e.setAttribute("aria-pressed",!0):e.removeAttribute("aria-pressed"),!0)},getState:function(){return this._.state},toFeature:function(t){if(this._.feature)return this._.feature;var e=this;return this.allowedContent||this.requiredContent||!this.command||(e=t.getCommand(this.command)||e),this._.feature=e}},CKEDITOR.ui.prototype.addButton=function(t,e){this.add(t,CKEDITOR.UI_BUTTON,e)}}(),function(){function t(t){function i(){for(var i=n(),a=CKEDITOR.tools.clone(t.config.toolbarGroups)||e(t),r=0;r<a.length;r++){var s=a[r];if("/"!=s){"string"==typeof s&&(s=a[r]={name:s});var l,d=s.groups;if(d)for(var c=0;c<d.length;c++)l=d[c],(l=i[l])&&o(s,l);(l=i[s.name])&&o(s,l)}}return a}function n(){var e,i,n,o={};for(e in t.ui.items)i=t.ui.items[e],n=i.toolbar||"others",n=n.split(","),i=n[0],n=parseInt(n[1]||-1,10),o[i]||(o[i]=[]),o[i].push({name:e,order:n});for(i in o)o[i]=o[i].sort(function(t,e){return t.order==e.order?0:0>e.order?-1:0>t.order?1:t.order<e.order?-1:1});return o}function o(e,i){if(i.length){e.items?e.items.push(t.ui.create("-")):e.items=[];for(var n;n=i.shift();)n="string"==typeof n?n:n.name,r&&-1!=CKEDITOR.tools.indexOf(r,n)||(n=t.ui.create(n))&&t.addFeature(n)&&e.items.push(n)}}function a(t){var e,i,n,a=[];for(e=0;e<t.length;++e)i=t[e],n={},"/"==i?a.push(i):CKEDITOR.tools.isArray(i)?(o(n,CKEDITOR.tools.clone(i)),a.push(n)):i.items&&(o(n,CKEDITOR.tools.clone(i.items)),n.name=i.name,a.push(n));return a}var r=t.config.removeButtons,r=r&&r.split(","),s=t.config.toolbar;return"string"==typeof s&&(s=t.config["toolbar_"+s]),t.toolbar=s?a(s):i()}function e(t){return t._.toolbarGroups||(t._.toolbarGroups=[{name:"document",groups:["mode","document","doctools"]},{name:"clipboard",groups:["clipboard","undo"]},{name:"editing",groups:["find","selection","spellchecker"]},{name:"forms"},"/",{name:"basicstyles",groups:["basicstyles","cleanup"]},{name:"paragraph",groups:["list","indent","blocks","align","bidi"]},{name:"links"},{name:"insert"},"/",{name:"styles"},{name:"colors"},{name:"tools"},{name:"others"},{name:"about"}])}var i=function(){this.toolbars=[],this.focusCommandExecuted=!1};i.prototype.focus=function(){for(var t,e=0;t=this.toolbars[e++];)for(var i,n=0;i=t.items[n++];)if(i.focus)return void i.focus()};var n={modes:{wysiwyg:1,source:1},readOnly:1,exec:function(t){t.toolbox&&(t.toolbox.focusCommandExecuted=!0,CKEDITOR.env.ie||CKEDITOR.env.air?setTimeout(function(){t.toolbox.focus()},100):t.toolbox.focus())}};CKEDITOR.plugins.add("toolbar",{requires:"button",init:function(e){var o,a=function(t,i){var n,r="rtl"==e.lang.dir,s=e.config.toolbarGroupCycling,l=r?37:39,r=r?39:37,s=void 0===s||s;switch(i){case 9:case CKEDITOR.SHIFT+9:for(;!n||!n.items.length;)if(n=9==i?(n?n.next:t.toolbar.next)||e.toolbox.toolbars[0]:(n?n.previous:t.toolbar.previous)||e.toolbox.toolbars[e.toolbox.toolbars.length-1],n.items.length)for(t=n.items[o?n.items.length-1:0];t&&!t.focus;)(t=o?t.previous:t.next)||(n=0);return t&&t.focus(),!1;case l:n=t;do{!(n=n.next)&&s&&(n=t.toolbar.items[0])}while(n&&!n.focus);return n?n.focus():a(t,9),!1;case 40:return t.button&&t.button.hasArrow?t.execute():a(t,40==i?l:r),!1;case r:case 38:n=t;do{!(n=n.previous)&&s&&(n=t.toolbar.items[t.toolbar.items.length-1])}while(n&&!n.focus);return n?n.focus():(o=1,a(t,CKEDITOR.SHIFT+9),o=0),!1;case 27:return e.focus(),!1;case 13:case 32:return t.execute(),!1}return!0};e.on("uiSpace",function(n){if(n.data.space==e.config.toolbarLocation){n.removeListener(),e.toolbox=new i;var o,r,s=CKEDITOR.tools.getNextId(),l=['<span id="',s,'" class="cke_voice_label">',e.lang.toolbar.toolbars,"</span>",'<span id="'+e.ui.spaceId("toolbox")+'" class="cke_toolbox" role="group" aria-labelledby="',s,'" onmousedown="return false;">'],s=!1!==e.config.toolbarStartupExpanded;e.config.toolbarCanCollapse&&e.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE&&l.push('<span class="cke_toolbox_main"'+(s?">":' style="display:none">'));for(var d=e.toolbox.toolbars,c=t(e),h=c.length,u=0;u<h;u++){var f,p,m,g=0,v=c[u],b="/"!==v&&("/"===c[u+1]||u==h-1);if(v)if(o&&(l.push("</span>"),r=o=0),"/"===v)l.push('<span class="cke_toolbar_break"></span>');else{m=v.items||v;for(var T=0;T<m.length;T++){var E,C=m[T];if(C){var y=function(t){t=t.render(e,l),D=g.items.push(t)-1,0<D&&(t.previous=g.items[D-1],t.previous.next=t),t.toolbar=g,t.onkey=a,t.onfocus=function(){e.toolbox.focusCommandExecuted||e.focus()}};if(C.type==CKEDITOR.UI_SEPARATOR)r=o&&C;else{if(E=!1!==C.canGroup,!g){f=CKEDITOR.tools.getNextId(),g={id:f,items:[]},p=v.name&&(e.lang.toolbar.toolbarGroups[v.name]||v.name),l.push('<span id="',f,'" class="cke_toolbar'+(b?' cke_toolbar_last"':'"'),p?' aria-labelledby="'+f+'_label"':"",' role="toolbar">'),p&&l.push('<span id="',f,'_label" class="cke_voice_label">',p,"</span>"),l.push('<span class="cke_toolbar_start"></span>');var D=d.push(g)-1;0<D&&(g.previous=d[D-1],g.previous.next=g)}E?o||(l.push('<span class="cke_toolgroup" role="presentation">'),o=1):o&&(l.push("</span>"),o=0),r&&(y(r),r=0),y(C)}}}o&&(l.push("</span>"),r=o=0),g&&l.push('<span class="cke_toolbar_end"></span></span>')}}if(e.config.toolbarCanCollapse&&l.push("</span>"),e.config.toolbarCanCollapse&&e.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE){var I=CKEDITOR.tools.addFunction(function(){e.execCommand("toolbarCollapse")});e.on("destroy",function(){CKEDITOR.tools.removeFunction(I)}),e.addCommand("toolbarCollapse",{readOnly:1,exec:function(t){var e=t.ui.space("toolbar_collapser"),i=e.getPrevious(),n=t.ui.space("contents"),o=i.getParent(),a=parseInt(n.$.style.height,10),r=o.$.offsetHeight,s=e.hasClass("cke_toolbox_collapser_min");s?(i.show(),e.removeClass("cke_toolbox_collapser_min"),e.setAttribute("title",t.lang.toolbar.toolbarCollapse)):(i.hide(),e.addClass("cke_toolbox_collapser_min"),e.setAttribute("title",t.lang.toolbar.toolbarExpand)),e.getFirst().setText(s?"\u25b2":"\u25c0"),n.setStyle("height",a-(o.$.offsetHeight-r)+"px"),t.fire("resize",{outerHeight:t.container.$.offsetHeight,contentsHeight:n.$.offsetHeight,outerWidth:t.container.$.offsetWidth})},modes:{wysiwyg:1,source:1}}),e.setKeystroke(CKEDITOR.ALT+(CKEDITOR.env.ie||CKEDITOR.env.webkit?189:109),"toolbarCollapse"),l.push('<a title="'+(s?e.lang.toolbar.toolbarCollapse:e.lang.toolbar.toolbarExpand)+'" id="'+e.ui.spaceId("toolbar_collapser")+'" tabIndex="-1" class="cke_toolbox_collapser'),s||l.push(" cke_toolbox_collapser_min"),l.push('" onclick="CKEDITOR.tools.callFunction('+I+')">','<span class="cke_arrow">&#9650;</span>',"</a>")}l.push("</span>"),n.data.html+=l.join("")}}),e.on("destroy",function(){if(this.toolbox){var t,e,i,n,o=0;for(t=this.toolbox.toolbars;o<t.length;o++)for(i=t[o].items,e=0;e<i.length;e++)n=i[e],n.clickFn&&CKEDITOR.tools.removeFunction(n.clickFn),n.keyDownFn&&CKEDITOR.tools.removeFunction(n.keyDownFn)}}),e.on("uiReady",function(){var t=e.ui.space("toolbox");t&&e.focusManager.add(t,1)}),e.addCommand("toolbarFocus",n),e.setKeystroke(CKEDITOR.ALT+121,"toolbarFocus"),e.ui.add("-",CKEDITOR.UI_SEPARATOR,{}),e.ui.addHandler(CKEDITOR.UI_SEPARATOR,{create:function(){return{render:function(t,e){return e.push('<span class="cke_toolbar_separator" role="separator"></span>'),{}}}}})}}),CKEDITOR.ui.prototype.addToolbarGroup=function(t,i,n){var o=e(this.editor),a=0===i,r={name:t};if(n){if(n=CKEDITOR.tools.search(o,function(t){return t.name==n}))return!n.groups&&(n.groups=[]),i&&0<=(i=CKEDITOR.tools.indexOf(n.groups,i))?void n.groups.splice(i+1,0,t):void(a?n.groups.splice(0,0,t):n.groups.push(t));i=null}i&&(i=CKEDITOR.tools.indexOf(o,function(t){return t.name==i})),a?o.splice(0,0,t):"number"==typeof i?o.splice(i+1,0,r):o.push(t)}}(),CKEDITOR.UI_SEPARATOR="separator",CKEDITOR.config.toolbarLocation="top",function(){function t(t,e,i){return e.type||(e.type="auto"),!(i&&!1===t.fire("beforePaste",e)||!e.dataValue&&e.dataTransfer.isEmpty())&&(e.dataValue||(e.dataValue=""),CKEDITOR.env.gecko&&"drop"==e.method&&t.toolbox&&t.once("afterPaste",function(){t.toolbox.focus()}),t.fire("paste",e))}function e(e){function i(){var t=e.editable();if(CKEDITOR.plugins.clipboard.isCustomCopyCutSupported){var i=function(t){e.readOnly&&"cut"==t.name||m.initPasteDataTransfer(t,e),t.data.preventDefault()};t.on("copy",i),t.on("cut",i),t.on("cut",function(){e.readOnly||e.extractSelectedHtml()},null,null,999)}t.on(m.mainPasteEvent,function(t){"beforepaste"==m.mainPasteEvent&&g||u(t)}),"beforepaste"==m.mainPasteEvent&&(t.on("paste",function(t){v||(a(),t.data.preventDefault(),u(t),s("paste"))}),t.on("contextmenu",r,null,null,0),t.on("beforepaste",function(t){!t.data||t.data.$.ctrlKey||t.data.$.shiftKey||r()},null,null,0)),t.on("beforecut",function(){!g&&l(e)});var n;t.attachListener(CKEDITOR.env.ie?t:e.document.getDocumentElement(),"mouseup",function(){n=setTimeout(function(){f()},0)}),e.on("destroy",function(){clearTimeout(n)}),t.on("keyup",f)}function n(t){return{type:t,canUndo:"cut"==t,startDisabled:!0,fakeKeystroke:"cut"==t?CKEDITOR.CTRL+88:CKEDITOR.CTRL+67,exec:function(){"cut"==this.type&&l();var t,i=this.type;if(CKEDITOR.env.ie)t=s(i);else try{t=e.document.$.execCommand(i,!1,null)}catch(e){t=!1}return t||e.showNotification(e.lang.clipboard[this.type+"Error"]),t}}}function o(){return{canUndo:!1,async:!0,fakeKeystroke:CKEDITOR.CTRL+86,exec:function(e,i){function n(i,n){n=void 0===n||n,i?(i.method="paste",i.dataTransfer||(i.dataTransfer=m.initPasteDataTransfer()),t(e,i,n)):a&&e.showNotification(l,"info",e.config.clipboard_notificationDuration),e.fire("afterCommandExec",{name:"paste",command:o,returnValue:!!i})}i=void 0!==i&&null!==i?i:{};var o=this,a="undefined"==typeof i.notification||i.notification,r=i.type,s=CKEDITOR.tools.keystrokeToString(e.lang.common.keyboard,e.getCommandKeystroke(this)),l="string"==typeof a?a:e.lang.clipboard.pasteNotification.replace(/%1/,'<kbd aria-label="'+s.aria+'">'+s.display+"</kbd>"),s="string"==typeof i?i:i.dataValue;r?e._.nextPasteType=r:delete e._.nextPasteType,"string"==typeof s?n({dataValue:s}):e.getClipboardData(n)}}}function a(){v=1,setTimeout(function(){v=0},100)}function r(){g=1,setTimeout(function(){g=0},10)}function s(t){var i=e.document,n=i.getBody(),o=!1,a=function(){o=!0};return n.on(t,a),7<CKEDITOR.env.version?i.$.execCommand(t):i.$.selection.createRange().execCommand(t),n.removeListener(t,a),o}function l(){if(CKEDITOR.env.ie&&!CKEDITOR.env.quirks){var t,i,n,o=e.getSelection();o.getType()==CKEDITOR.SELECTION_ELEMENT&&(t=o.getSelectedElement())&&(i=o.getRanges()[0],n=e.document.createText(""),n.insertBefore(t),i.setStartBefore(n),i.setEndAfter(t),o.selectRanges([i]),setTimeout(function(){t.getParent()&&(n.remove(),o.selectElement(t))},0))}}function d(t,i){var n,o=e.document,a=e.editable(),r=function(t){t.cancel()};if(!o.getById("cke_pastebin")){var s=e.getSelection(),l=s.createBookmarks();CKEDITOR.env.ie&&s.root.fire("selectionchange");var d=new CKEDITOR.dom.element(!CKEDITOR.env.webkit&&!a.is("body")||CKEDITOR.env.ie?"div":"body",o);d.setAttributes({id:"cke_pastebin","data-cke-temp":"1"});var c=0,o=o.getWindow();CKEDITOR.env.webkit?(a.append(d),d.addClass("cke_editable"),a.is("body")||(c="static"!=a.getComputedStyle("position")?a:CKEDITOR.dom.element.get(a.$.offsetParent),c=c.getDocumentPosition().y)):a.getAscendant(CKEDITOR.env.ie?"body":"html",1).append(d),d.setStyles({position:"absolute",top:o.getScrollPosition().y-c+10+"px",width:"1px",height:Math.max(1,o.getViewPaneSize().height-20)+"px",overflow:"hidden",margin:0,padding:0}),CKEDITOR.env.safari&&d.setStyles(CKEDITOR.tools.cssVendorPrefix("user-select","text")),(c=d.getParent().isReadOnly())?(d.setOpacity(0),d.setAttribute("contenteditable",!0)):d.setStyle("ltr"==e.config.contentsLangDirection?"left":"right","-10000px"),e.on("selectionChange",r,null,null,0),(CKEDITOR.env.webkit||CKEDITOR.env.gecko)&&(n=a.once("blur",r,null,null,-100)),c&&d.focus(),c=new CKEDITOR.dom.range(d),c.selectNodeContents(d);var h=c.select();CKEDITOR.env.ie&&(n=a.once("blur",function(){e.lockSelection(h)}));var u=CKEDITOR.document.getWindow().getScrollPosition().y;setTimeout(function(){CKEDITOR.env.webkit&&(CKEDITOR.document.getBody().$.scrollTop=u),n&&n.removeListener(),CKEDITOR.env.ie&&a.focus(),s.selectBookmarks(l),d.remove();var t;CKEDITOR.env.webkit&&(t=d.getFirst())&&t.is&&t.hasClass("Apple-style-span")&&(d=t),e.removeListener("selectionChange",r),i(d.getHtml())},0)}}function c(){if("paste"==m.mainPasteEvent)return e.fire("beforePaste",{type:"auto",method:"paste"}),!1;e.focus(),a();var t=e.focusManager;return t.lock(),e.editable().fire(m.mainPasteEvent)&&!s("paste")?(t.unlock(),!1):(t.unlock(),!0)}function h(t){if("wysiwyg"==e.mode)switch(t.data.keyCode){case CKEDITOR.CTRL+86:case CKEDITOR.SHIFT+45:t=e.editable(),a(),"paste"==m.mainPasteEvent&&t.fire("beforepaste");break;case CKEDITOR.CTRL+88:case CKEDITOR.SHIFT+46:e.fire("saveSnapshot"),setTimeout(function(){e.fire("saveSnapshot")},50)}}function u(i){var n={type:"auto",method:"paste",dataTransfer:m.initPasteDataTransfer(i)};n.dataTransfer.cacheData();var o=!1!==e.fire("beforePaste",n);o&&m.canClipboardApiBeTrusted(n.dataTransfer,e)?(i.data.preventDefault(),setTimeout(function(){t(e,n)},0)):d(i,function(i){n.dataValue=i.replace(/<span[^>]+data-cke-bookmark[^<]*?<\/span>/gi,""),o&&t(e,n)})}function f(){if("wysiwyg"==e.mode){var t=p("paste");e.getCommand("cut").setState(p("cut")),e.getCommand("copy").setState(p("copy")),e.getCommand("paste").setState(t),e.fire("pasteState",t)}}function p(t){if(b&&t in{paste:1,cut:1})return CKEDITOR.TRISTATE_DISABLED;if("paste"==t)return CKEDITOR.TRISTATE_OFF;t=e.getSelection();var i=t.getRanges();return t.getType()==CKEDITOR.SELECTION_NONE||1==i.length&&i[0].collapsed?CKEDITOR.TRISTATE_DISABLED:CKEDITOR.TRISTATE_OFF}var m=CKEDITOR.plugins.clipboard,g=0,v=0,b=0;!function(){e.on("key",h),e.on("contentDom",i),e.on("selectionChange",function(t){b=t.data.selection.getRanges()[0].checkReadOnly(),f()}),e.contextMenu&&e.contextMenu.addListener(function(t,e){return b=e.getRanges()[0].checkReadOnly(),{cut:p("cut"),copy:p("copy"),paste:p("paste")}})}(),function(){function t(t,i,n,o,a){var r=e.lang.clipboard[i];e.addCommand(i,n),e.ui.addButton&&e.ui.addButton(t,{label:r,command:i,toolbar:"clipboard,"+o}),e.addMenuItems&&e.addMenuItem(i,{label:r,command:i,group:"clipboard",order:a})}t("Cut","cut",n("cut"),10,1),t("Copy","copy",n("copy"),20,4),t("Paste","paste",o(),30,8)}(),e.getClipboardData=function(t,i){function n(t){t.removeListener(),t.cancel(),i(t.data)}i||(i=t,t=null),e.on("paste",n,null,null,0),!1===c()&&(e.removeListener("paste",n),i(null))}}function i(t){if(CKEDITOR.env.webkit){if(!t.match(/^[^<]*$/g)&&!t.match(/^(<div><br( ?\/)?><\/div>|<div>[^<]*<\/div>)*$/gi))return"html"}else if(CKEDITOR.env.ie){if(!t.match(/^([^<]|<br( ?\/)?>)*$/gi)&&!t.match(/^(<p>([^<]|<br( ?\/)?>)*<\/p>|(\r\n))*$/gi))return"html"}else{if(!CKEDITOR.env.gecko)return"html";if(!t.match(/^([^<]|<br( ?\/)?>)*$/gi))return"html"}return"htmlifiedtext"}function n(t,e){function i(t){return CKEDITOR.tools.repeat("</p><p>",~~(t/2))+(1==t%2?"<br>":"")}return e=e.replace(/\s+/g," ").replace(/> +</g,"><").replace(/<br ?\/>/gi,"<br>"),e=e.replace(/<\/?[A-Z]+>/g,function(t){return t.toLowerCase()}),e.match(/^[^<]$/)?e:(CKEDITOR.env.webkit&&-1<e.indexOf("<div>")&&(e=e.replace(/^(<div>(<br>|)<\/div>)(?!$|(<div>(<br>|)<\/div>))/g,"<br>").replace(/^(<div>(<br>|)<\/div>){2}(?!$)/g,"<div></div>"),e.match(/<div>(<br>|)<\/div>/)&&(e="<p>"+e.replace(/(<div>(<br>|)<\/div>)+/g,function(t){return i(t.split("</div><div>").length+1)})+"</p>"),e=e.replace(/<\/div><div>/g,"<br>"),e=e.replace(/<\/?div>/g,"")),CKEDITOR.env.gecko&&t.enterMode!=CKEDITOR.ENTER_BR&&(CKEDITOR.env.gecko&&(e=e.replace(/^<br><br>$/,"<br>")),-1<e.indexOf("<br><br>")&&(e="<p>"+e.replace(/(<br>){2,}/g,function(t){return i(t.length/4)})+"</p>")),r(t,e))}function o(){function t(){var t,e={};for(t in CKEDITOR.dtd)"$"!=t.charAt(0)&&"div"!=t&&"span"!=t&&(e[t]=1);return e}var e={};return{get:function(i){return"plain-text"==i?e.plainText||(e.plainText=new CKEDITOR.filter("br")):"semantic-content"==i?((i=e.semanticContent)||(i=new CKEDITOR.filter,i.allow({$1:{elements:t(),attributes:!0,styles:!1,classes:!1}}),i=e.semanticContent=i),i):i?new CKEDITOR.filter(i):null}}}function a(t,e,i){e=CKEDITOR.htmlParser.fragment.fromHtml(e);var n=new CKEDITOR.htmlParser.basicWriter;return i.applyTo(e,!0,!1,t.activeEnterMode),e.writeHtml(n),n.getHtml()}function r(t,e){return t.enterMode==CKEDITOR.ENTER_BR?e=e.replace(/(<\/p><p>)+/g,function(t){return CKEDITOR.tools.repeat("<br>",t.length/7*2)}).replace(/<\/?p>/g,""):t.enterMode==CKEDITOR.ENTER_DIV&&(e=e.replace(/<(\/)?p>/g,"<$1div>")),e}function s(t){t.data.preventDefault(),t.data.$.dataTransfer.dropEffect="none"}function l(e){var i=CKEDITOR.plugins.clipboard;e.on("contentDom",function(){function n(i,n,o){n.select(),t(e,{dataTransfer:o,method:"drop"},1),o.sourceEditor.fire("saveSnapshot"),o.sourceEditor.editable().extractHtmlFromRange(i),o.sourceEditor.getSelection().selectRanges([i]),o.sourceEditor.fire("saveSnapshot")}function o(n,o){n.select(),t(e,{dataTransfer:o,method:"drop"},1),i.resetDragDataTransfer()}function a(t,i,n){var o={$:t.data.$,target:t.data.getTarget()};i&&(o.dragRange=i),n&&(o.dropRange=n),!1===e.fire(t.name,o)&&t.data.preventDefault()}function r(t){return t.type!=CKEDITOR.NODE_ELEMENT&&(t=t.getParent()),t.getChildCount()}var s=e.editable(),l=CKEDITOR.plugins.clipboard.getDropTarget(e),d=e.ui.space("top"),c=e.ui.space("bottom");i.preventDefaultDropOnElement(d),i.preventDefaultDropOnElement(c),s.attachListener(l,"dragstart",a),s.attachListener(e,"dragstart",i.resetDragDataTransfer,i,null,1),s.attachListener(e,"dragstart",function(t){i.initDragDataTransfer(t,e)},null,null,2),s.attachListener(e,"dragstart",function(){var t=i.dragRange=e.getSelection().getRanges()[0];CKEDITOR.env.ie&&10>CKEDITOR.env.version&&(i.dragStartContainerChildCount=t?r(t.startContainer):null,i.dragEndContainerChildCount=t?r(t.endContainer):null)},null,null,100),s.attachListener(l,"dragend",a),s.attachListener(e,"dragend",i.initDragDataTransfer,i,null,1),s.attachListener(e,"dragend",i.resetDragDataTransfer,i,null,100),s.attachListener(l,"dragover",function(t){if(CKEDITOR.env.edge)t.data.preventDefault();else{var e=t.data.getTarget();e&&e.is&&e.is("html")?t.data.preventDefault():CKEDITOR.env.ie&&CKEDITOR.plugins.clipboard.isFileApiSupported&&t.data.$.dataTransfer.types.contains("Files")&&t.data.preventDefault()}}),s.attachListener(l,"drop",function(t){if(!t.data.$.defaultPrevented){t.data.preventDefault();var n=t.data.getTarget();if(!n.isReadOnly()||n.type==CKEDITOR.NODE_ELEMENT&&n.is("html")){var n=i.getRangeAtDropPosition(t,e),o=i.dragRange;n&&a(t,o,n)}}},null,null,9999),s.attachListener(e,"drop",i.initDragDataTransfer,i,null,1),s.attachListener(e,"drop",function(t){if(t=t.data){var a=t.dropRange,r=t.dragRange,s=t.dataTransfer;s.getTransferType(e)==CKEDITOR.DATA_TRANSFER_INTERNAL?setTimeout(function(){i.internalDrop(r,a,s,e)},0):s.getTransferType(e)==CKEDITOR.DATA_TRANSFER_CROSS_EDITORS?n(r,a,s):o(a,s)}},null,null,9999)})}var d;CKEDITOR.plugins.add("clipboard",{requires:"notification,toolbar",init:function(t){var r,s=o();if(t.config.forcePasteAsPlainText?r="plain-text":t.config.pasteFilter?r=t.config.pasteFilter:!CKEDITOR.env.webkit||"pasteFilter"in t.config||(r="semantic-content"),t.pasteFilter=s.get(r),e(t),l(t),CKEDITOR.env.gecko){var d,c=["image/png","image/jpeg","image/gif"];t.on("paste",function(e){var i=e.data,n=i.dataTransfer;if(!i.dataValue&&"paste"==i.method&&n&&1==n.getFilesCount()&&d!=n.id&&(n=n.getFile(0),-1!=CKEDITOR.tools.indexOf(c,n.type))){var o=new FileReader;o.addEventListener("load",function(){e.data.dataValue='<img src="'+o.result+'" />',t.fire("paste",e.data)},!1),o.addEventListener("abort",function(){t.fire("paste",e.data)},!1),o.addEventListener("error",function(){t.fire("paste",e.data)},!1),o.readAsDataURL(n),d=i.dataTransfer.id,e.stop()}},null,null,1)}t.on("paste",function(e){if(e.data.dataTransfer||(e.data.dataTransfer=new CKEDITOR.plugins.clipboard.dataTransfer),!e.data.dataValue){var i=e.data.dataTransfer,n=i.getData("text/html");n?(e.data.dataValue=n,e.data.type="html"):(n=i.getData("text/plain"))&&(e.data.dataValue=t.editable().transformPlainTextToHtml(n),e.data.type="text")}},null,null,1),t.on("paste",function(t){var e=t.data.dataValue,i=CKEDITOR.dtd.$block;if(-1<e.indexOf("Apple-")&&(e=e.replace(/<span class="Apple-converted-space">&nbsp;<\/span>/gi," "),"html"!=t.data.type&&(e=e.replace(/<span class="Apple-tab-span"[^>]*>([^<]*)<\/span>/gi,function(t,e){return e.replace(/\t/g,"&nbsp;&nbsp; &nbsp;")})),-1<e.indexOf('<br class="Apple-interchange-newline">')&&(t.data.startsWithEOL=1,t.data.preSniffing="html",e=e.replace(/<br class="Apple-interchange-newline">/,"")),e=e.replace(/(<[^>]+) class="Apple-[^"]*"/gi,"$1")),e.match(/^<[^<]+cke_(editable|contents)/i)){var n,o,a=new CKEDITOR.dom.element("div");for(a.setHtml(e);1==a.getChildCount()&&(n=a.getFirst())&&n.type==CKEDITOR.NODE_ELEMENT&&(n.hasClass("cke_editable")||n.hasClass("cke_contents"));)a=o=n;o&&(e=o.getHtml().replace(/<br>$/i,""))}CKEDITOR.env.ie?e=e.replace(/^&nbsp;(?: |\r\n)?<(\w+)/g,function(e,n){return n.toLowerCase()in i?(t.data.preSniffing="html","<"+n):e}):CKEDITOR.env.webkit?e=e.replace(/<\/(\w+)><div><br><\/div>$/,function(e,n){return n in i?(t.data.endsWithEOL=1,"</"+n+">"):e}):CKEDITOR.env.gecko&&(e=e.replace(/(\s)<br>$/,"$1")),t.data.dataValue=e},null,null,3),t.on("paste",function(e){e=e.data;var o,r=t._.nextPasteType||e.type,l=e.dataValue,d=t.config.clipboard_defaultContentType||"html",c=e.dataTransfer.getTransferType(t);o="html"==r||"html"==e.preSniffing?"html":i(l),delete t._.nextPasteType,"htmlifiedtext"==o&&(l=n(t.config,l)),"text"==r&&"html"==o?l=a(t,l,s.get("plain-text")):c==CKEDITOR.DATA_TRANSFER_EXTERNAL&&t.pasteFilter&&!e.dontFilter&&(l=a(t,l,t.pasteFilter)),e.startsWithEOL&&(l='<br data-cke-eol="1">'+l),e.endsWithEOL&&(l+='<br data-cke-eol="1">'),"auto"==r&&(r="html"==o||"html"==d?"html":"text"),e.type=r,e.dataValue=l,delete e.preSniffing,delete e.startsWithEOL,delete e.endsWithEOL},null,null,6),t.on("paste",function(e){e=e.data,e.dataValue&&(t.insertHtml(e.dataValue,e.type,e.range),setTimeout(function(){t.fire("afterPaste")},0))},null,null,1e3)}}),CKEDITOR.plugins.clipboard={isCustomCopyCutSupported:(!CKEDITOR.env.ie||16<=CKEDITOR.env.version)&&!CKEDITOR.env.iOS,isCustomDataTypesSupported:!CKEDITOR.env.ie||16<=CKEDITOR.env.version,isFileApiSupported:!CKEDITOR.env.ie||9<CKEDITOR.env.version,mainPasteEvent:CKEDITOR.env.ie&&!CKEDITOR.env.edge?"beforepaste":"paste",canClipboardApiBeTrusted:function(t,e){return!!(t.getTransferType(e)!=CKEDITOR.DATA_TRANSFER_EXTERNAL||CKEDITOR.env.chrome&&!t.isEmpty()||CKEDITOR.env.gecko&&(t.getData("text/html")||t.getFilesCount())||CKEDITOR.env.safari&&603<=CKEDITOR.env.version&&!CKEDITOR.env.iOS||CKEDITOR.env.edge&&16<=CKEDITOR.env.version)},getDropTarget:function(t){var e=t.editable();return CKEDITOR.env.ie&&9>CKEDITOR.env.version||e.isInline()?e:t.document},fixSplitNodesAfterDrop:function(t,e,i,n){function o(t,i,n){var o=t;if(o.type==CKEDITOR.NODE_TEXT&&(o=t.getParent()),o.equals(i)&&n!=i.getChildCount())return t=e.startContainer.getChild(e.startOffset-1),i=e.startContainer.getChild(e.startOffset),t&&t.type==CKEDITOR.NODE_TEXT&&i&&i.type==CKEDITOR.NODE_TEXT&&(n=t.getLength(),t.setText(t.getText()+i.getText()),i.remove(),e.setStart(t,n),e.collapse(!0)),!0}var a=e.startContainer;"number"==typeof n&&"number"==typeof i&&a.type==CKEDITOR.NODE_ELEMENT&&(o(t.startContainer,a,i)||o(t.endContainer,a,n))},isDropRangeAffectedByDragRange:function(t,e){var i=e.startContainer,n=e.endOffset;return!!(t.endContainer.equals(i)&&t.endOffset<=n||t.startContainer.getParent().equals(i)&&t.startContainer.getIndex()<n||t.endContainer.getParent().equals(i)&&t.endContainer.getIndex()<n)},internalDrop:function(e,i,n,o){var a,r,s=CKEDITOR.plugins.clipboard,l=o.editable();o.fire("saveSnapshot"),o.fire("lockSnapshot",{dontUpdate:1}),CKEDITOR.env.ie&&10>CKEDITOR.env.version&&this.fixSplitNodesAfterDrop(e,i,s.dragStartContainerChildCount,s.dragEndContainerChildCount),(r=this.isDropRangeAffectedByDragRange(e,i))||(a=e.createBookmark(!1)),s=i.clone().createBookmark(!1),r&&(a=e.createBookmark(!1)),e=a.startNode,i=a.endNode,r=s.startNode,i&&e.getPosition(r)&CKEDITOR.POSITION_PRECEDING&&i.getPosition(r)&CKEDITOR.POSITION_FOLLOWING&&r.insertBefore(e),e=o.createRange(),e.moveToBookmark(a),l.extractHtmlFromRange(e,1),i=o.createRange(),i.moveToBookmark(s),t(o,{dataTransfer:n,method:"drop",range:i},1),o.fire("unlockSnapshot")},getRangeAtDropPosition:function(t,e){var i=t.data.$,n=i.clientX,o=i.clientY,a=e.getSelection(!0).getRanges()[0],r=e.createRange();if(t.data.testRange)return t.data.testRange;if(document.caretRangeFromPoint&&e.document.$.caretRangeFromPoint(n,o))i=e.document.$.caretRangeFromPoint(n,o),r.setStart(CKEDITOR.dom.node(i.startContainer),i.startOffset),r.collapse(!0);else if(i.rangeParent)r.setStart(CKEDITOR.dom.node(i.rangeParent),i.rangeOffset),r.collapse(!0);else{if(CKEDITOR.env.ie&&8<CKEDITOR.env.version&&a&&e.editable().hasFocus)return a;if(!document.body.createTextRange)return null;e.focus(),i=e.document.getBody().$.createTextRange();try{for(var s=!1,l=0;20>l&&!s;l++){if(!s)try{i.moveToPoint(n,o-l),s=!0}catch(t){}if(!s)try{i.moveToPoint(n,o+l),s=!0}catch(t){}}if(s){var d="cke-temp-"+(new Date).getTime();i.pasteHTML('<span id="'+d+'">\u200b</span>');var c=e.document.getById(d);r.moveToPosition(c,CKEDITOR.POSITION_BEFORE_START),c.remove()}else{var h,u=e.document.$.elementFromPoint(n,o),f=new CKEDITOR.dom.element(u);if(f.equals(e.editable())||"html"==f.getName())return a&&a.startContainer&&!a.startContainer.equals(e.editable())?a:null;h=f.getClientRect(),n<h.left?r.setStartAt(f,CKEDITOR.POSITION_AFTER_START):r.setStartAt(f,CKEDITOR.POSITION_BEFORE_END),r.collapse(!0)}}catch(t){return null}}return r},initDragDataTransfer:function(t,e){var i=t.data.$?t.data.$.dataTransfer:null,n=new this.dataTransfer(i,e);"dragstart"===t.name&&n.storeId(),i?this.dragData&&n.id==this.dragData.id?n=this.dragData:this.dragData=n:this.dragData?n=this.dragData:this.dragData=n,t.data.dataTransfer=n},resetDragDataTransfer:function(){this.dragData=null},initPasteDataTransfer:function(t,e){if(this.isCustomCopyCutSupported){if(t&&t.data&&t.data.$){var i=t.data.$.clipboardData,n=new this.dataTransfer(i,e);return"copy"!==t.name&&"cut"!==t.name||n.storeId(),this.copyCutData&&n.id==this.copyCutData.id?(n=this.copyCutData,n.$=i):this.copyCutData=n,n}return new this.dataTransfer(null,e)}return new this.dataTransfer(CKEDITOR.env.edge&&t&&t.data.$&&t.data.$.clipboardData||null,e)},preventDefaultDropOnElement:function(t){t&&t.on("dragover",s)}},d=CKEDITOR.plugins.clipboard.isCustomDataTypesSupported?"cke/id":"Text",CKEDITOR.plugins.clipboard.dataTransfer=function(t,e){t&&(this.$=t),this._={metaRegExp:/^<meta.*?>/i,bodyRegExp:/<body(?:[\s\S]*?)>([\s\S]*)<\/body>/i,fragmentRegExp:/\x3c!--(?:Start|End)Fragment--\x3e/g,data:{},files:[],nativeHtmlCache:"",normalizeType:function(t){return t=t.toLowerCase(),"text"==t||"text/plain"==t?"Text":"url"==t?"URL":t}},this._.fallbackDataTransfer=new CKEDITOR.plugins.clipboard.fallbackDataTransfer(this),this.id=this.getData(d),this.id||(this.id="Text"==d?"":"cke-"+CKEDITOR.tools.getUniqueId()),e&&(this.sourceEditor=e,this.setData("text/html",e.getSelectedHtml(1)),"Text"==d||this.getData("text/plain")||this.setData("text/plain",e.getSelection().getSelectedText()))},CKEDITOR.DATA_TRANSFER_INTERNAL=1,CKEDITOR.DATA_TRANSFER_CROSS_EDITORS=2,CKEDITOR.DATA_TRANSFER_EXTERNAL=3,CKEDITOR.plugins.clipboard.dataTransfer.prototype={getData:function(t,e){t=this._.normalizeType(t);var i="text/html"==t&&e?this._.nativeHtmlCache:this._.data[t];if(void 0===i||null===i||""===i){if(this._.fallbackDataTransfer.isRequired())i=this._.fallbackDataTransfer.getData(t,e);else try{i=this.$.getData(t)||""}catch(t){i=""}"text/html"!=t||e||(i=this._stripHtml(i))}if("Text"==t&&CKEDITOR.env.gecko&&this.getFilesCount()&&"file://"==i.substring(0,7)&&(i=""),"string"==typeof i)var n=i.indexOf("</html>"),i=-1!==n?i.substring(0,n+7):i;return i},setData:function(t,e){if(t=this._.normalizeType(t),"text/html"==t?(this._.data[t]=this._stripHtml(e),this._.nativeHtmlCache=e):this._.data[t]=e,CKEDITOR.plugins.clipboard.isCustomDataTypesSupported||"URL"==t||"Text"==t)if("Text"==d&&"Text"==t&&(this.id=e),this._.fallbackDataTransfer.isRequired())this._.fallbackDataTransfer.setData(t,e);else try{this.$.setData(t,e)}catch(t){}},storeId:function(){"Text"!==d&&this.setData(d,this.id)},getTransferType:function(t){return this.sourceEditor?this.sourceEditor==t?CKEDITOR.DATA_TRANSFER_INTERNAL:CKEDITOR.DATA_TRANSFER_CROSS_EDITORS:CKEDITOR.DATA_TRANSFER_EXTERNAL},cacheData:function(){function t(t){t=n._.normalizeType(t);var e=n.getData(t);"text/html"==t&&(n._.nativeHtmlCache=n.getData(t,!0),e=n._stripHtml(e)),e&&(n._.data[t]=e)}if(this.$){var e,i,n=this;if(CKEDITOR.plugins.clipboard.isCustomDataTypesSupported){if(this.$.types)for(e=0;e<this.$.types.length;e++)t(this.$.types[e])}else t("Text"),t("URL");if(i=this._getImageFromClipboard(),this.$&&this.$.files||i){if(this._.files=[],this.$.files&&this.$.files.length)for(e=0;e<this.$.files.length;e++)this._.files.push(this.$.files[e]);0===this._.files.length&&i&&this._.files.push(i)}}},getFilesCount:function(){return this._.files.length?this._.files.length:this.$&&this.$.files&&this.$.files.length?this.$.files.length:this._getImageFromClipboard()?1:0},getFile:function(t){return this._.files.length?this._.files[t]:this.$&&this.$.files&&this.$.files.length?this.$.files[t]:0===t?this._getImageFromClipboard():void 0},isEmpty:function(){var t,e={};if(this.getFilesCount())return!1;if(CKEDITOR.tools.array.forEach(CKEDITOR.tools.objectKeys(this._.data),function(t){e[t]=1}),this.$)if(CKEDITOR.plugins.clipboard.isCustomDataTypesSupported){if(this.$.types)for(var i=0;i<this.$.types.length;i++)e[this.$.types[i]]=1}else e.Text=1,e.URL=1;"Text"!=d&&(e[d]=0);for(t in e)if(e[t]&&""!==this.getData(t))return!1;return!0},_getImageFromClipboard:function(){var t;if(this.$&&this.$.items&&this.$.items[0])try{if((t=this.$.items[0].getAsFile())&&t.type)return t}catch(t){}},_stripHtml:function(t){if(t&&t.length){t=t.replace(this._.metaRegExp,"");var e=this._.bodyRegExp.exec(t);e&&e.length&&(t=e[1],t=t.replace(this._.fragmentRegExp,""))}return t}},CKEDITOR.plugins.clipboard.fallbackDataTransfer=function(t){this._dataTransfer=t,this._customDataFallbackType="text/html"},CKEDITOR.plugins.clipboard.fallbackDataTransfer._isCustomMimeTypeSupported=null,CKEDITOR.plugins.clipboard.fallbackDataTransfer._customTypes=[],CKEDITOR.plugins.clipboard.fallbackDataTransfer.prototype={isRequired:function(){var t=CKEDITOR.plugins.clipboard.fallbackDataTransfer,e=this._dataTransfer.$;if(null===t._isCustomMimeTypeSupported){if(!e)return!1;t._isCustomMimeTypeSupported=!1;try{e.setData("cke/mimetypetest","cke test value"),t._isCustomMimeTypeSupported="cke test value"===e.getData("cke/mimetypetest"),e.clearData("cke/mimetypetest")}catch(t){}}return!t._isCustomMimeTypeSupported},getData:function(t,e){var i=this._getData(this._customDataFallbackType,!0);if(e)return i;var i=this._extractDataComment(i),n=null,n=t===this._customDataFallbackType?i.content:i.data&&i.data[t]?i.data[t]:this._getData(t,!0);return null!==n?n:""},setData:function(t,e){var i=t===this._customDataFallbackType;i&&(e=this._applyDataComment(e,this._getFallbackTypeData()));var n=e,o=this._dataTransfer.$;try{o.setData(t,n),
i&&(this._dataTransfer._.nativeHtmlCache=n)}catch(e){if(this._isUnsupportedMimeTypeError(e)){i=CKEDITOR.plugins.clipboard.fallbackDataTransfer,-1===CKEDITOR.tools.indexOf(i._customTypes,t)&&i._customTypes.push(t);var i=this._getFallbackTypeContent(),a=this._getFallbackTypeData();a[t]=n;try{n=this._applyDataComment(i,a),o.setData(this._customDataFallbackType,n),this._dataTransfer._.nativeHtmlCache=n}catch(t){n=""}}}return n},_getData:function(t,e){var i=this._dataTransfer._.data;if(!e&&i[t])return i[t];try{return this._dataTransfer.$.getData(t)}catch(t){return null}},_getFallbackTypeContent:function(){var t=this._dataTransfer._.data[this._customDataFallbackType];return t||(t=this._extractDataComment(this._getData(this._customDataFallbackType,!0)).content),t},_getFallbackTypeData:function(){var t=CKEDITOR.plugins.clipboard.fallbackDataTransfer._customTypes,e=this._extractDataComment(this._getData(this._customDataFallbackType,!0)).data||{},i=this._dataTransfer._.data;return CKEDITOR.tools.array.forEach(t,function(t){void 0!==i[t]?e[t]=i[t]:void 0!==e[t]&&(e[t]=e[t])},this),e},_isUnsupportedMimeTypeError:function(t){return t.message&&-1!==t.message.search(/element not found/gi)},_extractDataComment:function(t){var e={data:null,content:t||""};if(t&&16<t.length){var i;(i=/\x3c!--cke-data:(.*?)--\x3e/g.exec(t))&&i[1]&&(e.data=JSON.parse(decodeURIComponent(i[1])),e.content=t.replace(i[0],""))}return e},_applyDataComment:function(t,e){var i="";return e&&CKEDITOR.tools.objectKeys(e).length&&(i="<!--cke-data:"+encodeURIComponent(JSON.stringify(e))+"-->"),i+(t&&t.length?t:"")}}}(),CKEDITOR.config.clipboard_notificationDuration=1e4,function(){CKEDITOR.plugins.add("panel",{beforeInit:function(t){t.ui.addHandler(CKEDITOR.UI_PANEL,CKEDITOR.ui.panel.handler)}}),CKEDITOR.UI_PANEL="panel",CKEDITOR.ui.panel=function(t,e){e&&CKEDITOR.tools.extend(this,e),CKEDITOR.tools.extend(this,{className:"",css:[]}),this.id=CKEDITOR.tools.getNextId(),this.document=t,this.isFramed=this.forceIFrame||this.css.length,this._={blocks:{}}},CKEDITOR.ui.panel.handler={create:function(t){return new CKEDITOR.ui.panel(t)}};var t=CKEDITOR.addTemplate("panel",'<div lang="{langCode}" id="{id}" dir={dir} class="cke cke_reset_all {editorId} cke_panel cke_panel {cls} cke_{dir}" style="z-index:{z-index}" role="presentation">{frame}</div>'),e=CKEDITOR.addTemplate("panel-frame",'<iframe id="{id}" class="cke_panel_frame" role="presentation" frameborder="0" src="{src}"></iframe>'),i=CKEDITOR.addTemplate("panel-frame-inner",'<!DOCTYPE html><html class="cke_panel_container {env}" dir="{dir}" lang="{langCode}"><head>{css}</head><body class="cke_{dir}" style="margin:0;padding:0" onload="{onload}"></body></html>');CKEDITOR.ui.panel.prototype={render:function(n,o){this.getHolderElement=function(){var t=this._.holder;if(!t){if(this.isFramed){var t=this.document.getById(this.id+"_frame"),e=t.getParent(),t=t.getFrameDocument();CKEDITOR.env.iOS&&e.setStyles({overflow:"scroll","-webkit-overflow-scrolling":"touch"}),e=CKEDITOR.tools.addFunction(CKEDITOR.tools.bind(function(){this.isLoaded=!0,this.onLoad&&this.onLoad()},this)),t.write(i.output(CKEDITOR.tools.extend({css:CKEDITOR.tools.buildStyleHtml(this.css),onload:"window.parent.CKEDITOR.tools.callFunction("+e+");"},a))),t.getWindow().$.CKEDITOR=CKEDITOR,t.on("keydown",function(t){var e=t.data.getKeystroke(),i=this.document.getById(this.id).getAttribute("dir");this._.onKeyDown&&!1===this._.onKeyDown(e)?t.data.preventDefault():(27==e||e==("rtl"==i?39:37))&&this.onEscape&&!1===this.onEscape(e)&&t.data.preventDefault()},this),t=t.getBody(),t.unselectable(),CKEDITOR.env.air&&CKEDITOR.tools.callFunction(e)}else t=this.document.getById(this.id);this._.holder=t}return t};var a={editorId:n.id,id:this.id,langCode:n.langCode,dir:n.lang.dir,cls:this.className,frame:"",env:CKEDITOR.env.cssClass,"z-index":n.config.baseFloatZIndex+1};if(this.isFramed){var r=CKEDITOR.env.air?"javascript:void(0)":CKEDITOR.env.ie?"javascript:void(function(){"+encodeURIComponent("document.open();("+CKEDITOR.tools.fixDomain+")();document.close();")+"}())":"";a.frame=e.output({id:this.id+"_frame",src:r})}return r=t.output(a),o&&o.push(r),r},addBlock:function(t,e){return e=this._.blocks[t]=e instanceof CKEDITOR.ui.panel.block?e:new CKEDITOR.ui.panel.block(this.getHolderElement(),e),this._.currentBlock||this.showBlock(t),e},getBlock:function(t){return this._.blocks[t]},showBlock:function(t){t=this._.blocks[t];var e=this._.currentBlock,i=!this.forceIFrame||CKEDITOR.env.ie?this._.holder:this.document.getById(this.id+"_frame");return e&&e.hide(),this._.currentBlock=t,CKEDITOR.fire("ariaWidget",i),t._.focusIndex=-1,this._.onKeyDown=t.onKeyDown&&CKEDITOR.tools.bind(t.onKeyDown,t),t.show(),t},destroy:function(){this.element&&this.element.remove()}},CKEDITOR.ui.panel.block=CKEDITOR.tools.createClass({$:function(t,e){this.element=t.append(t.getDocument().createElement("div",{attributes:{tabindex:-1,"class":"cke_panel_block"},styles:{display:"none"}})),e&&CKEDITOR.tools.extend(this,e),this.element.setAttributes({role:this.attributes.role||"presentation","aria-label":this.attributes["aria-label"],title:this.attributes.title||this.attributes["aria-label"]}),this.keys={},this._.focusIndex=-1,this.element.disableContextMenu()},_:{markItem:function(t){-1!=t&&(t=this.element.getElementsByTag("a").getItem(this._.focusIndex=t),CKEDITOR.env.webkit&&t.getDocument().getWindow().focus(),t.focus(),this.onMark&&this.onMark(t))},markFirstDisplayed:function(t){for(var e,i,n=function(t){return t.type==CKEDITOR.NODE_ELEMENT&&"none"==t.getStyle("display")},o=this._.getItems(),a=o.count()-1;0<=a;a--)if(e=o.getItem(a),e.getAscendant(n)||(i=e,this._.focusIndex=a),"true"==e.getAttribute("aria-selected")){i=e,this._.focusIndex=a;break}i&&(t&&t(),CKEDITOR.env.webkit&&i.getDocument().getWindow().focus(),i.focus(),this.onMark&&this.onMark(i))},getItems:function(){return this.element.getElementsByTag("a")}},proto:{show:function(){this.element.setStyle("display","")},hide:function(){this.onHide&&!0===this.onHide.call(this)||this.element.setStyle("display","none")},onKeyDown:function(t,e){var i=this.keys[t];switch(i){case"next":for(var n,o=this._.focusIndex,i=this.element.getElementsByTag("a");n=i.getItem(++o);)if(n.getAttribute("_cke_focus")&&n.$.offsetWidth){this._.focusIndex=o,n.focus();break}return!n&&!e&&(this._.focusIndex=-1,this.onKeyDown(t,1));case"prev":for(o=this._.focusIndex,i=this.element.getElementsByTag("a");0<o&&(n=i.getItem(--o));){if(n.getAttribute("_cke_focus")&&n.$.offsetWidth){this._.focusIndex=o,n.focus();break}n=null}return!n&&!e&&(this._.focusIndex=i.count(),this.onKeyDown(t,1));case"click":case"mouseup":return o=this._.focusIndex,(n=0<=o&&this.element.getElementsByTag("a").getItem(o))&&(n.$[i]?n.$[i]():n.$["on"+i]()),!1}return!0}}})}(),CKEDITOR.plugins.add("floatpanel",{requires:"panel"}),function(){function t(t,i,n,o,a){a=CKEDITOR.tools.genKey(i.getUniqueId(),n.getUniqueId(),t.lang.dir,t.uiColor||"",o.css||"",a||"");var r=e[a];return r||(r=e[a]=new CKEDITOR.ui.panel(i,o),r.element=n.append(CKEDITOR.dom.element.createFromHtml(r.render(t),i)),r.element.setStyles({display:"none",position:"absolute"})),r}var e={};CKEDITOR.ui.floatPanel=CKEDITOR.tools.createClass({$:function(e,i,n,o){function a(){d.hide()}n.forceIFrame=1,n.toolbarRelated&&e.elementMode==CKEDITOR.ELEMENT_MODE_INLINE&&(i=CKEDITOR.document.getById("cke_"+e.name));var r=i.getDocument();o=t(e,r,i,n,o||0);var s=o.element,l=s.getFirst(),d=this;s.disableContextMenu(),this.element=s,this._={editor:e,panel:o,parentElement:i,definition:n,document:r,iframe:l,children:[],dir:e.lang.dir,showBlockParams:null},e.on("mode",a),e.on("resize",a),r.getWindow().on("resize",function(){this.reposition()},this)},proto:{addBlock:function(t,e){return this._.panel.addBlock(t,e)},addListBlock:function(t,e){return this._.panel.addListBlock(t,e)},getBlock:function(t){return this._.panel.getBlock(t)},showBlock:function(t,e,i,n,o,a){var r=this._.panel,s=r.showBlock(t);this._.showBlockParams=[].slice.call(arguments),this.allowBlur(!1);var l=this._.editor.editable();this._.returnFocus=l.hasFocus?l:new CKEDITOR.dom.element(CKEDITOR.document.$.activeElement),this._.hideTimeout=0;var d=this.element,l=this._.iframe,l=CKEDITOR.env.ie&&!CKEDITOR.env.edge?l:new CKEDITOR.dom.window(l.$.contentWindow),c=d.getDocument(),h=this._.parentElement.getPositionedAncestor(),u=e.getDocumentPosition(c),c=h?h.getDocumentPosition(c):{x:0,y:0},f="rtl"==this._.dir,p=u.x+(n||0)-c.x,m=u.y+(o||0)-c.y;!f||1!=i&&4!=i?f||2!=i&&3!=i||(p+=e.$.offsetWidth-1):p+=e.$.offsetWidth,3!=i&&4!=i||(m+=e.$.offsetHeight-1),this._.panel._.offsetParentId=e.getId(),d.setStyles({top:m+"px",left:0,display:""}),d.setOpacity(0),d.getFirst().removeStyle("width"),this._.editor.focusManager.add(l),this._.blurSet||(CKEDITOR.event.useCapture=!0,l.on("blur",function(t){function e(){delete this._.returnFocus,this.hide()}this.allowBlur()&&t.data.getPhase()==CKEDITOR.EVENT_PHASE_AT_TARGET&&this.visible&&!this._.activeChild&&(CKEDITOR.env.iOS?this._.hideTimeout||(this._.hideTimeout=CKEDITOR.tools.setTimeout(e,0,this)):e.call(this))},this),l.on("focus",function(){this._.focused=!0,this.hideChild(),this.allowBlur(!0)},this),CKEDITOR.env.iOS&&(l.on("touchstart",function(){clearTimeout(this._.hideTimeout)},this),l.on("touchend",function(){this._.hideTimeout=0,this.focus()},this)),CKEDITOR.event.useCapture=!1,this._.blurSet=1),r.onEscape=CKEDITOR.tools.bind(function(t){if(this.onEscape&&!1===this.onEscape(t))return!1},this),CKEDITOR.tools.setTimeout(function(){var t=CKEDITOR.tools.bind(function(){var t=d;if(t.removeStyle("width"),s.autoSize){var e=s.element.getDocument(),e=(CKEDITOR.env.webkit||CKEDITOR.env.edge?s.element:e.getBody()).$.scrollWidth;CKEDITOR.env.ie&&CKEDITOR.env.quirks&&0<e&&(e+=(t.$.offsetWidth||0)-(t.$.clientWidth||0)+3),t.setStyle("width",e+10+"px"),e=s.element.$.scrollHeight,CKEDITOR.env.ie&&CKEDITOR.env.quirks&&0<e&&(e+=(t.$.offsetHeight||0)-(t.$.clientHeight||0)+3),t.setStyle("height",e+"px"),r._.currentBlock.element.setStyle("display","none").removeStyle("display")}else t.removeStyle("height");f&&(p-=d.$.offsetWidth),d.setStyle("left",p+"px");var e=r.element.getWindow(),t=d.$.getBoundingClientRect(),e=e.getViewPaneSize(),i=t.width||t.right-t.left,n=t.height||t.bottom-t.top,o=f?t.right:e.width-t.left,l=f?e.width-t.right:t.left;f?o<i&&(p=l>i?p+i:e.width>i?p-t.left:p-t.right+e.width):o<i&&(p=l>i?p-i:e.width>i?p-t.right+e.width:p-t.left),i=t.top,e.height-t.top<n&&(m=i>n?m-n:e.height>n?m-t.bottom+e.height:m-t.top),CKEDITOR.env.ie&&(e=t=new CKEDITOR.dom.element(d.$.offsetParent),"html"==e.getName()&&(e=e.getDocument().getBody()),"rtl"==e.getComputedStyle("direction")&&(p=CKEDITOR.env.ie8Compat?p-2*d.getDocument().getDocumentElement().$.scrollLeft:p-(t.$.scrollWidth-t.$.clientWidth)));var c,t=d.getFirst();(c=t.getCustomData("activePanel"))&&c.onHide&&c.onHide.call(this,1),t.setCustomData("activePanel",this),d.setStyles({top:m+"px",left:p+"px"}),d.setOpacity(1),a&&a()},this);r.isLoaded?t():r.onLoad=t,CKEDITOR.tools.setTimeout(function(){var t=CKEDITOR.env.webkit&&CKEDITOR.document.getWindow().getScrollPosition().y;this.focus(),s.element.focus(),CKEDITOR.env.webkit&&(CKEDITOR.document.getBody().$.scrollTop=t),this.allowBlur(!0),CKEDITOR.env.ie?CKEDITOR.tools.setTimeout(function(){s.markFirstDisplayed?s.markFirstDisplayed():s._.markFirstDisplayed()},0):s.markFirstDisplayed?s.markFirstDisplayed():s._.markFirstDisplayed(),this._.editor.fire("panelShow",this)},0,this)},CKEDITOR.env.air?200:0,this),this.visible=1,this.onShow&&this.onShow.call(this)},reposition:function(){var t=this._.showBlockParams;this.visible&&this._.showBlockParams&&(this.hide(),this.showBlock.apply(this,t))},focus:function(){if(CKEDITOR.env.webkit){var t=CKEDITOR.document.getActive();t&&!t.equals(this._.iframe)&&t.$.blur()}(this._.lastFocused||this._.iframe.getFrameDocument().getWindow()).focus()},blur:function(){var t=this._.iframe.getFrameDocument().getActive();t&&t.is("a")&&(this._.lastFocused=t)},hide:function(t){!this.visible||this.onHide&&!0===this.onHide.call(this)||(this.hideChild(),CKEDITOR.env.gecko&&this._.iframe.getFrameDocument().$.activeElement.blur(),this.element.setStyle("display","none"),this.visible=0,this.element.getFirst().removeCustomData("activePanel"),(t=t&&this._.returnFocus)&&(CKEDITOR.env.webkit&&t.type&&t.getWindow().$.focus(),t.focus()),delete this._.lastFocused,this._.showBlockParams=null,this._.editor.fire("panelHide",this))},allowBlur:function(t){var e=this._.panel;return void 0!==t&&(e.allowBlur=t),e.allowBlur},showAsChild:function(t,e,i,n,o,a){this._.activeChild==t&&t._.panel._.offsetParentId==i.getId()||(this.hideChild(),t.onHide=CKEDITOR.tools.bind(function(){CKEDITOR.tools.setTimeout(function(){this._.focused||this.hide()},0,this)},this),this._.activeChild=t,this._.focused=!1,t.showBlock(e,i,n,o,a),this.blur(),(CKEDITOR.env.ie7Compat||CKEDITOR.env.ie6Compat)&&setTimeout(function(){t.element.getChild(0).$.style.cssText+=""},100))},hideChild:function(t){var e=this._.activeChild;e&&(delete e.onHide,delete this._.activeChild,e.hide(),t&&this.focus())}}}),CKEDITOR.on("instanceDestroyed",function(){var t,i=CKEDITOR.tools.isEmpty(CKEDITOR.instances);for(t in e){var n=e[t];i?n.destroy():n.element.hide()}i&&(e={})})}(),CKEDITOR.plugins.add("menu",{requires:"floatpanel",beforeInit:function(t){for(var e=t.config.menu_groups.split(","),i=t._.menuGroups={},n=t._.menuItems={},o=0;o<e.length;o++)i[e[o]]=o+1;t.addMenuGroup=function(t,e){i[t]=e||100},t.addMenuItem=function(t,e){i[e.group]&&(n[t]=new CKEDITOR.menuItem(this,t,e))},t.addMenuItems=function(t){for(var e in t)this.addMenuItem(e,t[e])},t.getMenuItem=function(t){return n[t]},t.removeMenuItem=function(t){delete n[t]}}}),function(){function t(t){t.sort(function(t,e){return t.group<e.group?-1:t.group>e.group?1:t.order<e.order?-1:t.order>e.order?1:0})}var e='<span class="cke_menuitem"><a id="{id}" class="cke_menubutton cke_menubutton__{name} cke_menubutton_{state} {cls}" href="{href}" title="{title}" tabindex="-1" _cke_focus=1 hidefocus="true" role="{role}" aria-label="{label}" aria-describedby="{id}_description" aria-haspopup="{hasPopup}" aria-disabled="{disabled}" {ariaChecked} draggable="false"';CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(e+=' onkeypress="return false;"'),CKEDITOR.env.gecko&&(e+=' onblur="this.style.cssText = this.style.cssText;" ondragstart="return false;"');var e=e+' onmouseover="CKEDITOR.tools.callFunction({hoverFn},{index});" onmouseout="CKEDITOR.tools.callFunction({moveOutFn},{index});" '+(CKEDITOR.env.ie?'onclick="return false;" onmouseup':"onclick")+'="CKEDITOR.tools.callFunction({clickFn},{index}); return false;">',i=CKEDITOR.addTemplate("menuItem",e+'<span class="cke_menubutton_inner"><span class="cke_menubutton_icon"><span class="cke_button_icon cke_button__{iconName}_icon" style="{iconStyle}"></span></span><span class="cke_menubutton_label">{label}</span>{shortcutHtml}{arrowHtml}</span></a><span id="{id}_description" class="cke_voice_label" aria-hidden="false">{ariaShortcut}</span></span>'),n=CKEDITOR.addTemplate("menuArrow",'<span class="cke_menuarrow"><span>{label}</span></span>'),o=CKEDITOR.addTemplate("menuShortcut",'<span class="cke_menubutton_label cke_menubutton_shortcut">{shortcut}</span>');CKEDITOR.menu=CKEDITOR.tools.createClass({$:function(t,e){e=this._.definition=e||{},this.id=CKEDITOR.tools.getNextId(),this.editor=t,this.items=[],this._.listeners=[],this._.level=e.level||1;var i=CKEDITOR.tools.extend({},e.panel,{css:[CKEDITOR.skin.getPath("editor")],level:this._.level-1,block:{}}),n=i.block.attributes=i.attributes||{};!n.role&&(n.role="menu"),this._.panelDefinition=i},_:{onShow:function(){var t=this.editor.getSelection(),e=t&&t.getStartElement(),i=this.editor.elementPath(),n=this._.listeners;this.removeAll();for(var o=0;o<n.length;o++){var a=n[o](e,t,i);if(a)for(var r in a){var s=this.editor.getMenuItem(r);!s||s.command&&!this.editor.getCommand(s.command).state||(s.state=a[r],this.add(s))}}},onClick:function(t){this.hide(),t.onClick?t.onClick():t.command&&this.editor.execCommand(t.command)},onEscape:function(t){var e=this.parent;return e?e._.panel.hideChild(1):27==t&&this.hide(1),!1},onHide:function(){this.onHide&&this.onHide()},showSubMenu:function(t){var e=this._.subMenu,i=this.items[t];if(i=i.getItems&&i.getItems()){e?e.removeAll():(e=this._.subMenu=new CKEDITOR.menu(this.editor,CKEDITOR.tools.extend({},this._.definition,{level:this._.level+1},!0)),e.parent=this,e._.onClick=CKEDITOR.tools.bind(this._.onClick,this));for(var n in i){var o=this.editor.getMenuItem(n);o&&(o.state=i[n],e.add(o))}var a=this._.panel.getBlock(this.id).element.getDocument().getById(this.id+String(t));setTimeout(function(){e.show(a,2)},0)}else this._.panel.hideChild(1)}},proto:{add:function(t){t.order||(t.order=this.items.length),this.items.push(t)},removeAll:function(){this.items=[]},show:function(e,i,n,o){if(this.parent||(this._.onShow(),this.items.length)){i=i||("rtl"==this.editor.lang.dir?2:1);var a=this.items,r=this.editor,s=this._.panel,l=this._.element;if(!s){s=this._.panel=new CKEDITOR.ui.floatPanel(this.editor,CKEDITOR.document.getBody(),this._.panelDefinition,this._.level),s.onEscape=CKEDITOR.tools.bind(function(t){if(!1===this._.onEscape(t))return!1},this),s.onShow=function(){s._.panel.getHolderElement().getParent().addClass("cke").addClass("cke_reset_all")},s.onHide=CKEDITOR.tools.bind(function(){this._.onHide&&this._.onHide()},this),l=s.addBlock(this.id,this._.panelDefinition.block),l.autoSize=!0;var d=l.keys;d[40]="next",d[9]="next",d[38]="prev",d[CKEDITOR.SHIFT+9]="prev",d["rtl"==r.lang.dir?37:39]=CKEDITOR.env.ie?"mouseup":"click",d[32]=CKEDITOR.env.ie?"mouseup":"click",CKEDITOR.env.ie&&(d[13]="mouseup"),l=this._.element=l.element,d=l.getDocument(),d.getBody().setStyle("overflow","hidden"),d.getElementsByTag("html").getItem(0).setStyle("overflow","hidden"),this._.itemOverFn=CKEDITOR.tools.addFunction(function(t){clearTimeout(this._.showSubTimeout),this._.showSubTimeout=CKEDITOR.tools.setTimeout(this._.showSubMenu,r.config.menu_subMenuDelay||400,this,[t])},this),this._.itemOutFn=CKEDITOR.tools.addFunction(function(){clearTimeout(this._.showSubTimeout)},this),this._.itemClickFn=CKEDITOR.tools.addFunction(function(t){var e=this.items[t];e.state==CKEDITOR.TRISTATE_DISABLED?this.hide(1):e.getItems?this._.showSubMenu(t):this._.onClick(e)},this)}t(a);for(var d=r.elementPath(),d=['<div class="cke_menu'+(d&&d.direction()!=r.lang.dir?" cke_mixed_dir_content":"")+'" role="presentation">'],c=a.length,h=c&&a[0].group,u=0;u<c;u++){var f=a[u];h!=f.group&&(d.push('<div class="cke_menuseparator" role="separator"></div>'),h=f.group),f.render(this,u,d)}d.push("</div>"),l.setHtml(d.join("")),CKEDITOR.ui.fire("ready",this),this.parent?this.parent._.panel.showAsChild(s,this.id,e,i,n,o):s.showBlock(this.id,e,i,n,o),r.fire("menuShow",[s])}},addListener:function(t){this._.listeners.push(t)},hide:function(t){this._.onHide&&this._.onHide(),this._.panel&&this._.panel.hide(t)}}}),CKEDITOR.menuItem=CKEDITOR.tools.createClass({$:function(t,e,i){CKEDITOR.tools.extend(this,i,{order:0,className:"cke_menubutton__"+e}),this.group=t._.menuGroups[this.group],this.editor=t,this.name=e},proto:{render:function(t,e,a){var r,s,l=t.id+String(e),d="undefined"==typeof this.state?CKEDITOR.TRISTATE_OFF:this.state,c="",h=this.editor,u=d==CKEDITOR.TRISTATE_ON?"on":d==CKEDITOR.TRISTATE_DISABLED?"disabled":"off";this.role in{menuitemcheckbox:1,menuitemradio:1}&&(c=' aria-checked="'+(d==CKEDITOR.TRISTATE_ON?"true":"false")+'"');var f=this.getItems,p="&#"+("rtl"==this.editor.lang.dir?"9668":"9658")+";",m=this.name;this.icon&&!/\./.test(this.icon)&&(m=this.icon),this.command&&(r=h.getCommand(this.command),(r=h.getCommandKeystroke(r))&&(s=CKEDITOR.tools.keystrokeToString(h.lang.common.keyboard,r))),t={id:l,name:this.name,iconName:m,label:this.label,cls:this.className||"",state:u,hasPopup:f?"true":"false",disabled:d==CKEDITOR.TRISTATE_DISABLED,title:this.label+(s?" ("+s.display+")":""),ariaShortcut:s?h.lang.common.keyboardShortcut+" "+s.aria:"",href:"javascript:void('"+(this.label||"").replace("'")+"')",hoverFn:t._.itemOverFn,moveOutFn:t._.itemOutFn,clickFn:t._.itemClickFn,index:e,iconStyle:CKEDITOR.skin.getIconStyle(m,"rtl"==this.editor.lang.dir,m==this.icon?null:this.icon,this.iconOffset),shortcutHtml:s?o.output({shortcut:s.display}):"",arrowHtml:f?n.output({label:p}):"",role:this.role?this.role:"menuitem",ariaChecked:c},i.output(t,a)}}})}(),CKEDITOR.config.menu_groups="clipboard,form,tablecell,tablecellproperties,tablerow,tablecolumn,table,anchor,link,image,flash,checkbox,radio,textfield,hiddenfield,imagebutton,button,select,textarea,div",CKEDITOR.plugins.add("contextmenu",{requires:"menu",onLoad:function(){CKEDITOR.plugins.contextMenu=CKEDITOR.tools.createClass({base:CKEDITOR.menu,$:function(t){this.base.call(this,t,{panel:{className:"cke_menu_panel",attributes:{"aria-label":t.lang.contextmenu.options}}})},proto:{addTarget:function(t,e){if(t.on("contextmenu",function(t){t=t.data;var n=CKEDITOR.env.webkit?i:CKEDITOR.env.mac?t.$.metaKey:t.$.ctrlKey;if(!e||!n){if(t.preventDefault(),CKEDITOR.env.mac&&CKEDITOR.env.webkit){var n=this.editor,o=new CKEDITOR.dom.elementPath(t.getTarget(),n.editable()).contains(function(t){return t.hasAttribute("contenteditable")},!0);o&&"false"==o.getAttribute("contenteditable")&&n.getSelection().fake(o)}var o=t.getTarget().getDocument(),a=t.getTarget().getDocument().getDocumentElement(),n=!o.equals(CKEDITOR.document),o=o.getWindow().getScrollPosition(),r=n?t.$.clientX:t.$.pageX||o.x+t.$.clientX,s=n?t.$.clientY:t.$.pageY||o.y+t.$.clientY;CKEDITOR.tools.setTimeout(function(){this.open(a,null,r,s)},CKEDITOR.env.ie?200:0,this)}},this),CKEDITOR.env.webkit){var i,n=function(){i=0};t.on("keydown",function(t){i=CKEDITOR.env.mac?t.data.$.metaKey:t.data.$.ctrlKey}),t.on("keyup",n),t.on("contextmenu",n)}},open:function(t,e,i,n){!1!==this.editor.config.enableContextMenu&&(this.editor.focus(),t=t||CKEDITOR.document.getDocumentElement(),this.editor.selectionChange(1),this.show(t,e,i,n))}}})},beforeInit:function(t){var e=t.contextMenu=new CKEDITOR.plugins.contextMenu(t);t.on("contentDom",function(){e.addTarget(t.editable(),!1!==t.config.browserContextMenuOnCtrl)}),t.addCommand("contextMenu",{exec:function(){t.contextMenu.open(t.document.getBody())}}),t.setKeystroke(CKEDITOR.SHIFT+121,"contextMenu"),t.setKeystroke(CKEDITOR.CTRL+CKEDITOR.SHIFT+121,"contextMenu")}}),CKEDITOR.plugins.add("resize",{init:function(t){function e(e){var i=s.width,o=s.height,l=i+(e.data.$.screenX-r.x)*("rtl"==a?-1:1);e=o+(e.data.$.screenY-r.y),d&&(i=Math.max(n.resize_minWidth,Math.min(l,n.resize_maxWidth))),c&&(o=Math.max(n.resize_minHeight,Math.min(e,n.resize_maxHeight))),t.resize(d?i:null,o)}function i(){CKEDITOR.document.removeListener("mousemove",e),CKEDITOR.document.removeListener("mouseup",i),t.document&&(t.document.removeListener("mousemove",e),t.document.removeListener("mouseup",i))}var n=t.config,o=t.ui.spaceId("resizer"),a=t.element?t.element.getDirection(1):"ltr";if(!n.resize_dir&&(n.resize_dir="vertical"),void 0===n.resize_maxWidth&&(n.resize_maxWidth=3e3),void 0===n.resize_maxHeight&&(n.resize_maxHeight=3e3),void 0===n.resize_minWidth&&(n.resize_minWidth=750),void 0===n.resize_minHeight&&(n.resize_minHeight=250),!1!==n.resize_enabled){var r,s,l=null,d=("both"==n.resize_dir||"horizontal"==n.resize_dir)&&n.resize_minWidth!=n.resize_maxWidth,c=("both"==n.resize_dir||"vertical"==n.resize_dir)&&n.resize_minHeight!=n.resize_maxHeight,h=CKEDITOR.tools.addFunction(function(o){l||(l=t.getResizable()),s={width:l.$.offsetWidth||0,height:l.$.offsetHeight||0},r={x:o.screenX,y:o.screenY},n.resize_minWidth>s.width&&(n.resize_minWidth=s.width),n.resize_minHeight>s.height&&(n.resize_minHeight=s.height),CKEDITOR.document.on("mousemove",e),CKEDITOR.document.on("mouseup",i),t.document&&(t.document.on("mousemove",e),t.document.on("mouseup",i)),o.preventDefault&&o.preventDefault()});t.on("destroy",function(){CKEDITOR.tools.removeFunction(h)}),t.on("uiSpace",function(e){if("bottom"==e.data.space){var i="";d&&!c&&(i=" cke_resizer_horizontal"),!d&&c&&(i=" cke_resizer_vertical");var n='<span id="'+o+'" class="cke_resizer'+i+" cke_resizer_"+a+'" title="'+CKEDITOR.tools.htmlEncode(t.lang.common.resize)+'" onmousedown="CKEDITOR.tools.callFunction('+h+', event)">'+("ltr"==a?"\u25e2":"\u25e3")+"</span>";"ltr"==a&&"ltr"==i?e.data.html+=n:e.data.html=n+e.data.html}},t,null,100),t.on("maximize",function(e){t.ui.space("resizer")[e.data==CKEDITOR.TRISTATE_ON?"hide":"show"]()})}}}),function(){function t(t,i){function o(e){e=l.list[e];var i;e.equals(t.editable())||"true"==e.getAttribute("contenteditable")?(i=t.createRange(),i.selectNodeContents(e),i=i.select()):(i=t.getSelection(),i.selectElement(e)),CKEDITOR.env.ie&&t.fire("selectionChange",{selection:i,path:new CKEDITOR.dom.elementPath(e)}),t.focus()}function a(){r&&r.setHtml('<span class="cke_path_empty">&nbsp;</span>'),delete l.list}var r,s=t.ui.spaceId("path"),l=t._.elementsPath,d=l.idBase;i.html+='<span id="'+s+'_label" class="cke_voice_label">'+t.lang.elementspath.eleLabel+'</span><span id="'+s+'" class="cke_path" role="group" aria-labelledby="'+s+'_label"><span class="cke_path_empty">&nbsp;</span></span>',t.on("uiReady",function(){var e=t.ui.space("path");e&&t.focusManager.add(e,1)}),l.onClick=o;var c=CKEDITOR.tools.addFunction(o),h=CKEDITOR.tools.addFunction(function(e,i){var n,a=l.idBase;switch(i=new CKEDITOR.dom.event(i),n="rtl"==t.lang.dir,i.getKeystroke()){case n?39:37:case 9:return(n=CKEDITOR.document.getById(a+(e+1)))||(n=CKEDITOR.document.getById(a+"0")),n.focus(),!1;case n?37:39:case CKEDITOR.SHIFT+9:return(n=CKEDITOR.document.getById(a+(e-1)))||(n=CKEDITOR.document.getById(a+(l.list.length-1))),n.focus(),!1;case 27:return t.focus(),!1;case 13:case 32:return o(e),!1}return!0});t.on("selectionChange",function(e){for(var i=[],o=l.list=[],a=[],u=l.filters,f=!0,p=e.data.path.elements,m=p.length;m--;){var g=p[m],v=0;e=g.data("cke-display-name")?g.data("cke-display-name"):g.data("cke-real-element-type")?g.data("cke-real-element-type"):g.getName(),(f=g.hasAttribute("contenteditable")?"true"==g.getAttribute("contenteditable"):f)||g.hasAttribute("contenteditable")||(v=1);for(var b=0;b<u.length;b++){var T=u[b](g,e);if(!1===T){v=1;break}e=T||e}v||(o.unshift(g),a.unshift(e))}for(o=o.length,u=0;u<o;u++)e=a[u],f=t.lang.elementspath.eleTitle.replace(/%1/,e),e=n.output({id:d+u,label:f,text:e,jsTitle:"javascript:void('"+e+"')",index:u,keyDownFn:h,clickFn:c}),i.unshift(e);r||(r=CKEDITOR.document.getById(s)),a=r,a.setHtml(i.join("")+'<span class="cke_path_empty">&nbsp;</span>'),t.fire("elementsPathUpdate",{space:a})}),t.on("readOnly",a),t.on("contentDomUnload",a),t.addCommand("elementsPathFocus",e.toolbarFocus),t.setKeystroke(CKEDITOR.ALT+122,"elementsPathFocus")}var e={toolbarFocus:{editorFocus:!1,readOnly:1,exec:function(t){(t=CKEDITOR.document.getById(t._.elementsPath.idBase+"0"))&&t.focus(CKEDITOR.env.ie||CKEDITOR.env.air)}}},i="";CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(i+=' onkeypress="return false;"'),CKEDITOR.env.gecko&&(i+=' onblur="this.style.cssText = this.style.cssText;"');var n=CKEDITOR.addTemplate("pathItem",'<a id="{id}" href="{jsTitle}" tabindex="-1" class="cke_path_item" title="{label}"'+i+' hidefocus="true"  onkeydown="return CKEDITOR.tools.callFunction({keyDownFn},{index}, event );" onclick="CKEDITOR.tools.callFunction({clickFn},{index}); return false;" role="button" aria-label="{label}">{text}</a>');CKEDITOR.plugins.add("elementspath",{init:function(e){e._.elementsPath={idBase:"cke_elementspath_"+CKEDITOR.tools.getNextNumber()+"_",filters:[]},e.on("uiSpace",function(i){"bottom"==i.data.space&&t(e,i.data)})}})}(),function(){function t(t,e,i){if(i=t.config.forceEnterMode||i,"wysiwyg"==t.mode){e||(e=t.activeEnterMode);var n=t.elementPath();n&&!n.isContextFor("p")&&(e=CKEDITOR.ENTER_BR,i=1),t.fire("saveSnapshot"),e==CKEDITOR.ENTER_BR?r(t,e,null,i):s(t,e,null,i),t.fire("saveSnapshot")}}function e(t){t=t.getSelection().getRanges(!0);for(var e=t.length-1;0<e;e--)t[e].deleteContents();return t[0]}function i(t){var e=t.startContainer.getAscendant(function(t){return t.type==CKEDITOR.NODE_ELEMENT&&"true"==t.getAttribute("contenteditable")},!0);return t.root.equals(e)?t:(e=new CKEDITOR.dom.range(e),e.moveToRange(t),e)}CKEDITOR.plugins.add("enterkey",{init:function(e){e.addCommand("enter",{modes:{wysiwyg:1},editorFocus:!1,exec:function(e){t(e)}}),e.addCommand("shiftEnter",{modes:{wysiwyg:1},editorFocus:!1,exec:function(e){t(e,e.activeShiftEnterMode,1)}}),e.setKeystroke([[13,"enter"],[CKEDITOR.SHIFT+13,"shiftEnter"]])}});var n=CKEDITOR.dom.walker.whitespaces(),o=CKEDITOR.dom.walker.bookmark();CKEDITOR.plugins.enterkey={enterBlock:function(t,a,s,d){if(s=s||e(t)){s=i(s);var c,h=s.document,u=s.checkStartOfBlock(),f=s.checkEndOfBlock(),p=t.elementPath(s.startContainer),m=p.block,g=a==CKEDITOR.ENTER_DIV?"div":"p";if(u&&f){if(m&&(m.is("li")||m.getParent().is("li"))){m.is("li")||(m=m.getParent()),s=m.getParent(),c=s.getParent(),d=!m.hasPrevious();var v=!m.hasNext(),g=t.getSelection(),b=g.createBookmarks(),u=m.getDirection(1),f=m.getAttribute("class"),T=m.getAttribute("style"),E=c.getDirection(1)!=u;if(t=t.enterMode!=CKEDITOR.ENTER_BR||E||T||f,c.is("li"))d||v?(d&&v&&s.remove(),m[v?"insertAfter":"insertBefore"](c)):m.breakParent(c);else{if(t)p.block.is("li")?(c=h.createElement(a==CKEDITOR.ENTER_P?"p":"div"),E&&c.setAttribute("dir",u),T&&c.setAttribute("style",T),f&&c.setAttribute("class",f),m.moveChildren(c)):c=p.block,d||v?c[d?"insertBefore":"insertAfter"](s):(m.breakParent(s),c.insertAfter(s));else if(m.appendBogus(!0),d||v)for(;h=m[d?"getFirst":"getLast"]();)h[d?"insertBefore":"insertAfter"](s);else for(m.breakParent(s);h=m.getLast();)h.insertAfter(s);m.remove()}return void g.selectBookmarks(b)}if(m&&m.getParent().is("blockquote"))return m.breakParent(m.getParent()),m.getPrevious().getFirst(CKEDITOR.dom.walker.invisible(1))||m.getPrevious().remove(),m.getNext().getFirst(CKEDITOR.dom.walker.invisible(1))||m.getNext().remove(),s.moveToElementEditStart(m),void s.select()}else if(m&&m.is("pre")&&!f)return void r(t,a,s,d);if(u=s.splitBlock(g)){if(a=u.previousBlock,m=u.nextBlock,p=u.wasStartOfBlock,t=u.wasEndOfBlock,m?(b=m.getParent(),b.is("li")&&(m.breakParent(b),m.move(m.getNext(),1))):a&&(b=a.getParent())&&b.is("li")&&(a.breakParent(b),b=a.getNext(),s.moveToElementEditStart(b),a.move(a.getPrevious())),p||t){if(a?(a.is("li")||!l.test(a.getName())&&!a.is("pre"))&&(c=a.clone()):m&&(c=m.clone()),c?d&&!c.is("li")&&c.renameNode(g):b&&b.is("li")?c=b:(c=h.createElement(g),a&&(v=a.getDirection())&&c.setAttribute("dir",v)),h=u.elementPath)for(d=0,g=h.elements.length;d<g&&(b=h.elements[d],!b.equals(h.block)&&!b.equals(h.blockLimit));d++)CKEDITOR.dtd.$removeEmpty[b.getName()]&&(b=b.clone(),c.moveChildren(b),c.append(b));c.appendBogus(),c.getParent()||s.insertNode(c),c.is("li")&&c.removeAttribute("value"),!CKEDITOR.env.ie||!p||t&&a.getChildCount()||(s.moveToElementEditStart(t?a:c),s.select()),s.moveToElementEditStart(p&&!t?m:c)}else m.is("li")&&(c=s.clone(),c.selectNodeContents(m),c=new CKEDITOR.dom.walker(c),c.evaluator=function(t){return!(o(t)||n(t)||t.type==CKEDITOR.NODE_ELEMENT&&t.getName()in CKEDITOR.dtd.$inline&&!(t.getName()in CKEDITOR.dtd.$empty))},(b=c.next())&&b.type==CKEDITOR.NODE_ELEMENT&&b.is("ul","ol")&&(CKEDITOR.env.needsBrFiller?h.createElement("br"):h.createText("\xa0")).insertBefore(b)),m&&s.moveToElementEditStart(m);s.select(),s.scrollIntoView()}}},enterBr:function(t,i,n,o){if(n=n||e(t)){var a=n.document,r=n.checkEndOfBlock(),d=new CKEDITOR.dom.elementPath(t.getSelection().getStartElement()),c=d.block,h=c&&d.block.getName();o||"li"!=h?(!o&&r&&l.test(h)?(r=c.getDirection())?(a=a.createElement("div"),a.setAttribute("dir",r),a.insertAfter(c),n.setStart(a,0)):(a.createElement("br").insertAfter(c),CKEDITOR.env.gecko&&a.createText("").insertAfter(c),n.setStartAt(c.getNext(),CKEDITOR.env.ie?CKEDITOR.POSITION_BEFORE_START:CKEDITOR.POSITION_AFTER_START)):(t="pre"==h&&CKEDITOR.env.ie&&8>CKEDITOR.env.version?a.createText("\r"):a.createElement("br"),n.deleteContents(),n.insertNode(t),CKEDITOR.env.needsBrFiller?(a.createText("\ufeff").insertAfter(t),r&&(c||d.blockLimit).appendBogus(),t.getNext().$.nodeValue="",n.setStartAt(t.getNext(),CKEDITOR.POSITION_AFTER_START)):n.setStartAt(t,CKEDITOR.POSITION_AFTER_END)),n.collapse(!0),n.select(),n.scrollIntoView()):s(t,i,n,o)}}};var a=CKEDITOR.plugins.enterkey,r=a.enterBr,s=a.enterBlock,l=/^h[1-6]$/}(),function(){function t(t,e){var i={},n=[],o={nbsp:"\xa0",shy:"\xad",gt:">",lt:"<",amp:"&",apos:"'",quot:'"'};if(t=t.replace(/\b(nbsp|shy|gt|lt|amp|apos|quot)(?:,|$)/g,function(t,a){var r=e?"&"+a+";":o[a];return i[r]=e?o[a]:"&"+a+";",n.push(r),""}),!e&&t){t=t.split(",")
;var a,r=document.createElement("div");for(r.innerHTML="&"+t.join(";&")+";",a=r.innerHTML,r=null,r=0;r<a.length;r++){var s=a.charAt(r);i[s]="&"+t[r]+";",n.push(s)}}return i.regex=n.join(e?"|":""),i}CKEDITOR.plugins.add("entities",{afterInit:function(e){function i(t){return l[t]}function n(t){return"force"!=o.entities_processNumerical&&r[t]?r[t]:"&#"+t.charCodeAt(0)+";"}var o=e.config;if(e=(e=e.dataProcessor)&&e.htmlFilter){var a=[];!1!==o.basicEntities&&a.push("nbsp,gt,lt,amp"),o.entities&&(a.length&&a.push("quot,iexcl,cent,pound,curren,yen,brvbar,sect,uml,copy,ordf,laquo,not,shy,reg,macr,deg,plusmn,sup2,sup3,acute,micro,para,middot,cedil,sup1,ordm,raquo,frac14,frac12,frac34,iquest,times,divide,fnof,bull,hellip,prime,Prime,oline,frasl,weierp,image,real,trade,alefsym,larr,uarr,rarr,darr,harr,crarr,lArr,uArr,rArr,dArr,hArr,forall,part,exist,empty,nabla,isin,notin,ni,prod,sum,minus,lowast,radic,prop,infin,ang,and,or,cap,cup,int,there4,sim,cong,asymp,ne,equiv,le,ge,sub,sup,nsub,sube,supe,oplus,otimes,perp,sdot,lceil,rceil,lfloor,rfloor,lang,rang,loz,spades,clubs,hearts,diams,circ,tilde,ensp,emsp,thinsp,zwnj,zwj,lrm,rlm,ndash,mdash,lsquo,rsquo,sbquo,ldquo,rdquo,bdquo,dagger,Dagger,permil,lsaquo,rsaquo,euro"),o.entities_latin&&a.push("Agrave,Aacute,Acirc,Atilde,Auml,Aring,AElig,Ccedil,Egrave,Eacute,Ecirc,Euml,Igrave,Iacute,Icirc,Iuml,ETH,Ntilde,Ograve,Oacute,Ocirc,Otilde,Ouml,Oslash,Ugrave,Uacute,Ucirc,Uuml,Yacute,THORN,szlig,agrave,aacute,acirc,atilde,auml,aring,aelig,ccedil,egrave,eacute,ecirc,euml,igrave,iacute,icirc,iuml,eth,ntilde,ograve,oacute,ocirc,otilde,ouml,oslash,ugrave,uacute,ucirc,uuml,yacute,thorn,yuml,OElig,oelig,Scaron,scaron,Yuml"),o.entities_greek&&a.push("Alpha,Beta,Gamma,Delta,Epsilon,Zeta,Eta,Theta,Iota,Kappa,Lambda,Mu,Nu,Xi,Omicron,Pi,Rho,Sigma,Tau,Upsilon,Phi,Chi,Psi,Omega,alpha,beta,gamma,delta,epsilon,zeta,eta,theta,iota,kappa,lambda,mu,nu,xi,omicron,pi,rho,sigmaf,sigma,tau,upsilon,phi,chi,psi,omega,thetasym,upsih,piv"),o.entities_additional&&a.push(o.entities_additional));var r=t(a.join(",")),s=r.regex?"["+r.regex+"]":"a^";delete r.regex,o.entities&&o.entities_processNumerical&&(s="[^ -~]|"+s);var s=new RegExp(s,"g"),l=t("nbsp,gt,lt,amp,shy",!0),d=new RegExp(l.regex,"g");e.addRules({text:function(t){return t.replace(d,i).replace(s,n)}},{applyToAll:!0,excludeNestedEditable:!0})}}})}(),CKEDITOR.config.basicEntities=!0,CKEDITOR.config.entities=!0,CKEDITOR.config.entities_latin=!0,CKEDITOR.config.entities_greek=!0,CKEDITOR.config.entities_additional="#39",CKEDITOR.plugins.add("popup");CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{popup:function(t,e,i,n){e=e||"80%",i=i||"70%","string"==typeof e&&1<e.length&&"%"==e.substr(e.length-1,1)&&(e=parseInt(window.screen.width*parseInt(e,10)/100,10)),"string"==typeof i&&1<i.length&&"%"==i.substr(i.length-1,1)&&(i=parseInt(window.screen.height*parseInt(i,10)/100,10)),640>e&&(e=640),420>i&&(i=420);var o=parseInt((window.screen.height-i)/2,10),a=parseInt((window.screen.width-e)/2,10);n=(n||"location=no,menubar=no,toolbar=no,dependent=yes,minimizable=no,modal=yes,alwaysRaised=yes,resizable=yes,scrollbars=yes")+",width="+e+",height="+i+",top="+o+",left="+a;var r=window.open("",null,n,!0);if(!r)return!1;try{-1==navigator.userAgent.toLowerCase().indexOf(" chrome/")&&(r.moveTo(a,o),r.resizeTo(e,i)),r.focus(),r.location.href=t}catch(e){window.open(t,null,n,!0)}return!0}}),function(){function t(t,e){var i=[];if(!e)return t;for(var n in e)i.push(n+"="+encodeURIComponent(e[n]));return t+(-1!=t.indexOf("?")?"&":"?")+i.join("&")}function e(t){return t+="",t.charAt(0).toUpperCase()+t.substr(1)}function i(){var i=this.getDialog(),n=i.getParentEditor();n._.filebrowserSe=this;var o=n.config["filebrowser"+e(i.getName())+"WindowWidth"]||n.config.filebrowserWindowWidth||"80%",i=n.config["filebrowser"+e(i.getName())+"WindowHeight"]||n.config.filebrowserWindowHeight||"70%",a=this.filebrowser.params||{};a.CKEditor=n.name,a.CKEditorFuncNum=n._.filebrowserFn,a.langCode||(a.langCode=n.langCode),a=t(this.filebrowser.url,a),n.popup(a,o,i,n.config.filebrowserWindowFeatures||n.config.fileBrowserWindowFeatures)}function n(){var t=this.getDialog();return t.getParentEditor()._.filebrowserSe=this,!(!t.getContentElement(this["for"][0],this["for"][1]).getInputElement().$.value||!t.getContentElement(this["for"][0],this["for"][1]).getAction())}function o(e,i,n){var o=n.params||{};o.CKEditor=e.name,o.CKEditorFuncNum=e._.filebrowserFn,o.langCode||(o.langCode=e.langCode),i.action=t(n.url,o),i.filebrowser=n}function a(t,r,s,l){if(l&&l.length)for(var d,c=l.length;c--;)if(d=l[c],"hbox"!=d.type&&"vbox"!=d.type&&"fieldset"!=d.type||a(t,r,s,d.children),d.filebrowser)if("string"==typeof d.filebrowser&&(d.filebrowser={action:"fileButton"==d.type?"QuickUpload":"Browse",target:d.filebrowser}),"Browse"==d.filebrowser.action){var h=d.filebrowser.url;void 0===h&&void 0===(h=t.config["filebrowser"+e(r)+"BrowseUrl"])&&(h=t.config.filebrowserBrowseUrl),h&&(d.onClick=i,d.filebrowser.url=h,d.hidden=!1)}else if("QuickUpload"==d.filebrowser.action&&d["for"]&&(h=d.filebrowser.url,void 0===h&&void 0===(h=t.config["filebrowser"+e(r)+"UploadUrl"])&&(h=t.config.filebrowserUploadUrl),h)){var u=d.onClick;d.onClick=function(t){var e=t.sender;return(!u||!1!==u.call(e,t))&&(!!n.call(e,t)&&(t=e.getDialog().getContentElement(this["for"][0],this["for"][1]).getInputElement(),(e=new CKEDITOR.dom.element(t.$.form))&&((t=e.$.elements.ckCsrfToken)?t=new CKEDITOR.dom.element(t):(t=new CKEDITOR.dom.element("input"),t.setAttributes({name:"ckCsrfToken",type:"hidden"}),e.append(t)),t.setAttribute("value",CKEDITOR.tools.getCsrfToken())),!0))},d.filebrowser.url=h,d.hidden=!1,o(t,s.getContents(d["for"][0]).get(d["for"][1]),d.filebrowser)}}function r(t,e,i){if(-1!==i.indexOf(";")){i=i.split(";");for(var n=0;n<i.length;n++)if(r(t,e,i[n]))return!0;return!1}return(t=t.getContents(e).get(i).filebrowser)&&t.url}function s(t,e){var i=this._.filebrowserSe.getDialog(),n=this._.filebrowserSe["for"],o=this._.filebrowserSe.filebrowser.onSelect;n&&i.getContentElement(n[0],n[1]).reset(),"function"==typeof e&&!1===e.call(this._.filebrowserSe)||o&&!1===o.call(this._.filebrowserSe,t,e)||("string"==typeof e&&e&&alert(e),t&&(n=this._.filebrowserSe,i=n.getDialog(),n=n.filebrowser.target||null)&&(n=n.split(":"),(o=i.getContentElement(n[0],n[1]))&&(o.setValue(t),i.selectPage(n[0]))))}CKEDITOR.plugins.add("filebrowser",{requires:"popup",init:function(t){t._.filebrowserFn=CKEDITOR.tools.addFunction(s,t),t.on("destroy",function(){CKEDITOR.tools.removeFunction(this._.filebrowserFn)})}}),CKEDITOR.on("dialogDefinition",function(t){if(t.editor.plugins.filebrowser)for(var e,i=t.data.definition,n=0;n<i.contents.length;++n)(e=i.contents[n])&&(a(t.editor,t.data.name,i,e.elements),e.hidden&&e.filebrowser&&(e.hidden=!r(i,e.id,e.filebrowser)))})}(),function(){function t(t){var n=t.config,o=t.fire("uiSpace",{space:"top",html:""}).html,a=function(){function o(t,e,n){s.setStyle(e,i(n)),s.setStyle("position",t)}function r(t){var e=d.getDocumentPosition();switch(t){case"top":o("absolute","top",e.y-f-g);break;case"pin":o("fixed","top",b);break;case"bottom":o("absolute","top",e.y+(h.height||h.bottom-h.top)+g)}l=t}var l,d,c,h,u,f,p,m=n.floatSpaceDockedOffsetX||0,g=n.floatSpaceDockedOffsetY||0,v=n.floatSpacePinnedOffsetX||0,b=n.floatSpacePinnedOffsetY||0;return function(o){if(d=t.editable()){var b=o&&"focus"==o.name;b&&s.show(),t.fire("floatingSpaceLayout",{show:b}),s.removeStyle("left"),s.removeStyle("right"),c=s.getClientRect(),h=d.getClientRect(),u=e.getViewPaneSize(),f=c.height,p="pageXOffset"in e.$?e.$.pageXOffset:CKEDITOR.document.$.documentElement.scrollLeft,l?(r(f+g<=h.top?"top":f+g>u.height-h.bottom?"pin":"bottom"),o=u.width/2,o=n.floatSpacePreferRight?"right":0<h.left&&h.right<u.width&&h.width>c.width?"rtl"==n.contentsLangDirection?"right":"left":o-h.left>h.right-o?"left":"right",c.width>u.width?(o="left",b=0):(b="left"==o?0<h.left?h.left:0:h.right<u.width?u.width-h.right:0)+c.width>u.width&&(o="left"==o?"right":"left",b=0),s.setStyle(o,i(("pin"==l?v:m)+b+("pin"==l?0:"left"==o?p:-p)))):(l="pin",r("pin"),a(o))}}}();if(o){var r=new CKEDITOR.template('<div id="cke_{name}" class="cke {id} cke_reset_all cke_chrome cke_editor_{name} cke_float cke_{langDir} '+CKEDITOR.env.cssClass+'" dir="{langDir}" title="'+(CKEDITOR.env.gecko?" ":"")+'" lang="{langCode}" role="application" style="{style}"'+(t.title?' aria-labelledby="cke_{name}_arialbl"':" ")+">"+(t.title?'<span id="cke_{name}_arialbl" class="cke_voice_label">{voiceLabel}</span>':" ")+'<div class="cke_inner"><div id="{topId}" class="cke_top" role="presentation">{content}</div></div></div>'),s=CKEDITOR.document.getBody().append(CKEDITOR.dom.element.createFromHtml(r.output({content:o,id:t.id,langDir:t.lang.dir,langCode:t.langCode,name:t.name,style:"display:none;z-index:"+(n.baseFloatZIndex-1),topId:t.ui.spaceId("top"),voiceLabel:t.title}))),l=CKEDITOR.tools.eventsBuffer(500,a),d=CKEDITOR.tools.eventsBuffer(100,a);s.unselectable(),s.on("mousedown",function(t){t=t.data,t.getTarget().hasAscendant("a",1)||t.preventDefault()}),t.on("focus",function(i){a(i),t.on("change",l.input),e.on("scroll",d.input),e.on("resize",d.input)}),t.on("blur",function(){s.hide(),t.removeListener("change",l.input),e.removeListener("scroll",d.input),e.removeListener("resize",d.input)}),t.on("destroy",function(){e.removeListener("scroll",d.input),e.removeListener("resize",d.input),s.clearCustomData(),s.remove()}),t.focusManager.hasFocus&&s.show(),t.focusManager.add(s,1)}}var e=CKEDITOR.document.getWindow(),i=CKEDITOR.tools.cssLength;CKEDITOR.plugins.add("floatingspace",{init:function(e){e.on("loaded",function(){t(this)},null,null,20)}})}(),CKEDITOR.plugins.add("listblock",{requires:"panel",onLoad:function(){var t=CKEDITOR.addTemplate("panel-list",'<ul role="presentation" class="cke_panel_list">{items}</ul>'),e=CKEDITOR.addTemplate("panel-list-item",'<li id="{id}" class="cke_panel_listItem" role=presentation><a id="{id}_option" _cke_focus=1 hidefocus=true title="{title}" href="javascript:void(\'{val}\')"  {onclick}="CKEDITOR.tools.callFunction({clickFn},\'{val}\'); return false;" role="option">{text}</a></li>'),i=CKEDITOR.addTemplate("panel-list-group",'<h1 id="{id}" class="cke_panel_grouptitle" role="presentation" >{label}</h1>'),n=/\'/g;CKEDITOR.ui.panel.prototype.addListBlock=function(t,e){return this.addBlock(t,new CKEDITOR.ui.listBlock(this.getHolderElement(),e))},CKEDITOR.ui.listBlock=CKEDITOR.tools.createClass({base:CKEDITOR.ui.panel.block,$:function(t,e){e=e||{};var i=e.attributes||(e.attributes={});(this.multiSelect=!!e.multiSelect)&&(i["aria-multiselectable"]=!0),!i.role&&(i.role="listbox"),this.base.apply(this,arguments),this.element.setAttribute("role",i.role),i=this.keys,i[40]="next",i[9]="next",i[38]="prev",i[CKEDITOR.SHIFT+9]="prev",i[32]=CKEDITOR.env.ie?"mouseup":"click",CKEDITOR.env.ie&&(i[13]="mouseup"),this._.pendingHtml=[],this._.pendingList=[],this._.items={},this._.groups={}},_:{close:function(){if(this._.started){var e=t.output({items:this._.pendingList.join("")});this._.pendingList=[],this._.pendingHtml.push(e),delete this._.started}},getClick:function(){return this._.click||(this._.click=CKEDITOR.tools.addFunction(function(t){var e=this.toggle(t);this.onClick&&this.onClick(t,e)},this)),this._.click}},proto:{add:function(t,i,o){var a=CKEDITOR.tools.getNextId();this._.started||(this._.started=1,this._.size=this._.size||0),this._.items[t]=a;var r;r=CKEDITOR.tools.htmlEncodeAttr(t).replace(n,"\\'"),t={id:a,val:r,onclick:CKEDITOR.env.ie?'onclick="return false;" onmouseup':"onclick",clickFn:this._.getClick(),title:CKEDITOR.tools.htmlEncodeAttr(o||t),text:i||t},this._.pendingList.push(e.output(t))},startGroup:function(t){this._.close();var e=CKEDITOR.tools.getNextId();this._.groups[t]=e,this._.pendingHtml.push(i.output({id:e,label:t}))},commit:function(){this._.close(),this.element.appendHtml(this._.pendingHtml.join("")),delete this._.size,this._.pendingHtml=[]},toggle:function(t){var e=this.isMarked(t);return e?this.unmark(t):this.mark(t),!e},hideGroup:function(t){var e=(t=this.element.getDocument().getById(this._.groups[t]))&&t.getNext();t&&(t.setStyle("display","none"),e&&"ul"==e.getName()&&e.setStyle("display","none"))},hideItem:function(t){this.element.getDocument().getById(this._.items[t]).setStyle("display","none")},showAll:function(){var t,e=this._.items,i=this._.groups,n=this.element.getDocument();for(t in e)n.getById(e[t]).setStyle("display","");for(var o in i)e=n.getById(i[o]),t=e.getNext(),e.setStyle("display",""),t&&"ul"==t.getName()&&t.setStyle("display","")},mark:function(t){this.multiSelect||this.unmarkAll(),t=this._.items[t];var e=this.element.getDocument().getById(t);e.addClass("cke_selected"),this.element.getDocument().getById(t+"_option").setAttribute("aria-selected",!0),this.onMark&&this.onMark(e)},markFirstDisplayed:function(){var t=this;this._.markFirstDisplayed(function(){t.multiSelect||t.unmarkAll()})},unmark:function(t){var e=this.element.getDocument();t=this._.items[t];var i=e.getById(t);i.removeClass("cke_selected"),e.getById(t+"_option").removeAttribute("aria-selected"),this.onUnmark&&this.onUnmark(i)},unmarkAll:function(){var t,e=this._.items,i=this.element.getDocument();for(t in e){var n=e[t];i.getById(n).removeClass("cke_selected"),i.getById(n+"_option").removeAttribute("aria-selected")}this.onUnmark&&this.onUnmark()},isMarked:function(t){return this.element.getDocument().getById(this._.items[t]).hasClass("cke_selected")},focus:function(t){this._.focusIndex=-1;var e,i=this.element.getElementsByTag("a"),n=-1;if(t){for(e=this.element.getDocument().getById(this._.items[t]).getFirst();t=i.getItem(++n);)if(t.equals(e)){this._.focusIndex=n;break}}else this.element.focus();e&&setTimeout(function(){e.focus()},0)}}})}}),CKEDITOR.plugins.add("richcombo",{requires:"floatpanel,listblock,button",beforeInit:function(t){t.ui.addHandler(CKEDITOR.UI_RICHCOMBO,CKEDITOR.ui.richCombo.handler)}}),function(){var t='<span id="{id}" class="cke_combo cke_combo__{name} {cls}" role="presentation"><span id="{id}_label" class="cke_combo_label">{label}</span><a class="cke_combo_button" title="{title}" tabindex="-1"'+(CKEDITOR.env.gecko&&!CKEDITOR.env.hc?"":" href=\"javascript:void('{titleJs}')\"")+' hidefocus="true" role="button" aria-labelledby="{id}_label" aria-haspopup="true"';CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(t+=' onkeypress="return false;"'),CKEDITOR.env.gecko&&(t+=' onblur="this.style.cssText = this.style.cssText;"');var t=t+' onkeydown="return CKEDITOR.tools.callFunction({keydownFn},event,this);" onfocus="return CKEDITOR.tools.callFunction({focusFn},event);" '+(CKEDITOR.env.ie?'onclick="return false;" onmouseup':"onclick")+'="CKEDITOR.tools.callFunction({clickFn},this);return false;"><span id="{id}_text" class="cke_combo_text cke_combo_inlinelabel">{label}</span><span class="cke_combo_open"><span class="cke_combo_arrow">'+(CKEDITOR.env.hc?"&#9660;":CKEDITOR.env.air?"&nbsp;":"")+"</span></span></a></span>",e=CKEDITOR.addTemplate("combo",t);CKEDITOR.UI_RICHCOMBO="richcombo",CKEDITOR.ui.richCombo=CKEDITOR.tools.createClass({$:function(t){CKEDITOR.tools.extend(this,t,{canGroup:!1,title:t.label,modes:{wysiwyg:1},editorFocus:1}),t=this.panel||{},delete this.panel,this.id=CKEDITOR.tools.getNextNumber(),this.document=t.parent&&t.parent.getDocument()||CKEDITOR.document,t.className="cke_combopanel",t.block={multiSelect:t.multiSelect,attributes:t.attributes},t.toolbarRelated=!0,this._={panelDefinition:t,items:{}}},proto:{renderHtml:function(t){var e=[];return this.render(t,e),e.join("")},render:function(t,i){function n(){if(this.getState()!=CKEDITOR.TRISTATE_ON){var e=this.modes[t.mode]?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED;t.readOnly&&!this.readOnly&&(e=CKEDITOR.TRISTATE_DISABLED),this.setState(e),this.setValue(""),e!=CKEDITOR.TRISTATE_DISABLED&&this.refresh&&this.refresh()}}var o=CKEDITOR.env,a="cke_"+this.id,r=CKEDITOR.tools.addFunction(function(e){h&&(t.unlockSelection(1),h=0),l.execute(e)},this),s=this,l={id:a,combo:this,focus:function(){CKEDITOR.document.getById(a).getChild(1).focus()},execute:function(e){var i=s._;if(i.state!=CKEDITOR.TRISTATE_DISABLED)if(s.createPanel(t),i.on)i.panel.hide();else{s.commit();var n=s.getValue();n?i.list.mark(n):i.list.unmarkAll(),i.panel.showBlock(s.id,new CKEDITOR.dom.element(e),4)}},clickFn:r};t.on("activeFilterChange",n,this),t.on("mode",n,this),t.on("selectionChange",n,this),!this.readOnly&&t.on("readOnly",n,this);var d=CKEDITOR.tools.addFunction(function(t,e){t=new CKEDITOR.dom.event(t);var i=t.getKeystroke();switch(i){case 13:case 32:case 40:CKEDITOR.tools.callFunction(r,e);break;default:l.onkey(l,i)}t.preventDefault()}),c=CKEDITOR.tools.addFunction(function(){l.onfocus&&l.onfocus()}),h=0;return l.keyDownFn=d,o={id:a,name:this.name||this.command,label:this.label,title:this.title,cls:this.className||"",titleJs:o.gecko&&!o.hc?"":(this.title||"").replace("'",""),keydownFn:d,focusFn:c,clickFn:r},e.output(o,i),this.onRender&&this.onRender(),l},createPanel:function(t){if(!this._.panel){var e=this._.panelDefinition,i=this._.panelDefinition.block,n=e.parent||CKEDITOR.document.getBody(),o="cke_combopanel__"+this.name,a=new CKEDITOR.ui.floatPanel(t,n,e),e=a.addListBlock(this.id,i),r=this;a.onShow=function(){this.element.addClass(o),r.setState(CKEDITOR.TRISTATE_ON),r._.on=1,r.editorFocus&&!t.focusManager.hasFocus&&t.focus(),r.onOpen&&r.onOpen()},a.onHide=function(e){this.element.removeClass(o),r.setState(r.modes&&r.modes[t.mode]?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED),r._.on=0,!e&&r.onClose&&r.onClose()},a.onEscape=function(){a.hide(1)},e.onClick=function(t,e){r.onClick&&r.onClick.call(r,t,e),a.hide()},this._.panel=a,this._.list=e,a.getBlock(this.id).onHide=function(){r._.on=0,r.setState(CKEDITOR.TRISTATE_OFF)},this.init&&this.init()}},setValue:function(t,e){this._.value=t;var i=this.document.getById("cke_"+this.id+"_text");i&&(t||e?i.removeClass("cke_combo_inlinelabel"):(e=this.label,i.addClass("cke_combo_inlinelabel")),i.setText(void 0!==e?e:t))},getValue:function(){return this._.value||""},unmarkAll:function(){this._.list.unmarkAll()},mark:function(t){this._.list.mark(t)},hideItem:function(t){this._.list.hideItem(t)},hideGroup:function(t){this._.list.hideGroup(t)},showAll:function(){this._.list.showAll()},add:function(t,e,i){this._.items[t]=i||t,this._.list.add(t,e,i)},startGroup:function(t){this._.list.startGroup(t)},commit:function(){this._.committed||(this._.list.commit(),this._.committed=1,CKEDITOR.ui.fire("ready",this)),this._.committed=1},setState:function(t){if(this._.state!=t){var e=this.document.getById("cke_"+this.id);e.setState(t,"cke_combo"),t==CKEDITOR.TRISTATE_DISABLED?e.setAttribute("aria-disabled",!0):e.removeAttribute("aria-disabled"),this._.state=t}},getState:function(){return this._.state},enable:function(){this._.state==CKEDITOR.TRISTATE_DISABLED&&this.setState(this._.lastState)},disable:function(){this._.state!=CKEDITOR.TRISTATE_DISABLED&&(this._.lastState=this._.state,this.setState(CKEDITOR.TRISTATE_DISABLED))}},statics:{handler:{create:function(t){return new CKEDITOR.ui.richCombo(t)}}}}),CKEDITOR.ui.prototype.addRichCombo=function(t,e){this.add(t,CKEDITOR.UI_RICHCOMBO,e)}}(),CKEDITOR.plugins.add("format",{requires:"richcombo",init:function(t){if(!t.blockless){for(var e=t.config,i=t.lang.format,n=e.format_tags.split(";"),o={},a=0,r=[],s=0;s<n.length;s++){var l=n[s],d=new CKEDITOR.style(e["format_"+l]);t.filter.customConfig&&!t.filter.check(d)||(a++,o[l]=d,o[l]._.enterMode=t.config.enterMode,r.push(d))}0!==a&&t.ui.addRichCombo("Format",{label:i.label,title:i.panelTitle,toolbar:"styles,20",allowedContent:r,panel:{css:[CKEDITOR.skin.getPath("editor")].concat(e.contentsCss),multiSelect:!1,attributes:{"aria-label":i.panelTitle}},init:function(){this.startGroup(i.panelTitle);for(var t in o){var e=i["tag_"+t];this.add(t,o[t].buildPreview(e),e)}},onClick:function(e){t.focus(),t.fire("saveSnapshot"),e=o[e];var i=t.elementPath();e.checkActive(i,t)||t.applyStyle(e),setTimeout(function(){t.fire("saveSnapshot")},0)},onRender:function(){t.on("selectionChange",function(e){var i=this.getValue();e=e.data.path,this.refresh();for(var n in o)if(o[n].checkActive(e,t))return void(n!=i&&this.setValue(n,t.lang.format["tag_"+n]));this.setValue("")},this)},onOpen:function(){this.showAll();for(var e in o)t.activeFilter.check(o[e])||this.hideItem(e)},refresh:function(){var e=t.elementPath();if(e){if(e.isContextFor("p"))for(var i in o)if(t.activeFilter.check(o[i]))return;this.setState(CKEDITOR.TRISTATE_DISABLED)}}})}}}),CKEDITOR.config.format_tags="p;h1;h2;h3;h4;h5;h6;pre;address;div",CKEDITOR.config.format_p={element:"p"},CKEDITOR.config.format_div={element:"div"},CKEDITOR.config.format_pre={element:"pre"},CKEDITOR.config.format_address={element:"address"},CKEDITOR.config.format_h1={element:"h1"},CKEDITOR.config.format_h2={element:"h2"},CKEDITOR.config.format_h3={element:"h3"},CKEDITOR.config.format_h4={element:"h4"},CKEDITOR.config.format_h5={element:"h5"},CKEDITOR.config.format_h6={element:"h6"},function(){var t={canUndo:!1,exec:function(t){var e=t.document.createElement("hr");t.insertElement(e)},allowedContent:"hr",requiredContent:"hr"};CKEDITOR.plugins.add("horizontalrule",{init:function(e){e.blockless||(e.addCommand("horizontalrule",t),e.ui.addButton&&e.ui.addButton("HorizontalRule",{label:e.lang.horizontalrule.toolbar,command:"horizontalrule",toolbar:"insert,40"}))}})}(),CKEDITOR.plugins.add("htmlwriter",{init:function(t){var e=new CKEDITOR.htmlWriter;e.forceSimpleAmpersand=t.config.forceSimpleAmpersand,e.indentationChars=t.config.dataIndentationChars||"\t",t.dataProcessor.writer=e}}),CKEDITOR.htmlWriter=CKEDITOR.tools.createClass({base:CKEDITOR.htmlParser.basicWriter,$:function(){this.base(),this.indentationChars="\t",this.selfClosingEnd=" />",this.lineBreakChars="\n",this.sortAttributes=1,this._.indent=0,this._.indentation="",this._.inPre=0,this._.rules={};var t,e=CKEDITOR.dtd;for(t in CKEDITOR.tools.extend({},e.$nonBodyContent,e.$block,e.$listItem,e.$tableContent))this.setRules(t,{indent:!e[t]["#"],breakBeforeOpen:1,breakBeforeClose:!e[t]["#"],breakAfterClose:1,needsSpace:t in e.$block&&!(t in{li:1,dt:1,dd:1})});this.setRules("br",{breakAfterOpen:1}),this.setRules("title",{indent:0,breakAfterOpen:0}),this.setRules("style",{indent:0,breakBeforeClose:1}),this.setRules("pre",{breakAfterOpen:1,indent:0})},proto:{openTag:function(t){var e=this._.rules[t];this._.afterCloser&&e&&e.needsSpace&&this._.needsSpace&&this._.output.push("\n"),this._.indent?this.indentation():e&&e.breakBeforeOpen&&(this.lineBreak(),this.indentation()),this._.output.push("<",t),this._.afterCloser=0},openTagClose:function(t,e){var i=this._.rules[t];e?(this._.output.push(this.selfClosingEnd),i&&i.breakAfterClose&&(this._.needsSpace=i.needsSpace)):(this._.output.push(">"),i&&i.indent&&(this._.indentation+=this.indentationChars)),i&&i.breakAfterOpen&&this.lineBreak(),"pre"==t&&(this._.inPre=1)},attribute:function(t,e){"string"==typeof e&&(this.forceSimpleAmpersand&&(e=e.replace(/&amp;/g,"&")),e=CKEDITOR.tools.htmlEncodeAttr(e)),this._.output.push(" ",t,'="',e,'"')},closeTag:function(t){var e=this._.rules[t];e&&e.indent&&(this._.indentation=this._.indentation.substr(this.indentationChars.length)),this._.indent?this.indentation():e&&e.breakBeforeClose&&(this.lineBreak(),this.indentation()),this._.output.push("</",t,">"),"pre"==t&&(this._.inPre=0),e&&e.breakAfterClose&&(this.lineBreak(),this._.needsSpace=e.needsSpace),this._.afterCloser=1},text:function(t){this._.indent&&(this.indentation(),!this._.inPre&&(t=CKEDITOR.tools.ltrim(t))),this._.output.push(t)},comment:function(t){this._.indent&&this.indentation(),this._.output.push("<!--",t,"-->")},lineBreak:function(){!this._.inPre&&0<this._.output.length&&this._.output.push(this.lineBreakChars),this._.indent=1},indentation:function(){!this._.inPre&&this._.indentation&&this._.output.push(this._.indentation),this._.indent=0},reset:function(){this._.output=[],this._.indent=0,this._.indentation="",this._.afterCloser=0,this._.inPre=0,this._.needsSpace=0},setRules:function(t,e){var i=this._.rules[t];i?CKEDITOR.tools.extend(i,e,!0):this._.rules[t]=e}}}),function(){function t(t){function i(t){var e=!1;s.attachListener(s,"keydown",function(){var i=o.getBody().getElementsByTag(t);if(!e){for(var n=0;n<i.count();n++)i.getItem(n).setCustomData("retain",!0);e=!0}},null,null,1),s.attachListener(s,"keyup",function(){var i=o.getElementsByTag(t);e&&(1==i.count()&&!i.getItem(0).getCustomData("retain")&&CKEDITOR.tools.isEmpty(i.getItem(0).getAttributes())&&i.getItem(0).remove(1),e=!1)})}var n=this.editor,o=t.document,a=o.body,r=o.getElementById("cke_actscrpt");r&&r.parentNode.removeChild(r),(r=o.getElementById("cke_shimscrpt"))&&r.parentNode.removeChild(r),(r=o.getElementById("cke_basetagscrpt"))&&r.parentNode.removeChild(r),a.contentEditable=!0,CKEDITOR.env.ie&&(a.hideFocus=!0,a.disabled=!0,a.removeAttribute("disabled")),delete this._.isLoadingData,this.$=a,o=new CKEDITOR.dom.document(o),this.setup(),this.fixInitialSelection();var s=this;CKEDITOR.env.ie&&!CKEDITOR.env.edge&&o.getDocumentElement().addClass(o.$.compatMode),CKEDITOR.env.ie&&!CKEDITOR.env.edge&&n.enterMode!=CKEDITOR.ENTER_P?i("p"):CKEDITOR.env.edge&&15>CKEDITOR.env.version&&n.enterMode!=CKEDITOR.ENTER_DIV&&i("div"),(CKEDITOR.env.webkit||CKEDITOR.env.ie&&10<CKEDITOR.env.version)&&o.getDocumentElement().on("mousedown",function(t){t.data.getTarget().is("html")&&setTimeout(function(){n.editable().focus()})}),e(n);try{n.document.$.execCommand("2D-position",!1,!0)}catch(t){}(CKEDITOR.env.gecko||CKEDITOR.env.ie&&"CSS1Compat"==n.document.$.compatMode)&&this.attachListener(this,"keydown",function(t){var e=t.data.getKeystroke();if(33==e||34==e)if(CKEDITOR.env.ie)setTimeout(function(){n.getSelection().scrollIntoView()},0);else if(n.window.$.innerHeight>this.$.offsetHeight){var i=n.createRange();i[33==e?"moveToElementEditStart":"moveToElementEditEnd"](this),i.select(),t.data.preventDefault()}}),CKEDITOR.env.ie&&this.attachListener(o,"blur",function(){try{o.$.selection.empty()}catch(t){}}),CKEDITOR.env.iOS&&this.attachListener(o,"touchend",function(){t.focus()}),a=n.document.getElementsByTag("title").getItem(0),a.data("cke-title",a.getText()),CKEDITOR.env.ie&&(n.document.$.title=this._.docTitle),CKEDITOR.tools.setTimeout(function(){"unloaded"==this.status&&(this.status="ready"),n.fire("contentDom"),this._.isPendingFocus&&(n.focus(),this._.isPendingFocus=!1),setTimeout(function(){n.fire("dataReady")},0)},0,this)}function e(t){function e(){var e;t.editable().attachListener(t,"selectionChange",function(){var n=t.getSelection().getSelectedElement();n&&(e&&(e.detachEvent("onresizestart",i),e=null),n.$.attachEvent("onresizestart",i),e=n.$)})}function i(t){t.returnValue=!1}if(CKEDITOR.env.gecko)try{var n=t.document.$;n.execCommand("enableObjectResizing",!1,!t.config.disableObjectResizing),n.execCommand("enableInlineTableEditing",!1,!t.config.disableNativeTableHandles)}catch(t){}else CKEDITOR.env.ie&&11>CKEDITOR.env.version&&t.config.disableObjectResizing&&e(t)}function i(){var t=[];if(8<=CKEDITOR.document.$.documentMode){t.push("html.CSS1Compat [contenteditable=false]{min-height:0 !important}");var e,i=[];for(e in CKEDITOR.dtd.$removeEmpty)i.push("html.CSS1Compat "+e+"[contenteditable=false]");t.push(i.join(",")+"{display:inline-block}")}else CKEDITOR.env.gecko&&(t.push("html{height:100% !important}"),t.push("img:-moz-broken{-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}"));return t.push("html{cursor:text;*cursor:auto}"),t.push("img,input,textarea{cursor:default}"),t.join("\n")}var n;CKEDITOR.plugins.add("wysiwygarea",{init:function(t){t.config.fullPage&&t.addFeature({allowedContent:"html head title; style [media,type]; body (*)[id]; meta link [*]",requiredContent:"body"}),t.addMode("wysiwyg",function(e){function i(i){i&&i.removeListener(),t.editable(new n(t,a.$.contentWindow.document.body)),t.setData(t.getData(1),e)}var o="document.open();"+(CKEDITOR.env.ie?"("+CKEDITOR.tools.fixDomain+")();":"")+"document.close();",o=CKEDITOR.env.air?"javascript:void(0)":CKEDITOR.env.ie&&!CKEDITOR.env.edge?"javascript:void(function(){"+encodeURIComponent(o)+"}())":"",a=CKEDITOR.dom.element.createFromHtml('<iframe src="'+o+'" frameBorder="0"></iframe>');a.setStyles({width:"100%",height:"100%"}),a.addClass("cke_wysiwyg_frame").addClass("cke_reset"),o=t.ui.space("contents"),o.append(a);var r=CKEDITOR.env.ie&&!CKEDITOR.env.edge||CKEDITOR.env.gecko;r&&a.on("load",i);var s=t.title,l=t.fire("ariaEditorHelpLabel",{}).label;if(s&&(CKEDITOR.env.ie&&l&&(s+=", "+l),a.setAttribute("title",s)),l){var s=CKEDITOR.tools.getNextId(),d=CKEDITOR.dom.element.createFromHtml('<span id="'+s+'" class="cke_voice_label">'+l+"</span>");o.append(d,1),a.setAttribute("aria-describedby",s)}t.on("beforeModeUnload",function(t){t.removeListener(),d&&d.remove()}),a.setAttributes({tabIndex:t.tabIndex,allowTransparency:"true"}),!r&&i(),t.fire("ariaWidget",a)})}}),CKEDITOR.editor.prototype.addContentsCss=function(t){var e=this.config,i=e.contentsCss;CKEDITOR.tools.isArray(i)||(e.contentsCss=i?[i]:[]),e.contentsCss.push(t)},n=CKEDITOR.tools.createClass({$:function(){this.base.apply(this,arguments),this._.frameLoadedHandler=CKEDITOR.tools.addFunction(function(e){CKEDITOR.tools.setTimeout(t,0,this,e)},this),this._.docTitle=this.getWindow().getFrame().getAttribute("title")},base:CKEDITOR.editable,proto:{setData:function(t,e){var n=this.editor;if(e)this.setHtml(t),this.fixInitialSelection(),n.fire("dataReady");else{this._.isLoadingData=!0,n._.dataStore={id:1};var o=n.config,a=o.fullPage,r=o.docType,s=CKEDITOR.tools.buildStyleHtml(i()).replace(/<style>/,'<style data-cke-temp="1">');a||(s+=CKEDITOR.tools.buildStyleHtml(n.config.contentsCss));var l=o.baseHref?'<base href="'+o.baseHref+'" data-cke-temp="1" />':"";a&&(t=t.replace(/<!DOCTYPE[^>]*>/i,function(t){return n.docType=r=t,""}).replace(/<\?xml\s[^\?]*\?>/i,function(t){return n.xmlDeclaration=t,""})),t=n.dataProcessor.toHtml(t),a?(/<body[\s|>]/.test(t)||(t="<body>"+t),/<html[\s|>]/.test(t)||(t="<html>"+t+"</html>"),/<head[\s|>]/.test(t)?/<title[\s|>]/.test(t)||(t=t.replace(/<head[^>]*>/,"$&<title></title>")):t=t.replace(/<html[^>]*>/,"$&<head><title></title></head>"),l&&(t=t.replace(/<head[^>]*?>/,"$&"+l)),t=t.replace(/<\/head\s*>/,s+"$&"),t=r+t):t=o.docType+'<html dir="'+o.contentsLangDirection+'" lang="'+(o.contentsLanguage||n.langCode)+'"><head><title>'+this._.docTitle+"</title>"+l+s+"</head><body"+(o.bodyId?' id="'+o.bodyId+'"':"")+(o.bodyClass?' class="'+o.bodyClass+'"':"")+">"+t+"</body></html>",CKEDITOR.env.gecko&&(t=t.replace(/<body/,'<body contenteditable="true" '),2e4>CKEDITOR.env.version&&(t=t.replace(/<body[^>]*>/,"$&<!-- cke-content-start -->"))),o='<script id="cke_actscrpt" type="text/javascript"'+(CKEDITOR.env.ie?' defer="defer" ':"")+">var wasLoaded=0;function onload(){if(!wasLoaded)window.parent.CKEDITOR.tools.callFunction("+this._.frameLoadedHandler+",window);wasLoaded=1;}"+(CKEDITOR.env.ie?"onload();":'document.addEventListener("DOMContentLoaded", onload, false );')+"</script>",CKEDITOR.env.ie&&9>CKEDITOR.env.version&&(o+='<script id="cke_shimscrpt">window.parent.CKEDITOR.tools.enableHtml5Elements(document)</script>'),l&&CKEDITOR.env.ie&&10>CKEDITOR.env.version&&(o+='<script id="cke_basetagscrpt">var baseTag = document.querySelector( "base" );baseTag.href = baseTag.href;</script>'),t=t.replace(/(?=\s*<\/(:?head)>)/,o),this.clearCustomData(),this.clearListeners(),n.fire("contentDomUnload");var d=this.getDocument();try{d.write(t)}catch(e){setTimeout(function(){d.write(t)},0)}}},getData:function(t){if(t)return this.getHtml();t=this.editor;var e=t.config,i=e.fullPage,n=i&&t.docType,o=i&&t.xmlDeclaration,a=this.getDocument(),i=i?a.getDocumentElement().getOuterHtml():a.getBody().getHtml();return CKEDITOR.env.gecko&&e.enterMode!=CKEDITOR.ENTER_BR&&(i=i.replace(/<br>(?=\s*(:?$|<\/body>))/,"")),i=t.dataProcessor.toDataFormat(i),o&&(i=o+"\n"+i),n&&(i=n+"\n"+i),i},focus:function(){this._.isLoadingData?this._.isPendingFocus=!0:n.baseProto.focus.call(this)},detach:function(){var t,e=this.editor,i=e.document;try{t=e.window.getFrame()}catch(t){}n.baseProto.detach.call(this),this.clearCustomData(),i.getDocumentElement().clearCustomData(),CKEDITOR.tools.removeFunction(this._.frameLoadedHandler),t&&t.getParent()?(t.clearCustomData(),(e=t.removeCustomData("onResize"))&&e.removeListener(),t.remove()):CKEDITOR.warn("editor-destroy-iframe")}}})}(),CKEDITOR.config.disableObjectResizing=!1,CKEDITOR.config.disableNativeTableHandles=!0,CKEDITOR.config.disableNativeSpellChecker=!0,function(){function t(t,e){if(e||(e=t.getSelection().getSelectedElement()),e&&e.is("img")&&!e.data("cke-realelement")&&!e.isReadOnly())return e}function e(t){var e=t.getStyle("float")
;return"inherit"!=e&&"none"!=e||(e=0),e||(e=t.getAttribute("align")),e}CKEDITOR.plugins.add("image",{requires:"dialog",init:function(e){if(!e.plugins.image2){CKEDITOR.dialog.add("image",this.path+"dialogs/image.js");var i="img[alt,!src]{border-style,border-width,float,height,margin,margin-bottom,margin-left,margin-right,margin-top,width}";CKEDITOR.dialog.isTabEnabled(e,"image","advanced")&&(i="img[alt,dir,id,lang,longdesc,!src,title]{*}(*)"),e.addCommand("image",new CKEDITOR.dialogCommand("image",{allowedContent:i,requiredContent:"img[alt,src]",contentTransformations:[["img{width}: sizeToStyle","img[width]: sizeToAttribute"],["img{float}: alignmentToStyle","img[align]: alignmentToAttribute"]]})),e.ui.addButton&&e.ui.addButton("Image",{label:e.lang.common.image,command:"image",toolbar:"insert,10"}),e.on("doubleclick",function(t){var e=t.data.element;!e.is("img")||e.data("cke-realelement")||e.isReadOnly()||(t.data.dialog="image")}),e.addMenuItems&&e.addMenuItems({image:{label:e.lang.image.menu,command:"image",group:"image"}}),e.contextMenu&&e.contextMenu.addListener(function(i){if(t(e,i))return{image:CKEDITOR.TRISTATE_OFF}})}},afterInit:function(i){function n(n){var o=i.getCommand("justify"+n);o&&("left"!=n&&"right"!=n||o.on("exec",function(o){var a,r=t(i);r&&(a=e(r),a==n?(r.removeStyle("float"),n==e(r)&&r.removeAttribute("align")):r.setStyle("float",n),o.cancel())}),o.on("refresh",function(o){var a=t(i);a&&(a=e(a),this.setState(a==n?CKEDITOR.TRISTATE_ON:"right"==n||"left"==n?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED),o.cancel())}))}i.plugins.image2||(n("left"),n("right"),n("center"),n("block"))}})}(),CKEDITOR.config.image_removeLinkByEmptyURL=!0,function(){function t(t,n){var o,a;n.on("refresh",function(t){var n,o=[e];for(n in t.data.states)o.push(t.data.states[n]);this.setState(CKEDITOR.tools.search(o,i)?i:e)},n,null,100),n.on("exec",function(e){o=t.getSelection(),a=o.createBookmarks(1),e.data||(e.data={}),e.data.done=!1},n,null,0),n.on("exec",function(){t.forceNextSelectionCheck(),o.selectBookmarks(a)},n,null,100)}var e=CKEDITOR.TRISTATE_DISABLED,i=CKEDITOR.TRISTATE_OFF;CKEDITOR.plugins.add("indent",{init:function(e){var i=CKEDITOR.plugins.indent.genericDefinition;t(e,e.addCommand("indent",new i(!0))),t(e,e.addCommand("outdent",new i)),e.ui.addButton&&(e.ui.addButton("Indent",{label:e.lang.indent.indent,command:"indent",directional:!0,toolbar:"indent,20"}),e.ui.addButton("Outdent",{label:e.lang.indent.outdent,command:"outdent",directional:!0,toolbar:"indent,10"})),e.on("dirChanged",function(t){var i=e.createRange(),n=t.data.node;i.setStartBefore(n),i.setEndAfter(n);for(var o,a=new CKEDITOR.dom.walker(i);o=a.next();)if(o.type==CKEDITOR.NODE_ELEMENT)if(!o.equals(n)&&o.getDirection())i.setStartAfter(o),a=new CKEDITOR.dom.walker(i);else{var r=e.config.indentClasses;if(r)for(var s="ltr"==t.data.dir?["_rtl",""]:["","_rtl"],l=0;l<r.length;l++)o.hasClass(r[l]+s[0])&&(o.removeClass(r[l]+s[0]),o.addClass(r[l]+s[1]));r=o.getStyle("margin-right"),s=o.getStyle("margin-left"),r?o.setStyle("margin-left",r):o.removeStyle("margin-left"),s?o.setStyle("margin-right",s):o.removeStyle("margin-right")}})}}),CKEDITOR.plugins.indent={genericDefinition:function(t){this.isIndent=!!t,this.startDisabled=!this.isIndent},specificDefinition:function(t,e,i){this.name=e,this.editor=t,this.jobs={},this.enterBr=t.config.enterMode==CKEDITOR.ENTER_BR,this.isIndent=!!i,this.relatedGlobal=i?"indent":"outdent",this.indentKey=i?9:CKEDITOR.SHIFT+9,this.database={}},registerCommands:function(t,e){t.on("pluginsLoaded",function(){for(var t in e)!function(t,e){var i,n=t.getCommand(e.relatedGlobal);for(i in e.jobs)n.on("exec",function(n){n.data.done||(t.fire("lockSnapshot"),e.execJob(t,i)&&(n.data.done=!0),t.fire("unlockSnapshot"),CKEDITOR.dom.element.clearAllMarkers(e.database))},this,null,i),n.on("refresh",function(n){n.data.states||(n.data.states={}),n.data.states[e.name+"@"+i]=e.refreshJob(t,i,n.data.path)},this,null,i);t.addFeature(e)}(this,e[t])})}},CKEDITOR.plugins.indent.genericDefinition.prototype={context:"p",exec:function(){}},CKEDITOR.plugins.indent.specificDefinition.prototype={execJob:function(t,i){var n=this.jobs[i];if(n.state!=e)return n.exec.call(this,t)},refreshJob:function(t,i,n){return i=this.jobs[i],t.activeFilter.checkFeature(this)?i.state=i.refresh.call(this,t,n):i.state=e,i.state},getContext:function(t){return t.contains(this.context)}}}(),function(){function t(t){function n(e){for(var n=o.startContainer,l=o.endContainer;n&&!n.getParent().equals(e);)n=n.getParent();for(;l&&!l.getParent().equals(e);)l=l.getParent();if(!n||!l)return!1;for(var d=[],c=!1;!c;)n.equals(l)&&(c=!0),d.push(n),n=n.getNext();if(1>d.length)return!1;for(n=e.getParents(!0),l=0;l<n.length;l++)if(n[l].getName&&s[n[l].getName()]){e=n[l];break}for(var n=a.isIndent?1:-1,l=d[0],d=d[d.length-1],c=CKEDITOR.plugins.list.listToArray(e,r),h=c[d.getCustomData("listarray_index")].indent,l=l.getCustomData("listarray_index");l<=d.getCustomData("listarray_index");l++)if(c[l].indent+=n,0<n){for(var u=c[l].parent,f=l-1;0<=f;f--)if(c[f].indent===n){u=c[f].parent;break}c[l].parent=new CKEDITOR.dom.element(u.getName(),u.getDocument())}for(l=d.getCustomData("listarray_index")+1;l<c.length&&c[l].indent>h;l++)c[l].indent+=n;if(n=CKEDITOR.plugins.list.arrayToList(c,r,null,t.config.enterMode,e.getDirection()),!a.isIndent){var p;if((p=e.getParent())&&p.is("li"))for(var m,d=n.listNode.getChildren(),g=[],l=d.count()-1;0<=l;l--)(m=d.getItem(l))&&m.is&&m.is("li")&&g.push(m)}if(n&&n.listNode.replace(e),g&&g.length)for(l=0;l<g.length;l++){for(m=e=g[l];(m=m.getNext())&&m.is&&m.getName()in s;)CKEDITOR.env.needsNbspFiller&&!e.getFirst(i)&&e.append(o.document.createText("\xa0")),e.append(m);e.insertAfter(p)}return n&&t.fire("contentDomInvalidated"),!0}for(var o,a=this,r=this.database,s=this.context,l=t.getSelection(),l=(l&&l.getRanges()).createIterator();o=l.getNextRange();){for(var d=o.getCommonAncestor();d&&(d.type!=CKEDITOR.NODE_ELEMENT||!s[d.getName()]);){if(t.editable().equals(d)){d=!1;break}d=d.getParent()}if(d||(d=o.startPath().contains(s))&&o.setEndAt(d,CKEDITOR.POSITION_BEFORE_END),!d){var c=o.getEnclosedNode();c&&c.type==CKEDITOR.NODE_ELEMENT&&c.getName()in s&&(o.setStartAt(c,CKEDITOR.POSITION_AFTER_START),o.setEndAt(c,CKEDITOR.POSITION_BEFORE_END),d=c)}if(d&&o.startContainer.type==CKEDITOR.NODE_ELEMENT&&o.startContainer.getName()in s&&(c=new CKEDITOR.dom.walker(o),c.evaluator=e,o.startContainer=c.next()),d&&o.endContainer.type==CKEDITOR.NODE_ELEMENT&&o.endContainer.getName()in s&&(c=new CKEDITOR.dom.walker(o),c.evaluator=e,o.endContainer=c.previous()),d)return n(d)}return 0}function e(t){return t.type==CKEDITOR.NODE_ELEMENT&&t.is("li")}function i(t){return n(t)&&o(t)}var n=CKEDITOR.dom.walker.whitespaces(!0),o=CKEDITOR.dom.walker.bookmark(!1,!0),a=CKEDITOR.TRISTATE_DISABLED,r=CKEDITOR.TRISTATE_OFF;CKEDITOR.plugins.add("indentlist",{requires:"indent",init:function(e){function i(e){n.specificDefinition.apply(this,arguments),this.requiredContent=["ul","ol"],e.on("key",function(t){var i=e.elementPath();if("wysiwyg"==e.mode&&t.data.keyCode==this.indentKey&&i){var n=this.getContext(i);!n||this.isIndent&&CKEDITOR.plugins.indentList.firstItemInPath(this.context,i,n)||(e.execCommand(this.relatedGlobal),t.cancel())}},this),this.jobs[this.isIndent?10:30]={refresh:this.isIndent?function(t,e){var i=this.getContext(e),n=CKEDITOR.plugins.indentList.firstItemInPath(this.context,e,i);return i&&this.isIndent&&!n?r:a}:function(t,e){return!this.getContext(e)||this.isIndent?a:r},exec:CKEDITOR.tools.bind(t,this)}}var n=CKEDITOR.plugins.indent;n.registerCommands(e,{indentlist:new i(e,"indentlist",!0),outdentlist:new i(e,"outdentlist")}),CKEDITOR.tools.extend(i.prototype,n.specificDefinition.prototype,{context:{ol:1,ul:1}})}}),CKEDITOR.plugins.indentList={},CKEDITOR.plugins.indentList.firstItemInPath=function(t,i,n){var o=i.contains(e);return n||(n=i.contains(t)),n&&o&&o.equals(n.getFirst(e))}}(),function(){function t(t,e){var i=n.exec(t),o=n.exec(e);if(i){if(!i[2]&&"px"==o[2])return o[1];if("px"==i[2]&&!o[2])return o[1]+"px"}return e}var e=CKEDITOR.htmlParser.cssStyle,i=CKEDITOR.tools.cssLength,n=/^((?:\d*(?:\.\d+))|(?:\d+))(.*)?$/i,o={elements:{$:function(i){var n=i.attributes;if((n=(n=(n=n&&n["data-cke-realelement"])&&new CKEDITOR.htmlParser.fragment.fromHtml(decodeURIComponent(n)))&&n.children[0])&&i.attributes["data-cke-resizable"]){var o=new e(i).rules;i=n.attributes;var a=o.width,o=o.height;a&&(i.width=t(i.width,a)),o&&(i.height=t(i.height,o))}return n}}};CKEDITOR.plugins.add("fakeobjects",{init:function(t){t.filter.allow("img[!data-cke-realelement,src,alt,title](*){*}","fakeobjects")},afterInit:function(t){(t=(t=t.dataProcessor)&&t.htmlFilter)&&t.addRules(o,{applyToAll:!0})}}),CKEDITOR.editor.prototype.createFakeElement=function(t,n,o,a){var r=this.lang.fakeobjects,r=r[o]||r.unknown;return n={"class":n,"data-cke-realelement":encodeURIComponent(t.getOuterHtml()),"data-cke-real-node-type":t.type,alt:r,title:r,align:t.getAttribute("align")||""},CKEDITOR.env.hc||(n.src=CKEDITOR.tools.transparentImageData),o&&(n["data-cke-real-element-type"]=o),a&&(n["data-cke-resizable"]=a,o=new e,a=t.getAttribute("width"),t=t.getAttribute("height"),a&&(o.rules.width=i(a)),t&&(o.rules.height=i(t)),o.populate(n)),this.document.createElement("img",{attributes:n})},CKEDITOR.editor.prototype.createFakeParserElement=function(t,n,o,a){var r,s=this.lang.fakeobjects,s=s[o]||s.unknown;return r=new CKEDITOR.htmlParser.basicWriter,t.writeHtml(r),r=r.getHtml(),n={"class":n,"data-cke-realelement":encodeURIComponent(r),"data-cke-real-node-type":t.type,alt:s,title:s,align:t.attributes.align||""},CKEDITOR.env.hc||(n.src=CKEDITOR.tools.transparentImageData),o&&(n["data-cke-real-element-type"]=o),a&&(n["data-cke-resizable"]=a,a=t.attributes,t=new e,o=a.width,a=a.height,void 0!==o&&(t.rules.width=i(o)),void 0!==a&&(t.rules.height=i(a)),t.populate(n)),new CKEDITOR.htmlParser.element("img",n)},CKEDITOR.editor.prototype.restoreRealElement=function(e){if(e.data("cke-real-node-type")!=CKEDITOR.NODE_ELEMENT)return null;var i=CKEDITOR.dom.element.createFromHtml(decodeURIComponent(e.data("cke-realelement")),this.document);if(e.data("cke-resizable")){var n=e.getStyle("width");e=e.getStyle("height"),n&&i.setAttribute("width",t(i.getAttribute("width"),n)),e&&i.setAttribute("height",t(i.getAttribute("height"),e))}return i}}(),function(){function t(t){return t.replace(/'/g,"\\$&")}function e(t){for(var e,i=t.length,n=[],o=0;o<i;o++)e=t.charCodeAt(o),n.push(e);return"String.fromCharCode("+n.join(",")+")"}function i(e,i){var n,o,a=e.plugins.link,r=a.compiledProtectionFunction.params;o=[a.compiledProtectionFunction.name,"("];for(var s=0;s<r.length;s++)a=r[s].toLowerCase(),n=i[a],0<s&&o.push(","),o.push("'",n?t(encodeURIComponent(i[a])):"","'");return o.push(")"),o.join("")}function n(t){t=t.config.emailProtection||"";var e;return t&&"encode"!=t&&(e={},t.replace(/^([^(]+)\(([^)]+)\)$/,function(t,i,n){e.name=i,e.params=[],n.replace(/[^,\s]+/g,function(t){e.params.push(t)})})),e}CKEDITOR.plugins.add("link",{requires:"dialog,fakeobjects",onLoad:function(){function t(t){return i.replace(/%1/g,"rtl"==t?"right":"left").replace(/%2/g,"cke_contents_"+t)}var e="background:url("+CKEDITOR.getUrl(this.path+"images"+(CKEDITOR.env.hidpi?"/hidpi":"")+"/anchor.png")+") no-repeat %1 center;border:1px dotted #00f;background-size:16px;",i=".%2 a.cke_anchor,.%2 a.cke_anchor_empty,.cke_editable.%2 a[name],.cke_editable.%2 a[data-cke-saved-name]{"+e+"padding-%1:18px;cursor:auto;}.%2 img.cke_anchor{"+e+"width:16px;min-height:15px;height:1.15em;vertical-align:text-bottom;}";CKEDITOR.addCss(t("ltr")+t("rtl"))},init:function(t){var e="a[!href]";CKEDITOR.dialog.isTabEnabled(t,"link","advanced")&&(e=e.replace("]",",accesskey,charset,dir,id,lang,name,rel,tabindex,title,type,download]{*}(*)")),CKEDITOR.dialog.isTabEnabled(t,"link","target")&&(e=e.replace("]",",target,onclick]")),t.addCommand("link",new CKEDITOR.dialogCommand("link",{allowedContent:e,requiredContent:"a[href]"})),t.addCommand("anchor",new CKEDITOR.dialogCommand("anchor",{allowedContent:"a[!name,id]",requiredContent:"a[name]"})),t.addCommand("unlink",new CKEDITOR.unlinkCommand),t.addCommand("removeAnchor",new CKEDITOR.removeAnchorCommand),t.setKeystroke(CKEDITOR.CTRL+76,"link"),t.ui.addButton&&(t.ui.addButton("Link",{label:t.lang.link.toolbar,command:"link",toolbar:"links,10"}),t.ui.addButton("Unlink",{label:t.lang.link.unlink,command:"unlink",toolbar:"links,20"}),t.ui.addButton("Anchor",{label:t.lang.link.anchor.toolbar,command:"anchor",toolbar:"links,30"})),CKEDITOR.dialog.add("link",this.path+"dialogs/link.js"),CKEDITOR.dialog.add("anchor",this.path+"dialogs/anchor.js"),t.on("doubleclick",function(e){var i=e.data.element.getAscendant({a:1,img:1},!0);i&&!i.isReadOnly()&&(i.is("a")?(e.data.dialog=!i.getAttribute("name")||i.getAttribute("href")&&i.getChildCount()?"link":"anchor",e.data.link=i):CKEDITOR.plugins.link.tryRestoreFakeAnchor(t,i)&&(e.data.dialog="anchor"))},null,null,0),t.on("doubleclick",function(e){e.data.dialog in{link:1,anchor:1}&&e.data.link&&t.getSelection().selectElement(e.data.link)},null,null,20),t.addMenuItems&&t.addMenuItems({anchor:{label:t.lang.link.anchor.menu,command:"anchor",group:"anchor",order:1},removeAnchor:{label:t.lang.link.anchor.remove,command:"removeAnchor",group:"anchor",order:5},link:{label:t.lang.link.menu,command:"link",group:"link",order:1},unlink:{label:t.lang.link.unlink,command:"unlink",group:"link",order:5}}),t.contextMenu&&t.contextMenu.addListener(function(e){if(!e||e.isReadOnly())return null;if(!(e=CKEDITOR.plugins.link.tryRestoreFakeAnchor(t,e))&&!(e=CKEDITOR.plugins.link.getSelectedLink(t)))return null;var i={};return e.getAttribute("href")&&e.getChildCount()&&(i={link:CKEDITOR.TRISTATE_OFF,unlink:CKEDITOR.TRISTATE_OFF}),e&&e.hasAttribute("name")&&(i.anchor=i.removeAnchor=CKEDITOR.TRISTATE_OFF),i}),this.compiledProtectionFunction=n(t)},afterInit:function(t){t.dataProcessor.dataFilter.addRules({elements:{a:function(e){return e.attributes.name?e.children.length?null:t.createFakeParserElement(e,"cke_anchor","anchor"):null}}});var e=t._.elementsPath&&t._.elementsPath.filters;e&&e.push(function(e,i){if("a"==i&&(CKEDITOR.plugins.link.tryRestoreFakeAnchor(t,e)||e.getAttribute("name")&&(!e.getAttribute("href")||!e.getChildCount())))return"anchor"})}});var o=/^javascript:/,a=/^mailto:([^?]+)(?:\?(.+))?$/,r=/subject=([^;?:@&=$,\/]*)/i,s=/body=([^;?:@&=$,\/]*)/i,l=/^#(.*)$/,d=/^((?:http|https|ftp|news):\/\/)?(.*)$/,c=/^(_(?:self|top|parent|blank))$/,h=/^javascript:void\(location\.href='mailto:'\+String\.fromCharCode\(([^)]+)\)(?:\+'(.*)')?\)$/,u=/^javascript:([^(]+)\(([^)]+)\)$/,f=/\s*window.open\(\s*this\.href\s*,\s*(?:'([^']*)'|null)\s*,\s*'([^']*)'\s*\)\s*;\s*return\s*false;*\s*/,p=/(?:^|,)([^=]+)=(\d+|yes|no)/gi,m={id:"advId",dir:"advLangDir",accessKey:"advAccessKey",name:"advName",lang:"advLangCode",tabindex:"advTabIndex",title:"advTitle",type:"advContentType","class":"advCSSClasses",charset:"advCharset",style:"advStyles",rel:"advRel"};CKEDITOR.plugins.link={getSelectedLink:function(t,e){var i,n=t.getSelection(),o=n.getSelectedElement(),a=n.getRanges(),r=[];if(!e&&o&&o.is("a"))return o;for(o=0;o<a.length;o++)if(i=n.getRanges()[o],i.shrink(CKEDITOR.SHRINK_TEXT,!1,{skipBogus:!0}),(i=t.elementPath(i.getCommonAncestor()).contains("a",1))&&e)r.push(i);else if(i)return i;return e?r:null},getEditorAnchors:function(t){for(var e,i=t.editable(),n=i.isInline()&&!t.plugins.divarea?t.document:i,i=n.getElementsByTag("a"),n=n.getElementsByTag("img"),o=[],a=0;e=i.getItem(a++);)(e.data("cke-saved-name")||e.hasAttribute("name"))&&o.push({name:e.data("cke-saved-name")||e.getAttribute("name"),id:e.getAttribute("id")});for(a=0;e=n.getItem(a++);)(e=this.tryRestoreFakeAnchor(t,e))&&o.push({name:e.getAttribute("name"),id:e.getAttribute("id")});return o},fakeAnchor:!0,tryRestoreFakeAnchor:function(t,e){if(e&&e.data("cke-real-element-type")&&"anchor"==e.data("cke-real-element-type")){var i=t.restoreRealElement(e);if(i.data("cke-saved-name"))return i}},parseLinkAttributes:function(t,e){var i,n=e&&(e.data("cke-saved-href")||e.getAttribute("href"))||"",g=t.plugins.link.compiledProtectionFunction,v=t.config.emailProtection,b={};if(n.match(o)&&("encode"==v?n=n.replace(h,function(t,e,i){return i=i||"","mailto:"+String.fromCharCode.apply(String,e.split(","))+i.replace(/\\'/g,"'")}):v&&n.replace(u,function(t,e,i){if(e==g.name){b.type="email",t=b.email={},e=/(^')|('$)/g,i=i.match(/[^,\s]+/g);for(var n,o,a=i.length,r=0;r<a;r++)n=decodeURIComponent,o=i[r].replace(e,"").replace(/\\'/g,"'"),o=n(o),n=g.params[r].toLowerCase(),t[n]=o;t.address=[t.name,t.domain].join("@")}})),!b.type)if(v=n.match(l))b.type="anchor",b.anchor={},b.anchor.name=b.anchor.id=v[1];else if(v=n.match(a)){i=n.match(r),n=n.match(s),b.type="email";var T=b.email={};T.address=v[1],i&&(T.subject=decodeURIComponent(i[1])),n&&(T.body=decodeURIComponent(n[1]))}else n&&(i=n.match(d))&&(b.type="url",b.url={},b.url.protocol=i[1],b.url.url=i[2]);if(e){if(n=e.getAttribute("target"))b.target={type:n.match(c)?n:"frame",name:n};else if(n=(n=e.data("cke-pa-onclick")||e.getAttribute("onclick"))&&n.match(f))for(b.target={type:"popup",name:n[1]};v=p.exec(n[2]);)"yes"!=v[2]&&"1"!=v[2]||v[1]in{height:1,width:1,top:1,left:1}?isFinite(v[2])&&(b.target[v[1]]=v[2]):b.target[v[1]]=!0;null!==e.getAttribute("download")&&(b.download=!0);var E,n={};for(E in m)(v=e.getAttribute(E))&&(n[m[E]]=v);(E=e.data("cke-saved-name")||n.advName)&&(n.advName=E),CKEDITOR.tools.isEmpty(n)||(b.advanced=n)}return b},getLinkAttributes:function(n,o){var a=n.config.emailProtection||"",r={};switch(o.type){case"url":var a=o.url&&void 0!==o.url.protocol?o.url.protocol:"http://",s=o.url&&CKEDITOR.tools.trim(o.url.url)||"";r["data-cke-saved-href"]=0===s.indexOf("/")?s:a+s;break;case"anchor":a=o.anchor&&o.anchor.id,r["data-cke-saved-href"]="#"+(o.anchor&&o.anchor.name||a||"");break;case"email":var l=o.email,s=l.address;switch(a){case"":case"encode":var d=encodeURIComponent(l.subject||""),c=encodeURIComponent(l.body||""),l=[];d&&l.push("subject="+d),c&&l.push("body="+c),l=l.length?"?"+l.join("&"):"","encode"==a?(a=["javascript:void(location.href='mailto:'+",e(s)],l&&a.push("+'",t(l),"'"),a.push(")")):a=["mailto:",s,l];break;default:a=s.split("@",2),l.name=a[0],l.domain=a[1],a=["javascript:",i(n,l)]}r["data-cke-saved-href"]=a.join("")}if(o.target)if("popup"==o.target.type){for(var a=["window.open(this.href, '",o.target.name||"","', '"],h="resizable status location toolbar menubar fullscreen scrollbars dependent".split(" "),s=h.length,d=function(t){o.target[t]&&h.push(t+"="+o.target[t])},l=0;l<s;l++)h[l]+=o.target[h[l]]?"=yes":"=no";d("width"),d("left"),d("height"),d("top"),a.push(h.join(","),"'); return false;"),r["data-cke-pa-onclick"]=a.join("")}else"notSet"!=o.target.type&&o.target.name&&(r.target=o.target.name);if(o.download&&(r.download=""),o.advanced){for(var u in m)(a=o.advanced[m[u]])&&(r[u]=a);r.name&&(r["data-cke-saved-name"]=r.name)}r["data-cke-saved-href"]&&(r.href=r["data-cke-saved-href"]),u={target:1,onclick:1,"data-cke-pa-onclick":1,"data-cke-saved-name":1,download:1},o.advanced&&CKEDITOR.tools.extend(u,m);for(var f in r)delete u[f];return{set:r,removed:CKEDITOR.tools.objectKeys(u)}},showDisplayTextForElement:function(t,e){var i={img:1,table:1,tbody:1,thead:1,tfoot:1,input:1,select:1,textarea:1},n=e.getSelection();return!(e.widgets&&e.widgets.focused||n&&1<n.getRanges().length)&&(!t||!t.getName||!t.is(i))}},CKEDITOR.unlinkCommand=function(){},CKEDITOR.unlinkCommand.prototype={exec:function(t){if(CKEDITOR.env.ie){var e,i=t.getSelection().getRanges()[0],n=i.getPreviousEditableNode()&&i.getPreviousEditableNode().getAscendant("a",!0)||i.getNextEditableNode()&&i.getNextEditableNode().getAscendant("a",!0);i.collapsed&&n&&(e=i.createBookmark(),i.selectNodeContents(n),i.select())}n=new CKEDITOR.style({element:"a",type:CKEDITOR.STYLE_INLINE,alwaysRemoveElement:1}),t.removeStyle(n),e&&(i.moveToBookmark(e),i.select())},refresh:function(t,e){var i=e.lastElement&&e.lastElement.getAscendant("a",!0);i&&"a"==i.getName()&&i.getAttribute("href")&&i.getChildCount()?this.setState(CKEDITOR.TRISTATE_OFF):this.setState(CKEDITOR.TRISTATE_DISABLED)},contextSensitive:1,startDisabled:1,requiredContent:"a[href]",editorFocus:1},CKEDITOR.removeAnchorCommand=function(){},CKEDITOR.removeAnchorCommand.prototype={exec:function(t){var e,i=t.getSelection(),n=i.createBookmarks();i&&(e=i.getSelectedElement())&&(e.getChildCount()?e.is("a"):CKEDITOR.plugins.link.tryRestoreFakeAnchor(t,e))?e.remove(1):(e=CKEDITOR.plugins.link.getSelectedLink(t))&&(e.hasAttribute("href")?(e.removeAttributes({name:1,"data-cke-saved-name":1}),e.removeClass("cke_anchor")):e.remove(1)),i.selectBookmarks(n)},requiredContent:"a[name]"},CKEDITOR.tools.extend(CKEDITOR.config,{linkShowAdvancedTab:!0,linkShowTargetTab:!0})}(),function(){function t(t,e,i){function n(i){!(l=c[i?"getFirst":"getLast"]())||l.is&&l.isBlockBoundary()||!(d=e.root[i?"getPrevious":"getNext"](CKEDITOR.dom.walker.invisible(!0)))||d.is&&d.isBlockBoundary({br:1})||t.document.createElement("br")[i?"insertBefore":"insertAfter"](l)}for(var o=CKEDITOR.plugins.list.listToArray(e.root,i),a=[],r=0;r<e.contents.length;r++){var s=e.contents[r];(s=s.getAscendant("li",!0))&&!s.getCustomData("list_item_processed")&&(a.push(s),CKEDITOR.dom.element.setMarker(i,s,"list_item_processed",!0))}for(s=null,r=0;r<a.length;r++)s=a[r].getCustomData("listarray_index"),o[s].indent=-1;for(r=s+1;r<o.length;r++)if(o[r].indent>o[r-1].indent+1){for(a=o[r-1].indent+1-o[r].indent,s=o[r].indent;o[r]&&o[r].indent>=s;)o[r].indent+=a,r++;r--}var l,d,c=CKEDITOR.plugins.list.arrayToList(o,i,null,t.config.enterMode,e.root.getAttribute("dir")).listNode;n(!0),n(),c.replace(e.root),t.fire("contentDomInvalidated")}function e(t,e){this.name=t,this.context=this.type=e,this.allowedContent=e+" li",this.requiredContent=e}function i(t,e,i,n){for(var o,a;o=t[n?"getLast":"getFirst"](f);)(a=o.getDirection(1))!==e.getDirection(1)&&o.setAttribute("dir",a),o.remove(),i?o[n?"insertBefore":"insertAfter"](i):e.append(o,n)}function n(t){function e(e){var n=t[e?"getPrevious":"getNext"](c);n&&n.type==CKEDITOR.NODE_ELEMENT&&n.is(t.getName())&&(i(t,n,null,!e),t.remove(),t=n)}e(),e(1)}function o(t){return t.type==CKEDITOR.NODE_ELEMENT&&(t.getName()in CKEDITOR.dtd.$block||t.getName()in CKEDITOR.dtd.$listItem)&&CKEDITOR.dtd[t.getName()]["#"]}function a(t,e,o){t.fire("saveSnapshot"),o.enlarge(CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS);var a=o.extractContents();e.trim(!1,!0);var s=e.createBookmark(),l=new CKEDITOR.dom.elementPath(e.startContainer),d=l.block,l=l.lastElement.getAscendant("li",1)||d,u=new CKEDITOR.dom.elementPath(o.startContainer),f=u.contains(CKEDITOR.dtd.$listItem),u=u.contains(CKEDITOR.dtd.$list);for(d?(d=d.getBogus())&&d.remove():u&&(d=u.getPrevious(c))&&h(d)&&d.remove(),(d=a.getLast())&&d.type==CKEDITOR.NODE_ELEMENT&&d.is("br")&&d.remove(),(d=e.startContainer.getChild(e.startOffset))?a.insertBefore(d):e.startContainer.append(a),f&&(a=r(f))&&(l.contains(f)?(i(a,f.getParent(),f),a.remove()):l.append(a));o.checkStartOfBlock()&&o.checkEndOfBlock()&&(u=o.startPath(),a=u.block);)a.is("li")&&(l=a.getParent(),a.equals(l.getLast(c))&&a.equals(l.getFirst(c))&&(a=l)),o.moveToPosition(a,CKEDITOR.POSITION_BEFORE_START),a.remove();o=o.clone(),a=t.editable(),o.setEndAt(a,CKEDITOR.POSITION_BEFORE_END),o=new CKEDITOR.dom.walker(o),o.evaluator=function(t){return c(t)&&!h(t)},(o=o.next())&&o.type==CKEDITOR.NODE_ELEMENT&&o.getName()in CKEDITOR.dtd.$list&&n(o),e.moveToBookmark(s),e.select(),t.fire("saveSnapshot")}function r(t){return(t=t.getLast(c))&&t.type==CKEDITOR.NODE_ELEMENT&&t.getName()in s?t:null}var s={ol:1,ul:1},l=CKEDITOR.dom.walker.whitespaces(),d=CKEDITOR.dom.walker.bookmark(),c=function(t){return!(l(t)||d(t))},h=CKEDITOR.dom.walker.bogus();CKEDITOR.plugins.list={listToArray:function(t,e,i,n,o){if(!s[t.getName()])return[];n||(n=0),i||(i=[]);for(var a=0,r=t.getChildCount();a<r;a++){var l=t.getChild(a);if(l.type==CKEDITOR.NODE_ELEMENT&&l.getName()in CKEDITOR.dtd.$list&&CKEDITOR.plugins.list.listToArray(l,e,i,n+1),"li"==l.$.nodeName.toLowerCase()){var d={parent:t,indent:n,element:l,contents:[]};o?d.grandparent=o:(d.grandparent=t.getParent(),d.grandparent&&"li"==d.grandparent.$.nodeName.toLowerCase()&&(d.grandparent=d.grandparent.getParent())),e&&CKEDITOR.dom.element.setMarker(e,l,"listarray_index",i.length),i.push(d);for(var c,h=0,u=l.getChildCount();h<u;h++)c=l.getChild(h),c.type==CKEDITOR.NODE_ELEMENT&&s[c.getName()]?CKEDITOR.plugins.list.listToArray(c,e,i,n+1,d.grandparent):d.contents.push(c)}}return i},arrayToList:function(t,e,i,n,o){if(i||(i=0),!t||t.length<i+1)return null;for(var a,r,l,h=t[i].parent.getDocument(),u=new CKEDITOR.dom.documentFragment(h),f=null,p=i,m=Math.max(t[i].indent,0),g=null,v=n==CKEDITOR.ENTER_P?"p":"div";;){var b=t[p];if(a=b.grandparent,r=b.element.getDirection(1),b.indent==m){for(f&&t[p].parent.getName()==f.getName()||(f=t[p].parent.clone(!1,1),o&&f.setAttribute("dir",o),u.append(f)),g=f.append(b.element.clone(0,1)),r!=f.getDirection(1)&&g.setAttribute("dir",r),a=0;a<b.contents.length;a++)g.append(b.contents[a].clone(1,1));p++}else if(b.indent==Math.max(m,0)+1)b=t[p-1].element.getDirection(1),p=CKEDITOR.plugins.list.arrayToList(t,null,p,n,b!=r?r:null),!g.getChildCount()&&CKEDITOR.env.needsNbspFiller&&7>=h.$.documentMode&&g.append(h.createText("\xa0")),g.append(p.listNode),p=p.nextIndex;else{if(-1!=b.indent||i||!a)return null;s[a.getName()]?(g=b.element.clone(!1,!0),r!=a.getDirection(1)&&g.setAttribute("dir",r)):g=new CKEDITOR.dom.documentFragment(h);var T,E,f=a.getDirection(1)!=r,C=b.element,y=C.getAttribute("class"),D=C.getAttribute("style"),I=g.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT&&(n!=CKEDITOR.ENTER_BR||f||D||y),O=b.contents.length;for(a=0;a<O;a++)if(T=b.contents[a],d(T)&&1<O)I?E=T.clone(1,1):g.append(T.clone(1,1));else if(T.type==CKEDITOR.NODE_ELEMENT&&T.isBlockBoundary()){f&&!T.getDirection()&&T.setAttribute("dir",r),l=T;var R=C.getAttribute("style");R&&l.setAttribute("style",R.replace(/([^;])$/,"$1;")+(l.getAttribute("style")||"")),y&&T.addClass(y),l=null,E&&(g.append(E),E=null),g.append(T.clone(1,1))}else I?(l||(l=h.createElement(v),g.append(l),f&&l.setAttribute("dir",r)),D&&l.setAttribute("style",D),y&&l.setAttribute("class",y),E&&(l.append(E),E=null),l.append(T.clone(1,1))):g.append(T.clone(1,1));E&&((l||g).append(E),E=null),g.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT&&p!=t.length-1&&(CKEDITOR.env.needsBrFiller&&(r=g.getLast())&&r.type==CKEDITOR.NODE_ELEMENT&&r.is("br")&&r.remove(),(r=g.getLast(c))&&r.type==CKEDITOR.NODE_ELEMENT&&r.is(CKEDITOR.dtd.$block)||g.append(h.createElement("br"))),r=g.$.nodeName.toLowerCase(),"div"!=r&&"p"!=r||g.appendBogus(),u.append(g),f=null,p++}if(l=null,t.length<=p||Math.max(t[p].indent,0)<m)break}if(e)for(t=u.getFirst();t;){if(t.type==CKEDITOR.NODE_ELEMENT&&(CKEDITOR.dom.element.clearMarkers(e,t),t.getName()in CKEDITOR.dtd.$listItem&&(i=t,h=o=n=void 0,n=i.getDirection()))){for(o=i.getParent();o&&!(h=o.getDirection());)o=o.getParent();n==h&&i.removeAttribute("dir")}t=t.getNextSourceNode()}return{listNode:u,nextIndex:p}}};var u=/^h[1-6]$/,f=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_ELEMENT);e.prototype={exec:function(e){this.refresh(e,e.elementPath());var i=e.config,o=e.getSelection(),a=o&&o.getRanges();if(this.state==CKEDITOR.TRISTATE_OFF){var r=e.editable();if(r.getFirst(c)){var l=1==a.length&&a[0];(i=l&&l.getEnclosedNode())&&i.is&&this.type==i.getName()&&this.setState(CKEDITOR.TRISTATE_ON)}else i.enterMode==CKEDITOR.ENTER_BR?r.appendBogus():a[0].fixBlock(1,i.enterMode==CKEDITOR.ENTER_P?"p":"div"),o.selectRanges(a)}for(var i=o.createBookmarks(!0),r=[],d={},a=a.createIterator(),h=0;(l=a.getNextRange())&&++h;){var f=l.getBoundaryNodes(),p=f.startNode,m=f.endNode;for(p.type==CKEDITOR.NODE_ELEMENT&&"td"==p.getName()&&l.setStartAt(f.startNode,CKEDITOR.POSITION_AFTER_START),m.type==CKEDITOR.NODE_ELEMENT&&"td"==m.getName()&&l.setEndAt(f.endNode,CKEDITOR.POSITION_BEFORE_END),l=l.createIterator(),l.forceBrBreak=this.state==CKEDITOR.TRISTATE_OFF;f=l.getNextParagraph();)if(!f.getCustomData("list_block")){CKEDITOR.dom.element.setMarker(d,f,"list_block",1);for(var g,v=e.elementPath(f),p=v.elements,m=0,v=v.blockLimit,b=p.length-1;0<=b&&(g=p[b]);b--)if(s[g.getName()]&&v.contains(g)){v.removeCustomData("list_group_object_"+h),(p=g.getCustomData("list_group_object"))?p.contents.push(f):(p={root:g,contents:[f]},r.push(p),CKEDITOR.dom.element.setMarker(d,g,"list_group_object",p)),m=1;break}m||(m=v,m.getCustomData("list_group_object_"+h)?m.getCustomData("list_group_object_"+h).contents.push(f):(p={root:m,contents:[f]},CKEDITOR.dom.element.setMarker(d,m,"list_group_object_"+h,p),r.push(p)))}}for(g=[];0<r.length;)if(p=r.shift(),this.state==CKEDITOR.TRISTATE_OFF)if(s[p.root.getName()]){for(a=e,h=p,p=d,l=g,m=CKEDITOR.plugins.list.listToArray(h.root,p),v=[],f=0;f<h.contents.length;f++)b=h.contents[f],(b=b.getAscendant("li",!0))&&!b.getCustomData("list_item_processed")&&(v.push(b),CKEDITOR.dom.element.setMarker(p,b,"list_item_processed",!0));for(var b=h.root.getDocument(),T=void 0,E=void 0,f=0;f<v.length;f++){var C=v[f].getCustomData("listarray_index"),T=m[C].parent;T.is(this.type)||(E=b.createElement(this.type),T.copyAttributes(E,{start:1,type:1}),E.removeStyle("list-style-type"),m[C].parent=E)}for(p=CKEDITOR.plugins.list.arrayToList(m,p,null,a.config.enterMode),m=void 0,v=p.listNode.getChildCount(),f=0;f<v&&(m=p.listNode.getChild(f));f++)m.getName()==this.type&&l.push(m);p.listNode.replace(h.root),a.fire("contentDomInvalidated")}else{for(m=e,l=p,f=g,v=l.contents,a=l.root.getDocument(),h=[],1==v.length&&v[0].equals(l.root)&&(p=a.createElement("div"),v[0].moveChildren&&v[0].moveChildren(p),v[0].append(p),v[0]=p),l=l.contents[0].getParent(),b=0;b<v.length;b++)l=l.getCommonAncestor(v[b].getParent());for(T=m.config.useComputedState,m=p=void 0,T=void 0===T||T,b=0;b<v.length;b++)for(E=v[b];C=E.getParent();){if(C.equals(l)){h.push(E),!m&&E.getDirection()&&(m=1),E=E.getDirection(T),null!==p&&(p=p&&p!=E?null:E);break}E=C}if(!(1>h.length)){for(v=h[h.length-1].getNext(),b=a.createElement(this.type),f.push(b),T=f=void 0;h.length;)f=h.shift(),T=a.createElement("li"),E=f,E.is("pre")||u.test(E.getName())||"false"==E.getAttribute("contenteditable")?f.appendTo(T):(f.copyAttributes(T),p&&f.getDirection()&&(T.removeStyle("direction"),T.removeAttribute("dir")),f.moveChildren(T),f.remove()),T.appendTo(b);p&&m&&b.setAttribute("dir",p),v?b.insertBefore(v):b.appendTo(l)}}else this.state==CKEDITOR.TRISTATE_ON&&s[p.root.getName()]&&t.call(this,e,p,d);for(b=0;b<g.length;b++)n(g[b]);CKEDITOR.dom.element.clearAllMarkers(d),o.selectBookmarks(i),e.focus()},refresh:function(t,e){var i=e.contains(s,1),n=e.blockLimit||e.root;i&&n.contains(i)?this.setState(i.is(this.type)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF):this.setState(CKEDITOR.TRISTATE_OFF)}},CKEDITOR.plugins.add("list",{requires:"indentlist",init:function(t){t.blockless||(t.addCommand("numberedlist",new e("numberedlist","ol")),t.addCommand("bulletedlist",new e("bulletedlist","ul")),t.ui.addButton&&(t.ui.addButton("NumberedList",{label:t.lang.list.numberedlist,command:"numberedlist",directional:!0,toolbar:"list,10"}),t.ui.addButton("BulletedList",{label:t.lang.list.bulletedlist,command:"bulletedlist",directional:!0,toolbar:"list,20"})),t.on("key",function(e){var i,n=e.data.domEvent.getKey();if("wysiwyg"==t.mode&&n in{8:1,46:1}){var l=t.getSelection().getRanges()[0],d=l&&l.startPath();if(l&&l.collapsed){var u=8==n,f=t.editable(),p=new CKEDITOR.dom.walker(l.clone());if(p.evaluator=function(t){return c(t)&&!h(t)},p.guard=function(t,e){return!(e&&t.type==CKEDITOR.NODE_ELEMENT&&t.is("table"))},n=l.clone(),u){var m;if((m=d.contains(s))&&l.checkBoundaryOfElement(m,CKEDITOR.START)&&(m=m.getParent())&&m.is("li")&&(m=r(m))?(i=m,m=m.getPrevious(c),n.moveToPosition(m&&h(m)?m:i,CKEDITOR.POSITION_BEFORE_START)):(p.range.setStartAt(f,CKEDITOR.POSITION_AFTER_START),p.range.setEnd(l.startContainer,l.startOffset),(m=p.previous())&&m.type==CKEDITOR.NODE_ELEMENT&&(m.getName()in s||m.is("li"))&&(m.is("li")||(p.range.selectNodeContents(m),p.reset(),p.evaluator=o,m=p.previous()),i=m,n.moveToElementEditEnd(i),n.moveToPosition(n.endPath().block,CKEDITOR.POSITION_BEFORE_END))),i)a(t,n,l),e.cancel();else{var g=d.contains(s);g&&l.checkBoundaryOfElement(g,CKEDITOR.START)&&(i=g.getFirst(c),l.checkBoundaryOfElement(i,CKEDITOR.START)&&(m=g.getPrevious(c),r(i)?m&&(l.moveToElementEditEnd(m),l.select()):t.execCommand("outdent"),e.cancel()))}}else if(i=d.contains("li")){if(p.range.setEndAt(f,CKEDITOR.POSITION_BEFORE_END),u=(f=i.getLast(c))&&o(f)?f:i,d=0,(m=p.next())&&m.type==CKEDITOR.NODE_ELEMENT&&m.getName()in s&&m.equals(f)?(d=1,
m=p.next()):l.checkBoundaryOfElement(u,CKEDITOR.END)&&(d=2),d&&m){if(l=l.clone(),l.moveToElementEditStart(m),1==d&&(n.optimize(),!n.startContainer.equals(i))){for(i=n.startContainer;i.is(CKEDITOR.dtd.$inline);)g=i,i=i.getParent();g&&n.moveToPosition(g,CKEDITOR.POSITION_AFTER_END)}2==d&&(n.moveToPosition(n.endPath().block,CKEDITOR.POSITION_BEFORE_END),l.endPath().block&&l.moveToPosition(l.endPath().block,CKEDITOR.POSITION_AFTER_START)),a(t,n,l),e.cancel()}}else p.range.setEndAt(f,CKEDITOR.POSITION_BEFORE_END),(m=p.next())&&m.type==CKEDITOR.NODE_ELEMENT&&m.is(s)&&(m=m.getFirst(c),d.block&&l.checkStartOfBlock()&&l.checkEndOfBlock()?(d.block.remove(),l.moveToElementEditStart(m),l.select()):r(m)?(l.moveToElementEditStart(m),l.select()):(l=l.clone(),l.moveToElementEditStart(m),a(t,n,l)),e.cancel());setTimeout(function(){t.selectionChange(1)})}}}))}})}(),function(){function t(t,e,i){return h(e)&&h(i)&&i.equals(e.getNext(function(t){return!(Y(t)||G(t)||u(t))}))}function e(t){this.upper=t[0],this.lower=t[1],this.set.apply(this,t.slice(2))}function i(t){var e=t.element;if(e&&h(e)&&(e=e.getAscendant(t.triggers,!0))&&t.editable.contains(e)){var i=r(e);if("true"==i.getAttribute("contenteditable"))return e;if(i.is(t.triggers))return i}return null}function n(t,e,i){return E(t,e),E(t,i),t=e.size.bottom,i=i.size.top,t&&i?0|(t+i)/2:t||i}function o(t,e,i){return e=e[i?"getPrevious":"getNext"](function(e){return e&&e.type==CKEDITOR.NODE_TEXT&&!Y(e)||h(e)&&!u(e)&&!c(t,e)})}function a(t,e,i){return t>e&&t<i}function r(t,e){if(t.data("cke-editable"))return null;for(e||(t=t.getParent());t&&!t.data("cke-editable");){if(t.hasAttribute("contenteditable"))return t;t=t.getParent()}return null}function s(t){var e=t.doc,i=R('<span contenteditable="false" style="'+q+"position:absolute;border-top:1px dashed "+t.boxColor+'"></span>',e),n=CKEDITOR.getUrl(this.path+"images/"+(x.hidpi?"hidpi/":"")+"icon"+(t.rtl?"-rtl":"")+".png");for(I(i,{attach:function(){return this.wrap.getParent()||this.wrap.appendTo(t.editable,!0),this},lineChildren:[I(R('<span title="'+t.editor.lang.magicline.title+'" contenteditable="false">&#8629;</span>',e),{base:q+"height:17px;width:17px;"+(t.rtl?"left":"right")+":17px;background:url("+n+") center no-repeat "+t.boxColor+";cursor:pointer;"+(x.hc?"font-size: 15px;line-height:14px;border:1px solid #fff;text-align:center;":"")+(x.hidpi?"background-size: 9px 10px;":""),looks:["top:-8px; border-radius: 2px;","top:-17px; border-radius: 2px 2px 0px 0px;","top:-1px; border-radius: 0px 0px 2px 2px;"]}),I(R(V,e),{base:j+"left:0px;border-left-color:"+t.boxColor+";",looks:["border-width:8px 0 8px 8px;top:-8px","border-width:8px 0 0 8px;top:-8px","border-width:0 0 8px 8px;top:0px"]}),I(R(V,e),{base:j+"right:0px;border-right-color:"+t.boxColor+";",looks:["border-width:8px 8px 8px 0;top:-8px","border-width:8px 8px 0 0;top:-8px","border-width:0 8px 8px 0;top:0px"]})],detach:function(){return this.wrap.getParent()&&this.wrap.remove(),this},mouseNear:function(){E(t,this);var e=t.holdDistance,i=this.size;return!!(i&&a(t.mouse.y,i.top-e,i.bottom+e)&&a(t.mouse.x,i.left-e,i.right+e))},place:function(){var e=t.view,i=t.editable,n=t.trigger,o=n.upper,r=n.lower,s=o||r,l=s.getParent(),d={};this.trigger=n,o&&E(t,o,!0),r&&E(t,r,!0),E(t,l,!0),t.inInlineMode&&C(t,!0),l.equals(i)?(d.left=e.scroll.x,d.right=-e.scroll.x,d.width=""):(d.left=s.size.left-s.size.margin.left+e.scroll.x-(t.inInlineMode?e.editable.left+e.editable.border.left:0),d.width=s.size.outerWidth+s.size.margin.left+s.size.margin.right+e.scroll.x,d.right=""),o&&r?d.top=o.size.margin.bottom===r.size.margin.top?0|o.size.bottom+o.size.margin.bottom/2:o.size.margin.bottom<r.size.margin.top?o.size.bottom+o.size.margin.bottom:o.size.bottom+o.size.margin.bottom-r.size.margin.top:o?r||(d.top=o.size.bottom+o.size.margin.bottom):d.top=r.size.top-r.size.margin.top,n.is(M)||a(d.top,e.scroll.y-15,e.scroll.y+5)?(d.top=t.inInlineMode?0:e.scroll.y,this.look(M)):n.is(L)||a(d.top,e.pane.bottom-5,e.pane.bottom+15)?(d.top=t.inInlineMode?e.editable.height+e.editable.padding.top+e.editable.padding.bottom:e.pane.bottom-1,this.look(L)):(t.inInlineMode&&(d.top-=e.editable.top+e.editable.border.top),this.look(F)),t.inInlineMode&&(d.top--,d.top+=e.editable.scroll.top,d.left+=e.editable.scroll.left);for(var c in d)d[c]=CKEDITOR.tools.cssLength(d[c]);this.setStyles(d)},look:function(t){if(this.oldLook!=t){for(var e,i=this.lineChildren.length;i--;)(e=this.lineChildren[i]).setAttribute("style",e.base+e.looks[0|t/2]);this.oldLook=t}},wrap:new O("span",t.doc)}),e=i.lineChildren.length;e--;)i.lineChildren[e].appendTo(i);i.look(F),i.appendTo(i.wrap),i.unselectable(),i.lineChildren[0].on("mouseup",function(e){i.detach(),l(t,function(e){var i=t.line.trigger;e[i.is(S)?"insertBefore":"insertAfter"](i.is(S)?i.lower:i.upper)},!0),t.editor.focus(),x.ie||t.enterMode==CKEDITOR.ENTER_BR||t.hotNode.scrollIntoView(),e.data.preventDefault(!0)}),i.on("mousedown",function(t){t.data.preventDefault(!0)}),t.line=i}function l(t,e,i){var n,o=new CKEDITOR.dom.range(t.doc),a=t.editor;x.ie&&t.enterMode==CKEDITOR.ENTER_BR?n=t.doc.createText(P):(n=(n=r(t.element,!0))&&n.data("cke-enter-mode")||t.enterMode,n=new O(_[n],t.doc),n.is("br")||t.doc.createText(P).appendTo(n)),i&&a.fire("saveSnapshot"),e(n),o.moveToPosition(n,CKEDITOR.POSITION_AFTER_START),a.getSelection().selectRanges([o]),t.hotNode=n,i&&a.fire("saveSnapshot")}function d(t,e){return{canUndo:!0,modes:{wysiwyg:1},exec:function(){function n(i){var n=x.ie&&9>x.version?" ":P,o=t.hotNode&&t.hotNode.getText()==n&&t.element.equals(t.hotNode)&&t.lastCmdDirection===!!e;l(t,function(n){o&&t.hotNode&&t.hotNode.remove(),n[e?"insertAfter":"insertBefore"](i),n.setAttributes({"data-cke-magicline-hot":1,"data-cke-magicline-dir":!!e}),t.lastCmdDirection=!!e}),x.ie||t.enterMode==CKEDITOR.ENTER_BR||t.hotNode.scrollIntoView(),t.line.detach()}return function(a){a=a.getSelection().getStartElement();var s;if(a=a.getAscendant(H,1),!m(t,a)&&a&&!a.equals(t.editable)&&!a.contains(t.editable)){(s=r(a))&&"false"==s.getAttribute("contenteditable")&&(a=s),t.element=a,s=o(t,a,!e);var l;h(s)&&s.is(t.triggers)&&s.is(z)&&(!o(t,s,!e)||(l=o(t,s,!e))&&h(l)&&l.is(t.triggers))?n(s):(l=i(t,a),h(l)&&(o(t,l,!e)?(a=o(t,l,!e))&&h(a)&&a.is(t.triggers)&&n(l):n(l)))}}}()}}function c(t,e){if(!e||e.type!=CKEDITOR.NODE_ELEMENT||!e.$)return!1;var i=t.line;return i.wrap.equals(e)||i.wrap.contains(e)}function h(t){return t&&t.type==CKEDITOR.NODE_ELEMENT&&t.$}function u(t){if(!h(t))return!1;var e;return(e=f(t))||(h(t)?(e={left:1,right:1,center:1},e=!(!e[t.getComputedStyle("float")]&&!e[t.getAttribute("align")])):e=!1),e}function f(t){return!!{absolute:1,fixed:1}[t.getComputedStyle("position")]}function p(t,e){return h(e)?e.is(t.triggers):null}function m(t,e){if(!e)return!1;for(var i=e.getParents(1),n=i.length;n--;)for(var o=t.tabuList.length;o--;)if(i[n].hasAttribute(t.tabuList[o]))return!0;return!1}function g(t,e,i){return!!(e=e[i?"getLast":"getFirst"](function(e){return t.isRelevant(e)&&!e.is($)}))&&(E(t,e),i?e.size.top>t.mouse.y:e.size.bottom<t.mouse.y)}function v(t){var i=t.editable,n=t.mouse,o=t.view,r=t.triggerOffset;C(t);var s=n.y>(t.inInlineMode?o.editable.top+o.editable.height/2:Math.min(o.editable.height,o.pane.height)/2),i=i[s?"getLast":"getFirst"](function(t){return!(Y(t)||G(t))});return i?(c(t,i)&&(i=t.line.wrap[s?"getPrevious":"getNext"](function(t){return!(Y(t)||G(t))})),h(i)&&!u(i)&&p(t,i)?(E(t,i),!s&&0<=i.size.top&&a(n.y,0,i.size.top+r)?(t=t.inInlineMode||0===o.scroll.y?M:F,new e([null,i,S,A,t])):s&&i.size.bottom<=o.pane.height&&a(n.y,i.size.bottom-r,o.pane.height)?(t=t.inInlineMode||a(i.size.bottom,o.pane.height-r,o.pane.height)?L:F,new e([i,null,N,A,t])):null):null):null}function b(t){var n=t.mouse,r=t.view,s=t.triggerOffset,l=i(t);if(!l)return null;E(t,l);var d,c,s=Math.min(s,0|l.size.outerHeight/2),f=[];if(a(n.y,l.size.top-1,l.size.top+s))c=!1;else{if(!a(n.y,l.size.bottom-s,l.size.bottom+1))return null;c=!0}if(u(l)||g(t,l,c)||l.getParent().is(B))return null;var m=o(t,l,!c);if(m){if(m&&m.type==CKEDITOR.NODE_TEXT)return null;if(h(m)){if(u(m)||!p(t,m)||m.getParent().is(B))return null;f=[m,l][c?"reverse":"concat"]().concat([K,A])}}else l.equals(t.editable[c?"getLast":"getFirst"](t.isRelevant))?(C(t),c&&a(n.y,l.size.bottom-s,r.pane.height)&&a(l.size.bottom,r.pane.height-s,r.pane.height)?d=L:a(n.y,0,l.size.top+s)&&(d=M)):d=F,f=[null,l][c?"reverse":"concat"]().concat([c?N:S,A,d,l.equals(t.editable[c?"getLast":"getFirst"](t.isRelevant))?c?L:M:F]);return 0 in f?new e(f):null}function T(t,e,i,n){for(var o=e.getDocumentPosition(),a={},r={},s={},l={},d=Z.length;d--;)a[Z[d]]=parseInt(e.getComputedStyle.call(e,"border-"+Z[d]+"-width"),10)||0,s[Z[d]]=parseInt(e.getComputedStyle.call(e,"padding-"+Z[d]),10)||0,r[Z[d]]=parseInt(e.getComputedStyle.call(e,"margin-"+Z[d]),10)||0;return i&&!n||y(t,n),l.top=o.y-(i?0:t.view.scroll.y),l.left=o.x-(i?0:t.view.scroll.x),l.outerWidth=e.$.offsetWidth,l.outerHeight=e.$.offsetHeight,l.height=l.outerHeight-(s.top+s.bottom+a.top+a.bottom),l.width=l.outerWidth-(s.left+s.right+a.left+a.right),l.bottom=l.top+l.outerHeight,l.right=l.left+l.outerWidth,t.inInlineMode&&(l.scroll={top:e.$.scrollTop,left:e.$.scrollLeft}),I({border:a,padding:s,margin:r,ignoreScroll:i},l,!0)}function E(t,e,i){if(!h(e))return e.size=null;if(e.size){if(e.size.ignoreScroll==i&&e.size.date>new Date-W)return null}else e.size={};return I(e.size,T(t,e,i),{date:+new Date},!0)}function C(t,e){t.view.editable=T(t,t.editable,e,!0)}function y(t,e){t.view||(t.view={});var i=t.view;if(!(!e&&i&&i.date>new Date-W)){var n=t.win,i=n.getScrollPosition(),n=n.getViewPaneSize();I(t.view,{scroll:{x:i.x,y:i.y,width:t.doc.$.documentElement.scrollWidth-n.width,height:t.doc.$.documentElement.scrollHeight-n.height},pane:{width:n.width,height:n.height,bottom:n.height+i.y},date:+new Date},!0)}}function D(t,i,n,o){for(var a=o,r=o,s=0,l=!1,d=!1,c=t.view.pane.height,h=t.mouse;h.y+s<c&&0<h.y-s&&(l||(l=i(a,o)),d||(d=i(r,o)),!l&&0<h.y-s&&(a=n(t,{x:h.x,y:h.y-s})),!d&&h.y+s<c&&(r=n(t,{x:h.x,y:h.y+s})),!l||!d);)s+=2;return new e([a,r,null,null])}CKEDITOR.plugins.add("magicline",{init:function(t){var n,a,r,p=t.config,g=p.magicline_triggerOffset||30,E={editor:t,enterMode:p.enterMode,triggerOffset:g,holdDistance:0|g*(p.magicline_holdDistance||.5),boxColor:p.magicline_color||"#ff0000",rtl:"rtl"==p.contentsLangDirection,tabuList:["data-cke-hidden-sel"].concat(p.magicline_tabuList||[]),triggers:p.magicline_everywhere?H:{table:1,hr:1,div:1,ul:1,ol:1,dl:1,form:1,blockquote:1}};E.isRelevant=function(t){return h(t)&&!c(E,t)&&!u(t)},t.on("contentDom",function(){var h=t.editable(),u=t.document,g=t.window;I(E,{editable:h,inInlineMode:h.isInline(),doc:u,win:g,hotNode:null},!0),E.boundary=E.inInlineMode?E.editable:E.doc.getDocumentElement(),h.is(k.$inline)||(E.inInlineMode&&!f(h)&&h.setStyles({position:"relative",top:null,left:null}),s.call(this,E),y(E),h.attachListener(t,"beforeUndoImage",function(){E.line.detach()}),h.attachListener(t,"beforeGetData",function(){E.line.wrap.getParent()&&(E.line.detach(),t.once("getData",function(){E.line.attach()},null,null,1e3))},null,null,0),h.attachListener(E.inInlineMode?u:u.getWindow().getFrame(),"mouseout",function(e){if("wysiwyg"==t.mode)if(E.inInlineMode){var i=e.data.$.clientX;e=e.data.$.clientY,y(E),C(E,!0);var n=E.view.editable,o=E.view.scroll;i>n.left-o.x&&i<n.right-o.x&&e>n.top-o.y&&e<n.bottom-o.y||(clearTimeout(r),r=null,E.line.detach())}else clearTimeout(r),r=null,E.line.detach()}),h.attachListener(h,"keyup",function(){E.hiddenMode=0}),h.attachListener(h,"keydown",function(e){if("wysiwyg"==t.mode)switch(e.data.getKeystroke()){case 2228240:case 16:E.hiddenMode=1,E.line.detach()}}),h.attachListener(E.inInlineMode?h:u,"mousemove",function(e){if(a=!0,"wysiwyg"==t.mode&&!t.readOnly&&!r){var i={x:e.data.$.clientX,y:e.data.$.clientY};r=setTimeout(function(){E.mouse=i,r=E.trigger=null,y(E),a&&!E.hiddenMode&&t.focusManager.hasFocus&&!E.line.mouseNear()&&(E.element=U(E,!0))&&((E.trigger=v(E)||b(E)||X(E))&&!m(E,E.trigger.upper||E.trigger.lower)?E.line.attach().place():(E.trigger=null,E.line.detach()),a=!1)},30)}}),h.attachListener(g,"scroll",function(){"wysiwyg"==t.mode&&(E.line.detach(),x.webkit&&(E.hiddenMode=1,clearTimeout(n),n=setTimeout(function(){E.mouseDown||(E.hiddenMode=0)},50)))}),h.attachListener(w?u:g,"mousedown",function(){"wysiwyg"==t.mode&&(E.line.detach(),E.hiddenMode=1,E.mouseDown=1)}),h.attachListener(w?u:g,"mouseup",function(){E.hiddenMode=0,E.mouseDown=0}),t.addCommand("accessPreviousSpace",d(E)),t.addCommand("accessNextSpace",d(E,!0)),t.setKeystroke([[p.magicline_keystrokePrevious,"accessPreviousSpace"],[p.magicline_keystrokeNext,"accessNextSpace"]]),t.on("loadSnapshot",function(){var e,i,n,o;for(o in{p:1,br:1,div:1})for(e=t.document.getElementsByTag(o),n=e.count();n--;)if((i=e.getItem(n)).data("cke-magicline-hot"))return E.hotNode=i,void(E.lastCmdDirection="true"===i.data("cke-magicline-dir"))}),this.backdoor={accessFocusSpace:l,boxTrigger:e,isLine:c,getAscendantTrigger:i,getNonEmptyNeighbour:o,getSize:T,that:E,triggerEdge:b,triggerEditable:v,triggerExpand:X})},this)}});var I=CKEDITOR.tools.extend,O=CKEDITOR.dom.element,R=O.createFromHtml,x=CKEDITOR.env,w=CKEDITOR.env.ie&&9>CKEDITOR.env.version,k=CKEDITOR.dtd,_={},S=128,N=64,K=32,A=16,M=4,L=2,F=1,P="\xa0",B=k.$listItem,$=k.$tableContent,z=I({},k.$nonEditable,k.$empty),H=k.$block,W=100,q="width:0px;height:0px;padding:0px;margin:0px;display:block;z-index:9999;color:#fff;position:absolute;font-size: 0px;line-height:0px;",j=q+"border-color:transparent;display:block;border-style:solid;",V="<span>"+P+"</span>";_[CKEDITOR.ENTER_BR]="br",_[CKEDITOR.ENTER_P]="p",_[CKEDITOR.ENTER_DIV]="div",e.prototype={set:function(t,e,i){return this.properties=t+e+(i||F),this},is:function(t){return(this.properties&t)==t}};var U=function(){function t(t,e){var i=t.$.elementFromPoint(e.x,e.y);return i&&i.nodeType?new CKEDITOR.dom.element(i):null}return function(e,i,n){if(!e.mouse)return null;var o=e.doc,a=e.line.wrap;n=n||e.mouse;var r=t(o,n);return i&&c(e,r)&&(a.hide(),r=t(o,n),a.show()),!r||r.type!=CKEDITOR.NODE_ELEMENT||!r.$||x.ie&&9>x.version&&!e.boundary.equals(r)&&!e.boundary.contains(r)?null:r}}(),Y=CKEDITOR.dom.walker.whitespaces(),G=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_COMMENT),X=function(){function e(e){var o,r,s,l=e.element;if(!h(l)||l.contains(e.editable)||l.isReadOnly())return null;if(s=D(e,function(t,e){return!e.equals(t)},function(t,e){return U(t,!0,e)},l),o=s.upper,r=s.lower,t(e,o,r))return s.set(K,8);if(o&&l.contains(o))for(;!o.getParent().equals(l);)o=o.getParent();else o=l.getFirst(function(t){return i(e,t)});if(r&&l.contains(r))for(;!r.getParent().equals(l);)r=r.getParent();else r=l.getLast(function(t){return i(e,t)});if(!o||!r)return null;if(E(e,o),E(e,r),!a(e.mouse.y,o.size.top,r.size.bottom))return null;for(var d,c,u,f,l=Number.MAX_VALUE;r&&!r.equals(o)&&(c=o.getNext(e.isRelevant));)d=Math.abs(n(e,o,c)-e.mouse.y),d<l&&(l=d,u=o,f=c),o=c,E(e,o);return u&&f&&a(e.mouse.y,u.size.top,f.size.bottom)?(s.upper=u,s.lower=f,s.set(K,8)):null}function i(t,e){return!(e&&e.type==CKEDITOR.NODE_TEXT||G(e)||u(e)||c(t,e)||e.type==CKEDITOR.NODE_ELEMENT&&e.$&&e.is("br"))}return function(i){var n,o=e(i);if(n=o){n=o.upper;var a=o.lower;n=!(!n||!a||u(a)||u(n)||a.equals(n)||n.equals(a)||a.contains(n)||n.contains(a))&&!!(p(i,n)&&p(i,a)&&t(i,n,a))}return n?o:null}}(),Z=["top","left","right","bottom"]}(),CKEDITOR.config.magicline_keystrokePrevious=CKEDITOR.CTRL+CKEDITOR.SHIFT+51,CKEDITOR.config.magicline_keystrokeNext=CKEDITOR.CTRL+CKEDITOR.SHIFT+52,function(){function t(t){if(!t||t.type!=CKEDITOR.NODE_ELEMENT||"form"!=t.getName())return[];for(var e=[],i=["style","className"],n=0;n<i.length;n++){var o=t.$.elements.namedItem(i[n]);o&&(o=new CKEDITOR.dom.element(o),e.push([o,o.nextSibling]),o.remove())}return e}function e(t,e){if(t&&t.type==CKEDITOR.NODE_ELEMENT&&"form"==t.getName()&&0<e.length)for(var i=e.length-1;0<=i;i--){var n=e[i][0],o=e[i][1];o?n.insertBefore(o):n.appendTo(t)}}function i(i,n){var o=t(i),a={},r=i.$;return n||(a["class"]=r.className||"",r.className=""),a.inline=r.style.cssText||"",n||(r.style.cssText="position: static; overflow: visible"),e(o),a}function n(i,n){var o=t(i),a=i.$;"class"in n&&(a.className=n["class"]),"inline"in n&&(a.style.cssText=n.inline),e(o)}function o(t){if(!t.editable().isInline()){var e,i=CKEDITOR.instances;for(e in i){var n=i[e];"wysiwyg"!=n.mode||n.readOnly||(n=n.document.getBody(),n.setAttribute("contentEditable",!1),n.setAttribute("contentEditable",!0))}t.editable().hasFocus&&(t.toolbox.focus(),t.focus())}}CKEDITOR.plugins.add("maximize",{init:function(t){function e(){var e=c.getViewPaneSize();t.resize(e.width,e.height,null,!0)}if(t.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE){var a,r,s,l=t.lang,d=CKEDITOR.document,c=d.getWindow(),h=CKEDITOR.TRISTATE_OFF;t.addCommand("maximize",{modes:{wysiwyg:!CKEDITOR.env.iOS,source:!CKEDITOR.env.iOS},readOnly:1,editorFocus:!1,exec:function(){var u=t.container.getFirst(function(t){return t.type==CKEDITOR.NODE_ELEMENT&&t.hasClass("cke_inner")}),f=t.ui.space("contents");if("wysiwyg"==t.mode){var p=t.getSelection();a=p&&p.getRanges(),r=c.getScrollPosition()}else{var m=t.editable().$;a=!CKEDITOR.env.ie&&[m.selectionStart,m.selectionEnd],r=[m.scrollLeft,m.scrollTop]}if(this.state==CKEDITOR.TRISTATE_OFF){for(c.on("resize",e),s=c.getScrollPosition(),p=t.container;p=p.getParent();)p.setCustomData("maximize_saved_styles",i(p)),p.setStyle("z-index",t.config.baseFloatZIndex-5);f.setCustomData("maximize_saved_styles",i(f,!0)),u.setCustomData("maximize_saved_styles",i(u,!0)),f={overflow:CKEDITOR.env.webkit?"":"hidden",width:0,height:0},d.getDocumentElement().setStyles(f),!CKEDITOR.env.gecko&&d.getDocumentElement().setStyle("position","fixed"),CKEDITOR.env.gecko&&CKEDITOR.env.quirks||d.getBody().setStyles(f),CKEDITOR.env.ie?setTimeout(function(){c.$.scrollTo(0,0)},0):c.$.scrollTo(0,0),u.setStyle("position",CKEDITOR.env.gecko&&CKEDITOR.env.quirks?"fixed":"absolute"),u.$.offsetLeft,u.setStyles({"z-index":t.config.baseFloatZIndex-5,left:"0px",top:"0px"}),u.addClass("cke_maximized"),e(),f=u.getDocumentPosition(),u.setStyles({left:-1*f.x+"px",top:-1*f.y+"px"}),CKEDITOR.env.gecko&&o(t)}else if(this.state==CKEDITOR.TRISTATE_ON){c.removeListener("resize",e);for(var p=[f,u],g=0;g<p.length;g++)n(p[g],p[g].getCustomData("maximize_saved_styles")),p[g].removeCustomData("maximize_saved_styles");for(p=t.container;p=p.getParent();)n(p,p.getCustomData("maximize_saved_styles")),p.removeCustomData("maximize_saved_styles");CKEDITOR.env.ie?setTimeout(function(){c.$.scrollTo(s.x,s.y)},0):c.$.scrollTo(s.x,s.y),u.removeClass("cke_maximized"),CKEDITOR.env.webkit&&(u.setStyle("display","inline"),setTimeout(function(){u.setStyle("display","block")},0)),t.fire("resize",{outerHeight:t.container.$.offsetHeight,contentsHeight:f.$.offsetHeight,outerWidth:t.container.$.offsetWidth})}this.toggleState(),(p=this.uiItems[0])&&(f=this.state==CKEDITOR.TRISTATE_OFF?l.maximize.maximize:l.maximize.minimize,p=CKEDITOR.document.getById(p._.id),p.getChild(1).setHtml(f),p.setAttribute("title",f),p.setAttribute("href",'javascript:void("'+f+'");')),"wysiwyg"==t.mode?a?(CKEDITOR.env.gecko&&o(t),t.getSelection().selectRanges(a),(m=t.getSelection().getStartElement())&&m.scrollIntoView(!0)):c.$.scrollTo(r.x,r.y):(a&&(m.selectionStart=a[0],m.selectionEnd=a[1]),m.scrollLeft=r[0],m.scrollTop=r[1]),a=r=null,h=this.state,t.fire("maximize",this.state)},canUndo:!1}),t.ui.addButton&&t.ui.addButton("Maximize",{label:l.maximize.maximize,command:"maximize",toolbar:"tools,10"}),t.on("mode",function(){var e=t.getCommand("maximize");e.setState(e.state==CKEDITOR.TRISTATE_DISABLED?CKEDITOR.TRISTATE_DISABLED:h)},null,null,100)}}})}(),function(){var t={canUndo:!1,async:!0,exec:function(t,e){var i=t.lang,n=CKEDITOR.tools.keystrokeToString(i.common.keyboard,t.getCommandKeystroke(CKEDITOR.env.ie?t.commands.paste:this)),o=e&&"undefined"!=typeof e.notification?e.notification:!e||!e.from||"keystrokeHandler"===e.from&&CKEDITOR.env.ie,i=o&&"string"==typeof o?o:i.pastetext.pasteNotification.replace(/%1/,'<kbd aria-label="'+n.aria+'">'+n.display+"</kbd>");t.execCommand("paste",{type:"text",notification:!!o&&i})}};CKEDITOR.plugins.add("pastetext",{requires:"clipboard",init:function(e){var i=CKEDITOR.env.safari?CKEDITOR.CTRL+CKEDITOR.ALT+CKEDITOR.SHIFT+86:CKEDITOR.CTRL+CKEDITOR.SHIFT+86;e.addCommand("pastetext",t),e.setKeystroke(i,"pastetext"),e.ui.addButton&&e.ui.addButton("PasteText",{label:e.lang.pastetext.button,command:"pastetext",toolbar:"clipboard,40"}),e.config.forcePasteAsPlainText&&e.on("beforePaste",function(t){"html"!=t.data.type&&(t.data.type="text")}),e.on("pasteState",function(t){e.getCommand("pastetext").setState(t.data)})}})}(),function(){function t(t,e,i){var n=CKEDITOR.cleanWord;return n?i():(t=CKEDITOR.getUrl(t.config.pasteFromWordCleanupFile||e+"filter/default.js"),CKEDITOR.scriptLoader.load(t,i,null,!0)),!n}CKEDITOR.plugins.add("pastefromword",{requires:"clipboard",init:function(e){function i(t){var e,i=CKEDITOR.plugins.pastefromword&&CKEDITOR.plugins.pastefromword.images,n=[];if(i&&t.editor.filter.check("img[src]")&&(e=i.extractTagsFromHtml(t.data.dataValue),0!==e.length&&(i=i.extractFromRtf(t.data.dataTransfer["text/rtf"]),0!==i.length&&(CKEDITOR.tools.array.forEach(i,function(t){n.push(t.type?"data:"+t.type+";base64,"+CKEDITOR.tools.convertBytesToBase64(CKEDITOR.tools.convertHexStringToBytes(t.hex)):null)},this),e.length===n.length))))for(i=0;i<e.length;i++)0===e[i].indexOf("file://")&&n[i]&&(t.data.dataValue=t.data.dataValue.replace(e[i],n[i]))}var n=0,o=this.path,a=void 0===e.config.pasteFromWord_inlineImages||e.config.pasteFromWord_inlineImages;e.addCommand("pastefromword",{canUndo:!1,async:!0,exec:function(t,e){n=1,t.execCommand("paste",{type:"html",notification:!e||"undefined"==typeof e.notification||e.notification})}}),e.ui.addButton&&e.ui.addButton("PasteFromWord",{label:e.lang.pastefromword.toolbar,command:"pastefromword",toolbar:"clipboard,50"}),e.on("paste",function(i){var a=i.data,r=CKEDITOR.plugins.clipboard.isCustomDataTypesSupported?a.dataTransfer.getData("text/html",!0):null,s=CKEDITOR.plugins.clipboard.isCustomDataTypesSupported?a.dataTransfer.getData("text/rtf"):null,r=r||a.dataValue,l={dataValue:r,dataTransfer:{"text/rtf":s}},s=/(class=\"?Mso|style=(?:\"|\')[^\"]*?\bmso\-|w:WordDocument|<o:\w+>|<\/font>)/,s=/<meta\s*name=(?:\"|\')?generator(?:\"|\')?\s*content=(?:\"|\')?microsoft/gi.test(r)||s.test(r);if(r&&(n||s)&&(!1!==e.fire("pasteFromWord",l)||n)){a.dontFilter=!0;var d=t(e,o,function(){d?e.fire("paste",a):(!e.config.pasteFromWordPromptCleanup||n||confirm(e.lang.pastefromword.confirmCleanup))&&(l.dataValue=CKEDITOR.cleanWord(l.dataValue,e),e.fire("afterPasteFromWord",l),a.dataValue=l.dataValue),n=0});d&&i.cancel()}},null,null,3),CKEDITOR.plugins.clipboard.isCustomDataTypesSupported&&a&&e.on("afterPasteFromWord",i)}})}(),CKEDITOR.plugins.add("removeformat",{init:function(t){t.addCommand("removeFormat",CKEDITOR.plugins.removeformat.commands.removeformat),t.ui.addButton&&t.ui.addButton("RemoveFormat",{label:t.lang.removeformat.toolbar,command:"removeFormat",toolbar:"cleanup,10"})}}),CKEDITOR.plugins.removeformat={commands:{removeformat:{exec:function(t){for(var e,i=t._.removeFormatRegex||(t._.removeFormatRegex=new RegExp("^(?:"+t.config.removeFormatTags.replace(/,/g,"|")+")$","i")),n=t._.removeAttributes||(t._.removeAttributes=t.config.removeFormatAttributes.split(",")),o=CKEDITOR.plugins.removeformat.filter,a=t.getSelection().getRanges(),r=a.createIterator(),s=function(t){return t.type==CKEDITOR.NODE_ELEMENT};e=r.getNextRange();){e.collapsed||e.enlarge(CKEDITOR.ENLARGE_ELEMENT);var l=e.createBookmark(),d=l.startNode,c=l.endNode,h=function(e){for(var n,a=t.elementPath(e),r=a.elements,s=1;(n=r[s])&&!n.equals(a.block)&&!n.equals(a.blockLimit);s++)i.test(n.getName())&&o(t,n)&&e.breakParent(n)};if(h(d),c)for(h(c),d=d.getNextSourceNode(!0,CKEDITOR.NODE_ELEMENT);d&&!d.equals(c);)if(d.isReadOnly()){if(d.getPosition(c)&CKEDITOR.POSITION_CONTAINS)break;d=d.getNext(s)}else h=d.getNextSourceNode(!1,CKEDITOR.NODE_ELEMENT),"img"==d.getName()&&d.data("cke-realelement")||!o(t,d)||(i.test(d.getName())?d.remove(1):(d.removeAttributes(n),t.fire("removeFormatCleanup",d))),d=h;e.moveToBookmark(l)}t.forceNextSelectionCheck(),t.getSelection().selectRanges(a)}}},filter:function(t,e){for(var i=t._.removeFormatFilters||[],n=0;n<i.length;n++)if(!1===i[n](e))return!1;return!0}},CKEDITOR.editor.prototype.addRemoveFormatFilter=function(t){this._.removeFormatFilters||(this._.removeFormatFilters=[]),this._.removeFormatFilters.push(t)},CKEDITOR.config.removeFormatTags="b,big,cite,code,del,dfn,em,font,i,ins,kbd,q,s,samp,small,span,strike,strong,sub,sup,tt,u,var",CKEDITOR.config.removeFormatAttributes="class,style,lang,width,height,align,hspace,valign",function(){var t={preserveState:!0,editorFocus:!1,readOnly:1,exec:function(t){this.toggleState(),this.refresh(t)},refresh:function(t){if(t.document){var e=this.state==CKEDITOR.TRISTATE_ON?"attachClass":"removeClass";t.editable()[e]("cke_show_borders")}}};CKEDITOR.plugins.add("showborders",{modes:{wysiwyg:1},onLoad:function(){var t;t=(CKEDITOR.env.ie6Compat?[".%1 table.%2,",".%1 table.%2 td, .%1 table.%2 th","{","border : #d3d3d3 1px dotted","}"]:".%1 table.%2,;.%1 table.%2 > tr > td, .%1 table.%2 > tr > th,;.%1 table.%2 > tbody > tr > td, .%1 table.%2 > tbody > tr > th,;.%1 table.%2 > thead > tr > td, .%1 table.%2 > thead > tr > th,;.%1 table.%2 > tfoot > tr > td, .%1 table.%2 > tfoot > tr > th;{;border : #d3d3d3 1px dotted;}".split(";")).join("").replace(/%2/g,"cke_show_border").replace(/%1/g,"cke_show_borders "),CKEDITOR.addCss(t)},init:function(e){var i=e.addCommand("showborders",t);i.canUndo=!1,!1!==e.config.startupShowBorders&&i.setState(CKEDITOR.TRISTATE_ON),e.on("mode",function(){i.state!=CKEDITOR.TRISTATE_DISABLED&&i.refresh(e)},null,null,100),e.on("contentDom",function(){i.state!=CKEDITOR.TRISTATE_DISABLED&&i.refresh(e)}),e.on("removeFormatCleanup",function(t){t=t.data,e.getCommand("showborders").state==CKEDITOR.TRISTATE_ON&&t.is("table")&&(!t.hasAttribute("border")||0>=parseInt(t.getAttribute("border"),10))&&t.addClass("cke_show_border")})},afterInit:function(t){var e=t.dataProcessor;t=e&&e.dataFilter,e=e&&e.htmlFilter,t&&t.addRules({elements:{table:function(t){t=t.attributes;var e=t["class"],i=parseInt(t.border,10);i&&!(0>=i)||e&&-1!=e.indexOf("cke_show_border")||(t["class"]=(e||"")+" cke_show_border")}}}),e&&e.addRules({elements:{table:function(t){t=t.attributes;var e=t["class"];e&&(t["class"]=e.replace("cke_show_border","").replace(/\s{2}/," ").replace(/^\s+|\s+$/,""))}}})}}),CKEDITOR.on("dialogDefinition",function(t){var e=t.data.name;"table"!=e&&"tableProperties"!=e||(t=t.data.definition,e=t.getContents("info").get("txtBorder"),e.commit=CKEDITOR.tools.override(e.commit,function(t){return function(e,i){t.apply(this,arguments);var n=parseInt(this.getValue(),10);i[!n||0>=n?"addClass":"removeClass"]("cke_show_border")}}),(t=(t=t.getContents("advanced"))&&t.get("advCSSClasses"))&&(t.setup=CKEDITOR.tools.override(t.setup,function(t){return function(){t.apply(this,arguments),this.setValue(this.getValue().replace(/cke_show_border/,""))}}),t.commit=CKEDITOR.tools.override(t.commit,function(t){return function(e,i){t.apply(this,arguments),parseInt(i.getAttribute("border"),10)||i.addClass("cke_show_border")}})))})}(),function(){CKEDITOR.plugins.add("sourcearea",{init:function(e){function i(){var t=o&&this.equals(CKEDITOR.document.getActive());this.hide(),this.setStyle("height",this.getParent().$.clientHeight+"px"),this.setStyle("width",this.getParent().$.clientWidth+"px"),this.show(),t&&this.focus()}if(e.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE){var n=CKEDITOR.plugins.sourcearea;e.addMode("source",function(n){var o=e.ui.space("contents").getDocument().createElement("textarea");o.setStyles(CKEDITOR.tools.extend({width:CKEDITOR.env.ie7Compat?"99%":"100%",height:"100%",resize:"none",outline:"none","text-align":"left"},CKEDITOR.tools.cssVendorPrefix("tab-size",e.config.sourceAreaTabSize||4))),o.setAttribute("dir","ltr"),o.addClass("cke_source").addClass("cke_reset").addClass("cke_enable_context_menu"),e.ui.space("contents").append(o),o=e.editable(new t(e,o)),o.setData(e.getData(1)),CKEDITOR.env.ie&&(o.attachListener(e,"resize",i,o),o.attachListener(CKEDITOR.document.getWindow(),"resize",i,o),CKEDITOR.tools.setTimeout(i,0,o)),e.fire("ariaWidget",this),n()}),e.addCommand("source",n.commands.source),e.ui.addButton&&e.ui.addButton("Source",{label:e.lang.sourcearea.toolbar,command:"source",toolbar:"mode,10"}),e.on("mode",function(){e.getCommand("source").setState("source"==e.mode?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF)});var o=CKEDITOR.env.ie&&9==CKEDITOR.env.version}}});var t=CKEDITOR.tools.createClass({base:CKEDITOR.editable,proto:{setData:function(t){this.setValue(t),this.status="ready",this.editor.fire("dataReady")},getData:function(){return this.getValue()},insertHtml:function(){},insertElement:function(){},insertText:function(){},setReadOnly:function(t){this[(t?"set":"remove")+"Attribute"]("readOnly","readonly")},detach:function(){t.baseProto.detach.call(this),this.clearCustomData(),this.remove()}}})}(),CKEDITOR.plugins.sourcearea={commands:{source:{modes:{wysiwyg:1,source:1},editorFocus:!1,readOnly:1,exec:function(t){"wysiwyg"==t.mode&&t.fire("saveSnapshot"),t.getCommand("source").setState(CKEDITOR.TRISTATE_DISABLED),t.setMode("source"==t.mode?"wysiwyg":"source")},canUndo:!1}}},CKEDITOR.plugins.add("specialchar",{availableLangs:{af:1,ar:1,az:1,bg:1,ca:1,cs:1,cy:1,da:1,de:1,"de-ch":1,el:1,en:1,"en-au":1,"en-ca":1,"en-gb":1,eo:1,es:1,"es-mx":1,et:1,eu:1,fa:1,fi:1,fr:1,"fr-ca":1,gl:1,he:1,hr:1,hu:1,id:1,it:1,ja:1,km:1,ko:1,ku:1,lt:1,lv:1,nb:1,nl:1,no:1,oc:1,pl:1,pt:1,"pt-br":1,ro:1,ru:1,si:1,sk:1,sl:1,sq:1,sv:1,th:1,tr:1,tt:1,ug:1,uk:1,vi:1,zh:1,"zh-cn":1},requires:"dialog",init:function(t){var e=this;CKEDITOR.dialog.add("specialchar",this.path+"dialogs/specialchar.js"),t.addCommand("specialchar",{exec:function(){var i=t.langCode,i=e.availableLangs[i]?i:e.availableLangs[i.replace(/-.*/,"")]?i.replace(/-.*/,""):"en";CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(e.path+"dialogs/lang/"+i+".js"),function(){CKEDITOR.tools.extend(t.lang.specialchar,e.langEntries[i]),t.openDialog("specialchar")})},modes:{wysiwyg:1},canUndo:!1}),t.ui.addButton&&t.ui.addButton("SpecialChar",{label:t.lang.specialchar.toolbar,command:"specialchar",toolbar:"insert,50"})}}),CKEDITOR.config.specialChars="! &quot; # $ % &amp; ' ( ) * + - . / 0 1 2 3 4 5 6 7 8 9 : ; &lt; = &gt; ? @ A B C D E F G H I J K L M N O P Q R S T U V W X Y Z [ ] ^ _ ` a b c d e f g h i j k l m n o p q r s t u v w x y z { | } ~ &euro; &lsquo; &rsquo; &ldquo; &rdquo; &ndash; &mdash; &iexcl; &cent; &pound; &curren; &yen; &brvbar; &sect; &uml; &copy; &ordf; &laquo; &not; &reg; &macr; &deg; &sup2; &sup3; &acute; &micro; &para; &middot; &cedil; &sup1; &ordm; &raquo; &frac14; &frac12; &frac34; &iquest; &Agrave; &Aacute; &Acirc; &Atilde; &Auml; &Aring; &AElig; &Ccedil; &Egrave; &Eacute; &Ecirc; &Euml; &Igrave; &Iacute; &Icirc; &Iuml; &ETH; &Ntilde; &Ograve; &Oacute; &Ocirc; &Otilde; &Ouml; &times; &Oslash; &Ugrave; &Uacute; &Ucirc; &Uuml; &Yacute; &THORN; &szlig; &agrave; &aacute; &acirc; &atilde; &auml; &aring; &aelig; &ccedil; &egrave; &eacute; &ecirc; &euml; &igrave; &iacute; &icirc; &iuml; &eth; &ntilde; &ograve; &oacute; &ocirc; &otilde; &ouml; &divide; &oslash; &ugrave; &uacute; &ucirc; &uuml; &yacute; &thorn; &yuml; &OElig; &oelig; &#372; &#374 &#373 &#375; &sbquo; &#8219; &bdquo; &hellip; &trade; &#9658; &bull; &rarr; &rArr; &hArr; &diams; &asymp;".split(" "),CKEDITOR.plugins.add("menubutton",{requires:"button,menu",onLoad:function(){var t=function(t){var e=this._,i=e.menu;e.state!==CKEDITOR.TRISTATE_DISABLED&&(e.on&&i?i.hide():(e.previousState=e.state,i||(i=e.menu=new CKEDITOR.menu(t,{panel:{className:"cke_menu_panel",attributes:{"aria-label":t.lang.common.options}}}),i.onHide=CKEDITOR.tools.bind(function(){var i=this.command?t.getCommand(this.command).modes:this.modes;this.setState(!i||i[t.mode]?e.previousState:CKEDITOR.TRISTATE_DISABLED),e.on=0},this),this.onMenu&&i.addListener(this.onMenu)),this.setState(CKEDITOR.TRISTATE_ON),e.on=1,setTimeout(function(){i.show(CKEDITOR.document.getById(e.id),4)},0)))};CKEDITOR.ui.menuButton=CKEDITOR.tools.createClass({base:CKEDITOR.ui.button,$:function(e){delete e.panel,this.base(e),this.hasArrow=!0,this.click=t},statics:{handler:{create:function(t){return new CKEDITOR.ui.menuButton(t)}}}})},beforeInit:function(t){t.ui.addHandler(CKEDITOR.UI_MENUBUTTON,CKEDITOR.ui.menuButton.handler)}}),CKEDITOR.UI_MENUBUTTON="menubutton",CKEDITOR.plugins.add("scayt",{requires:"menubutton,dialog",tabToOpen:null,
dialogName:"scaytDialog",onLoad:function(t){CKEDITOR.plugins.scayt.onLoadTimestamp=(new Date).getTime(),"moono-lisa"==(CKEDITOR.skinName||t.config.skin)&&CKEDITOR.document.appendStyleSheet(this.path+"skins/"+CKEDITOR.skin.name+"/scayt.css"),CKEDITOR.document.appendStyleSheet(this.path+"dialogs/dialog.css")},init:function(t){var e=this,i=CKEDITOR.plugins.scayt;this.bindEvents(t),this.parseConfig(t),this.addRule(t),CKEDITOR.dialog.add(this.dialogName,CKEDITOR.getUrl(this.path+"dialogs/options.js")),this.addMenuItems(t);var n=t.lang.scayt,o=CKEDITOR.env;t.ui.add("Scayt",CKEDITOR.UI_MENUBUTTON,{label:n.text_title,title:t.plugins.wsc?t.lang.wsc.title:n.text_title,modes:{wysiwyg:!(o.ie&&(8>o.version||o.quirks))},toolbar:"spellchecker,20",refresh:function(){var e=t.ui.instances.Scayt.getState();t.scayt&&(e=i.state.scayt[t.name]?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF),t.fire("scaytButtonState",e)},onRender:function(){var e=this;t.on("scaytButtonState",function(t){void 0!==typeof t.data&&e.setState(t.data)})},onMenu:function(){var e=t.scayt;t.getMenuItem("scaytToggle").label=t.lang.scayt[e&&i.state.scayt[t.name]?"btn_disable":"btn_enable"];var n={scaytToggle:CKEDITOR.TRISTATE_OFF,scaytOptions:e?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,scaytLangs:e?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,scaytDict:e?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,scaytAbout:e?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,WSC:t.plugins.wsc?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED};return t.config.scayt_uiTabs[0]||delete n.scaytOptions,t.config.scayt_uiTabs[1]||delete n.scaytLangs,t.config.scayt_uiTabs[2]||delete n.scaytDict,e&&!CKEDITOR.plugins.scayt.isNewUdSupported(e)&&(delete n.scaytDict,t.config.scayt_uiTabs[2]=0,CKEDITOR.plugins.scayt.alarmCompatibilityMessage()),n}}),t.contextMenu&&t.addMenuItems&&(t.contextMenu.addListener(function(){var i,n,o=t.scayt;return o&&(n=o.getSelectionNode())&&(i=e.menuGenerator(t,n),o.showBanner("."+t.contextMenu._.definition.panel.className.split(" ").join(" ."))),i}),t.contextMenu._.onHide=CKEDITOR.tools.override(t.contextMenu._.onHide,function(e){return function(){var i=t.scayt;return i&&i.hideBanner(),e.apply(this)}}))},addMenuItems:function(t){var e=this,i=CKEDITOR.plugins.scayt;t.addMenuGroup("scaytButton");for(var n=t.config.scayt_contextMenuItemsOrder.split("|"),o=0;o<n.length;o++)n[o]="scayt_"+n[o];if((n=["grayt_description","grayt_suggest","grayt_control"].concat(n))&&n.length)for(o=0;o<n.length;o++)t.addMenuGroup(n[o],o-10);t.addCommand("scaytToggle",{exec:function(t){var e=t.scayt;i.state.scayt[t.name]=!i.state.scayt[t.name],!0===i.state.scayt[t.name]?e||i.createScayt(t):e&&i.destroy(t)}}),t.addCommand("scaytAbout",{exec:function(t){t.scayt.tabToOpen="about",t.lockSelection(),t.openDialog(e.dialogName)}}),t.addCommand("scaytOptions",{exec:function(t){t.scayt.tabToOpen="options",t.lockSelection(),t.openDialog(e.dialogName)}}),t.addCommand("scaytLangs",{exec:function(t){t.scayt.tabToOpen="langs",t.lockSelection(),t.openDialog(e.dialogName)}}),t.addCommand("scaytDict",{exec:function(t){t.scayt.tabToOpen="dictionaries",t.lockSelection(),t.openDialog(e.dialogName)}}),n={scaytToggle:{label:t.lang.scayt.btn_enable,group:"scaytButton",command:"scaytToggle"},scaytAbout:{label:t.lang.scayt.btn_about,group:"scaytButton",command:"scaytAbout"},scaytOptions:{label:t.lang.scayt.btn_options,group:"scaytButton",command:"scaytOptions"},scaytLangs:{label:t.lang.scayt.btn_langs,group:"scaytButton",command:"scaytLangs"},scaytDict:{label:t.lang.scayt.btn_dictionaries,group:"scaytButton",command:"scaytDict"}},t.plugins.wsc&&(n.WSC={label:t.lang.wsc.toolbar,group:"scaytButton",onClick:function(){var e=CKEDITOR.plugins.scayt,i=t.scayt,n=t.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?t.container.getText():t.document.getBody().getText();(n=n.replace(/\s/g,""))?(i&&e.state.scayt[t.name]&&i.setMarkupPaused&&i.setMarkupPaused(!0),t.lockSelection(),t.execCommand("checkspell")):alert("Nothing to check!")}}),t.addMenuItems(n)},bindEvents:function(t){var e=CKEDITOR.plugins.scayt,i=t.elementMode==CKEDITOR.ELEMENT_MODE_INLINE,n=function(){e.destroy(t)},o=function(){!e.state.scayt[t.name]||t.readOnly||t.scayt||e.createScayt(t)},a=function(){var e=t.editable();e.attachListener(e,"focus",function(e){CKEDITOR.plugins.scayt&&!t.scayt&&setTimeout(o,0),e=CKEDITOR.plugins.scayt&&CKEDITOR.plugins.scayt.state.scayt[t.name]&&t.scayt;var n,a;if((i||e)&&t._.savedSelection){e=t._.savedSelection.getSelectedElement(),e=!e&&t._.savedSelection.getRanges();for(var r=0;r<e.length;r++)a=e[r],"string"==typeof a.startContainer.$.nodeValue&&((n=a.startContainer.getText().length)<a.startOffset||n<a.endOffset)&&t.unlockSelection(!1)}},this,null,-10)},r=function(){i?t.config.scayt_inlineModeImmediateMarkup?o():(t.on("blur",function(){setTimeout(n,0)}),t.on("focus",o),t.focusManager.hasFocus&&o()):o(),a();var e=t.editable();e.attachListener(e,"mousedown",function(e){e=e.data.getTarget();var i=t.widgets&&t.widgets.getByElement(e);i&&(i.wrapper=e.getAscendant(function(t){return t.hasAttribute("data-cke-widget-wrapper")},!0))},this,null,-10)};t.on("contentDom",r),t.on("beforeCommandExec",function(i){var n=t.scayt,o=!1,a=!1,r=!0;i.data.name in e.options.disablingCommandExec&&"wysiwyg"==t.mode?n&&(e.destroy(t),t.fire("scaytButtonState",CKEDITOR.TRISTATE_DISABLED)):"bold"!==i.data.name&&"italic"!==i.data.name&&"underline"!==i.data.name&&"strike"!==i.data.name&&"subscript"!==i.data.name&&"superscript"!==i.data.name&&"enter"!==i.data.name&&"cut"!==i.data.name&&"language"!==i.data.name||!n||("cut"===i.data.name&&(r=!1,a=!0),"language"===i.data.name&&(a=o=!0),t.fire("reloadMarkupScayt",{removeOptions:{removeInside:r,forceBookmark:a,language:o},timeout:0}))}),t.on("beforeSetMode",function(i){"source"==i.data&&((i=t.scayt)&&(e.destroy(t),t.fire("scaytButtonState",CKEDITOR.TRISTATE_DISABLED)),t.document&&t.document.getBody().removeAttribute("_jquid"))}),t.on("afterCommandExec",function(i){"wysiwyg"!=t.mode||"undo"!=i.data.name&&"redo"!=i.data.name||setTimeout(function(){e.reloadMarkup(t.scayt)},250)}),t.on("readOnly",function(i){var n;i&&(n=t.scayt,!0===i.editor.readOnly?n&&n.fire("removeMarkupInDocument",{}):n?e.reloadMarkup(n):"wysiwyg"==i.editor.mode&&!0===e.state.scayt[i.editor.name]&&(e.createScayt(t),i.editor.fire("scaytButtonState",CKEDITOR.TRISTATE_ON)))}),t.on("beforeDestroy",n),t.on("setData",function(){n(),(t.elementMode==CKEDITOR.ELEMENT_MODE_INLINE||t.plugins.divarea)&&r()},this,null,50),t.on("reloadMarkupScayt",function(i){var n=i.data&&i.data.removeOptions,o=i.data&&i.data.timeout,a=i.data&&i.data.language,r=t.scayt;r&&setTimeout(function(){a&&(n.selectionNode=t.plugins.language.getCurrentLangElement(t),n.selectionNode=n.selectionNode&&n.selectionNode.$||null),r.removeMarkupInSelectionNode(n),e.reloadMarkup(r)},o||0)}),t.on("insertElement",function(){t.fire("reloadMarkupScayt",{removeOptions:{forceBookmark:!0}})},this,null,50),t.on("insertHtml",function(){t.scayt&&t.scayt.setFocused&&t.scayt.setFocused(!0),t.fire("reloadMarkupScayt")},this,null,50),t.on("insertText",function(){t.scayt&&t.scayt.setFocused&&t.scayt.setFocused(!0),t.fire("reloadMarkupScayt")},this,null,50),t.on("scaytDialogShown",function(e){e.data.selectPage(t.scayt.tabToOpen)})},parseConfig:function(t){var e=CKEDITOR.plugins.scayt;if(e.replaceOldOptionsNames(t.config),"boolean"!=typeof t.config.scayt_autoStartup&&(t.config.scayt_autoStartup=!1),e.state.scayt[t.name]=t.config.scayt_autoStartup,"boolean"!=typeof t.config.grayt_autoStartup&&(t.config.grayt_autoStartup=!1),"boolean"!=typeof t.config.scayt_inlineModeImmediateMarkup&&(t.config.scayt_inlineModeImmediateMarkup=!1),e.state.grayt[t.name]=t.config.grayt_autoStartup,t.config.scayt_contextCommands||(t.config.scayt_contextCommands="ignoreall|add"),t.config.scayt_contextMenuItemsOrder||(t.config.scayt_contextMenuItemsOrder="suggest|moresuggest|control"),t.config.scayt_sLang||(t.config.scayt_sLang="en_US"),(void 0===t.config.scayt_maxSuggestions||"number"!=typeof t.config.scayt_maxSuggestions||0>t.config.scayt_maxSuggestions)&&(t.config.scayt_maxSuggestions=5),(void 0===t.config.scayt_minWordLength||"number"!=typeof t.config.scayt_minWordLength||1>t.config.scayt_minWordLength)&&(t.config.scayt_minWordLength=4),void 0!==t.config.scayt_customDictionaryIds&&"string"==typeof t.config.scayt_customDictionaryIds||(t.config.scayt_customDictionaryIds=""),void 0!==t.config.scayt_userDictionaryName&&"string"==typeof t.config.scayt_userDictionaryName||(t.config.scayt_userDictionaryName=null),"string"==typeof t.config.scayt_uiTabs&&3===t.config.scayt_uiTabs.split(",").length){var i=[],n=[];t.config.scayt_uiTabs=t.config.scayt_uiTabs.split(","),CKEDITOR.tools.search(t.config.scayt_uiTabs,function(t){1===Number(t)||0===Number(t)?(n.push(!0),i.push(Number(t))):n.push(!1)}),null===CKEDITOR.tools.search(n,!1)?t.config.scayt_uiTabs=i:t.config.scayt_uiTabs=[1,1,1]}else t.config.scayt_uiTabs=[1,1,1];if("string"!=typeof t.config.scayt_serviceProtocol&&(t.config.scayt_serviceProtocol=null),"string"!=typeof t.config.scayt_serviceHost&&(t.config.scayt_serviceHost=null),"string"!=typeof t.config.scayt_servicePort&&(t.config.scayt_servicePort=null),"string"!=typeof t.config.scayt_servicePath&&(t.config.scayt_servicePath=null),t.config.scayt_moreSuggestions||(t.config.scayt_moreSuggestions="on"),"string"!=typeof t.config.scayt_customerId&&(t.config.scayt_customerId="1:WvF0D4-UtPqN1-43nkD4-NKvUm2-daQqk3-LmNiI-z7Ysb4-mwry24-T8YrS3-Q2tpq2"),"string"!=typeof t.config.scayt_customPunctuation&&(t.config.scayt_customPunctuation="-"),"string"!=typeof t.config.scayt_srcUrl&&(e=document.location.protocol,e=-1!=e.search(/https?:/)?e:"http:",t.config.scayt_srcUrl=e+"//svc.webspellchecker.net/spellcheck31/lf/scayt3/ckscayt/ckscayt.js"),"boolean"!=typeof CKEDITOR.config.scayt_handleCheckDirty&&(CKEDITOR.config.scayt_handleCheckDirty=!0),"boolean"!=typeof CKEDITOR.config.scayt_handleUndoRedo&&(CKEDITOR.config.scayt_handleUndoRedo=!0),CKEDITOR.config.scayt_handleUndoRedo=!!CKEDITOR.plugins.undo&&CKEDITOR.config.scayt_handleUndoRedo,"boolean"!=typeof t.config.scayt_multiLanguageMode&&(t.config.scayt_multiLanguageMode=!1),"object"!=typeof t.config.scayt_multiLanguageStyles&&(t.config.scayt_multiLanguageStyles={}),t.config.scayt_ignoreAllCapsWords&&"boolean"!=typeof t.config.scayt_ignoreAllCapsWords&&(t.config.scayt_ignoreAllCapsWords=!1),t.config.scayt_ignoreDomainNames&&"boolean"!=typeof t.config.scayt_ignoreDomainNames&&(t.config.scayt_ignoreDomainNames=!1),t.config.scayt_ignoreWordsWithMixedCases&&"boolean"!=typeof t.config.scayt_ignoreWordsWithMixedCases&&(t.config.scayt_ignoreWordsWithMixedCases=!1),t.config.scayt_ignoreWordsWithNumbers&&"boolean"!=typeof t.config.scayt_ignoreWordsWithNumbers&&(t.config.scayt_ignoreWordsWithNumbers=!1),t.config.scayt_disableOptionsStorage){var e=CKEDITOR.tools.isArray(t.config.scayt_disableOptionsStorage)?t.config.scayt_disableOptionsStorage:"string"==typeof t.config.scayt_disableOptionsStorage?[t.config.scayt_disableOptionsStorage]:void 0,o="all options lang ignore-all-caps-words ignore-domain-names ignore-words-with-mixed-cases ignore-words-with-numbers".split(" "),a=["lang","ignore-all-caps-words","ignore-domain-names","ignore-words-with-mixed-cases","ignore-words-with-numbers"],r=CKEDITOR.tools.search,s=CKEDITOR.tools.indexOf;t.config.scayt_disableOptionsStorage=function(t){for(var e=[],i=0;i<t.length;i++){var n=t[i],l=!!r(t,"options");if(!r(o,n)||l&&r(a,function(t){if("lang"===t)return!1}))return;if(r(a,n)&&a.splice(s(a,n),1),"all"===n||l&&r(t,"lang"))return[];"options"===n&&(a=["lang"])}return e=e.concat(a)}(e)}},addRule:function(t){var e=CKEDITOR.plugins.scayt,i=t.dataProcessor,n=i&&i.htmlFilter,o=t._.elementsPath&&t._.elementsPath.filters,i=i&&i.dataFilter,a=t.addRemoveFormatFilter,r=function(i){if(t.scayt&&(i.hasAttribute(e.options.data_attribute_name)||i.hasAttribute(e.options.problem_grammar_data_attribute)))return!1},s=function(i){var n=!0;return t.scayt&&(i.hasAttribute(e.options.data_attribute_name)||i.hasAttribute(e.options.problem_grammar_data_attribute))&&(n=!1),n};o&&o.push(r),i&&i.addRules({elements:{span:function(t){var i=t.hasClass(e.options.misspelled_word_class)&&t.attributes[e.options.data_attribute_name],n=t.hasClass(e.options.problem_grammar_class)&&t.attributes[e.options.problem_grammar_data_attribute];return e&&(i||n)&&delete t.name,t}}}),n&&n.addRules({elements:{span:function(t){var i=t.hasClass(e.options.misspelled_word_class)&&t.attributes[e.options.data_attribute_name],n=t.hasClass(e.options.problem_grammar_class)&&t.attributes[e.options.problem_grammar_data_attribute];return e&&(i||n)&&delete t.name,t}}}),a&&a.call(t,s)},scaytMenuDefinition:function(t){var e=this;return t=t.scayt,{scayt:{scayt_ignore:{label:t.getLocal("btn_ignore"),group:"scayt_control",order:1,exec:function(t){t.scayt.ignoreWord()}},scayt_ignoreall:{label:t.getLocal("btn_ignoreAll"),group:"scayt_control",order:2,exec:function(t){t.scayt.ignoreAllWords()}},scayt_add:{label:t.getLocal("btn_addWord"),group:"scayt_control",order:3,exec:function(t){var e=t.scayt;setTimeout(function(){e.addWordToUserDictionary()},10)}},scayt_option:{label:t.getLocal("btn_options"),group:"scayt_control",order:4,exec:function(t){t.scayt.tabToOpen="options",t.lockSelection(),t.openDialog(e.dialogName)},verification:function(t){return 1==t.config.scayt_uiTabs[0]}},scayt_language:{label:t.getLocal("btn_langs"),group:"scayt_control",order:5,exec:function(t){t.scayt.tabToOpen="langs",t.lockSelection(),t.openDialog(e.dialogName)},verification:function(t){return 1==t.config.scayt_uiTabs[1]}},scayt_dictionary:{label:t.getLocal("btn_dictionaries"),group:"scayt_control",order:6,exec:function(t){t.scayt.tabToOpen="dictionaries",t.lockSelection(),t.openDialog(e.dialogName)},verification:function(t){return 1==t.config.scayt_uiTabs[2]}},scayt_about:{label:t.getLocal("btn_about"),group:"scayt_control",order:7,exec:function(t){t.scayt.tabToOpen="about",t.lockSelection(),t.openDialog(e.dialogName)}}},grayt:{grayt_problemdescription:{label:"Grammar problem description",group:"grayt_description",order:1,state:CKEDITOR.TRISTATE_DISABLED,exec:function(){}},grayt_ignore:{label:t.getLocal("btn_ignore"),group:"grayt_control",order:2,exec:function(t){t.scayt.ignorePhrase()}},grayt_ignoreall:{label:t.getLocal("btn_ignoreAll"),group:"grayt_control",order:3,exec:function(t){t.scayt.ignoreAllPhrases()}}}}},buildSuggestionMenuItems:function(t,e,i){var n={},o={},a=i?"word":"phrase",r=i?"startGrammarCheck":"startSpellCheck",s=t.scayt;if(0<e.length&&"no_any_suggestions"!==e[0])if(i)for(i=0;i<e.length;i++){var l="scayt_suggest_"+CKEDITOR.plugins.scayt.suggestions[i].replace(" ","_");t.addCommand(l,this.createCommand(CKEDITOR.plugins.scayt.suggestions[i],a,r)),i<t.config.scayt_maxSuggestions?(t.addMenuItem(l,{label:e[i],command:l,group:"scayt_suggest",order:i+1}),n[l]=CKEDITOR.TRISTATE_OFF):(t.addMenuItem(l,{label:e[i],command:l,group:"scayt_moresuggest",order:i+1}),o[l]=CKEDITOR.TRISTATE_OFF,"on"===t.config.scayt_moreSuggestions&&(t.addMenuItem("scayt_moresuggest",{label:s.getLocal("btn_moreSuggestions"),group:"scayt_moresuggest",order:10,getItems:function(){return o}}),n.scayt_moresuggest=CKEDITOR.TRISTATE_OFF))}else for(i=0;i<e.length;i++)l="grayt_suggest_"+CKEDITOR.plugins.scayt.suggestions[i].replace(" ","_"),t.addCommand(l,this.createCommand(CKEDITOR.plugins.scayt.suggestions[i],a,r)),t.addMenuItem(l,{label:e[i],command:l,group:"grayt_suggest",order:i+1}),n[l]=CKEDITOR.TRISTATE_OFF;else n.no_scayt_suggest=CKEDITOR.TRISTATE_DISABLED,t.addCommand("no_scayt_suggest",{exec:function(){}}),t.addMenuItem("no_scayt_suggest",{label:s.getLocal("btn_noSuggestions")||"no_scayt_suggest",command:"no_scayt_suggest",group:"scayt_suggest",order:0});return n},menuGenerator:function(t,e){var i,n,o,a=t.scayt,r=this.scaytMenuDefinition(t),s={},l=t.config.scayt_contextCommands.split("|"),d=e.getAttribute(a.getLangAttribute())||a.getLang();if(i=a.isScaytNode(e),n=a.isGraytNode(e),i?(r=r.scayt,s=e.getAttribute(a.getScaytNodeAttributeName()),a.fire("getSuggestionsList",{lang:d,word:s}),s=this.buildSuggestionMenuItems(t,CKEDITOR.plugins.scayt.suggestions,i)):n&&(r=r.grayt,s=e.getAttribute(a.getGraytNodeAttributeName()),o=a.getProblemDescriptionText(s,d),r.grayt_problemdescription&&o&&(r.grayt_problemdescription.label=o),a.fire("getGrammarSuggestionsList",{lang:d,phrase:s}),s=this.buildSuggestionMenuItems(t,CKEDITOR.plugins.scayt.suggestions,i)),i&&"off"==t.config.scayt_contextCommands)return s;for(var c in r)i&&-1==CKEDITOR.tools.indexOf(l,c.replace("scayt_",""))&&"all"!=t.config.scayt_contextCommands||n&&"grayt_problemdescription"!==c&&-1==CKEDITOR.tools.indexOf(l,c.replace("grayt_",""))&&"all"!=t.config.scayt_contextCommands||(s[c]="undefined"!=typeof r[c].state?r[c].state:CKEDITOR.TRISTATE_OFF,"function"!=typeof r[c].verification||r[c].verification(t)||delete s[c],t.addCommand(c,{exec:r[c].exec}),t.addMenuItem(c,{label:t.lang.scayt[r[c].label]||r[c].label,command:c,group:r[c].group,order:r[c].order}));return s},createCommand:function(t,e,i){return{exec:function(n){n=n.scayt;var o={};o[e]=t,n.replaceSelectionNode(o),"startGrammarCheck"===i&&n.removeMarkupInSelectionNode({grammarOnly:!0}),n.fire(i)}}}}),CKEDITOR.plugins.scayt={charsToObserve:[{charName:"cke-fillingChar",charCode:function(){var t,e=CKEDITOR.version.match(/^\d(\.\d*)*/),e=e&&e[0];if(e){t="4.5.7";var i,e=e.replace(/\./g,"");t=t.replace(/\./g,""),i=e.length-t.length,i=0<=i?i:0,t=parseInt(e)>=parseInt(t)*Math.pow(10,i)}return t?Array(7).join(String.fromCharCode(8203)):String.fromCharCode(8203)}()}],onLoadTimestamp:"",state:{scayt:{},grayt:{}},warningCounter:0,suggestions:[],options:{disablingCommandExec:{source:!0,newpage:!0,templates:!0},data_attribute_name:"data-scayt-word",misspelled_word_class:"scayt-misspell-word",problem_grammar_data_attribute:"data-grayt-phrase",problem_grammar_class:"gramm-problem"},backCompatibilityMap:{scayt_service_protocol:"scayt_serviceProtocol",scayt_service_host:"scayt_serviceHost",scayt_service_port:"scayt_servicePort",scayt_service_path:"scayt_servicePath",scayt_customerid:"scayt_customerId"},alarmCompatibilityMessage:function(){5>this.warningCounter&&(console.warn("You are using the latest version of SCAYT plugin for CKEditor with the old application version. In order to have access to the newest features, it is recommended to upgrade the application version to latest one as well. Contact us for more details at support@webspellchecker.net."),this.warningCounter+=1)},isNewUdSupported:function(t){return!!t.getUserDictionary},reloadMarkup:function(t){var e;t&&(e=t.getScaytLangList(),t.reloadMarkup?t.reloadMarkup():(this.alarmCompatibilityMessage(),e&&e.ltr&&e.rtl&&t.fire("startSpellCheck, startGrammarCheck")))},replaceOldOptionsNames:function(t){for(var e in t)e in this.backCompatibilityMap&&(t[this.backCompatibilityMap[e]]=t[e],delete t[e])},createScayt:function(t){var e=this,i=CKEDITOR.plugins.scayt;this.loadScaytLibrary(t,function(t){function n(t){return new SCAYT.CKSCAYT(t,function(){},function(){})}var o=t.window&&t.window.getFrame()||t.editable();if(o){o={lang:t.config.scayt_sLang,container:o.$,customDictionary:t.config.scayt_customDictionaryIds,userDictionaryName:t.config.scayt_userDictionaryName,localization:t.langCode,customer_id:t.config.scayt_customerId,customPunctuation:t.config.scayt_customPunctuation,debug:t.config.scayt_debug,data_attribute_name:e.options.data_attribute_name,misspelled_word_class:e.options.misspelled_word_class,problem_grammar_data_attribute:e.options.problem_grammar_data_attribute,problem_grammar_class:e.options.problem_grammar_class,"options-to-restore":t.config.scayt_disableOptionsStorage,focused:t.editable().hasFocus,ignoreElementsRegex:t.config.scayt_elementsToIgnore,ignoreGraytElementsRegex:t.config.grayt_elementsToIgnore,minWordLength:t.config.scayt_minWordLength,multiLanguageMode:t.config.scayt_multiLanguageMode,multiLanguageStyles:t.config.scayt_multiLanguageStyles,graytAutoStartup:t.config.grayt_autoStartup,charsToObserve:i.charsToObserve},t.config.scayt_serviceProtocol&&(o.service_protocol=t.config.scayt_serviceProtocol),t.config.scayt_serviceHost&&(o.service_host=t.config.scayt_serviceHost),t.config.scayt_servicePort&&(o.service_port=t.config.scayt_servicePort),t.config.scayt_servicePath&&(o.service_path=t.config.scayt_servicePath),"boolean"==typeof t.config.scayt_ignoreAllCapsWords&&(o["ignore-all-caps-words"]=t.config.scayt_ignoreAllCapsWords),"boolean"==typeof t.config.scayt_ignoreDomainNames&&(o["ignore-domain-names"]=t.config.scayt_ignoreDomainNames),"boolean"==typeof t.config.scayt_ignoreWordsWithMixedCases&&(o["ignore-words-with-mixed-cases"]=t.config.scayt_ignoreWordsWithMixedCases),"boolean"==typeof t.config.scayt_ignoreWordsWithNumbers&&(o["ignore-words-with-numbers"]=t.config.scayt_ignoreWordsWithNumbers);var a;try{a=n(o)}catch(t){e.alarmCompatibilityMessage(),delete o.charsToObserve,a=n(o)}a.subscribe("suggestionListSend",function(t){for(var e={},i=[],n=0;n<t.suggestionList.length;n++)e["word_"+t.suggestionList[n]]||(e["word_"+t.suggestionList[n]]=t.suggestionList[n],i.push(t.suggestionList[n]));CKEDITOR.plugins.scayt.suggestions=i}),a.subscribe("selectionIsChanged",function(){t.getSelection().isLocked&&t.lockSelection()}),a.subscribe("graytStateChanged",function(e){i.state.grayt[t.name]=e.state}),a.addMarkupHandler&&a.addMarkupHandler(function(e){var i=t.editable(),n=i.getCustomData(e.charName);n&&(n.$=e.node,i.setCustomData(e.charName,n))}),t.scayt=a,t.fire("scaytButtonState",t.readOnly?CKEDITOR.TRISTATE_DISABLED:CKEDITOR.TRISTATE_ON)}else i.state.scayt[t.name]=!1})},destroy:function(t){t.scayt&&t.scayt.destroy(),delete t.scayt,t.fire("scaytButtonState",CKEDITOR.TRISTATE_OFF)},loadScaytLibrary:function(t,e){var i,n=function(){CKEDITOR.fireOnce("scaytReady"),t.scayt||"function"==typeof e&&e(t)};"undefined"==typeof window.SCAYT||"function"!=typeof window.SCAYT.CKSCAYT?(i=t.config.scayt_srcUrl+"?"+this.onLoadTimestamp,CKEDITOR.scriptLoader.load(i,function(t){t&&n()})):window.SCAYT&&"function"==typeof window.SCAYT.CKSCAYT&&n()}},CKEDITOR.on("dialogDefinition",function(t){var e=t.data.name;t=t.data.definition.dialog,"scaytDialog"===e&&t.on("cancel",function(){return!1},this,null,-1),"checkspell"===e&&t.on("cancel",function(t){t=t.sender&&t.sender.getParentEditor();var e=CKEDITOR.plugins.scayt,i=t.scayt;i&&e.state.scayt[t.name]&&i.setMarkupPaused&&i.setMarkupPaused(!1),t.unlockSelection()},this,null,-2),"link"===e&&t.on("ok",function(t){var e=t.sender&&t.sender.getParentEditor();e&&setTimeout(function(){e.fire("reloadMarkupScayt",{removeOptions:{removeInside:!0,forceBookmark:!0},timeout:0})},0)}),"replace"===e&&t.on("hide",function(t){t=t.sender&&t.sender.getParentEditor();var e=CKEDITOR.plugins.scayt,i=t.scayt;t&&setTimeout(function(){i&&(i.fire("removeMarkupInDocument",{}),e.reloadMarkup(i))},0)})}),CKEDITOR.on("scaytReady",function(){if(!0===CKEDITOR.config.scayt_handleCheckDirty){var t=CKEDITOR.editor.prototype;t.checkDirty=CKEDITOR.tools.override(t.checkDirty,function(t){return function(){var e=null,i=this.scayt;if(CKEDITOR.plugins.scayt&&CKEDITOR.plugins.scayt.state.scayt[this.name]&&this.scayt){if(e="ready"==this.status)var n=i.removeMarkupFromString(this.getSnapshot()),i=i.removeMarkupFromString(this._.previousValue),e=e&&i!==n}else e=t.call(this);return e}}),t.resetDirty=CKEDITOR.tools.override(t.resetDirty,function(t){return function(){var e=this.scayt;CKEDITOR.plugins.scayt&&CKEDITOR.plugins.scayt.state.scayt[this.name]&&this.scayt?this._.previousValue=e.removeMarkupFromString(this.getSnapshot()):t.call(this)}})}if(!0===CKEDITOR.config.scayt_handleUndoRedo){var t=CKEDITOR.plugins.undo.Image.prototype,e="function"==typeof t.equalsContent?"equalsContent":"equals";t[e]=CKEDITOR.tools.override(t[e],function(t){return function(e){var i=e.editor.scayt,n=this.contents,o=e.contents,a=null;return CKEDITOR.plugins.scayt&&CKEDITOR.plugins.scayt.state.scayt[e.editor.name]&&e.editor.scayt&&(this.contents=i.removeMarkupFromString(n)||"",e.contents=i.removeMarkupFromString(o)||""),a=t.apply(this,arguments),this.contents=n,e.contents=o,a}})}}),function(){CKEDITOR.plugins.add("stylescombo",{requires:"richcombo",init:function(t){var e=t.config,i=t.lang.stylescombo,n={},o=[],a=[];t.on("stylesSet",function(i){if(i=i.data.styles){for(var r,s,l,d=0,c=i.length;d<c;d++)r=i[d],t.blockless&&r.element in CKEDITOR.dtd.$block||"string"==typeof r.type&&!CKEDITOR.style.customHandlers[r.type]||(s=r.name,r=new CKEDITOR.style(r),t.filter.customConfig&&!t.filter.check(r))||(r._name=s,r._.enterMode=e.enterMode,r._.type=l=r.assignedTo||r.type,r._.weight=d+1e3*(l==CKEDITOR.STYLE_OBJECT?1:l==CKEDITOR.STYLE_BLOCK?2:3),n[s]=r,o.push(r),a.push(r));o.sort(function(t,e){return t._.weight-e._.weight})}}),t.ui.addRichCombo("Styles",{label:i.label,title:i.panelTitle,toolbar:"styles,10",allowedContent:a,panel:{css:[CKEDITOR.skin.getPath("editor")].concat(e.contentsCss),multiSelect:!0,attributes:{"aria-label":i.panelTitle}},init:function(){var t,e,n,a,r,s;for(r=0,s=o.length;r<s;r++)t=o[r],e=t._name,a=t._.type,a!=n&&(this.startGroup(i["panelTitle"+String(a)]),n=a),this.add(e,t.type==CKEDITOR.STYLE_OBJECT?e:t.buildPreview(),e);this.commit()},onClick:function(e){t.focus(),t.fire("saveSnapshot"),e=n[e];var i=t.elementPath();e.group&&e.removeStylesFromSameGroup(t)?t.applyStyle(e):t[e.checkActive(i,t)?"removeStyle":"applyStyle"](e),t.fire("saveSnapshot")},onRender:function(){t.on("selectionChange",function(e){var i=this.getValue();e=e.data.path.elements;for(var o,a=0,r=e.length;a<r;a++){o=e[a];for(var s in n)if(n[s].checkElementRemovable(o,!0,t))return void(s!=i&&this.setValue(s))}this.setValue("")},this)},onOpen:function(){var e=t.getSelection(),e=e.getSelectedElement()||e.getStartElement()||t.editable(),e=t.elementPath(e),o=[0,0,0,0];this.showAll(),this.unmarkAll();for(var a in n){var r=n[a],s=r._.type;r.checkApplicable(e,t,t.activeFilter)?o[s]++:this.hideItem(a),r.checkActive(e,t)&&this.mark(a)}o[CKEDITOR.STYLE_BLOCK]||this.hideGroup(i["panelTitle"+String(CKEDITOR.STYLE_BLOCK)]),o[CKEDITOR.STYLE_INLINE]||this.hideGroup(i["panelTitle"+String(CKEDITOR.STYLE_INLINE)]),o[CKEDITOR.STYLE_OBJECT]||this.hideGroup(i["panelTitle"+String(CKEDITOR.STYLE_OBJECT)])},refresh:function(){var e=t.elementPath();if(e){for(var i in n)if(n[i].checkApplicable(e,t,t.activeFilter))return;this.setState(CKEDITOR.TRISTATE_DISABLED)}},reset:function(){n={},o=[]}})}})}(),function(){function t(t){return{editorFocus:!1,canUndo:!1,modes:{wysiwyg:1},exec:function(e){if(e.editable().hasFocus){var i,n=e.getSelection();if(i=new CKEDITOR.dom.elementPath(n.getCommonAncestor(),n.root).contains({td:1,th:1},1)){var n=e.createRange(),o=CKEDITOR.tools.tryThese(function(){var e=i.getParent().$.cells[i.$.cellIndex+(t?-1:1)];return e.parentNode.parentNode,e},function(){var e=i.getParent(),e=e.getAscendant("table").$.rows[e.$.rowIndex+(t?-1:1)];return e.cells[t?e.cells.length-1:0]});if(o||t){if(!o)return!0;o=new CKEDITOR.dom.element(o),n.moveToElementEditStart(o),n.checkStartOfBlock()&&n.checkEndOfBlock()||n.selectNodeContents(o)}else{for(var a=i.getAscendant("table").$,o=i.getParent().$.cells,a=new CKEDITOR.dom.element(a.insertRow(-1),e.document),r=0,s=o.length;r<s;r++)a.append(new CKEDITOR.dom.element(o[r],e.document).clone(!1,!1)).appendBogus();n.moveToElementEditStart(a)}return n.select(!0),!0}}return!1}}}var e={editorFocus:!1,modes:{wysiwyg:1,source:1}},i={exec:function(t){t.container.focusNext(!0,t.tabIndex)}},n={exec:function(t){t.container.focusPrevious(!0,t.tabIndex)}};CKEDITOR.plugins.add("tab",{init:function(o){for(var a=!1!==o.config.enableTabKeyTools,r=o.config.tabSpaces||0,s="";r--;)s+="\xa0";s&&o.on("key",function(t){9==t.data.keyCode&&(o.insertText(s),t.cancel())}),a&&o.on("key",function(t){(9==t.data.keyCode&&o.execCommand("selectNextCell")||t.data.keyCode==CKEDITOR.SHIFT+9&&o.execCommand("selectPreviousCell"))&&t.cancel()}),o.addCommand("blur",CKEDITOR.tools.extend(i,e)),o.addCommand("blurBack",CKEDITOR.tools.extend(n,e)),o.addCommand("selectNextCell",t()),o.addCommand("selectPreviousCell",t(!0))}})}(),CKEDITOR.dom.element.prototype.focusNext=function(t,e){var i,n,o,a,r,s,l=void 0===e?this.getTabIndex():e;if(0>=l)for(r=this.getNextSourceNode(t,CKEDITOR.NODE_ELEMENT);r;){if(r.isVisible()&&0===r.getTabIndex()){o=r;break}r=r.getNextSourceNode(!1,CKEDITOR.NODE_ELEMENT)}else for(r=this.getDocument().getBody().getFirst();r=r.getNextSourceNode(!1,CKEDITOR.NODE_ELEMENT);){if(!i)if(!n&&r.equals(this)){if(n=!0,t){if(!(r=r.getNextSourceNode(!0,CKEDITOR.NODE_ELEMENT)))break;i=1}}else n&&!this.contains(r)&&(i=1);if(r.isVisible()&&!(0>(s=r.getTabIndex()))){if(i&&s==l){o=r;break}s>l&&(!o||!a||s<a)?(o=r,a=s):o||0!==s||(o=r,a=s)}}o&&o.focus()},CKEDITOR.dom.element.prototype.focusPrevious=function(t,e){for(var i,n,o,a,r=void 0===e?this.getTabIndex():e,s=0,l=this.getDocument().getBody().getLast();l=l.getPreviousSourceNode(!1,CKEDITOR.NODE_ELEMENT);){if(!i)if(!n&&l.equals(this)){if(n=!0,t){if(!(l=l.getPreviousSourceNode(!0,CKEDITOR.NODE_ELEMENT)))break;i=1}}else n&&!this.contains(l)&&(i=1);if(l.isVisible()&&!(0>(a=l.getTabIndex())))if(0>=r){if(i&&0===a){o=l;break}a>s&&(o=l,s=a)}else{if(i&&a==r){o=l;break}a<r&&(!o||a>s)&&(o=l,s=a)}}o&&o.focus()},CKEDITOR.plugins.add("table",{requires:"dialog",init:function(t){function e(t){return CKEDITOR.tools.extend(t||{},{contextSensitive:1,refresh:function(t,e){this.setState(e.contains("table",1)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED)}})}if(!t.blockless){var i=t.lang.table;t.addCommand("table",new CKEDITOR.dialogCommand("table",{context:"table",allowedContent:"table{width,height}[align,border,cellpadding,cellspacing,summary];caption tbody thead tfoot;th td tr[scope];"+(t.plugins.dialogadvtab?"table"+t.plugins.dialogadvtab.allowedContent():""),requiredContent:"table",contentTransformations:[["table{width}: sizeToStyle","table[width]: sizeToAttribute"],["td: splitBorderShorthand"],[{element:"table",right:function(t){if(t.styles){var e;if(t.styles.border)e=CKEDITOR.tools.style.parse.border(t.styles.border);else if(CKEDITOR.env.ie&&8===CKEDITOR.env.version){var i=t.styles;i["border-left"]&&i["border-left"]===i["border-right"]&&i["border-right"]===i["border-top"]&&i["border-top"]===i["border-bottom"]&&(e=CKEDITOR.tools.style.parse.border(i["border-top"]))}e&&e.style&&"solid"===e.style&&e.width&&0!==parseFloat(e.width)&&(t.attributes.border=1),"collapse"==t.styles["border-collapse"]&&(t.attributes.cellspacing=0)}}}]]})),t.addCommand("tableProperties",new CKEDITOR.dialogCommand("tableProperties",e())),t.addCommand("tableDelete",e({exec:function(t){var e=t.elementPath().contains("table",1);if(e){var i=e.getParent(),n=t.editable();1!=i.getChildCount()||i.is("td","th")||i.equals(n)||(e=i),t=t.createRange(),t.moveToPosition(e,CKEDITOR.POSITION_BEFORE_START),e.remove(),t.select()}}})),t.ui.addButton&&t.ui.addButton("Table",{label:i.toolbar,command:"table",toolbar:"insert,30"}),CKEDITOR.dialog.add("table",this.path+"dialogs/table.js"),CKEDITOR.dialog.add("tableProperties",this.path+"dialogs/table.js"),t.addMenuItems&&t.addMenuItems({table:{label:i.menu,command:"tableProperties",group:"table",order:5},tabledelete:{label:i.deleteTable,command:"tableDelete",group:"table",order:1}}),t.on("doubleclick",function(t){t.data.element.is("table")&&(t.data.dialog="tableProperties")}),t.contextMenu&&t.contextMenu.addListener(function(){return{tabledelete:CKEDITOR.TRISTATE_OFF,table:CKEDITOR.TRISTATE_OFF}})}}}),function(){function t(t,e){function i(t){return!e||e.contains(t)&&t.getAscendant("table",!0).equals(e)}function n(t){0<o.length||t.type!=CKEDITOR.NODE_ELEMENT||!p.test(t.getName())||t.getCustomData("selected_cell")||(CKEDITOR.dom.element.setMarker(a,t,"selected_cell",!0),o.push(t))}var o=[],a={};if(!t)return o;for(var r=t.getRanges(),s=0;s<r.length;s++){var l=r[s];if(l.collapsed)(l=l.getCommonAncestor().getAscendant({td:1,th:1},!0))&&i(l)&&o.push(l);else{var d,l=new CKEDITOR.dom.walker(l);for(l.guard=n;d=l.next();)d.type==CKEDITOR.NODE_ELEMENT&&d.is(CKEDITOR.dtd.table)||(d=d.getAscendant({td:1,th:1},!0))&&!d.getCustomData("selected_cell")&&i(d)&&(CKEDITOR.dom.element.setMarker(a,d,"selected_cell",!0),o.push(d))}}return CKEDITOR.dom.element.clearAllMarkers(a),o}function e(e,i){for(var n=m(e)?e:t(e),o=n[0],a=o.getAscendant("table"),o=o.getDocument(),r=n[0].getParent(),s=r.$.rowIndex,n=n[n.length-1],l=n.getParent().$.rowIndex+n.$.rowSpan-1,n=new CKEDITOR.dom.element(a.$.rows[l]),s=i?s:l,r=i?r:n,n=CKEDITOR.tools.buildTableMap(a),a=n[s],s=i?n[s-1]:n[s+1],n=n[0].length,o=o.createElement("tr"),l=0;a[l]&&l<n;l++){var d;1<a[l].rowSpan&&s&&a[l]==s[l]?(d=a[l],d.rowSpan+=1):(d=new CKEDITOR.dom.element(a[l]).clone(),
d.removeAttribute("rowSpan"),d.appendBogus(),o.append(d),d=d.$),l+=d.colSpan-1}return i?o.insertBefore(r):o.insertAfter(r),o}function i(e){if(e instanceof CKEDITOR.dom.selection){var n=e.getRanges(),o=t(e),a=o[0].getAscendant("table"),r=CKEDITOR.tools.buildTableMap(a),s=o[0].getParent().$.rowIndex,o=o[o.length-1],l=o.getParent().$.rowIndex+o.$.rowSpan-1,o=[];for(e.reset(),e=s;e<=l;e++){for(var d=r[e],c=new CKEDITOR.dom.element(a.$.rows[e]),h=0;h<d.length;h++){var u=new CKEDITOR.dom.element(d[h]),f=u.getParent().$.rowIndex;1==u.$.rowSpan?u.remove():(--u.$.rowSpan,f==e&&(f=r[e+1],f[h-1]?u.insertAfter(new CKEDITOR.dom.element(f[h-1])):new CKEDITOR.dom.element(a.$.rows[e+1]).append(u,1))),h+=u.$.colSpan-1}o.push(c)}for(r=a.$.rows,n[0].moveToPosition(a,CKEDITOR.POSITION_BEFORE_START),s=new CKEDITOR.dom.element(r[l+1]||(0<s?r[s-1]:null)||a.$.parentNode),e=o.length;0<=e;e--)i(o[e]);return a.$.parentNode?s:(n[0].select(),null)}return e instanceof CKEDITOR.dom.element&&(a=e.getAscendant("table"),1==a.$.rows.length?a.remove():e.remove()),null}function n(t){for(var e=t.getParent().$.cells,i=0,n=0;n<e.length;n++){var o=e[n],i=i+o.colSpan;if(o==t.$)break}return i-1}function o(t,e){for(var i=e?Infinity:0,o=0;o<t.length;o++){var a=n(t[o]);(e?a<i:a>i)&&(i=a)}return i}function a(e,i){for(var n=m(e)?e:t(e),a=n[0].getAscendant("table"),r=o(n,1),n=o(n),s=i?r:n,l=CKEDITOR.tools.buildTableMap(a),a=[],r=[],n=[],d=l.length,c=0;c<d;c++)a.push(l[c][s]),r.push(i?l[c][s-1]:l[c][s+1]);for(c=0;c<d;c++)a[c]&&(1<a[c].colSpan&&r[c]==a[c]?(l=a[c],l.colSpan+=1):(s=new CKEDITOR.dom.element(a[c]),l=s.clone(),l.removeAttribute("colSpan"),l.appendBogus(),l[i?"insertBefore":"insertAfter"].call(l,s),n.push(l),l=l.$),c+=l.rowSpan-1);return n}function r(e){function i(t){var e,i,n;if(e=t.getRanges(),1!==e.length)return t;if(e=e[0],e.collapsed||0!==e.endOffset)return t;if(i=e.endContainer,"td"!==(n=i.getName().toLowerCase())&&"th"!==n)return t;for((n=i.getPrevious())||(n=i.getParent().getPrevious().getLast());n.type!==CKEDITOR.NODE_TEXT&&"br"!==n.getName().toLowerCase();)if(!(n=n.getLast()))return t;return e.setEndAt(n,CKEDITOR.POSITION_BEFORE_END),e.select()}CKEDITOR.env.webkit&&!e.isFake&&(e=i(e));var n,o,a=e.getRanges(),r=t(e),s=r[0],l=r[r.length-1],r=s.getAscendant("table"),d=CKEDITOR.tools.buildTableMap(r),c=[];e.reset();var h=0;for(e=d.length;h<e;h++)for(var u=0,f=d[h].length;u<f;u++)void 0===n&&d[h][u]==s.$&&(n=u),d[h][u]==l.$&&(o=u);for(h=n;h<=o;h++)for(u=0;u<d.length;u++)l=d[u],s=new CKEDITOR.dom.element(r.$.rows[u]),l=new CKEDITOR.dom.element(l[h]),l.$&&(1==l.$.colSpan?l.remove():--l.$.colSpan,u+=l.$.rowSpan-1,s.$.cells.length||c.push(s));return n=d[0].length-1>o?new CKEDITOR.dom.element(d[0][o+1]):n&&-1!==d[0][n-1].cellIndex?new CKEDITOR.dom.element(d[0][n-1]):new CKEDITOR.dom.element(r.$.parentNode),c.length==e&&(a[0].moveToPosition(r,CKEDITOR.POSITION_AFTER_END),a[0].select(),r.remove()),n}function s(t,e){var i=t.getStartElement().getAscendant({td:1,th:1},!0);if(i){var n=i.clone();n.appendBogus(),e?n.insertBefore(i):n.insertAfter(i)}}function l(e){if(e instanceof CKEDITOR.dom.selection){var i,n=e.getRanges(),o=t(e),a=o[0]&&o[0].getAscendant("table");t:{var r=0;i=o.length-1;for(var s,c,h={};s=o[r++];)CKEDITOR.dom.element.setMarker(h,s,"delete_cell",!0);for(r=0;s=o[r++];)if((c=s.getPrevious())&&!c.getCustomData("delete_cell")||(c=s.getNext())&&!c.getCustomData("delete_cell")){CKEDITOR.dom.element.clearAllMarkers(h),i=c;break t}CKEDITOR.dom.element.clearAllMarkers(h),r=o[0].getParent(),(r=r.getPrevious())?i=r.getLast():(r=o[i].getParent(),i=(r=r.getNext())?r.getChild(0):null)}for(e.reset(),e=o.length-1;0<=e;e--)l(o[e]);i?d(i,!0):a&&(n[0].moveToPosition(a,CKEDITOR.POSITION_BEFORE_START),n[0].select(),a.remove())}else e instanceof CKEDITOR.dom.element&&(n=e.getParent(),1==n.getChildCount()?n.remove():e.remove())}function d(t,e){var i=t.getDocument(),n=CKEDITOR.document;CKEDITOR.env.ie&&10==CKEDITOR.env.version&&(n.focus(),i.focus()),i=new CKEDITOR.dom.range(i),i["moveToElementEdit"+(e?"End":"Start")](t)||(i.selectNodeContents(t),i.collapse(!e)),i.select(!0)}function c(t,e,i){if(t=t[e],void 0===i)return t;for(e=0;t&&e<t.length;e++){if(i.is&&t[e]==i.$)return e;if(e==i)return new CKEDITOR.dom.element(t[e])}return i.is?-1:null}function h(e,i,n){var o,a=t(e);if((i?1!=a.length:2>a.length)||(o=e.getCommonAncestor())&&o.type==CKEDITOR.NODE_ELEMENT&&o.is("table"))return!1;var r;e=a[0],o=e.getAscendant("table");var s=CKEDITOR.tools.buildTableMap(o),l=s.length,d=s[0].length,h=e.getParent().$.rowIndex,u=c(s,h,e);if(i){var f;try{var p=parseInt(e.getAttribute("rowspan"),10)||1;r=parseInt(e.getAttribute("colspan"),10)||1,f=s["up"==i?h-p:"down"==i?h+p:h]["left"==i?u-r:"right"==i?u+r:u]}catch(t){return!1}if(!f||e.$==f)return!1;a["up"==i||"left"==i?"unshift":"push"](new CKEDITOR.dom.element(f))}i=e.getDocument();var m=h,p=f=0,g=!n&&new CKEDITOR.dom.documentFragment(i),v=0;for(i=0;i<a.length;i++){r=a[i];var b=r.getParent(),T=r.getFirst(),E=r.$.colSpan,C=r.$.rowSpan,b=b.$.rowIndex,y=c(s,b,r),v=v+E*C,p=Math.max(p,y-u+E);f=Math.max(f,b-h+C),n||(E=r,(C=E.getBogus())&&C.remove(),E.trim(),r.getChildren().count()&&(b==m||!T||T.isBlockBoundary&&T.isBlockBoundary({br:1})||!(m=g.getLast(CKEDITOR.dom.walker.whitespaces(!0)))||m.is&&m.is("br")||g.append("br"),r.moveChildren(g)),i?r.remove():r.setHtml("")),m=b}if(n)return f*p==v;for(g.moveChildren(e),e.appendBogus(),p>=d?e.removeAttribute("rowSpan"):e.$.rowSpan=f,f>=l?e.removeAttribute("colSpan"):e.$.colSpan=p,n=new CKEDITOR.dom.nodeList(o.$.rows),a=n.count(),i=a-1;0<=i;i--)o=n.getItem(i),o.$.cells.length||(o.remove(),a++);return e}function u(e,i){var n=t(e);if(1<n.length)return!1;if(i)return!0;var o,n=n[0],a=n.getParent(),r=a.getAscendant("table"),s=CKEDITOR.tools.buildTableMap(r),l=a.$.rowIndex,d=c(s,l,n),h=n.$.rowSpan;if(1<h){o=Math.ceil(h/2);for(var u,h=Math.floor(h/2),a=l+o,r=new CKEDITOR.dom.element(r.$.rows[a]),s=c(s,a),a=n.clone(),l=0;l<s.length;l++){if(u=s[l],u.parentNode==r.$&&l>d){a.insertBefore(new CKEDITOR.dom.element(u));break}u=null}u||r.append(a)}else for(h=o=1,r=a.clone(),r.insertAfter(a),r.append(a=n.clone()),u=c(s,l),d=0;d<u.length;d++)u[d].rowSpan++;return a.appendBogus(),n.$.rowSpan=o,a.$.rowSpan=h,1==o&&n.removeAttribute("rowSpan"),1==h&&a.removeAttribute("rowSpan"),a}function f(e,i){var n=t(e);if(1<n.length)return!1;if(i)return!0;var n=n[0],o=n.getParent(),a=o.getAscendant("table"),a=CKEDITOR.tools.buildTableMap(a),r=c(a,o.$.rowIndex,n),s=n.$.colSpan;if(1<s)o=Math.ceil(s/2),s=Math.floor(s/2);else{for(var s=o=1,l=[],d=0;d<a.length;d++){var h=a[d];l.push(h[r]),1<h[r].rowSpan&&(d+=h[r].rowSpan-1)}for(a=0;a<l.length;a++)l[a].colSpan++}return a=n.clone(),a.insertAfter(n),a.appendBogus(),n.$.colSpan=o,a.$.colSpan=s,1==o&&n.removeAttribute("colSpan"),1==s&&a.removeAttribute("colSpan"),a}var p=/^(?:td|th)$/,m=CKEDITOR.tools.isArray;CKEDITOR.plugins.tabletools={requires:"table,dialog,contextmenu",init:function(n){function o(t){return CKEDITOR.tools.extend(t||{},{contextSensitive:1,refresh:function(t,e){this.setState(e.contains({td:1,th:1},1)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED)}})}function c(t,e){var i=n.addCommand(t,e);n.addFeature(i)}var p=n.lang.table,m=CKEDITOR.tools.style.parse;c("cellProperties",new CKEDITOR.dialogCommand("cellProperties",o({allowedContent:"td th{width,height,border-color,background-color,white-space,vertical-align,text-align}[colspan,rowspan]",requiredContent:"table",contentTransformations:[[{element:"td",left:function(t){return t.styles.background&&m.background(t.styles.background).color},right:function(t){t.styles["background-color"]=m.background(t.styles.background).color}},{element:"td",check:"td{vertical-align}",left:function(t){return t.attributes&&t.attributes.valign},right:function(t){t.styles["vertical-align"]=t.attributes.valign,delete t.attributes.valign}}],[{element:"tr",check:"td{height}",left:function(t){return t.styles&&t.styles.height},right:function(t){CKEDITOR.tools.array.forEach(t.children,function(e){e.name in{td:1,th:1}&&(e.attributes["cke-row-height"]=t.styles.height)}),delete t.styles.height}}],[{element:"td",check:"td{height}",left:function(t){return(t=t.attributes)&&t["cke-row-height"]},right:function(t){t.styles.height=t.attributes["cke-row-height"],delete t.attributes["cke-row-height"]}}]]}))),CKEDITOR.dialog.add("cellProperties",this.path+"dialogs/tableCell.js"),c("rowDelete",o({requiredContent:"table",exec:function(t){t=t.getSelection(),(t=i(t))&&d(t)}})),c("rowInsertBefore",o({requiredContent:"table",exec:function(i){i=i.getSelection(),i=t(i),e(i,!0)}})),c("rowInsertAfter",o({requiredContent:"table",exec:function(i){i=i.getSelection(),i=t(i),e(i)}})),c("columnDelete",o({requiredContent:"table",exec:function(t){t=t.getSelection(),(t=r(t))&&d(t,!0)}})),c("columnInsertBefore",o({requiredContent:"table",exec:function(e){e=e.getSelection(),e=t(e),a(e,!0)}})),c("columnInsertAfter",o({requiredContent:"table",exec:function(e){e=e.getSelection(),e=t(e),a(e)}})),c("cellDelete",o({requiredContent:"table",exec:function(t){t=t.getSelection(),l(t)}})),c("cellMerge",o({allowedContent:"td[colspan,rowspan]",requiredContent:"td[colspan,rowspan]",exec:function(t,e){e.cell=h(t.getSelection()),d(e.cell,!0)}})),c("cellMergeRight",o({allowedContent:"td[colspan]",requiredContent:"td[colspan]",exec:function(t,e){e.cell=h(t.getSelection(),"right"),d(e.cell,!0)}})),c("cellMergeDown",o({allowedContent:"td[rowspan]",requiredContent:"td[rowspan]",exec:function(t,e){e.cell=h(t.getSelection(),"down"),d(e.cell,!0)}})),c("cellVerticalSplit",o({allowedContent:"td[rowspan]",requiredContent:"td[rowspan]",exec:function(t){d(f(t.getSelection()))}})),c("cellHorizontalSplit",o({allowedContent:"td[colspan]",requiredContent:"td[colspan]",exec:function(t){d(u(t.getSelection()))}})),c("cellInsertBefore",o({requiredContent:"table",exec:function(t){t=t.getSelection(),s(t,!0)}})),c("cellInsertAfter",o({requiredContent:"table",exec:function(t){t=t.getSelection(),s(t)}})),n.addMenuItems&&n.addMenuItems({tablecell:{label:p.cell.menu,group:"tablecell",order:1,getItems:function(){var e=n.getSelection(),i=t(e);return{tablecell_insertBefore:CKEDITOR.TRISTATE_OFF,tablecell_insertAfter:CKEDITOR.TRISTATE_OFF,tablecell_delete:CKEDITOR.TRISTATE_OFF,tablecell_merge:h(e,null,!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_merge_right:h(e,"right",!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_merge_down:h(e,"down",!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_split_vertical:f(e,!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_split_horizontal:u(e,!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_properties:0<i.length?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED}}},tablecell_insertBefore:{label:p.cell.insertBefore,group:"tablecell",command:"cellInsertBefore",order:5},tablecell_insertAfter:{label:p.cell.insertAfter,group:"tablecell",command:"cellInsertAfter",order:10},tablecell_delete:{label:p.cell.deleteCell,group:"tablecell",command:"cellDelete",order:15},tablecell_merge:{label:p.cell.merge,group:"tablecell",command:"cellMerge",order:16},tablecell_merge_right:{label:p.cell.mergeRight,group:"tablecell",command:"cellMergeRight",order:17},tablecell_merge_down:{label:p.cell.mergeDown,group:"tablecell",command:"cellMergeDown",order:18},tablecell_split_horizontal:{label:p.cell.splitHorizontal,group:"tablecell",command:"cellHorizontalSplit",order:19},tablecell_split_vertical:{label:p.cell.splitVertical,group:"tablecell",command:"cellVerticalSplit",order:20},tablecell_properties:{label:p.cell.title,group:"tablecellproperties",command:"cellProperties",order:21},tablerow:{label:p.row.menu,group:"tablerow",order:1,getItems:function(){return{tablerow_insertBefore:CKEDITOR.TRISTATE_OFF,tablerow_insertAfter:CKEDITOR.TRISTATE_OFF,tablerow_delete:CKEDITOR.TRISTATE_OFF}}},tablerow_insertBefore:{label:p.row.insertBefore,group:"tablerow",command:"rowInsertBefore",order:5},tablerow_insertAfter:{label:p.row.insertAfter,group:"tablerow",command:"rowInsertAfter",order:10},tablerow_delete:{label:p.row.deleteRow,group:"tablerow",command:"rowDelete",order:15},tablecolumn:{label:p.column.menu,group:"tablecolumn",order:1,getItems:function(){return{tablecolumn_insertBefore:CKEDITOR.TRISTATE_OFF,tablecolumn_insertAfter:CKEDITOR.TRISTATE_OFF,tablecolumn_delete:CKEDITOR.TRISTATE_OFF}}},tablecolumn_insertBefore:{label:p.column.insertBefore,group:"tablecolumn",command:"columnInsertBefore",order:5},tablecolumn_insertAfter:{label:p.column.insertAfter,group:"tablecolumn",command:"columnInsertAfter",order:10},tablecolumn_delete:{label:p.column.deleteColumn,group:"tablecolumn",command:"columnDelete",order:15}}),n.contextMenu&&n.contextMenu.addListener(function(t,e,i){return(t=i.contains({td:1,th:1},1))&&!t.isReadOnly()?{tablecell:CKEDITOR.TRISTATE_OFF,tablerow:CKEDITOR.TRISTATE_OFF,tablecolumn:CKEDITOR.TRISTATE_OFF}:null})},getCellColIndex:n,insertRow:e,insertColumn:a,getSelectedCells:t},CKEDITOR.plugins.add("tabletools",CKEDITOR.plugins.tabletools)}(),CKEDITOR.tools.buildTableMap=function(t,e,i,n,o){t=t.$.rows,i=i||0,n="number"==typeof n?n:t.length-1,o="number"==typeof o?o:-1;var a=-1,r=[];for(e=e||0;e<=n;e++){a++,!r[a]&&(r[a]=[]);for(var s=-1,l=i;l<=(-1===o?t[e].cells.length-1:o);l++){var d=t[e].cells[l];if(!d)break;for(s++;r[a][s];)s++;for(var c=isNaN(d.colSpan)?1:d.colSpan,d=isNaN(d.rowSpan)?1:d.rowSpan,h=0;h<d&&!(e+h>n);h++){r[a+h]||(r[a+h]=[]);for(var u=0;u<c;u++)r[a+h][s+u]=t[e].cells[l]}if(s+=c-1,-1!==o&&s>=o)break}}return r},function(){function t(t){return CKEDITOR.plugins.widget&&CKEDITOR.plugins.widget.isDomWidget(t)}function e(t,e){var i,n,o=t.getAscendant("table"),a=e.getAscendant("table"),r=CKEDITOR.tools.buildTableMap(o),s=d(t),l=d(e),c=[],h={};for(o.contains(a)&&(e=e.getAscendant({td:1,th:1}),l=d(e)),s>l&&(o=s,s=l,l=o,o=t,t=e,e=o),o=0;o<r[s].length;o++)if(t.$===r[s][o]){i=o;break}for(o=0;o<r[l].length;o++)if(e.$===r[l][o]){n=o;break}for(i>n&&(o=i,i=n,n=o),o=s;o<=l;o++)for(s=i;s<=n;s++)a=new CKEDITOR.dom.element(r[o][s]),a.$&&!a.getCustomData("selected_cell")&&(c.push(a),CKEDITOR.dom.element.setMarker(h,a,"selected_cell",!0));return CKEDITOR.dom.element.clearAllMarkers(h),c}function i(t){if(t)return t=t.clone(),t.enlarge(CKEDITOR.ENLARGE_ELEMENT),(t=t.getEnclosedNode())&&t.is&&t.is(CKEDITOR.dtd.$tableContent)}function n(t){return(t=t.editable().findOne(".cke_table-faked-selection"))&&t.getAscendant("table")}function o(t,e){var i,n=t.editable().find(".cke_table-faked-selection");for(t.fire("lockSnapshot"),t.editable().removeClass("cke_table-faked-selection-editor"),i=0;i<n.count();i++)n.getItem(i).removeClass("cke_table-faked-selection");0<n.count()&&n.getItem(0).getAscendant("table").data("cke-table-faked-selection-table",!1),t.fire("unlockSnapshot"),e&&(C={active:!1},t.getSelection().isInTable()&&t.getSelection().reset())}function a(t,e){var i,n,o=[];for(n=0;n<e.length;n++)i=t.createRange(),i.setStartBefore(e[n]),i.setEndAfter(e[n]),o.push(i);t.getSelection().selectRanges(o)}function r(t){var i=t.editable().find(".cke_table-faked-selection");1>i.count()||(i=e(i.getItem(0),i.getItem(i.count()-1)),a(t,i))}function s(i,n,r){var s=v(i.getSelection(!0));n=n.is("table")?null:n;var l;if((l=C.active&&!C.first)&&!(l=n)&&(l=i.getSelection().getRanges(),l=!!(1<s.length||l[0]&&!l[0].collapsed)),l)C.first=n||s[0],C.dirty=!n&&1!==s.length;else if(C.active&&n&&C.first.getAscendant("table").equals(n.getAscendant("table"))){if(s=e(C.first,n),!C.dirty&&1===s.length&&!t(r.data.getTarget()))return o(i,"mouseup"===r.name);C.dirty=!0,C.last=n,a(i,s)}}function l(t){var e,i=(t=t.editor||t.sender.editor)&&t.getSelection(),n=i&&i.getRanges()||[];if(i&&(o(t),i.isInTable()&&i.isFake)){for(1===n.length&&n[0]._getTableElement()&&n[0]._getTableElement().is("table")&&(e=n[0]._getTableElement()),e=v(i,e),t.fire("lockSnapshot"),i=0;i<e.length;i++)e[i].addClass("cke_table-faked-selection");0<e.length&&(t.editable().addClass("cke_table-faked-selection-editor"),e[0].getAscendant("table").data("cke-table-faked-selection-table","")),t.fire("unlockSnapshot")}}function d(t){return t.getAscendant("tr",!0).$.rowIndex}function c(e){function i(t,e){return!(!t||!e)&&(t.equals(e)||t.contains(e)||e.contains(t)||t.getCommonAncestor(e).is(m))}function a(t){return!t.getAscendant("table",!0)&&t.getDocument().equals(d.document)}function l(t,e,n,o){return!("mousedown"!==t.name||CKEDITOR.tools.getMouseButton(t)!==CKEDITOR.MOUSE_BUTTON_LEFT&&o)||"mouseup"===t.name&&!a(t.data.getTarget())&&!i(n,o)}if(e.data.getTarget().getName&&("mouseup"===e.name||!t(e.data.getTarget()))){var d=e.editor||e.listenerData.editor,h=d.getSelection(1),u=n(d),f=e.data.getTarget(),p=f&&f.getAscendant({td:1,th:1},!0),f=f&&f.getAscendant("table",!0),m={table:1,thead:1,tbody:1,tfoot:1,tr:1,td:1,th:1};l(e,h,u,f)&&o(d,!0),!C.active&&"mousedown"===e.name&&CKEDITOR.tools.getMouseButton(e)===CKEDITOR.MOUSE_BUTTON_LEFT&&f&&(C={active:!0},CKEDITOR.document.on("mouseup",c,null,{editor:d})),(p||f)&&s(d,p||f,e),"mouseup"===e.name&&(CKEDITOR.tools.getMouseButton(e)===CKEDITOR.MOUSE_BUTTON_LEFT&&(a(e.data.getTarget())||i(u,f))&&r(d),C={active:!1},CKEDITOR.document.removeListener("mouseup",c))}}function h(t){var e=t.data.getTarget().getAscendant({td:1,th:1},!0);e&&!e.hasClass("cke_table-faked-selection")&&(t.cancel(),t.data.preventDefault())}function u(t,e){function i(t){t.cancel()}var n,o,a,r,s=t.getSelection(),l=s.createBookmarks(),d=t.document,c=t.createRange(),h=d.getDocumentElement().$,u=CKEDITOR.env.ie&&9>CKEDITOR.env.version,f=t.blockless||CKEDITOR.env.ie?"span":"div";d.getById("cke_table_copybin")||(n=d.createElement(f),o=d.createElement(f),o.setAttributes({id:"cke_table_copybin","data-cke-temp":"1"}),n.setStyles({position:"absolute",width:"1px",height:"1px",overflow:"hidden"}),n.setStyle("ltr"==t.config.contentsLangDirection?"left":"right","-5000px"),n.setHtml(t.getSelectedHtml(!0)),t.fire("lockSnapshot"),o.append(n),t.editable().append(o),r=t.on("selectionChange",i,null,null,0),u&&(a=h.scrollTop),c.selectNodeContents(n),c.select(),u&&(h.scrollTop=a),setTimeout(function(){o.remove(),s.selectBookmarks(l),r.removeListener(),t.fire("unlockSnapshot"),e&&(t.extractSelectedHtml(),t.fire("saveSnapshot"))},100))}function f(t){var e=t.editor||t.sender.editor;e.getSelection().isInTable()&&u(e,"cut"===t.name)}function p(t){this._reset(),t&&this.setSelectedCells(t)}function m(t,e,i){t.on("beforeCommandExec",function(i){-1!==CKEDITOR.tools.array.indexOf(e,i.data.name)&&(i.data.selectedCells=v(t.getSelection()))}),t.on("afterCommandExec",function(n){-1!==CKEDITOR.tools.array.indexOf(e,n.data.name)&&i(t,n.data)})}var g,v,b,T,E,C={active:!1};p.prototype={},p.prototype._reset=function(){this.cells={first:null,last:null,all:[]},this.rows={first:null,last:null}},p.prototype.setSelectedCells=function(t){this._reset(),t=t.slice(0),this._arraySortByDOMOrder(t),this.cells.all=t,this.cells.first=t[0],this.cells.last=t[t.length-1],this.rows.first=t[0].getAscendant("tr"),this.rows.last=this.cells.last.getAscendant("tr")},p.prototype.getTableMap=function(){var t,e=b(this.cells.first);t:{t=this.cells.last;var i,n=t.getAscendant("table"),o=d(t),n=CKEDITOR.tools.buildTableMap(n);for(i=0;i<n[o].length;i++)if(new CKEDITOR.dom.element(n[o][i]).equals(t)){t=i;break t}t=void 0}return CKEDITOR.tools.buildTableMap(this._getTable(),d(this.rows.first),e,d(this.rows.last),t)},p.prototype._getTable=function(){return this.rows.first.getAscendant("table")},p.prototype.insertRow=function(t,e,i){if(void 0===t)t=1;else if(0>=t)return;for(var n,o=this.cells.first.$.cellIndex,a=this.cells.last.$.cellIndex,r=i?[]:this.cells.all,s=0;s<t;s++)n=T(i?this.cells.all:r,e),n=CKEDITOR.tools.array.filter(n.find("td, th").toArray(),function(t){return!!i||t.$.cellIndex>=o&&t.$.cellIndex<=a}),r=e?n.concat(r):r.concat(n);this.setSelectedCells(r)},p.prototype.insertColumn=function(t){function e(t){return(t=d(t))>=o&&t<=a}if(void 0===t)t=1;else if(0>=t)return;for(var i=this.cells,n=i.all,o=d(i.first),a=d(i.last),i=0;i<t;i++)n=n.concat(CKEDITOR.tools.array.filter(E(n),e));this.setSelectedCells(n)},p.prototype.emptyCells=function(t){t=t||this.cells.all;for(var e=0;e<t.length;e++)t[e].setHtml("")},p.prototype._arraySortByDOMOrder=function(t){t.sort(function(t,e){return t.getPosition(e)&CKEDITOR.POSITION_PRECEDING?-1:1})};var y={onPaste:function(t){function n(t){return Math.max.apply(null,CKEDITOR.tools.array.map(t,function(t){return t.length},0))}function o(t){var e=l.createRange();e.selectNodeContents(t),e.select()}var r,s,l=t.editor,d=l.getSelection(),c=v(d),h=this.findTableInPastedContent(l,t.data.dataValue),u=d.isInTable(!0)&&this.isBoundarySelection(d);!c.length||1===c.length&&!i(d.getRanges()[0])&&!u||u&&!h||(c=c[0].getAscendant("table"),r=new p(v(d,c)),l.once("afterPaste",function(){var t;if(s){t=new CKEDITOR.dom.element(s[0][0]);var i=s[s.length-1];t=e(t,new CKEDITOR.dom.element(i[i.length-1]))}else t=r.cells.all;a(l,t)}),h?(t.stop(),u?(r.insertRow(1,1===u,!0),d.selectElement(r.rows.first)):(r.emptyCells(),a(l,r.cells.all)),t=r.getTableMap(),s=CKEDITOR.tools.buildTableMap(h),r.insertRow(s.length-t.length),r.insertColumn(n(s)-n(t)),t=r.getTableMap(),this.pasteTable(r,t,s),l.fire("saveSnapshot"),setTimeout(function(){l.fire("afterPaste")},0)):(o(r.cells.first),l.once("afterPaste",function(){l.fire("lockSnapshot"),r.emptyCells(r.cells.all.slice(1)),a(l,r.cells.all),l.fire("unlockSnapshot")})))},isBoundarySelection:function(t){t=t.getRanges()[0];var e=t.endContainer.getAscendant("tr",!0);if(e&&t.collapsed){if(t.checkBoundaryOfElement(e,CKEDITOR.START))return 1;if(t.checkBoundaryOfElement(e,CKEDITOR.END))return 2}return 0},findTableInPastedContent:function(t,e){var i=t.dataProcessor,n=new CKEDITOR.dom.element("body");return i||(i=new CKEDITOR.htmlDataProcessor(t)),n.setHtml(i.toHtml(e),{fixForBody:!1}),1<n.getChildCount()?null:n.findOne("table")},pasteTable:function(t,e,i){var n,o,a,r,s,l=b(t.cells.first),d=t._getTable(),c={};for(r=0;r<i.length;r++)for(o=new CKEDITOR.dom.element(d.$.rows[t.rows.first.$.rowIndex+r]),s=0;s<i[r].length;s++)a=new CKEDITOR.dom.element(i[r][s]),n=e[r]&&e[r][s]?new CKEDITOR.dom.element(e[r][s]):null,a&&!a.getCustomData("processed")?(n&&n.getParent()?a.replace(n):(0===s||i[r][s-1])&&((n=0!==s?new CKEDITOR.dom.element(i[r][s-1]):null)&&o.equals(n.getParent())?a.insertAfter(n):0<l?o.$.cells[l]?a.insertAfter(new CKEDITOR.dom.element(o.$.cells[l])):o.append(a):o.append(a,!0)),CKEDITOR.dom.element.setMarker(c,a,"processed",!0)):a.getCustomData("processed")&&n&&n.remove();CKEDITOR.dom.element.clearAllMarkers(c)}};CKEDITOR.plugins.tableselection={getCellsBetween:e,keyboardIntegration:function(t){function e(t){var e=t.getEnclosedNode();e&&e.is({td:1,th:1})?t.getEnclosedNode().setText(""):t.deleteContents(),CKEDITOR.tools.array.forEach(t._find("td"),function(t){t.appendBogus()})}var i=t.editable();i.attachListener(i,"keydown",function(t){function i(e,i){if(!i.length)return null;var n=t.createRange(),a=CKEDITOR.dom.range.mergeRanges(i);CKEDITOR.tools.array.forEach(a,function(t){t.enlarge(CKEDITOR.ENLARGE_ELEMENT)});var r=a[0].getBoundaryNodes(),s=r.startNode,r=r.endNode;if(s&&s.is&&s.is(o)){for(var l=s.getAscendant("table",!0),d=s.getPreviousSourceNode(!1,CKEDITOR.NODE_ELEMENT,l),c=!1,h=function(t){return!s.contains(t)&&t.is&&t.is("td","th")};d&&!h(d);)d=d.getPreviousSourceNode(!1,CKEDITOR.NODE_ELEMENT,l);return!d&&r&&r.is&&!r.is("table")&&r.getNext()&&(d=r.getNext().findOne("td, th"),c=!0),d?n["moveToElementEdit"+(c?"Start":"End")](d):(n.setStartBefore(s.getAscendant("table",!0)),n.collapse(!0)),a[0].deleteContents(),[n]}return s?(n.moveToElementEditablePosition(s),[n]):void 0}var n={37:1,38:1,39:1,40:1,8:1,46:1},o=CKEDITOR.tools.extend({table:1},CKEDITOR.dtd.$tableContent);return delete o.td,delete o.th,function(o){var a,r,s,l,d=o.data.getKey(),c=37===d||38==d;if(n[d]&&(a=t.getSelection())&&a.isInTable()&&a.isFake)if(r=a.getRanges(),s=r[0]._getTableElement(),l=r[r.length-1]._getTableElement(),o.data.preventDefault(),o.cancel(),8<d&&46>d)r[0].moveToElementEditablePosition(c?s:l,!c),a.selectRanges([r[0]]);else{for(o=0;o<r.length;o++)e(r[o]);(o=i(s,r))?r=o:r[0].moveToElementEditablePosition(s),a.selectRanges(r),t.fire("saveSnapshot")}}}(t),null,null,-1),i.attachListener(i,"keypress",function(i){var n,o=t.getSelection(),a=i.data.$.charCode||13===i.data.getKey();if(o&&o.isInTable()&&o.isFake&&a&&!(i.data.getKeystroke()&CKEDITOR.CTRL)){for(i=o.getRanges(),a=i[0].getEnclosedNode().getAscendant({td:1,th:1},!0),n=0;n<i.length;n++)e(i[n]);a&&(i[0].moveToElementEditablePosition(a),o.selectRanges([i[0]]))}},null,null,-1)},isSupportedEnvironment:!(CKEDITOR.env.ie&&11>CKEDITOR.env.version)},CKEDITOR.plugins.add("tableselection",{requires:"clipboard,tabletools",onLoad:function(){g=CKEDITOR.plugins.tabletools,v=g.getSelectedCells,b=g.getCellColIndex,T=g.insertRow,E=g.insertColumn,CKEDITOR.document.appendStyleSheet(this.path+"styles/tableselection.css")},init:function(t){CKEDITOR.plugins.tableselection.isSupportedEnvironment&&(t.addContentsCss&&t.addContentsCss(this.path+"styles/tableselection.css"),t.on("contentDom",function(){var e=t.editable(),i=e.isInline()?e:t.document,n={editor:t};e.attachListener(i,"mousedown",c,null,n),e.attachListener(i,"mousemove",c,null,n),e.attachListener(i,"mouseup",c,null,n),e.attachListener(e,"dragstart",h),e.attachListener(t,"selectionCheck",l),CKEDITOR.plugins.tableselection.keyboardIntegration(t),CKEDITOR.plugins.clipboard&&!CKEDITOR.plugins.clipboard.isCustomCopyCutSupported&&(e.attachListener(e,"cut",f),e.attachListener(e,"copy",f))}),t.on("paste",y.onPaste,y),m(t,"rowInsertBefore rowInsertAfter columnInsertBefore columnInsertAfter cellInsertBefore cellInsertAfter".split(" "),function(t,e){a(t,e.selectedCells)}),m(t,["cellMerge","cellMergeRight","cellMergeDown"],function(t,e){a(t,[e.commandData.cell])}),m(t,["cellDelete"],function(t){o(t,!0)}))}})}(),function(){var t=[CKEDITOR.CTRL+90,CKEDITOR.CTRL+89,CKEDITOR.CTRL+CKEDITOR.SHIFT+90],e={8:1,46:1};CKEDITOR.plugins.add("undo",{init:function(e){function n(t){r.enabled&&!1!==t.data.command.canUndo&&r.save()}function o(){r.enabled=!e.readOnly&&"wysiwyg"==e.mode,r.onChange()}var r=e.undoManager=new i(e),s=r.editingHandler=new a(r),l=e.addCommand("undo",{exec:function(){r.undo()&&(e.selectionChange(),this.fire("afterUndo"))},startDisabled:!0,canUndo:!1}),d=e.addCommand("redo",{exec:function(){r.redo()&&(e.selectionChange(),this.fire("afterRedo"))},startDisabled:!0,canUndo:!1});e.setKeystroke([[t[0],"undo"],[t[1],"redo"],[t[2],"redo"]]),r.onChange=function(){l.setState(r.undoable()?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED),d.setState(r.redoable()?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED)},e.on("beforeCommandExec",n),e.on("afterCommandExec",n),e.on("saveSnapshot",function(t){r.save(t.data&&t.data.contentOnly)}),e.on("contentDom",s.attachListeners,s),e.on("instanceReady",function(){e.fire("saveSnapshot")}),e.on("beforeModeUnload",function(){"wysiwyg"==e.mode&&r.save(!0)}),e.on("mode",o),e.on("readOnly",o),e.ui.addButton&&(e.ui.addButton("Undo",{label:e.lang.undo.undo,command:"undo",toolbar:"undo,10"}),e.ui.addButton("Redo",{label:e.lang.undo.redo,command:"redo",toolbar:"undo,20"})),e.resetUndo=function(){r.reset(),e.fire("saveSnapshot")},e.on("updateSnapshot",function(){r.currentImage&&r.update()}),e.on("lockSnapshot",function(t){t=t.data,r.lock(t&&t.dontUpdate,t&&t.forceUpdate)}),e.on("unlockSnapshot",r.unlock,r)}}),CKEDITOR.plugins.undo={};var i=CKEDITOR.plugins.undo.UndoManager=function(t){this.strokesRecorded=[0,0],this.locked=null,this.previousKeyGroup=-1,this.limit=t.config.undoStackSize||20,this.strokesLimit=25,this.editor=t,this.reset()};i.prototype={type:function(t,e){var n=i.getKeyGroup(t),o=this.strokesRecorded[n]+1;e=e||o>=this.strokesLimit,this.typing||(this.hasUndo=this.typing=!0,this.hasRedo=!1,this.onChange()),e?(o=0,this.editor.fire("saveSnapshot")):this.editor.fire("change"),this.strokesRecorded[n]=o,this.previousKeyGroup=n},keyGroupChanged:function(t){return i.getKeyGroup(t)!=this.previousKeyGroup},reset:function(){this.snapshots=[],this.index=-1,this.currentImage=null,this.hasRedo=this.hasUndo=!1,this.locked=null,this.resetType()},resetType:function(){this.strokesRecorded=[0,0],this.typing=!1,this.previousKeyGroup=-1},refreshState:function(){this.hasUndo=!!this.getNextImage(!0),this.hasRedo=!!this.getNextImage(!1),this.resetType(),this.onChange()},save:function(t,e,i){var o=this.editor;if(this.locked||"ready"!=o.status||"wysiwyg"!=o.mode)return!1;var a=o.editable();if(!a||"ready"!=a.status)return!1;if(a=this.snapshots,e||(e=new n(o)),!1===e.contents)return!1;if(this.currentImage)if(e.equalsContent(this.currentImage)){if(t||e.equalsSelection(this.currentImage))return!1}else!1!==i&&o.fire("change");return a.splice(this.index+1,a.length-this.index-1),a.length==this.limit&&a.shift(),this.index=a.push(e)-1,this.currentImage=e,!1!==i&&this.refreshState(),!0},restoreImage:function(t){var e,i=this.editor;t.bookmarks&&(i.focus(),e=i.getSelection()),this.locked={level:999},this.editor.loadSnapshot(t.contents),t.bookmarks?e.selectBookmarks(t.bookmarks):CKEDITOR.env.ie&&(e=this.editor.document.getBody().$.createTextRange(),e.collapse(!0),e.select()),this.locked=null,this.index=t.index,this.currentImage=this.snapshots[this.index],this.update(),this.refreshState(),i.fire("change")},getNextImage:function(t){var e,i=this.snapshots,n=this.currentImage;if(n)if(t){for(e=this.index-1;0<=e;e--)if(t=i[e],!n.equalsContent(t))return t.index=e,t}else for(e=this.index+1;e<i.length;e++)if(t=i[e],!n.equalsContent(t))return t.index=e,t;return null},redoable:function(){return this.enabled&&this.hasRedo},undoable:function(){return this.enabled&&this.hasUndo},undo:function(){if(this.undoable()){this.save(!0);var t=this.getNextImage(!0);if(t)return this.restoreImage(t),!0}return!1},redo:function(){if(this.redoable()&&(this.save(!0),this.redoable())){var t=this.getNextImage(!1);if(t)return this.restoreImage(t),!0}return!1},update:function(t){if(!this.locked){t||(t=new n(this.editor));for(var e=this.index,i=this.snapshots;0<e&&this.currentImage.equalsContent(i[e-1]);)--e;i.splice(e,this.index-e+1,t),this.index=e,this.currentImage=t}},updateSelection:function(t){if(!this.snapshots.length)return!1;var e=this.snapshots,i=e[e.length-1];return!(!i.equalsContent(t)||i.equalsSelection(t))&&(this.currentImage=e[e.length-1]=t,!0)},lock:function(t,e){if(this.locked)this.locked.level++;else if(t)this.locked={level:1};else{var i=null;if(e)i=!0;else{var o=new n(this.editor,!0);this.currentImage&&this.currentImage.equalsContent(o)&&(i=o)}this.locked={update:i,level:1}}},unlock:function(){if(this.locked&&!--this.locked.level){var t=this.locked.update;if(this.locked=null,!0===t)this.update();else if(t){var e=new n(this.editor,!0);t.equalsContent(e)||this.update()}}}},i.navigationKeyCodes={37:1,38:1,39:1,40:1,36:1,35:1,33:1,34:1},i.keyGroups={PRINTABLE:0,FUNCTIONAL:1},i.isNavigationKey=function(t){return!!i.navigationKeyCodes[t]},i.getKeyGroup=function(t){var n=i.keyGroups;return e[t]?n.FUNCTIONAL:n.PRINTABLE},i.getOppositeKeyGroup=function(t){var e=i.keyGroups;return t==e.FUNCTIONAL?e.PRINTABLE:e.FUNCTIONAL},i.ieFunctionalKeysBug=function(t){return CKEDITOR.env.ie&&i.getKeyGroup(t)==i.keyGroups.FUNCTIONAL};var n=CKEDITOR.plugins.undo.Image=function(t,e){this.editor=t,t.fire("beforeUndoImage");var i=t.getSnapshot();CKEDITOR.env.ie&&i&&(i=i.replace(/\s+data-cke-expando=".*?"/g,"")),this.contents=i,e||(this.bookmarks=(i=i&&t.getSelection())&&i.createBookmarks2(!0)),t.fire("afterUndoImage")},o=/\b(?:href|src|name)="[^"]*?"/gi;n.prototype={equalsContent:function(t){var e=this.contents;return t=t.contents,CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)&&(e=e.replace(o,""),t=t.replace(o,"")),e==t},equalsSelection:function(t){var e=this.bookmarks;if(t=t.bookmarks,e||t){if(!e||!t||e.length!=t.length)return!1;for(var i=0;i<e.length;i++){var n=e[i],o=t[i];if(n.startOffset!=o.startOffset||n.endOffset!=o.endOffset||!CKEDITOR.tools.arrayCompare(n.start,o.start)||!CKEDITOR.tools.arrayCompare(n.end,o.end))return!1}}return!0}};var a=CKEDITOR.plugins.undo.NativeEditingHandler=function(t){this.undoManager=t,this.ignoreInputEvent=!1,this.keyEventsStack=new r,this.lastKeydownImage=null};a.prototype={onKeydown:function(e){var o=e.data.getKey();229!==o&&(-1<CKEDITOR.tools.indexOf(t,e.data.getKeystroke())?e.data.preventDefault():(this.keyEventsStack.cleanUp(e),e=this.undoManager,this.keyEventsStack.getLast(o)||this.keyEventsStack.push(o),this.lastKeydownImage=new n(e.editor),(i.isNavigationKey(o)||this.undoManager.keyGroupChanged(o))&&(e.strokesRecorded[0]||e.strokesRecorded[1])&&(e.save(!1,this.lastKeydownImage,!1),e.resetType())))},onInput:function(){
if(this.ignoreInputEvent)this.ignoreInputEvent=!1;else{var t=this.keyEventsStack.getLast();t||(t=this.keyEventsStack.push(0)),this.keyEventsStack.increment(t.keyCode),this.keyEventsStack.getTotalInputs()>=this.undoManager.strokesLimit&&(this.undoManager.type(t.keyCode,!0),this.keyEventsStack.resetInputs())}},onKeyup:function(t){var e=this.undoManager;t=t.data.getKey();var o=this.keyEventsStack.getTotalInputs();this.keyEventsStack.remove(t),i.ieFunctionalKeysBug(t)&&this.lastKeydownImage&&this.lastKeydownImage.equalsContent(new n(e.editor,!0))||(0<o?e.type(t):i.isNavigationKey(t)&&this.onNavigationKey(!0))},onNavigationKey:function(t){var e=this.undoManager;!t&&e.save(!0,null,!1)||e.updateSelection(new n(e.editor)),e.resetType()},ignoreInputEventListener:function(){this.ignoreInputEvent=!0},activateInputEventListener:function(){this.ignoreInputEvent=!1},attachListeners:function(){var t=this.undoManager.editor,e=t.editable(),n=this;e.attachListener(e,"keydown",function(t){n.onKeydown(t),i.ieFunctionalKeysBug(t.data.getKey())&&n.onInput()},null,null,999),e.attachListener(e,CKEDITOR.env.ie?"keypress":"input",n.onInput,n,null,999),e.attachListener(e,"keyup",n.onKeyup,n,null,999),e.attachListener(e,"paste",n.ignoreInputEventListener,n,null,999),e.attachListener(e,"drop",n.ignoreInputEventListener,n,null,999),t.on("afterPaste",n.activateInputEventListener,n,null,999),e.attachListener(e.isInline()?e:t.document.getDocumentElement(),"click",function(){n.onNavigationKey()},null,null,999),e.attachListener(this.undoManager.editor,"blur",function(){n.keyEventsStack.remove(9)},null,null,999)}};var r=CKEDITOR.plugins.undo.KeyEventsStack=function(){this.stack=[]};r.prototype={push:function(t){return t=this.stack.push({keyCode:t,inputs:0}),this.stack[t-1]},getLastIndex:function(t){if("number"!=typeof t)return this.stack.length-1;for(var e=this.stack.length;e--;)if(this.stack[e].keyCode==t)return e;return-1},getLast:function(t){return t=this.getLastIndex(t),-1!=t?this.stack[t]:null},increment:function(t){this.getLast(t).inputs++},remove:function(t){-1!=(t=this.getLastIndex(t))&&this.stack.splice(t,1)},resetInputs:function(t){if("number"==typeof t)this.getLast(t).inputs=0;else for(t=this.stack.length;t--;)this.stack[t].inputs=0},getTotalInputs:function(){for(var t=this.stack.length,e=0;t--;)e+=this.stack[t].inputs;return e},cleanUp:function(t){t=t.data.$,t.ctrlKey||t.metaKey||this.remove(17),t.shiftKey||this.remove(16),t.altKey||this.remove(18)}}}(),function(){function t(t,e){CKEDITOR.tools.extend(this,{editor:t,editable:t.editable(),doc:t.document,win:t.window},e,!0),this.inline=this.editable.isInline(),this.inline||(this.frame=this.win.getFrame()),this.target=this[this.inline?"editable":"doc"]}function e(t,e){CKEDITOR.tools.extend(this,e,{editor:t},!0)}function i(t,e){var i=t.editable();CKEDITOR.tools.extend(this,{editor:t,editable:i,inline:i.isInline(),doc:t.document,win:t.window,container:CKEDITOR.document.getBody(),winTop:CKEDITOR.document.getWindow()},e,!0),this.hidden={},this.visible={},this.inline||(this.frame=this.win.getFrame()),this.queryViewport();var n=CKEDITOR.tools.bind(this.queryViewport,this),r=CKEDITOR.tools.bind(this.hideVisible,this),s=CKEDITOR.tools.bind(this.removeAll,this);i.attachListener(this.winTop,"resize",n),i.attachListener(this.winTop,"scroll",n),i.attachListener(this.winTop,"resize",r),i.attachListener(this.win,"scroll",r),i.attachListener(this.inline?i:this.frame,"mouseout",function(t){var e=t.data.$.clientX;t=t.data.$.clientY,this.queryViewport(),(e<=this.rect.left||e>=this.rect.right||t<=this.rect.top||t>=this.rect.bottom)&&this.hideVisible(),(0>=e||e>=this.winTopPane.width||0>=t||t>=this.winTopPane.height)&&this.hideVisible()},this),i.attachListener(t,"resize",n),i.attachListener(t,"mode",s),t.on("destroy",s),this.lineTpl=new CKEDITOR.template('<div data-cke-lineutils-line="1" class="cke_reset_all" style="{lineStyle}"><span style="{tipLeftStyle}">&nbsp;</span><span style="{tipRightStyle}">&nbsp;</span></div>').output({lineStyle:CKEDITOR.tools.writeCssText(CKEDITOR.tools.extend({},a,this.lineStyle,!0)),tipLeftStyle:CKEDITOR.tools.writeCssText(CKEDITOR.tools.extend({},o,{left:"0px","border-left-color":"red","border-width":"6px 0 6px 6px"},this.tipCss,this.tipLeftStyle,!0)),tipRightStyle:CKEDITOR.tools.writeCssText(CKEDITOR.tools.extend({},o,{right:"0px","border-right-color":"red","border-width":"6px 6px 6px 0"},this.tipCss,this.tipRightStyle,!0))})}function n(t){var e;return(e=t&&t.type==CKEDITOR.NODE_ELEMENT)&&(e=!(r[t.getComputedStyle("float")]||r[t.getAttribute("align")])),e&&!s[t.getComputedStyle("position")]}CKEDITOR.plugins.add("lineutils"),CKEDITOR.LINEUTILS_BEFORE=1,CKEDITOR.LINEUTILS_AFTER=2,CKEDITOR.LINEUTILS_INSIDE=4,t.prototype={start:function(t){var e,i,n,o,a=this,r=this.editor,s=this.doc,l=CKEDITOR.tools.eventsBuffer(50,function(){r.readOnly||"wysiwyg"!=r.mode||(a.relations={},(i=s.$.elementFromPoint(n,o))&&i.nodeType&&(e=new CKEDITOR.dom.element(i),a.traverseSearch(e),isNaN(n+o)||a.pixelSearch(e,n,o),t&&t(a.relations,n,o)))});this.listener=this.editable.attachListener(this.target,"mousemove",function(t){n=t.data.$.clientX,o=t.data.$.clientY,l.input()}),this.editable.attachListener(this.inline?this.editable:this.frame,"mouseout",function(){l.reset()})},stop:function(){this.listener&&this.listener.removeListener()},getRange:function(){var t={};return t[CKEDITOR.LINEUTILS_BEFORE]=CKEDITOR.POSITION_BEFORE_START,t[CKEDITOR.LINEUTILS_AFTER]=CKEDITOR.POSITION_AFTER_END,t[CKEDITOR.LINEUTILS_INSIDE]=CKEDITOR.POSITION_AFTER_START,function(e){var i=this.editor.createRange();return i.moveToPosition(this.relations[e.uid].element,t[e.type]),i}}(),store:function(){function t(t,e,i){var n=t.getUniqueId();n in i?i[n].type|=e:i[n]={element:t,type:e}}return function(e,i){var o;i&CKEDITOR.LINEUTILS_AFTER&&n(o=e.getNext())&&o.isVisible()&&(t(o,CKEDITOR.LINEUTILS_BEFORE,this.relations),i^=CKEDITOR.LINEUTILS_AFTER),i&CKEDITOR.LINEUTILS_INSIDE&&n(o=e.getFirst())&&o.isVisible()&&(t(o,CKEDITOR.LINEUTILS_BEFORE,this.relations),i^=CKEDITOR.LINEUTILS_INSIDE),t(e,i,this.relations)}}(),traverseSearch:function(t){var e,i,o;do{if(!((o=t.$["data-cke-expando"])&&o in this.relations)){if(t.equals(this.editable))break;if(n(t))for(e in this.lookups)(i=this.lookups[e](t))&&this.store(t,i)}}while((!t||t.type!=CKEDITOR.NODE_ELEMENT||"true"!=t.getAttribute("contenteditable"))&&(t=t.getParent()))},pixelSearch:function(){function t(t,i,o,a,r){for(var s,l=0;r(o)&&(o+=a,25!=++l);)if(s=this.doc.$.elementFromPoint(i,o))if(s==t)l=0;else if(e(t,s)&&(l=0,n(s=new CKEDITOR.dom.element(s))))return s}var e=CKEDITOR.env.ie||CKEDITOR.env.webkit?function(t,e){return t.contains(e)}:function(t,e){return!!(16&t.compareDocumentPosition(e))};return function(e,i,o){var a=this.win.getViewPaneSize().height,r=t.call(this,e.$,i,o,-1,function(t){return 0<t});if(i=t.call(this,e.$,i,o,1,function(t){return t<a}),r)for(this.traverseSearch(r);!r.getParent().equals(e);)r=r.getParent();if(i)for(this.traverseSearch(i);!i.getParent().equals(e);)i=i.getParent();for(;(r||i)&&(r&&(r=r.getNext(n)),r&&!r.equals(i))&&(this.traverseSearch(r),i&&(i=i.getPrevious(n)),i&&!i.equals(r));)this.traverseSearch(i)}}(),greedySearch:function(){this.relations={};for(var t,e,i,o=this.editable.getElementsByTag("*"),a=0;t=o.getItem(a++);)if(!t.equals(this.editable)&&t.type==CKEDITOR.NODE_ELEMENT&&(t.hasAttribute("contenteditable")||!t.isReadOnly())&&n(t)&&t.isVisible())for(i in this.lookups)(e=this.lookups[i](t))&&this.store(t,e);return this.relations}},e.prototype={locate:function(){function t(t,e){var i=t.element[e===CKEDITOR.LINEUTILS_BEFORE?"getPrevious":"getNext"]();return i&&n(i)?(t.siblingRect=i.getClientRect(),e==CKEDITOR.LINEUTILS_BEFORE?(t.siblingRect.bottom+t.elementRect.top)/2:(t.elementRect.bottom+t.siblingRect.top)/2):e==CKEDITOR.LINEUTILS_BEFORE?t.elementRect.top:t.elementRect.bottom}return function(e){var i;this.locations={};for(var n in e)i=e[n],i.elementRect=i.element.getClientRect(),i.type&CKEDITOR.LINEUTILS_BEFORE&&this.store(n,CKEDITOR.LINEUTILS_BEFORE,t(i,CKEDITOR.LINEUTILS_BEFORE)),i.type&CKEDITOR.LINEUTILS_AFTER&&this.store(n,CKEDITOR.LINEUTILS_AFTER,t(i,CKEDITOR.LINEUTILS_AFTER)),i.type&CKEDITOR.LINEUTILS_INSIDE&&this.store(n,CKEDITOR.LINEUTILS_INSIDE,(i.elementRect.top+i.elementRect.bottom)/2);return this.locations}}(),sort:function(){var t,e,i,n;return function(o,a){t=this.locations,e=[];for(var r in t)for(var s in t[r])if(i=Math.abs(o-t[r][s]),e.length){for(n=0;n<e.length;n++)if(i<e[n].dist){e.splice(n,0,{uid:+r,type:s,dist:i});break}n==e.length&&e.push({uid:+r,type:s,dist:i})}else e.push({uid:+r,type:s,dist:i});return void 0!==a?e.slice(0,a):e}}(),store:function(t,e,i){this.locations[t]||(this.locations[t]={}),this.locations[t][e]=i}};var o={display:"block",width:"0px",height:"0px","border-color":"transparent","border-style":"solid",position:"absolute",top:"-6px"},a={height:"0px","border-top":"1px dashed red",position:"absolute","z-index":9999};i.prototype={removeAll:function(){for(var t in this.hidden)this.hidden[t].remove(),delete this.hidden[t];for(t in this.visible)this.visible[t].remove(),delete this.visible[t]},hideLine:function(t){var e=t.getUniqueId();t.hide(),this.hidden[e]=t,delete this.visible[e]},showLine:function(t){var e=t.getUniqueId();t.show(),this.visible[e]=t,delete this.hidden[e]},hideVisible:function(){for(var t in this.visible)this.hideLine(this.visible[t])},placeLine:function(t,e){var i,n,o;if(i=this.getStyle(t.uid,t.type)){for(o in this.visible)if(this.visible[o].getCustomData("hash")!==this.hash){n=this.visible[o];break}if(!n)for(o in this.hidden)if(this.hidden[o].getCustomData("hash")!==this.hash){this.showLine(n=this.hidden[o]);break}n||this.showLine(n=this.addLine()),n.setCustomData("hash",this.hash),this.visible[n.getUniqueId()]=n,n.setStyles(i),e&&e(n)}},getStyle:function(t,e){var i=this.relations[t],n=this.locations[t][e],o={};if(o.width=i.siblingRect?Math.max(i.siblingRect.width,i.elementRect.width):i.elementRect.width,o.top=this.inline?n+this.winTopScroll.y-this.rect.relativeY:this.rect.top+this.winTopScroll.y+n,o.top-this.winTopScroll.y<this.rect.top||o.top-this.winTopScroll.y>this.rect.bottom)return!1;this.inline?o.left=i.elementRect.left-this.rect.relativeX:(0<i.elementRect.left?o.left=this.rect.left+i.elementRect.left:(o.width+=i.elementRect.left,o.left=this.rect.left),0<(i=o.left+o.width-(this.rect.left+this.winPane.width))&&(o.width-=i)),o.left+=this.winTopScroll.x;for(var a in o)o[a]=CKEDITOR.tools.cssLength(o[a]);return o},addLine:function(){var t=CKEDITOR.dom.element.createFromHtml(this.lineTpl);return t.appendTo(this.container),t},prepare:function(t,e){this.relations=t,this.locations=e,this.hash=Math.random()},cleanup:function(){var t,e;for(e in this.visible)t=this.visible[e],t.getCustomData("hash")!==this.hash&&this.hideLine(t)},queryViewport:function(){this.winPane=this.win.getViewPaneSize(),this.winTopScroll=this.winTop.getScrollPosition(),this.winTopPane=this.winTop.getViewPaneSize(),this.rect=this.getClientRect(this.inline?this.editable:this.frame)},getClientRect:function(t){t=t.getClientRect();var e=this.container.getDocumentPosition(),i=this.container.getComputedStyle("position");return t.relativeX=t.relativeY=0,"static"!=i&&(t.relativeY=e.y,t.relativeX=e.x,t.top-=t.relativeY,t.bottom-=t.relativeY,t.left-=t.relativeX,t.right-=t.relativeX),t}};var r={left:1,right:1,center:1},s={absolute:1,fixed:1};CKEDITOR.plugins.lineutils={finder:t,locator:e,liner:i}}(),function(){function t(t){return t.getName&&!t.hasAttribute("data-cke-temp")}CKEDITOR.plugins.add("widgetselection",{init:function(t){if(CKEDITOR.env.webkit){var e=CKEDITOR.plugins.widgetselection;t.on("contentDom",function(t){t=t.editor;var i=t.document,n=t.editable();n.attachListener(i,"keydown",function(t){var i=t.data.$;65==t.data.getKey()&&(CKEDITOR.env.mac&&i.metaKey||!CKEDITOR.env.mac&&i.ctrlKey)&&CKEDITOR.tools.setTimeout(function(){e.addFillers(n)||e.removeFillers(n)},0)},null,null,-1),t.on("selectionCheck",function(t){e.removeFillers(t.editor.editable())}),t.on("paste",function(t){t.data.dataValue=e.cleanPasteData(t.data.dataValue)}),"selectall"in t.plugins&&e.addSelectAllIntegration(t)})}}}),CKEDITOR.plugins.widgetselection={startFiller:null,endFiller:null,fillerAttribute:"data-cke-filler-webkit",fillerContent:"&nbsp;",fillerTagName:"div",addFillers:function(e){var i=e.editor;if(!this.isWholeContentSelected(e)&&0<e.getChildCount()){var n=e.getFirst(t),o=e.getLast(t);if(n&&n.type==CKEDITOR.NODE_ELEMENT&&!n.isEditable()&&(this.startFiller=this.createFiller(),e.append(this.startFiller,1)),o&&o.type==CKEDITOR.NODE_ELEMENT&&!o.isEditable()&&(this.endFiller=this.createFiller(!0),e.append(this.endFiller,0)),this.hasFiller(e))return i=i.createRange(),i.selectNodeContents(e),i.select(),!0}return!1},removeFillers:function(t){if(this.hasFiller(t)&&!this.isWholeContentSelected(t)){var e=t.findOne(this.fillerTagName+"["+this.fillerAttribute+"=start]"),i=t.findOne(this.fillerTagName+"["+this.fillerAttribute+"=end]");this.startFiller&&e&&this.startFiller.equals(e)?this.removeFiller(this.startFiller,t):this.startFiller=e,this.endFiller&&i&&this.endFiller.equals(i)?this.removeFiller(this.endFiller,t):this.endFiller=i}},cleanPasteData:function(t){return t&&t.length&&(t=t.replace(this.createFillerRegex(),"").replace(this.createFillerRegex(!0),"")),t},isWholeContentSelected:function(t){var e=t.editor.getSelection().getRanges()[0];return!(!e||e&&e.collapsed)&&(e=e.clone(),e.enlarge(CKEDITOR.ENLARGE_ELEMENT),!!(e&&t&&e.startContainer&&e.endContainer&&0===e.startOffset&&e.endOffset===t.getChildCount()&&e.startContainer.equals(t)&&e.endContainer.equals(t)))},hasFiller:function(t){return 0<t.find(this.fillerTagName+"["+this.fillerAttribute+"]").count()},createFiller:function(t){var e=new CKEDITOR.dom.element(this.fillerTagName);return e.setHtml(this.fillerContent),e.setAttribute(this.fillerAttribute,t?"end":"start"),e.setAttribute("data-cke-temp",1),e.setStyles({display:"block",width:0,height:0,padding:0,border:0,margin:0,position:"absolute",top:0,left:"-9999px",opacity:0,overflow:"hidden"}),e},removeFiller:function(t,e){if(t){var i,n,o=e.editor,a=e.editor.getSelection().getRanges()[0].startPath(),r=o.createRange();a.contains(t)&&(i=t.getHtml(),n=!0),a="start"==t.getAttribute(this.fillerAttribute),t.remove(),i&&0<i.length&&i!=this.fillerContent?(e.insertHtmlIntoRange(i,o.getSelection().getRanges()[0]),r.setStartAt(e.getChild(e.getChildCount()-1),CKEDITOR.POSITION_BEFORE_END),o.getSelection().selectRanges([r])):n&&(a?r.setStartAt(e.getFirst().getNext(),CKEDITOR.POSITION_AFTER_START):r.setEndAt(e.getLast().getPrevious(),CKEDITOR.POSITION_BEFORE_END),e.editor.getSelection().selectRanges([r]))}},createFillerRegex:function(t){var e=this.createFiller(t).getOuterHtml().replace(/style="[^"]*"/gi,'style="[^"]*"').replace(/>[^<]*</gi,">[^<]*<");return new RegExp((t?"":"^")+e+(t?"$":""))},addSelectAllIntegration:function(t){var e=this;t.editable().attachListener(t,"beforeCommandExec",function(i){var n=t.editable();"selectAll"==i.data.name&&n&&e.addFillers(n)},null,null,9999)}}}(),function(){function t(t){this.editor=t,this.registered={},this.instances={},this.selected=[],this.widgetHoldingFocusedEditable=this.focused=null,this._={nextId:0,upcasts:[],upcastCallbacks:[],filters:{}},O(this),I(this),this.on("checkWidgets",r),this.editor.on("contentDomInvalidated",this.checkWidgets,this),D(this),E(this),C(this),T(this),y(this)}function e(t,i,n,o,a){var r=t.editor;CKEDITOR.tools.extend(this,o,{editor:r,id:i,inline:"span"==n.getParent().getName(),element:n,data:CKEDITOR.tools.extend({},"function"==typeof o.defaults?o.defaults():o.defaults),dataReady:!1,inited:!1,ready:!1,edit:e.prototype.edit,focusedEditable:null,definition:o,repository:t,draggable:!1!==o.draggable,_:{downcastFn:o.downcast&&"string"==typeof o.downcast?o.downcasts[o.downcast]:o.downcast}},!0),t.fire("instanceCreated",this),$(this,o),this.init&&this.init(),this.inited=!0,(t=this.element.data("cke-widget-data"))&&this.setData(JSON.parse(decodeURIComponent(t))),a&&this.setData(a),this.data.classes||this.setData("classes",this.getClasses()),this.dataReady=!0,H(this),this.fire("data",this.data),this.isInited()&&r.editable().contains(this.wrapper)&&(this.ready=!0,this.fire("ready"))}function i(t,e,i){CKEDITOR.dom.element.call(this,e.$),this.editor=t,this._={},e=this.filter=i.filter,CKEDITOR.dtd[this.getName()].p?(this.enterMode=e?e.getAllowedEnterMode(t.enterMode):t.enterMode,this.shiftEnterMode=e?e.getAllowedEnterMode(t.shiftEnterMode,!0):t.shiftEnterMode):this.enterMode=this.shiftEnterMode=CKEDITOR.ENTER_BR}function n(t,e){t.addCommand(e.name,{exec:function(t,i){function n(){t.widgets.finalizeCreation(s)}var o=t.widgets.focused;if(o&&o.name==e.name)o.edit();else if(e.insert)e.insert();else if(e.template){var a,o="function"==typeof e.defaults?e.defaults():e.defaults,o=CKEDITOR.dom.element.createFromHtml(e.template.output(o)),r=t.widgets.wrapElement(o,e.name),s=new CKEDITOR.dom.documentFragment(r.getDocument());s.append(r),(a=t.widgets.initOn(o,e,i&&i.startupData))?(o=a.once("edit",function(e){e.data.dialog?a.once("dialog",function(e){e=e.data;var i,o;i=e.once("ok",n,null,null,20),o=e.once("cancel",function(e){e.data&&!1===e.data.hide||t.widgets.destroy(a,!0)}),e.once("hide",function(){i.removeListener(),o.removeListener()})}):n()},null,null,999),a.edit(),o.removeListener()):n()}},allowedContent:e.allowedContent,requiredContent:e.requiredContent,contentForms:e.contentForms,contentTransformations:e.contentTransformations})}function o(t,e){function i(t,i){var n,o,a=e.upcast.split(",");for(o=0;o<a.length;o++)if((n=a[o])===t.name)return e.upcasts[n].call(this,t,i);return!1}function n(e,i,n){var o=CKEDITOR.tools.getIndex(t._.upcasts,function(t){return t[2]>n});0>o&&(o=t._.upcasts.length),t._.upcasts.splice(o,0,[CKEDITOR.tools.bind(e,i),i.name,n])}var o=e.upcast,a=e.upcastPriority||10;o&&("string"==typeof o?n(i,e,a):n(o,e,a))}function a(t,e){if(t.focused=null,e.isInited()){var i=e.editor.checkDirty();t.fire("widgetBlurred",{widget:e}),e.setFocused(!1),!i&&e.editor.resetDirty()}}function r(t){if(t=t.data,"wysiwyg"==this.editor.mode){var i,n,o,a,r=this.editor.editable(),s=this.instances;if(r){for(i in s)s[i].isReady()&&!r.contains(s[i].wrapper)&&this.destroy(s[i],!0);if(t&&t.initOnlyNew)s=this.initOnAll();else{var l=r.find(".cke_widget_wrapper"),s=[];for(i=0,n=l.count();i<n;i++){if(o=l.getItem(i),a=!this.getByElement(o,!0)){t:{a=m;for(var d=o;d=d.getParent();)if(a(d)){a=!0;break t}a=!1}a=!a}a&&r.contains(o)&&(o.addClass("cke_widget_new"),s.push(this.initOn(o.getFirst(e.isDomWidgetElement))))}}t&&t.focusInited&&1==s.length&&s[0].focus()}}}function s(t){if("undefined"!=typeof t.attributes&&t.attributes["data-widget"]){var e=l(t),i=d(t),n=!1;e&&e.value&&e.value.match(/^\s/g)&&(e.parent.attributes["data-cke-white-space-first"]=1,e.value=e.value.replace(/^\s/g,"&nbsp;"),n=!0),i&&i.value&&i.value.match(/\s$/g)&&(i.parent.attributes["data-cke-white-space-last"]=1,i.value=i.value.replace(/\s$/g,"&nbsp;"),n=!0),n&&(t.attributes["data-cke-widget-white-space"]=1)}}function l(t){return t.find(function(t){return 3===t.type},!0).shift()}function d(t){return t.find(function(t){return 3===t.type},!0).pop()}function c(t,e,i){if(!i.allowedContent&&!i.disallowedContent)return null;var n=this._.filters[t];return n||(this._.filters[t]=n={}),t=n[e],t||(t=i.allowedContent?new CKEDITOR.filter(i.allowedContent):this.editor.filter.clone(),n[e]=t,i.disallowedContent&&t.disallow(i.disallowedContent)),t}function h(t){var i=[],n=t._.upcasts,o=t._.upcastCallbacks;return{toBeWrapped:i,iterator:function(t){var a,r,s,l,d;if("data-cke-widget-wrapper"in t.attributes)return(t=t.getFirst(e.isParserWidgetElement))&&i.push([t]),!1;if("data-widget"in t.attributes)return i.push([t]),!1;if(d=n.length){if(t.attributes["data-cke-widget-upcasted"])return!1;for(l=0,a=o.length;l<a;++l)if(!1===o[l](t))return;for(l=0;l<d;++l)if(a=n[l],s={},r=a[0](t,s))return r instanceof CKEDITOR.htmlParser.element&&(t=r),t.attributes["data-cke-widget-data"]=encodeURIComponent(JSON.stringify(s)),t.attributes["data-cke-widget-upcasted"]=1,i.push([t,a[1]]),!1}}}}function u(t,e){return{tabindex:-1,contenteditable:"false","data-cke-widget-wrapper":1,"data-cke-filter":"off","class":"cke_widget_wrapper cke_widget_new cke_widget_"+(t?"inline":"block")+(e?" cke_widget_"+e:"")}}function f(t,e,i){if(t.type==CKEDITOR.NODE_ELEMENT){var n=CKEDITOR.dtd[t.name];if(n&&!n[i.name]){var n=t.split(e),o=t.parent;return e=n.getIndex(),t.children.length||(--e,t.remove()),n.children.length||n.remove(),f(o,e,i)}}t.add(i,e)}function p(t,e){return"boolean"==typeof t.inline?t.inline:!!CKEDITOR.dtd.$inline[e]}function m(t){return t.hasAttribute("data-cke-temp")}function g(t,e,i,n){var o=t.editor;o.fire("lockSnapshot"),i?(n=i.data("cke-widget-editable"),n=e.editables[n],t.widgetHoldingFocusedEditable=e,e.focusedEditable=n,i.addClass("cke_widget_editable_focused"),n.filter&&o.setActiveFilter(n.filter),o.setActiveEnterMode(n.enterMode,n.shiftEnterMode)):(n||e.focusedEditable.removeClass("cke_widget_editable_focused"),e.focusedEditable=null,t.widgetHoldingFocusedEditable=null,o.setActiveFilter(null),o.setActiveEnterMode(null,null)),o.fire("unlockSnapshot")}function v(t){t.contextMenu&&t.contextMenu.addListener(function(e){if(e=t.widgets.getByElement(e,!0))return e.fire("contextMenu",{})})}function b(t,e){return CKEDITOR.tools.trim(e)}function T(t){var i=t.editor,n=CKEDITOR.plugins.lineutils;i.on("dragstart",function(n){var o=n.data.target;e.isDomDragHandler(o)&&(o=t.getByElement(o),n.data.dataTransfer.setData("cke/widget-id",o.id),i.focus(),o.focus())}),i.on("drop",function(e){var n=e.data.dataTransfer,o=n.getData("cke/widget-id"),a=n.getTransferType(i),n=i.createRange();""!==o&&a===CKEDITOR.DATA_TRANSFER_CROSS_EDITORS?e.cancel():""!==o&&a==CKEDITOR.DATA_TRANSFER_INTERNAL&&(o=t.instances[o])&&(n.setStartBefore(o.wrapper),n.setEndAfter(o.wrapper),e.data.dragRange=n,delete CKEDITOR.plugins.clipboard.dragStartContainerChildCount,delete CKEDITOR.plugins.clipboard.dragEndContainerChildCount,e.data.dataTransfer.setData("text/html",i.editable().getHtmlFromRange(n).getHtml()),i.widgets.destroy(o,!0))}),i.on("contentDom",function(){var o=i.editable();CKEDITOR.tools.extend(t,{finder:new n.finder(i,{lookups:{"default":function(i){if(!i.is(CKEDITOR.dtd.$listItem)&&i.is(CKEDITOR.dtd.$block)&&!e.isDomNestedEditable(i)&&!t._.draggedWidget.wrapper.contains(i)){var n=e.getNestedEditable(o,i);if(n){if(i=t._.draggedWidget,t.getByElement(n)==i)return;if(n=CKEDITOR.filter.instances[n.data("cke-filter")],i=i.requiredContent,n&&i&&!n.check(i))return}return CKEDITOR.LINEUTILS_BEFORE|CKEDITOR.LINEUTILS_AFTER}}}}),locator:new n.locator(i),liner:new n.liner(i,{lineStyle:{cursor:"move !important","border-top-color":"#666"},tipLeftStyle:{"border-left-color":"#666"},tipRightStyle:{"border-right-color":"#666"}})},!0)})}function E(t){var i=t.editor;i.on("contentDom",function(){var n,o,a=i.editable(),r=a.isInline()?a:i.document;a.attachListener(r,"mousedown",function(a){var r=a.data.getTarget();n=r instanceof CKEDITOR.dom.element?t.getByElement(r):null,o=0,n&&(n.inline&&r.type==CKEDITOR.NODE_ELEMENT&&r.hasAttribute("data-cke-widget-drag-handler")?(o=1,t.focused!=n&&i.getSelection().removeAllRanges()):e.getNestedEditable(n.wrapper,r)?n=null:(a.data.preventDefault(),CKEDITOR.env.ie||n.focus()))}),a.attachListener(r,"mouseup",function(){o&&n&&n.wrapper&&(o=0,n.focus())}),CKEDITOR.env.ie&&a.attachListener(r,"mouseup",function(){setTimeout(function(){n&&n.wrapper&&a.contains(n.wrapper)&&(n.focus(),n=null)})})}),i.on("doubleclick",function(i){var n=t.getByElement(i.data.element);if(n&&!e.getNestedEditable(n.wrapper,i.data.element))return n.fire("doubleclick",{element:i.data.element})},null,null,1)}function C(t){t.editor.on("key",function(e){var i,n=t.focused,o=t.widgetHoldingFocusedEditable;return n?i=n.fire("key",{keyCode:e.data.keyCode}):o&&(n=e.data.keyCode,e=o.focusedEditable,n==CKEDITOR.CTRL+65?(n=e.getBogus(),o=o.editor.createRange(),o.selectNodeContents(e),n&&o.setEndAt(n,CKEDITOR.POSITION_BEFORE_START),o.select(),i=!1):8==n||46==n?(i=o.editor.getSelection().getRanges(),o=i[0],i=!(1==i.length&&o.collapsed&&o.checkBoundaryOfElement(e,CKEDITOR[8==n?"START":"END"]))):i=void 0),i},null,null,1)}function y(t){function e(e){t.focused&&k(t.focused,"cut"==e.name)}var i=t.editor;i.on("contentDom",function(){var t=i.editable();t.attachListener(t,"copy",e),t.attachListener(t,"cut",e)})}function D(t){var i=t.editor;i.on("selectionCheck",function(){t.fire("checkSelection")}),t.on("checkSelection",t.checkSelection,t),i.on("selectionChange",function(n){var o=(n=e.getNestedEditable(i.editable(),n.data.selection.getStartElement()))&&t.getByElement(n),a=t.widgetHoldingFocusedEditable;a?a===o&&a.focusedEditable.equals(n)||(g(t,a,null),o&&n&&g(t,o,n)):o&&n&&g(t,o,n)}),i.on("dataReady",function(){R(t).commit()}),i.on("blur",function(){var e;(e=t.focused)&&a(t,e),(e=t.widgetHoldingFocusedEditable)&&g(t,e,null)})}function I(t){var i=t.editor,n={};i.on("toDataFormat",function(i){var o=CKEDITOR.tools.getNextNumber(),a=[];i.data.downcastingSessionId=o,n[o]=a,i.data.dataValue.forEach(function(i){var n,o=i.attributes;if("data-cke-widget-white-space"in o){n=l(i);var r=d(i);n.parent.attributes["data-cke-white-space-first"]&&(n.value=n.value.replace(/^&nbsp;/g," ")),r.parent.attributes["data-cke-white-space-last"]&&(r.value=r.value.replace(/&nbsp;$/g," "))}if("data-cke-widget-id"in o)(o=t.instances[o["data-cke-widget-id"]])&&(n=i.getFirst(e.isParserWidgetElement),a.push({wrapper:i,element:n,widget:o,editables:{}}),"1"!=n.attributes["data-cke-widget-keep-attr"]&&delete n.attributes["data-widget"]);else if("data-cke-widget-editable"in o)return a[a.length-1].editables[o["data-cke-widget-editable"]]=i,!1},CKEDITOR.NODE_ELEMENT,!0)},null,null,8),i.on("toDataFormat",function(t){if(t.data.downcastingSessionId){t=n[t.data.downcastingSessionId];for(var e,i,o,a,r,s;e=t.shift();){i=e.widget,o=e.element,a=i._.downcastFn&&i._.downcastFn.call(i,o);for(s in e.editables)r=e.editables[s],delete r.attributes.contenteditable,r.setHtml(i.editables[s].getData());a||(a=o),e.wrapper.replaceWith(a)}}},null,null,13),i.on("contentDomUnload",function(){t.destroyAll(!0)})}function O(t){var i,n,o=t.editor;o.on("toHtml",function(n){var o,a=h(t);for(n.data.dataValue.forEach(a.iterator,CKEDITOR.NODE_ELEMENT,!0);o=a.toBeWrapped.pop();){var r=o[0],s=r.parent;s.type==CKEDITOR.NODE_ELEMENT&&s.attributes["data-cke-widget-wrapper"]&&s.replaceWith(r),t.wrapElement(o[0],o[1])}i=n.data.protectedWhitespaces?3==n.data.dataValue.children.length&&e.isParserWidgetWrapper(n.data.dataValue.children[1]):1==n.data.dataValue.children.length&&e.isParserWidgetWrapper(n.data.dataValue.children[0])},null,null,8),o.on("dataReady",function(){if(n)for(var i,a,r=o.editable().find(".cke_widget_wrapper"),s=0,l=r.count();s<l;++s)i=r.getItem(s),a=i.getFirst(e.isDomWidgetElement),a.type==CKEDITOR.NODE_ELEMENT&&a.data("widget")?(a.replace(i),t.wrapElement(a)):i.remove();n=0,t.destroyAll(!0),t.initOnAll()}),o.on("loadSnapshot",function(e){/data-cke-widget/.test(e.data)&&(n=1),t.destroyAll(!0)},null,null,9),o.on("paste",function(t){t=t.data,t.dataValue=t.dataValue.replace(q,b),t.range&&(t=e.getNestedEditable(o.editable(),t.range.startContainer))&&(t=CKEDITOR.filter.instances[t.data("cke-filter")])&&o.setActiveFilter(t)}),o.on("afterInsertHtml",function(e){e.data.intoRange?t.checkWidgets({initOnlyNew:!0}):(o.fire("lockSnapshot"),t.checkWidgets({initOnlyNew:!0,focusInited:i}),o.fire("unlockSnapshot"))})}function R(t){var e=t.selected,i=[],n=e.slice(0),o=null;return{select:function(t){return 0>CKEDITOR.tools.indexOf(e,t)&&i.push(t),t=CKEDITOR.tools.indexOf(n,t),0<=t&&n.splice(t,1),this},focus:function(t){return o=t,this},commit:function(){var r,s,l=t.focused!==o;for(t.editor.fire("lockSnapshot"),l&&(r=t.focused)&&a(t,r);r=n.pop();)e.splice(CKEDITOR.tools.indexOf(e,r),1),r.isInited()&&(s=r.editor.checkDirty(),r.setSelected(!1),!s&&r.editor.resetDirty());for(l&&o&&(s=t.editor.checkDirty(),t.focused=o,t.fire("widgetFocused",{widget:o}),o.setFocused(!0),!s&&t.editor.resetDirty());r=i.pop();)e.push(r),r.setSelected(!0);t.editor.fire("unlockSnapshot")}}}function x(t,e,i){var n=0;e=_(e);var o,a=t.data.classes||{};if(e){for(a=CKEDITOR.tools.clone(a);o=e.pop();)i?a[o]||(n=a[o]=1):a[o]&&(delete a[o],n=1);n&&t.setData("classes",a)}}function w(t){t.cancel()}function k(t,e){var i=t.editor,n=i.document,o=CKEDITOR.env.edge&&16<=CKEDITOR.env.version;if(!n.getById("cke_copybin")){var a=!i.blockless&&!CKEDITOR.env.ie||o?"div":"span",o=n.createElement(a),r=n.createElement(a),a=CKEDITOR.env.ie&&9>CKEDITOR.env.version;r.setAttributes({id:"cke_copybin","data-cke-temp":"1"}),o.setStyles({position:"absolute",width:"1px",height:"1px",overflow:"hidden"}),o.setStyle("ltr"==i.config.contentsLangDirection?"left":"right","-5000px");var s=i.createRange();s.setStartBefore(t.wrapper),s.setEndAfter(t.wrapper),o.setHtml('<span data-cke-copybin-start="1">\u200b</span>'+i.editable().getHtmlFromRange(s).getHtml()+'<span data-cke-copybin-end="1">\u200b</span>'),i.fire("saveSnapshot"),i.fire("lockSnapshot"),r.append(o),i.editable().append(r);var l=i.on("selectionChange",w,null,null,0),d=t.repository.on("checkSelection",w,null,null,0);if(a)var c=n.getDocumentElement().$,h=c.scrollTop;s=i.createRange(),s.selectNodeContents(o),s.select(),a&&(c.scrollTop=h),setTimeout(function(){e||t.focus(),r.remove(),l.removeListener(),d.removeListener(),i.fire("unlockSnapshot"),e&&(t.repository.del(t),i.fire("saveSnapshot"))},100)}}function _(t){return(t=(t=t.getDefinition().attributes)&&t["class"])?t.split(/\s+/):null}function S(){var t=CKEDITOR.document.getActive(),e=this.editor,i=e.editable();(i.isInline()?i:e.document.getWindow().getFrame()).equals(t)&&e.focusManager.focus(i)}function N(){CKEDITOR.env.gecko&&this.editor.unlockSelection(),CKEDITOR.env.webkit||(this.editor.forceNextSelectionCheck(),this.editor.selectionChange(1))}function K(t){var e=null;t.on("data",function(){var t,i=this.data.classes;if(e!=i){for(t in e)i&&i[t]||this.removeClass(t);for(t in i)this.addClass(t);e=i}})}function A(t){t.on("data",function(){if(t.wrapper){var e=this.getLabel?this.getLabel():this.editor.lang.widget.label.replace(/%1/,this.pathName||this.element.getName());t.wrapper.setAttribute("role","region"),t.wrapper.setAttribute("aria-label",e)}},null,null,9999)}function M(t){if(t.draggable){var i,n=t.editor,o=t.wrapper.getLast(e.isDomDragHandlerContainer);o?i=o.findOne("img"):(o=new CKEDITOR.dom.element("span",n.document),o.setAttributes({"class":"cke_reset cke_widget_drag_handler_container",style:"background:rgba(220,220,220,0.5);background-image:url("+n.plugins.widget.path+"images/handle.png)"}),i=new CKEDITOR.dom.element("img",n.document),i.setAttributes({"class":"cke_reset cke_widget_drag_handler","data-cke-widget-drag-handler":"1",src:CKEDITOR.tools.transparentImageData,width:15,title:n.lang.widget.move,height:15,role:"presentation"}),t.inline&&i.setAttribute("draggable","true"),o.append(i),t.wrapper.append(o)),t.wrapper.on("dragover",function(t){t.data.preventDefault()}),t.wrapper.on("mouseenter",t.updateDragHandlerPosition,t),setTimeout(function(){t.on("data",t.updateDragHandlerPosition,t)},50),!t.inline&&(i.on("mousedown",L,t),CKEDITOR.env.ie&&9>CKEDITOR.env.version)&&i.on("dragstart",function(t){t.data.preventDefault(!0)}),t.dragHandlerContainer=o}}function L(t){function e(){var e;for(u.reset();e=d.pop();)e.removeListener();var i=c;e=t.sender;var n=this.repository.finder,o=this.repository.liner,a=this.editor,r=this.editor.editable();CKEDITOR.tools.isEmpty(o.visible)||(i=n.getRange(i[0]),this.focus(),a.fire("drop",{dropRange:i,target:i.startContainer})),r.removeClass("cke_widget_dragging"),o.hideVisible(),a.fire("dragend",{target:e})}if(CKEDITOR.tools.getMouseButton(t)===CKEDITOR.MOUSE_BUTTON_LEFT){var i,n,o=this.repository.finder,a=this.repository.locator,r=this.repository.liner,s=this.editor,l=s.editable(),d=[],c=[];this.repository._.draggedWidget=this;var h=o.greedySearch(),u=CKEDITOR.tools.eventsBuffer(50,function(){i=a.locate(h),c=a.sort(n,1),c.length&&(r.prepare(h,i),r.placeLine(c[0]),r.cleanup())});l.addClass("cke_widget_dragging"),d.push(l.on("mousemove",function(t){n=t.data.$.clientY,u.input()})),s.fire("dragstart",{target:t.sender}),d.push(s.document.once("mouseup",e,this)),l.isInline()||d.push(CKEDITOR.document.once("mouseup",e,this))}}function F(t){var e,i,n=t.editables;if(t.editables={},t.editables)for(e in n)i=n[e],t.initEditable(e,"string"==typeof i?{selector:i}:i)}function P(t){if(t.mask){var e=t.wrapper.findOne(".cke_widget_mask");e||(e=new CKEDITOR.dom.element("img",t.editor.document),e.setAttributes({
src:CKEDITOR.tools.transparentImageData,"class":"cke_reset cke_widget_mask"}),t.wrapper.append(e)),t.mask=e}}function B(t){if(t.parts){var e,i,n={};for(i in t.parts)e=t.wrapper.findOne(t.parts[i]),n[i]=e;t.parts=n}}function $(t,i){z(t),B(t),F(t),P(t),M(t),K(t),A(t),CKEDITOR.env.ie&&9>CKEDITOR.env.version&&t.wrapper.on("dragstart",function(i){var n=i.data.getTarget();e.getNestedEditable(t,n)||t.inline&&e.isDomDragHandler(n)||i.data.preventDefault()}),t.wrapper.removeClass("cke_widget_new"),t.element.addClass("cke_widget_element"),t.on("key",function(e){if(13==(e=e.data.keyCode))t.edit();else{if(e==CKEDITOR.CTRL+67||e==CKEDITOR.CTRL+88)return void k(t,e==CKEDITOR.CTRL+88);if(e in j||CKEDITOR.CTRL&e||CKEDITOR.ALT&e)return}return!1},null,null,999),t.on("doubleclick",function(e){t.edit()&&e.cancel()}),i.data&&t.on("data",i.data),i.edit&&t.on("edit",i.edit)}function z(t){(t.wrapper=t.element.getParent()).setAttribute("data-cke-widget-id",t.id)}function H(t){t.element.data("cke-widget-data",encodeURIComponent(JSON.stringify(t.data)))}function W(){function t(){}function i(t,e,i){return!(!i||!this.checkElement(t))&&((t=i.widgets.getByElement(t,!0))&&t.checkStyleActive(this))}var n={};CKEDITOR.style.addCustomHandler({type:"widget",setup:function(t){if(this.widget=t.widget,this.group="string"==typeof t.group?[t.group]:t.group){t=this.widget;var e;n[t]||(n[t]={});for(var i=0,o=this.group.length;i<o;i++)e=this.group[i],n[t][e]||(n[t][e]=[]),n[t][e].push(this)}},apply:function(t){var e;t instanceof CKEDITOR.editor&&this.checkApplicable(t.elementPath(),t)&&(e=t.widgets.focused,this.group&&this.removeStylesFromSameGroup(t),e.applyStyle(this))},remove:function(t){t instanceof CKEDITOR.editor&&this.checkApplicable(t.elementPath(),t)&&t.widgets.focused.removeStyle(this)},removeStylesFromSameGroup:function(t){var e,i,o=!1;if(!(t instanceof CKEDITOR.editor))return!1;if(i=t.elementPath(),this.checkApplicable(i,t))for(var a=0,r=this.group.length;a<r;a++){e=n[this.widget][this.group[a]];for(var s=0;s<e.length;s++)e[s]!==this&&e[s].checkActive(i,t)&&(t.widgets.focused.removeStyle(e[s]),o=!0)}return o},checkActive:function(t,e){return this.checkElementMatch(t.lastElement,0,e)},checkApplicable:function(t,e){return e instanceof CKEDITOR.editor&&this.checkElement(t.lastElement)},checkElementMatch:i,checkElementRemovable:i,checkElement:function(t){return!!e.isDomWidgetWrapper(t)&&((t=t.getFirst(e.isDomWidgetElement))&&t.data("widget")==this.widget)},buildPreview:function(t){return t||this._.definition.name},toAllowedContentRules:function(t){if(!t)return null;t=t.widgets.registered[this.widget];var e,i={};return t?t.styleableElements?(e=this.getClassesArray())?(i[t.styleableElements]={classes:e,propertiesOnly:!0},i):null:t.styleToAllowedContentRules?t.styleToAllowedContentRules(this):null:null},getClassesArray:function(){var t=this._.definition.attributes&&this._.definition.attributes["class"];return t?CKEDITOR.tools.trim(t).split(/\s+/):null},applyToRange:t,removeFromRange:t,applyToObject:t})}CKEDITOR.plugins.add("widget",{requires:"lineutils,clipboard,widgetselection",onLoad:function(){void 0!==CKEDITOR.document.$.querySelectorAll&&(CKEDITOR.addCss(".cke_widget_wrapper{position:relative;outline:none}.cke_widget_inline{display:inline-block}.cke_widget_wrapper:hover>.cke_widget_element{outline:2px solid yellow;cursor:default}.cke_widget_wrapper:hover .cke_widget_editable{outline:2px solid yellow}.cke_widget_wrapper.cke_widget_focused>.cke_widget_element,.cke_widget_wrapper .cke_widget_editable.cke_widget_editable_focused{outline:2px solid #ace}.cke_widget_editable{cursor:text}.cke_widget_drag_handler_container{position:absolute;width:15px;height:0;display:none;opacity:0.75;transition:height 0s 0.2s;line-height:0}.cke_widget_wrapper:hover>.cke_widget_drag_handler_container{height:15px;transition:none}.cke_widget_drag_handler_container:hover{opacity:1}img.cke_widget_drag_handler{cursor:move;width:15px;height:15px;display:inline-block}.cke_widget_mask{position:absolute;top:0;left:0;width:100%;height:100%;display:block}.cke_editable.cke_widget_dragging, .cke_editable.cke_widget_dragging *{cursor:move !important}"),W())},beforeInit:function(e){void 0!==CKEDITOR.document.$.querySelectorAll&&(e.widgets=new t(e))},afterInit:function(t){if(void 0!==CKEDITOR.document.$.querySelectorAll){var e,i,n,o=t.widgets.registered;for(i in o)e=o[i],(n=e.button)&&t.ui.addButton&&t.ui.addButton(CKEDITOR.tools.capitalize(e.name,!0),{label:n,command:e.name,toolbar:"insert,10"});v(t)}}}),t.prototype={MIN_SELECTION_CHECK_INTERVAL:500,add:function(t,e){return e=CKEDITOR.tools.prototypedCopy(e),e.name=t,e._=e._||{},this.editor.fire("widgetDefinition",e),e.template&&(e.template=new CKEDITOR.template(e.template)),n(this.editor,e),o(this,e),this.registered[t]=e},addUpcastCallback:function(t){this._.upcastCallbacks.push(t)},checkSelection:function(){var t,i=this.editor.getSelection(),n=i.getSelectedElement(),o=R(this);if(n&&(t=this.getByElement(n,!0)))return o.focus(t).select(t).commit();if(!(i=i.getRanges()[0])||i.collapsed)return o.commit();for(i=new CKEDITOR.dom.walker(i),i.evaluator=e.isDomWidgetWrapper;n=i.next();)o.select(this.getByElement(n));o.commit()},checkWidgets:function(t){this.fire("checkWidgets",CKEDITOR.tools.copy(t||{}))},del:function(t){if(this.focused===t){var e,i=t.editor,n=i.createRange();(e=n.moveToClosestEditablePosition(t.wrapper,!0))||(e=n.moveToClosestEditablePosition(t.wrapper,!1)),e&&i.getSelection().selectRanges([n])}t.wrapper.remove(),this.destroy(t,!0)},destroy:function(t,e){this.widgetHoldingFocusedEditable===t&&g(this,t,null,e),t.destroy(e),delete this.instances[t.id],this.fire("instanceDestroyed",t)},destroyAll:function(t,e){var i,n,o=this.instances;if(e&&!t){n=e.find(".cke_widget_wrapper");for(var o=n.count(),a=0;a<o;++a)(i=this.getByElement(n.getItem(a),!0))&&this.destroy(i)}else for(n in o)i=o[n],this.destroy(i,t)},finalizeCreation:function(t){(t=t.getFirst())&&e.isDomWidgetWrapper(t)&&(this.editor.insertElement(t),t=this.getByElement(t),t.ready=!0,t.fire("ready"),t.focus())},getByElement:function(){function t(t){return t.is(e)&&t.data("cke-widget-id")}var e={div:1,span:1};return function(e,i){if(!e)return null;var n=t(e);if(!i&&!n){var o=this.editor.editable();do{e=e.getParent()}while(e&&!e.equals(o)&&!(n=t(e)))}return this.instances[n]||null}}(),initOn:function(t,i,n){if(i?"string"==typeof i&&(i=this.registered[i]):i=this.registered[t.data("widget")],!i)return null;var o=this.wrapElement(t,i.name);return o?o.hasClass("cke_widget_new")?(t=new e(this,this._.nextId++,t,i,n),t.isInited()?this.instances[t.id]=t:null):this.getByElement(t):null},initOnAll:function(t){t=(t||this.editor.editable()).find(".cke_widget_new");for(var i,n=[],o=t.count();o--;)(i=this.initOn(t.getItem(o).getFirst(e.isDomWidgetElement)))&&n.push(i);return n},onWidget:function(t){var e=Array.prototype.slice.call(arguments);e.shift();for(var i in this.instances){var n=this.instances[i];n.name==t&&n.on.apply(n,e)}this.on("instanceCreated",function(i){i=i.data,i.name==t&&i.on.apply(i,e)})},parseElementClasses:function(t){if(!t)return null;t=CKEDITOR.tools.trim(t).split(/\s+/);for(var e,i={},n=0;e=t.pop();)-1==e.indexOf("cke_")&&(i[e]=n=1);return n?i:null},wrapElement:function(t,e){var i,n,o=null;if(t instanceof CKEDITOR.dom.element){if(e=e||t.data("widget"),!(i=this.registered[e]))return null;if((o=t.getParent())&&o.type==CKEDITOR.NODE_ELEMENT&&o.data("cke-widget-wrapper"))return o;t.hasAttribute("data-cke-widget-keep-attr")||t.data("cke-widget-keep-attr",t.data("widget")?1:0),t.data("widget",e),(n=p(i,t.getName()))&&s(t),o=new CKEDITOR.dom.element(n?"span":"div"),o.setAttributes(u(n,e)),o.data("cke-display-name",i.pathName?i.pathName:t.getName()),t.getParent(!0)&&o.replace(t),t.appendTo(o)}else if(t instanceof CKEDITOR.htmlParser.element){if(e=e||t.attributes["data-widget"],!(i=this.registered[e]))return null;if((o=t.parent)&&o.type==CKEDITOR.NODE_ELEMENT&&o.attributes["data-cke-widget-wrapper"])return o;"data-cke-widget-keep-attr"in t.attributes||(t.attributes["data-cke-widget-keep-attr"]=t.attributes["data-widget"]?1:0),e&&(t.attributes["data-widget"]=e),(n=p(i,t.name))&&s(t),o=new CKEDITOR.htmlParser.element(n?"span":"div",u(n,e)),o.attributes["data-cke-display-name"]=i.pathName?i.pathName:t.name,i=t.parent;var a;i&&(a=t.getIndex(),t.remove()),o.add(t),i&&f(i,a,o)}return o},_tests_createEditableFilter:c},CKEDITOR.event.implementOn(t.prototype),e.prototype={addClass:function(t){this.element.addClass(t),this.wrapper.addClass(e.WRAPPER_CLASS_PREFIX+t)},applyStyle:function(t){x(this,t,1)},checkStyleActive:function(t){t=_(t);var e;if(!t)return!1;for(;e=t.pop();)if(!this.hasClass(e))return!1;return!0},destroy:function(t){if(this.fire("destroy"),this.editables)for(var e in this.editables)this.destroyEditable(e,t);t||("0"==this.element.data("cke-widget-keep-attr")&&this.element.removeAttribute("data-widget"),this.element.removeAttributes(["data-cke-widget-data","data-cke-widget-keep-attr"]),this.element.removeClass("cke_widget_element"),this.element.replace(this.wrapper)),this.wrapper=null},destroyEditable:function(t,e){var i=this.editables[t];i.removeListener("focus",N),i.removeListener("blur",S),this.editor.focusManager.remove(i),e||(this.repository.destroyAll(!1,i),i.removeClass("cke_widget_editable"),i.removeClass("cke_widget_editable_focused"),i.removeAttributes(["contenteditable","data-cke-widget-editable","data-cke-enter-mode"])),delete this.editables[t]},edit:function(){var t={dialog:this.dialog},e=this;return!(!1===this.fire("edit",t)||!t.dialog)&&(this.editor.openDialog(t.dialog,function(t){var i,n;!1!==e.fire("dialog",t)&&(i=t.on("show",function(){t.setupContent(e)}),n=t.on("ok",function(){var i,n=e.on("data",function(t){i=1,t.cancel()},null,null,0);e.editor.fire("saveSnapshot"),t.commitContent(e),n.removeListener(),i&&(e.fire("data",e.data),e.editor.fire("saveSnapshot"))}),t.once("hide",function(){i.removeListener(),n.removeListener()}))}),!0)},getClasses:function(){return this.repository.parseElementClasses(this.element.getAttribute("class"))},hasClass:function(t){return this.element.hasClass(t)},initEditable:function(t,e){var n=this._findOneNotNested(e.selector);return!(!n||!n.is(CKEDITOR.dtd.$editable))&&(n=new i(this.editor,n,{filter:c.call(this.repository,this.name,t,e)}),this.editables[t]=n,n.setAttributes({contenteditable:"true","data-cke-widget-editable":t,"data-cke-enter-mode":n.enterMode}),n.filter&&n.data("cke-filter",n.filter.id),n.addClass("cke_widget_editable"),n.removeClass("cke_widget_editable_focused"),e.pathName&&n.data("cke-display-name",e.pathName),this.editor.focusManager.add(n),n.on("focus",N,this),CKEDITOR.env.ie&&n.on("blur",S,this),n._.initialSetData=!0,n.setData(n.getHtml()),!0)},_findOneNotNested:function(t){t=this.wrapper.find(t);for(var i,n,o=0;o<t.count();o++)if(i=t.getItem(o),n=i.getAscendant(e.isDomWidgetWrapper),this.wrapper.equals(n))return i;return null},isInited:function(){return!(!this.wrapper||!this.inited)},isReady:function(){return this.isInited()&&this.ready},focus:function(){var t=this.editor.getSelection();if(t){var e=this.editor.checkDirty();t.fake(this.wrapper),!e&&this.editor.resetDirty()}this.editor.focus()},removeClass:function(t){this.element.removeClass(t),this.wrapper.removeClass(e.WRAPPER_CLASS_PREFIX+t)},removeStyle:function(t){x(this,t,0)},setData:function(t,e){var i=this.data,n=0;if("string"==typeof t)i[t]!==e&&(i[t]=e,n=1);else{var o=t;for(t in o)i[t]!==o[t]&&(n=1,i[t]=o[t])}return n&&this.dataReady&&(H(this),this.fire("data",i)),this},setFocused:function(t){return this.wrapper[t?"addClass":"removeClass"]("cke_widget_focused"),this.fire(t?"focus":"blur"),this},setSelected:function(t){return this.wrapper[t?"addClass":"removeClass"]("cke_widget_selected"),this.fire(t?"select":"deselect"),this},updateDragHandlerPosition:function(){var t=this.editor,e=this.element.$,i=this._.dragHandlerOffset,e={x:e.offsetLeft,y:e.offsetTop-15};i&&e.x==i.x&&e.y==i.y||(i=t.checkDirty(),t.fire("lockSnapshot"),this.dragHandlerContainer.setStyles({top:e.y+"px",left:e.x+"px",display:"block"}),t.fire("unlockSnapshot"),!i&&t.resetDirty(),this._.dragHandlerOffset=e)}},CKEDITOR.event.implementOn(e.prototype),e.getNestedEditable=function(t,i){return!i||i.equals(t)?null:e.isDomNestedEditable(i)?i:e.getNestedEditable(t,i.getParent())},e.isDomDragHandler=function(t){return t.type==CKEDITOR.NODE_ELEMENT&&t.hasAttribute("data-cke-widget-drag-handler")},e.isDomDragHandlerContainer=function(t){return t.type==CKEDITOR.NODE_ELEMENT&&t.hasClass("cke_widget_drag_handler_container")},e.isDomNestedEditable=function(t){return t.type==CKEDITOR.NODE_ELEMENT&&t.hasAttribute("data-cke-widget-editable")},e.isDomWidgetElement=function(t){return t.type==CKEDITOR.NODE_ELEMENT&&t.hasAttribute("data-widget")},e.isDomWidgetWrapper=function(t){return t.type==CKEDITOR.NODE_ELEMENT&&t.hasAttribute("data-cke-widget-wrapper")},e.isDomWidget=function(t){return!!t&&(this.isDomWidgetWrapper(t)||this.isDomWidgetElement(t))},e.isParserWidgetElement=function(t){return t.type==CKEDITOR.NODE_ELEMENT&&!!t.attributes["data-widget"]},e.isParserWidgetWrapper=function(t){return t.type==CKEDITOR.NODE_ELEMENT&&!!t.attributes["data-cke-widget-wrapper"]},e.WRAPPER_CLASS_PREFIX="cke_widget_wrapper_",i.prototype=CKEDITOR.tools.extend(CKEDITOR.tools.prototypedCopy(CKEDITOR.dom.element.prototype),{setData:function(t){this._.initialSetData||this.editor.widgets.destroyAll(!1,this),this._.initialSetData=!1,t=this.editor.dataProcessor.toHtml(t,{context:this.getName(),filter:this.filter,enterMode:this.enterMode}),this.setHtml(t),this.editor.widgets.initOnAll(this)},getData:function(){return this.editor.dataProcessor.toDataFormat(this.getHtml(),{context:this.getName(),filter:this.filter,enterMode:this.enterMode})}});var q=/^(?:<(?:div|span)(?: data-cke-temp="1")?(?: id="cke_copybin")?(?: data-cke-temp="1")?>)?(?:<(?:div|span)(?: style="[^"]+")?>)?<span [^>]*data-cke-copybin-start="1"[^>]*>.?<\/span>([\s\S]+)<span [^>]*data-cke-copybin-end="1"[^>]*>.?<\/span>(?:<\/(?:div|span)>)?(?:<\/(?:div|span)>)?$/i,j={37:1,38:1,39:1,40:1,8:1,46:1};CKEDITOR.plugins.widget=e,e.repository=t,e.nestedEditable=i}(),function(){function t(t){this.editor=t,this.loaders=[]}function e(t,e,n){var o=t.config.fileTools_defaultFileName;this.editor=t,this.lang=t.lang,"string"==typeof e?(this.data=e,this.file=i(this.data),this.loaded=this.total=this.file.size):(this.data=null,this.file=e,this.total=this.file.size,this.loaded=0),n?this.fileName=n:this.file.name?this.fileName=this.file.name:(t=this.file.type.split("/"),o&&(t[0]=o),this.fileName=t.join(".")),this.uploaded=0,this.responseData=this.uploadTotal=null,this.status="created",this.abort=function(){this.changeStatus("abort")}}function i(t){var e=t.match(n)[1];t=t.replace(n,""),t=atob(t);var i,o,a,r,s=[];for(i=0;i<t.length;i+=512){for(o=t.slice(i,i+512),a=Array(o.length),r=0;r<o.length;r++)a[r]=o.charCodeAt(r);o=new Uint8Array(a),s.push(o)}return new Blob(s,{type:e})}CKEDITOR.plugins.add("filetools",{beforeInit:function(e){e.uploadRepository=new t(e),e.on("fileUploadRequest",function(t){var e=t.data.fileLoader;e.xhr.open("POST",e.uploadUrl,!0),t.data.requestData.upload={file:e.file,name:e.fileName}},null,null,5),e.on("fileUploadRequest",function(t){var e=t.data.fileLoader,i=new FormData;t=t.data.requestData;for(var n in t){var o=t[n];"object"==typeof o&&o.file?i.append(n,o.file,o.name):i.append(n,o)}i.append("ckCsrfToken",CKEDITOR.tools.getCsrfToken()),e.xhr.send(i)},null,null,999),e.on("fileUploadResponse",function(t){var e=t.data.fileLoader,i=e.xhr,n=t.data;try{var o=JSON.parse(i.responseText);if(o.error&&o.error.message&&(n.message=o.error.message),o.uploaded)for(var a in o)n[a]=o[a];else t.cancel()}catch(o){n.message=e.lang.filetools.responseError,CKEDITOR.warn("filetools-response-error",{responseText:i.responseText}),t.cancel()}},null,null,999)}}),t.prototype={create:function(t,i){var n=this.loaders.length,o=new e(this.editor,t,i);return o.id=n,this.loaders[n]=o,this.fire("instanceCreated",o),o},isFinished:function(){for(var t=0;t<this.loaders.length;++t)if(!this.loaders[t].isFinished())return!1;return!0}},e.prototype={loadAndUpload:function(t,e){var i=this;this.once("loaded",function(n){n.cancel(),i.once("update",function(t){t.cancel()},null,null,0),i.upload(t,e)},null,null,0),this.load()},load:function(){var t=this,e=this.reader=new FileReader;t.changeStatus("loading"),this.abort=function(){t.reader.abort()},e.onabort=function(){t.changeStatus("abort")},e.onerror=function(){t.message=t.lang.filetools.loadError,t.changeStatus("error")},e.onprogress=function(e){t.loaded=e.loaded,t.update()},e.onload=function(){t.loaded=t.total,t.data=e.result,t.changeStatus("loaded")},e.readAsDataURL(this.file)},upload:function(t,e){var i=e||{};t?(this.uploadUrl=t,this.xhr=new XMLHttpRequest,this.attachRequestListeners(),this.editor.fire("fileUploadRequest",{fileLoader:this,requestData:i})&&this.changeStatus("uploading")):(this.message=this.lang.filetools.noUrlError,this.changeStatus("error"))},attachRequestListeners:function(){function t(){"error"!=i.status&&(i.message=i.lang.filetools.networkError,i.changeStatus("error"))}function e(){"abort"!=i.status&&i.changeStatus("abort")}var i=this,n=this.xhr;i.abort=function(){n.abort(),e()},n.onerror=t,n.onabort=e,n.upload?(n.upload.onprogress=function(t){t.lengthComputable&&(i.uploadTotal||(i.uploadTotal=t.total),i.uploaded=t.loaded,i.update())},n.upload.onerror=t,n.upload.onabort=e):(i.uploadTotal=i.total,i.update()),n.onload=function(){if(i.update(),"abort"!=i.status)if(i.uploaded=i.uploadTotal,200>n.status||299<n.status)i.message=i.lang.filetools["httpError"+n.status],i.message||(i.message=i.lang.filetools.httpError.replace("%1",n.status)),i.changeStatus("error");else{for(var t={fileLoader:i},e=["message","fileName","url"],o=i.editor.fire("fileUploadResponse",t),a=0;a<e.length;a++){var r=e[a];"string"==typeof t[r]&&(i[r]=t[r])}i.responseData=t,delete i.responseData.fileLoader,!1===o?i.changeStatus("error"):i.changeStatus("uploaded")}}},changeStatus:function(t){this.status=t,"error"!=t&&"abort"!=t&&"loaded"!=t&&"uploaded"!=t||(this.abort=function(){}),this.fire(t),this.update()},update:function(){this.fire("update")},isFinished:function(){return!!this.status.match(/^(?:loaded|uploaded|error|abort)$/)}},CKEDITOR.event.implementOn(t.prototype),CKEDITOR.event.implementOn(e.prototype);var n=/^data:(\S*?);base64,/;CKEDITOR.fileTools||(CKEDITOR.fileTools={}),CKEDITOR.tools.extend(CKEDITOR.fileTools,{uploadRepository:t,fileLoader:e,getUploadUrl:function(t,e){var i=CKEDITOR.tools.capitalize;return e&&t[e+"UploadUrl"]?t[e+"UploadUrl"]:t.uploadUrl?t.uploadUrl:e&&t["filebrowser"+i(e,1)+"UploadUrl"]?t["filebrowser"+i(e,1)+"UploadUrl"]+"&responseType=json":t.filebrowserUploadUrl?t.filebrowserUploadUrl+"&responseType=json":null},isTypeSupported:function(t,e){return!!t.type.match(e)}})}(),function(){function t(t,e,i){this.editor=t,this.notification=null,this._message=new CKEDITOR.template(e),this._singularMessage=i?new CKEDITOR.template(i):null,this._tasks=[],this._doneTasks=this._doneWeights=this._totalWeights=0}function e(t){this._weight=t||1,this._doneWeight=0,this._isCanceled=!1}CKEDITOR.plugins.add("notificationaggregator",{requires:"notification"}),t.prototype={createTask:function(t){t=t||{};var e,i=!this.notification;return i&&(this.notification=this._createNotification()),e=this._addTask(t),e.on("updated",this._onTaskUpdate,this),e.on("done",this._onTaskDone,this),e.on("canceled",function(){this._removeTask(e)},this),this.update(),i&&this.notification.show(),e},update:function(){this._updateNotification(),this.isFinished()&&this.fire("finished")},getPercentage:function(){return 0===this.getTaskCount()?1:this._doneWeights/this._totalWeights},isFinished:function(){return this.getDoneTaskCount()===this.getTaskCount()},getTaskCount:function(){return this._tasks.length},getDoneTaskCount:function(){return this._doneTasks},_updateNotification:function(){this.notification.update({message:this._getNotificationMessage(),progress:this.getPercentage()})},_getNotificationMessage:function(){var t=this.getTaskCount(),e={current:this.getDoneTaskCount(),max:t,percentage:Math.round(100*this.getPercentage())};return(1==t&&this._singularMessage?this._singularMessage:this._message).output(e)},_createNotification:function(){return new CKEDITOR.plugins.notification(this.editor,{type:"progress"})},_addTask:function(t){return t=new e(t.weight),this._tasks.push(t),this._totalWeights+=t._weight,t},_removeTask:function(t){var e=CKEDITOR.tools.indexOf(this._tasks,t);-1!==e&&(t._doneWeight&&(this._doneWeights-=t._doneWeight),this._totalWeights-=t._weight,this._tasks.splice(e,1),this.update())},_onTaskUpdate:function(t){this._doneWeights+=t.data,this.update()},_onTaskDone:function(){this._doneTasks+=1,this.update()}},CKEDITOR.event.implementOn(t.prototype),e.prototype={done:function(){this.update(this._weight)},update:function(t){if(!this.isDone()&&!this.isCanceled()){t=Math.min(this._weight,t);var e=t-this._doneWeight;this._doneWeight=t,this.fire("updated",e),this.isDone()&&this.fire("done")}},cancel:function(){this.isDone()||this.isCanceled()||(this._isCanceled=!0,this.fire("canceled"))},isDone:function(){return this._weight===this._doneWeight},isCanceled:function(){return this._isCanceled}},CKEDITOR.event.implementOn(e.prototype),CKEDITOR.plugins.notificationAggregator=t,CKEDITOR.plugins.notificationAggregator.task=e}(),function(){CKEDITOR.plugins.add("uploadwidget",{requires:"widget,clipboard,filetools,notificationaggregator",init:function(t){t.filter.allow("*[!data-widget,!data-cke-upload-id]")}}),CKEDITOR.fileTools||(CKEDITOR.fileTools={}),CKEDITOR.tools.extend(CKEDITOR.fileTools,{addUploadWidget:function(t,e,i){var n=CKEDITOR.fileTools,o=t.uploadRepository,a=i.supportedTypes?10:20;i.fileToElement&&t.on("paste",function(i){i=i.data;var a,r,s=t.widgets.registered[e],l=i.dataTransfer,d=l.getFilesCount(),c=s.loadMethod||"loadAndUpload";if(!i.dataValue&&d)for(r=0;r<d;r++)if(a=l.getFile(r),!s.supportedTypes||n.isTypeSupported(a,s.supportedTypes)){var h=s.fileToElement(a);a=o.create(a),h&&(a[c](s.uploadUrl,s.additionalRequestParameters),CKEDITOR.fileTools.markElement(h,e,a.id),"loadAndUpload"!=c&&"upload"!=c||s.skipNotifications||CKEDITOR.fileTools.bindNotifications(t,a),i.dataValue+=h.getOuterHtml())}},null,null,a),CKEDITOR.tools.extend(i,{downcast:function(){return new CKEDITOR.htmlParser.text("")},init:function(){var e,i,n=this,a=this.wrapper.findOne("[data-cke-upload-id]").data("cke-upload-id"),r=o.loaders[a],s=CKEDITOR.tools.capitalize;r.on("update",function(o){n.wrapper&&n.wrapper.getParent()?(t.fire("lockSnapshot"),o="on"+s(r.status),"function"==typeof n[o]&&!1===n[o](r)||(i="cke_upload_"+r.status,n.wrapper&&i!=e&&(e&&n.wrapper.removeClass(e),n.wrapper.addClass(i),e=i),"error"!=r.status&&"abort"!=r.status||t.widgets.del(n)),t.fire("unlockSnapshot")):(t.editable().find('[data-cke-upload-id="'+a+'"]').count()||r.abort(),o.removeListener())}),r.update()},replaceWith:function(e,i){if(""===e.trim())t.widgets.del(this);else{var n,o,a=this==t.widgets.focused,r=t.editable(),s=t.createRange();a||(o=t.getSelection().createBookmarks()),s.setStartBefore(this.wrapper),s.setEndAfter(this.wrapper),a&&(n=s.createBookmark()),r.insertHtmlIntoRange(e,s,i),t.widgets.checkWidgets({initOnlyNew:!0}),t.widgets.destroy(this,!0),a?(s.moveToBookmark(n),s.select()):t.getSelection().selectBookmarks(o)}}}),t.widgets.add(e,i)},markElement:function(t,e,i){t.setAttributes({"data-cke-upload-id":i,"data-widget":e})},bindNotifications:function(t,e){function i(){(n=t._.uploadWidgetNotificaionAggregator)&&!n.isFinished()||(n=t._.uploadWidgetNotificaionAggregator=new CKEDITOR.plugins.notificationAggregator(t,t.lang.uploadwidget.uploadMany,t.lang.uploadwidget.uploadOne),n.once("finished",function(){var e=n.getTaskCount();0===e?n.notification.hide():n.notification.update({message:1==e?t.lang.uploadwidget.doneOne:t.lang.uploadwidget.doneMany.replace("%1",e),type:"success",important:1})}))}var n,o=null;e.on("update",function(){!o&&e.uploadTotal&&(i(),o=n.createTask({weight:e.uploadTotal})),o&&"uploading"==e.status&&o.update(e.uploaded)}),e.on("uploaded",function(){o&&o.done()}),e.on("error",function(){o&&o.cancel(),t.showNotification(e.message,"warning")}),e.on("abort",function(){o&&o.cancel(),t.showNotification(t.lang.uploadwidget.abort,"info")})}})}(),function(){function t(t){return 9>=t&&(t="0"+t),String(t)}function e(e){var n=new Date,n=[n.getFullYear(),n.getMonth()+1,n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds()];return i+=1,"image-"+CKEDITOR.tools.array.map(n,t).join("")+"-"+i+"."+e}var i=0;CKEDITOR.plugins.add("uploadimage",{requires:"uploadwidget",onLoad:function(){CKEDITOR.addCss(".cke_upload_uploading img{opacity: 0.3}")},init:function(t){if(CKEDITOR.plugins.clipboard.isFileApiSupported){var i=CKEDITOR.fileTools,n=i.getUploadUrl(t.config,"image");n&&(i.addUploadWidget(t,"uploadimage",{supportedTypes:/image\/(jpeg|png|gif|bmp)/,uploadUrl:n,fileToElement:function(){var t=new CKEDITOR.dom.element("img");return t.setAttribute("src","data:image/gif;base64,R0lGODlhDgAOAIAAAAAAAP///yH5BAAAAAAALAAAAAAOAA4AAAIMhI+py+0Po5y02qsKADs="),t},parts:{img:"img"},onUploading:function(t){this.parts.img.setAttribute("src",t.data)},onUploaded:function(t){var e=this.parts.img.$;this.replaceWith('<img src="'+t.url+'" width="'+(t.responseData.width||e.naturalWidth)+'" height="'+(t.responseData.height||e.naturalHeight)+'">')}}),t.on("paste",function(o){if(o.data.dataValue.match(/<img[\s\S]+data:/i)){o=o.data;var a,r,s,l=document.implementation.createHTMLDocument(""),l=new CKEDITOR.dom.element(l.body);for(l.data("cke-editable",1),l.appendHtml(o.dataValue),a=l.find("img"),s=0;s<a.count();s++){r=a.getItem(s);var d=r.getAttribute("src"),c=d&&"data:"==d.substring(0,5),h=null===r.data("cke-realelement");c&&h&&!r.data("cke-upload-id")&&!r.isReadOnly(1)&&(c=(c=d.match(/image\/([a-z]+?);/i))&&c[1]||"jpg",d=t.uploadRepository.create(d,e(c)),d.upload(n),i.markElement(r,"uploadimage",d.id),i.bindNotifications(t,d))}o.dataValue=l.getHtml()}}))}}})}(),CKEDITOR.plugins.add("wsc",{requires:"dialog",parseApi:function(t){t.config.wsc_onFinish="function"==typeof t.config.wsc_onFinish?t.config.wsc_onFinish:function(){},t.config.wsc_onClose="function"==typeof t.config.wsc_onClose?t.config.wsc_onClose:function(){}},parseConfig:function(t){t.config.wsc_customerId=t.config.wsc_customerId||CKEDITOR.config.wsc_customerId||"1:ua3xw1-2XyGJ3-GWruD3-6OFNT1-oXcuB1-nR6Bp4-hgQHc-EcYng3-sdRXG3-NOfFk",t.config.wsc_customDictionaryIds=t.config.wsc_customDictionaryIds||CKEDITOR.config.wsc_customDictionaryIds||"",t.config.wsc_userDictionaryName=t.config.wsc_userDictionaryName||CKEDITOR.config.wsc_userDictionaryName||"",t.config.wsc_customLoaderScript=t.config.wsc_customLoaderScript||CKEDITOR.config.wsc_customLoaderScript,t.config.wsc_interfaceLang=t.config.wsc_interfaceLang,CKEDITOR.config.wsc_cmd=t.config.wsc_cmd||CKEDITOR.config.wsc_cmd||"spell",CKEDITOR.config.wsc_version="v4.3.0-master-d769233",CKEDITOR.config.wsc_removeGlobalVariable=!0},onLoad:function(t){"moono-lisa"==(CKEDITOR.skinName||t.config.skin)&&CKEDITOR.document.appendStyleSheet(this.path+"skins/"+CKEDITOR.skin.name+"/wsc.css")},init:function(t){var e=CKEDITOR.env;this.parseConfig(t),this.parseApi(t),t.addCommand("checkspell",new CKEDITOR.dialogCommand("checkspell")).modes={wysiwyg:!(CKEDITOR.env.opera||CKEDITOR.env.air||document.domain!=window.location.hostname||e.ie&&(8>e.version||e.quirks))},"undefined"==typeof t.plugins.scayt&&t.ui.addButton&&t.ui.addButton("SpellChecker",{label:t.lang.wsc.toolbar,click:function(t){var e=t.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?t.container.getText():t.document.getBody().getText();(e=e.replace(/\s/g,""))?t.execCommand("checkspell"):alert("Nothing to check!")},toolbar:"spellchecker,10"}),CKEDITOR.dialog.add("checkspell",this.path+(CKEDITOR.env.ie&&7>=CKEDITOR.env.version?"dialogs/wsc_ie.js":window.postMessage?"dialogs/wsc.js":"dialogs/wsc_ie.js"))}}),CKEDITOR.plugins.add("codeTag",{icons:"code",init:function(t){t.addCommand("wrapCode",{exec:function(t){t.insertHtml("<code>"+t.getSelection().getSelectedText().replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</code>")}}),t.ui.addButton("Code",{label:"Wrap code",command:"wrapCode",toolbar:"insert"})}}),function(){function t(t){CKEDITOR.tools.extend(this,t),this.queue=[],this.init?this.init(CKEDITOR.tools.bind(function(){for(var t;t=this.queue.pop();)t.call(this);this.ready=!0},this)):this.ready=!0}function e(t){var e=t.config.codeSnippet_codeClass,n=/\r?\n/g,o=new CKEDITOR.dom.element("textarea");t.widgets.add("codeSnippet",{allowedContent:"pre; code(language-*)",requiredContent:"pre",styleableElements:"pre",template:'<pre><code class="'+e+'"></code></pre>',dialog:"codeSnippet",pathName:t.lang.codesnippet.pathName,mask:!0,parts:{pre:"pre",code:"code"},highlight:function(){var e=this,o=this.data,a=function(t){e.parts.code.setHtml(i?t:t.replace(n,"<br>"))};a(CKEDITOR.tools.htmlEncode(o.code)),t._.codesnippet.highlighter.highlight(o.code,o.lang,function(e){t.fire("lockSnapshot"),a(e),t.fire("unlockSnapshot")})},data:function(){var t=this.data,e=this.oldData;t.code&&this.parts.code.setHtml(CKEDITOR.tools.htmlEncode(t.code)),e&&t.lang!=e.lang&&this.parts.code.removeClass("language-"+e.lang),t.lang&&(this.parts.code.addClass("language-"+t.lang),this.highlight()),this.oldData=CKEDITOR.tools.copy(t)},upcast:function(i,n){if("pre"==i.name){for(var r,s=[],l=i.children,d=l.length-1;0<=d;d--)r=l[d],r.type==CKEDITOR.NODE_TEXT&&r.value.match(a)||s.push(r);var c;if(1==s.length&&"code"==(c=s[0]).name&&1==c.children.length&&c.children[0].type==CKEDITOR.NODE_TEXT)return(s=t._.codesnippet.langsRegex.exec(c.attributes["class"]))&&(n.lang=s[1]),o.setHtml(c.getHtml()),n.code=o.getValue(),c.addClass(e),i}},downcast:function(t){var i=t.getFirst("code");return i.children.length=0,i.removeClass(e),i.add(new CKEDITOR.htmlParser.text(CKEDITOR.tools.htmlEncode(this.data.code))),t}});var a=/^[\s\n\r]*$/}var i=!CKEDITOR.env.ie||8<CKEDITOR.env.version;CKEDITOR.plugins.add("codesnippet",{requires:"widget,dialog",beforeInit:function(t){t._.codesnippet={},this.setHighlighter=function(e){t._.codesnippet.highlighter=e,e=t._.codesnippet.langs=t.config.codeSnippet_languages||e.languages,t._.codesnippet.langsRegex=new RegExp("(?:^|\\s)language-("+CKEDITOR.tools.objectKeys(e).join("|")+")(?:\\s|$)")}},onLoad:function(){CKEDITOR.dialog.add("codeSnippet",this.path+"dialogs/codesnippet.js")},init:function(t){t.ui.addButton&&t.ui.addButton("CodeSnippet",{label:t.lang.codesnippet.button,command:"codeSnippet",toolbar:"insert,10"})},afterInit:function(t){var n=this.path;if(e(t),!t._.codesnippet.highlighter){var o=new CKEDITOR.plugins.codesnippet.highlighter({languages:{apache:"Apache",bash:"Bash",coffeescript:"CoffeeScript",cpp:"C++",cs:"C#",css:"CSS",diff:"Diff",html:"HTML",http:"HTTP",ini:"INI",java:"Java",javascript:"JavaScript",json:"JSON",makefile:"Makefile",markdown:"Markdown",nginx:"Nginx",objectivec:"Objective-C",perl:"Perl",php:"PHP",python:"Python",ruby:"Ruby",sql:"SQL",vbscript:"VBScript",xhtml:"XHTML",xml:"XML"},init:function(e){var o=this;i&&CKEDITOR.scriptLoader.load(n+"lib/highlight/highlight.pack.js",function(){o.hljs=window.hljs,e()}),t.addContentsCss&&t.addContentsCss(n+"lib/highlight/styles/"+t.config.codeSnippet_theme+".css")},highlighter:function(t,e,i){(t=this.hljs.highlightAuto(t,this.hljs.getLanguage(e)?[e]:void 0))&&i(t.value)}});this.setHighlighter(o)}}}),CKEDITOR.plugins.codesnippet={highlighter:t},t.prototype.highlight=function(){var t=arguments;this.ready?this.highlighter.apply(this,t):this.queue.push(function(){this.highlighter.apply(this,t)})}}(),CKEDITOR.config.codeSnippet_codeClass="hljs",CKEDITOR.config.codeSnippet_theme="default",CKEDITOR.config.plugins="dialogui,dialog,about,a11yhelp,basicstyles,blockquote,notification,button,toolbar,clipboard,panel,floatpanel,menu,contextmenu,resize,elementspath,enterkey,entities,popup,filebrowser,floatingspace,listblock,richcombo,format,horizontalrule,htmlwriter,wysiwygarea,image,indent,indentlist,fakeobjects,link,list,magicline,maximize,pastetext,pastefromword,removeformat,showborders,sourcearea,specialchar,menubutton,scayt,stylescombo,tab,table,tabletools,tableselection,undo,lineutils,widgetselection,widget,filetools,notificationaggregator,uploadwidget,uploadimage,wsc,codeTag,codesnippet",CKEDITOR.config.skin="moono-lisa",function(){var t=function(t,e){var i=CKEDITOR.getUrl("plugins/"+e);t=t.split(",");for(var n=0;n<t.length;n++)CKEDITOR.skin.icons[t[n]]={path:i,offset:-t[++n],bgsize:t[++n]}}
;CKEDITOR.env.hidpi?t("about,0,,bold,24,,italic,48,,strike,72,,subscript,96,,superscript,120,,underline,144,,blockquote,168,,copy-rtl,192,,copy,216,,cut-rtl,240,,cut,264,,paste-rtl,288,,paste,312,,horizontalrule,336,,image,360,,indent-rtl,384,,indent,408,,outdent-rtl,432,,outdent,456,,anchor-rtl,480,,anchor,504,,link,528,,unlink,552,,bulletedlist-rtl,576,,bulletedlist,600,,numberedlist-rtl,624,,numberedlist,648,,maximize,672,,pastetext-rtl,696,,pastetext,720,,pastefromword-rtl,744,,pastefromword,768,,removeformat,792,,source-rtl,816,,source,840,,specialchar,864,,scayt,888,,table,912,,redo-rtl,936,,redo,960,,undo-rtl,984,,undo,1008,,spellchecker,1032,,code,2112,auto,codesnippet,1080,","icons_hidpi.png"):t("about,0,auto,bold,24,auto,italic,48,auto,strike,72,auto,subscript,96,auto,superscript,120,auto,underline,144,auto,blockquote,168,auto,copy-rtl,192,auto,copy,216,auto,cut-rtl,240,auto,cut,264,auto,paste-rtl,288,auto,paste,312,auto,horizontalrule,336,auto,image,360,auto,indent-rtl,384,auto,indent,408,auto,outdent-rtl,432,auto,outdent,456,auto,anchor-rtl,480,auto,anchor,504,auto,link,528,auto,unlink,552,auto,bulletedlist-rtl,576,auto,bulletedlist,600,auto,numberedlist-rtl,624,auto,numberedlist,648,auto,maximize,672,auto,pastetext-rtl,696,auto,pastetext,720,auto,pastefromword-rtl,744,auto,pastefromword,768,auto,removeformat,792,auto,source-rtl,816,auto,source,840,auto,specialchar,864,auto,scayt,888,auto,table,912,auto,redo-rtl,936,auto,redo,960,auto,undo-rtl,984,auto,undo,1008,auto,spellchecker,1032,auto,code,1056,auto,codesnippet,1080,auto","icons.png")}(),CKEDITOR.lang.languages={zh:1,en:1}}}(),window.CKEDITOR_BASEPATH="/ckeditor/",CKEDITOR.basePath="/ckeditor/",CKEDITOR.plugins.basePath="/ckeditor/plugins/",CKEDITOR.config.customConfig="/assets/ckeditor/config-eedb2e33aa678986a337991432a6edaa74f8fbeb2e37ee14142e8da2a5a2fa24.js",CKEDITOR.config.contentsCss="/assets/ckeditor/contents-850b6870f82cd7f8faccc5663721d4c5b0a40dc22759448e01091f97fe403482.css",$.fn.extend({attachCkeditor:function(){return $.each(this,function(t,e){"undefined"!=typeof CKEDITOR&&(CKEDITOR.instances[e.id]&&CKEDITOR.instances[e.id].destroy(),CKEDITOR.replace(e.id))}),this}}),$(function(){function t(t,e){"source"!=t.mode?(t.document.getBody().$.contentEditable=!0,$(t.document.getBody().$).atwho("setIframe",t.window.getFrame().$).atwho(e)):$(t.container.$).find(".cke_source").atwho(e)}var e={at:"@",displayTpl:"<li data-mentioned-id='${id}'><img src='${thumb_photo}' height='20' width='20'/> ${name} </li>",maxLen:20,limit:20,delay:150,callbacks:{beforeInsert:function(t,e){return"<span data-mentioned-id='"+e.data("mentioned-id")+"' class='mentioned_name'>"+t+"</span>"},remoteFilter:function(t,e){t&&$.getJSON("/user/mentions",{q:t},function(t){e(t)})}}};CKEDITOR.on("instanceReady",function(i){var n=i.editor;n.on("mode",function(){t(this,e)}),t(n,e)})}),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.Chart=t()}}(function(){var t;return function(){function t(e,i,n){function o(r,s){if(!i[r]){if(!e[r]){var l="function"==typeof require&&require;if(!s&&l)return l(r,!0);if(a)return a(r,!0);var d=new Error("Cannot find module '"+r+"'");throw d.code="MODULE_NOT_FOUND",d}var c=i[r]={exports:{}};e[r][0].call(c.exports,function(t){var i=e[r][1][t];return o(i||t)},c,c.exports,t,e,i,n)}return i[r].exports}for(var a="function"==typeof require&&require,r=0;r<n.length;r++)o(n[r]);return o}return t}()({1:[function(t,e){function i(t){if(t){var e=/^#([a-fA-F0-9]{3})$/i,i=/^#([a-fA-F0-9]{6})$/i,n=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i,o=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i,a=/(\w+)/,r=[0,0,0],s=1,l=t.match(e);if(l){l=l[1];for(var d=0;d<r.length;d++)r[d]=parseInt(l[d]+l[d],16)}else if(l=t.match(i)){l=l[1];for(var d=0;d<r.length;d++)r[d]=parseInt(l.slice(2*d,2*d+2),16)}else if(l=t.match(n)){for(var d=0;d<r.length;d++)r[d]=parseInt(l[d+1]);s=parseFloat(l[4])}else if(l=t.match(o)){for(var d=0;d<r.length;d++)r[d]=Math.round(2.55*parseFloat(l[d+1]));s=parseFloat(l[4])}else if(l=t.match(a)){if("transparent"==l[1])return[0,0,0,0];if(!(r=T[l[1]]))return}for(var d=0;d<r.length;d++)r[d]=v(r[d],0,255);return s=s||0==s?v(s,0,1):1,r[3]=s,r}}function n(t){if(t){var e=/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,i=t.match(e);if(i){var n=parseFloat(i[4]);return[v(parseInt(i[1]),0,360),v(parseFloat(i[2]),0,100),v(parseFloat(i[3]),0,100),v(isNaN(n)?1:n,0,1)]}}}function o(t){if(t){var e=/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,i=t.match(e);if(i){var n=parseFloat(i[4]);return[v(parseInt(i[1]),0,360),v(parseFloat(i[2]),0,100),v(parseFloat(i[3]),0,100),v(isNaN(n)?1:n,0,1)]}}}function a(t){var e=i(t);return e&&e.slice(0,3)}function r(t){var e=n(t);return e&&e.slice(0,3)}function s(t){var e=i(t);return e?e[3]:(e=n(t))?e[3]:(e=o(t))?e[3]:void 0}function l(t){return"#"+b(t[0])+b(t[1])+b(t[2])}function d(t,e){return e<1||t[3]&&t[3]<1?c(t,e):"rgb("+t[0]+", "+t[1]+", "+t[2]+")"}function c(t,e){return e===undefined&&(e=t[3]!==undefined?t[3]:1),"rgba("+t[0]+", "+t[1]+", "+t[2]+", "+e+")"}function h(t,e){return e<1||t[3]&&t[3]<1?u(t,e):"rgb("+Math.round(t[0]/255*100)+"%, "+Math.round(t[1]/255*100)+"%, "+Math.round(t[2]/255*100)+"%)"}function u(t,e){return"rgba("+Math.round(t[0]/255*100)+"%, "+Math.round(t[1]/255*100)+"%, "+Math.round(t[2]/255*100)+"%, "+(e||t[3]||1)+")"}function f(t,e){return e<1||t[3]&&t[3]<1?p(t,e):"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)"}function p(t,e){return e===undefined&&(e=t[3]!==undefined?t[3]:1),"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+e+")"}function m(t,e){return e===undefined&&(e=t[3]!==undefined?t[3]:1),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+(e!==undefined&&1!==e?", "+e:"")+")"}function g(t){return E[t.slice(0,3)]}function v(t,e,i){return Math.min(Math.max(e,t),i)}function b(t){var e=t.toString(16).toUpperCase();return e.length<2?"0"+e:e}var T=t(5);e.exports={getRgba:i,getHsla:n,getRgb:a,getHsl:r,getHwb:o,getAlpha:s,hexString:l,rgbString:d,rgbaString:c,percentString:h,percentaString:u,hslString:f,hslaString:p,hwbString:m,keyword:g};var E={};for(var C in T)E[T[C]]=C},{5:5}],2:[function(t,e){var i=t(4),n=t(1),o=function(t){if(t instanceof o)return t;if(!(this instanceof o))return new o(t);this.valid=!1,this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1};var e;"string"==typeof t?(e=n.getRgba(t),e?this.setValues("rgb",e):(e=n.getHsla(t))?this.setValues("hsl",e):(e=n.getHwb(t))&&this.setValues("hwb",e)):"object"==typeof t&&(e=t,e.r!==undefined||e.red!==undefined?this.setValues("rgb",e):e.l!==undefined||e.lightness!==undefined?this.setValues("hsl",e):e.v!==undefined||e.value!==undefined?this.setValues("hsv",e):e.w!==undefined||e.whiteness!==undefined?this.setValues("hwb",e):e.c===undefined&&e.cyan===undefined||this.setValues("cmyk",e))};o.prototype={isValid:function(){return this.valid},rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var t=this.values;return 1!==t.alpha?t.hwb.concat([t.alpha]):t.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var t=this.values;return t.rgb.concat([t.alpha])},hslaArray:function(){var t=this.values;return t.hsl.concat([t.alpha])},alpha:function(t){return t===undefined?this.values.alpha:(this.setValues("alpha",t),this)},red:function(t){return this.setChannel("rgb",0,t)},green:function(t){return this.setChannel("rgb",1,t)},blue:function(t){return this.setChannel("rgb",2,t)},hue:function(t){return t&&(t%=360,t=t<0?360+t:t),this.setChannel("hsl",0,t)},saturation:function(t){return this.setChannel("hsl",1,t)},lightness:function(t){return this.setChannel("hsl",2,t)},saturationv:function(t){return this.setChannel("hsv",1,t)},whiteness:function(t){return this.setChannel("hwb",1,t)},blackness:function(t){return this.setChannel("hwb",2,t)},value:function(t){return this.setChannel("hsv",2,t)},cyan:function(t){return this.setChannel("cmyk",0,t)},magenta:function(t){return this.setChannel("cmyk",1,t)},yellow:function(t){return this.setChannel("cmyk",2,t)},black:function(t){return this.setChannel("cmyk",3,t)},hexString:function(){return n.hexString(this.values.rgb)},rgbString:function(){return n.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return n.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return n.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return n.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return n.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return n.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return n.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var t=this.values.rgb;return t[0]<<16|t[1]<<8|t[2]},luminosity:function(){for(var t=this.values.rgb,e=[],i=0;i<t.length;i++){var n=t[i]/255;e[i]=n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4)}return.2126*e[0]+.7152*e[1]+.0722*e[2]},contrast:function(t){var e=this.luminosity(),i=t.luminosity();return e>i?(e+.05)/(i+.05):(i+.05)/(e+.05)},level:function(t){var e=this.contrast(t);return e>=7.1?"AAA":e>=4.5?"AA":""},dark:function(){var t=this.values.rgb;return(299*t[0]+587*t[1]+114*t[2])/1e3<128},light:function(){return!this.dark()},negate:function(){for(var t=[],e=0;e<3;e++)t[e]=255-this.values.rgb[e];return this.setValues("rgb",t),this},lighten:function(t){var e=this.values.hsl;return e[2]+=e[2]*t,this.setValues("hsl",e),this},darken:function(t){var e=this.values.hsl;return e[2]-=e[2]*t,this.setValues("hsl",e),this},saturate:function(t){var e=this.values.hsl;return e[1]+=e[1]*t,this.setValues("hsl",e),this},desaturate:function(t){var e=this.values.hsl;return e[1]-=e[1]*t,this.setValues("hsl",e),this},whiten:function(t){var e=this.values.hwb;return e[1]+=e[1]*t,this.setValues("hwb",e),this},blacken:function(t){var e=this.values.hwb;return e[2]+=e[2]*t,this.setValues("hwb",e),this},greyscale:function(){var t=this.values.rgb,e=.3*t[0]+.59*t[1]+.11*t[2];return this.setValues("rgb",[e,e,e]),this},clearer:function(t){var e=this.values.alpha;return this.setValues("alpha",e-e*t),this},opaquer:function(t){var e=this.values.alpha;return this.setValues("alpha",e+e*t),this},rotate:function(t){var e=this.values.hsl,i=(e[0]+t)%360;return e[0]=i<0?360+i:i,this.setValues("hsl",e),this},mix:function(t,e){var i=this,n=t,o=e===undefined?.5:e,a=2*o-1,r=i.alpha()-n.alpha(),s=((a*r==-1?a:(a+r)/(1+a*r))+1)/2,l=1-s;return this.rgb(s*i.red()+l*n.red(),s*i.green()+l*n.green(),s*i.blue()+l*n.blue()).alpha(i.alpha()*o+n.alpha()*(1-o))},toJSON:function(){return this.rgb()},clone:function(){var t,e,i=new o,n=this.values,a=i.values;for(var r in n)n.hasOwnProperty(r)&&(t=n[r],e={}.toString.call(t),"[object Array]"===e?a[r]=t.slice(0):"[object Number]"===e?a[r]=t:console.error("unexpected color value:",t));return i}},o.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},o.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},o.prototype.getValues=function(t){for(var e=this.values,i={},n=0;n<t.length;n++)i[t.charAt(n)]=e[t][n];return 1!==e.alpha&&(i.a=e.alpha),i},o.prototype.setValues=function(t,e){var n,o=this.values,a=this.spaces,r=this.maxes,s=1;if(this.valid=!0,"alpha"===t)s=e;else if(e.length)o[t]=e.slice(0,t.length),s=e[t.length];else if(e[t.charAt(0)]!==undefined){for(n=0;n<t.length;n++)o[t][n]=e[t.charAt(n)];s=e.a}else if(e[a[t][0]]!==undefined){var l=a[t];for(n=0;n<t.length;n++)o[t][n]=e[l[n]];s=e.alpha}if(o.alpha=Math.max(0,Math.min(1,s===undefined?o.alpha:s)),"alpha"===t)return!1;var d;for(n=0;n<t.length;n++)d=Math.max(0,Math.min(r[t][n],o[t][n])),o[t][n]=Math.round(d);for(var c in a)c!==t&&(o[c]=i[t][c](o[t]));return!0},o.prototype.setSpace=function(t,e){var i=e[0];return i===undefined?this.getValues(t):("number"==typeof i&&(i=Array.prototype.slice.call(e)),this.setValues(t,i),this)},o.prototype.setChannel=function(t,e,i){var n=this.values[t];return i===undefined?n[e]:i===n[e]?this:(n[e]=i,this.setValues(t,n),this)},"undefined"!=typeof window&&(window.Color=o),e.exports=o},{1:1,4:4}],3:[function(t,e){function i(t){var e,i,n,o=t[0]/255,a=t[1]/255,r=t[2]/255,s=Math.min(o,a,r),l=Math.max(o,a,r),d=l-s;return l==s?e=0:o==l?e=(a-r)/d:a==l?e=2+(r-o)/d:r==l&&(e=4+(o-a)/d),e=Math.min(60*e,360),e<0&&(e+=360),n=(s+l)/2,i=l==s?0:n<=.5?d/(l+s):d/(2-l-s),[e,100*i,100*n]}function n(t){var e,i,n,o=t[0],a=t[1],r=t[2],s=Math.min(o,a,r),l=Math.max(o,a,r),d=l-s;return i=0==l?0:d/l*1e3/10,l==s?e=0:o==l?e=(a-r)/d:a==l?e=2+(r-o)/d:r==l&&(e=4+(o-a)/d),e=Math.min(60*e,360),e<0&&(e+=360),n=l/255*1e3/10,[e,i,n]}function o(t){var e=t[0],n=t[1],o=t[2],a=i(t)[0],r=1/255*Math.min(e,Math.min(n,o)),o=1-1/255*Math.max(e,Math.max(n,o));return[a,100*r,100*o]}function a(t){var e,i,n,o,a=t[0]/255,r=t[1]/255,s=t[2]/255;return o=Math.min(1-a,1-r,1-s),e=(1-a-o)/(1-o)||0,i=(1-r-o)/(1-o)||0,n=(1-s-o)/(1-o)||0,[100*e,100*i,100*n,100*o]}function s(t){return X[JSON.stringify(t)]}function l(t){var e=t[0]/255,i=t[1]/255,n=t[2]/255;return e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92,i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92,n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92,[100*(.4124*e+.3576*i+.1805*n),100*(.2126*e+.7152*i+.0722*n),100*(.0193*e+.1192*i+.9505*n)]}function d(t){var e,i,n,o=l(t),a=o[0],r=o[1],s=o[2];return a/=95.047,r/=100,s/=108.883,a=a>.008856?Math.pow(a,1/3):7.787*a+16/116,r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,s=s>.008856?Math.pow(s,1/3):7.787*s+16/116,e=116*r-16,i=500*(a-r),n=200*(r-s),[e,i,n]}function c(t){return F(d(t))}function h(t){var e,i,n,o,a,r=t[0]/360,s=t[1]/100,l=t[2]/100;if(0==s)return a=255*l,[a,a,a];i=l<.5?l*(1+s):l+s-l*s,e=2*l-i,o=[0,0,0];for(var d=0;d<3;d++)n=r+1/3*-(d-1),n<0&&n++,n>1&&n--,a=6*n<1?e+6*(i-e)*n:2*n<1?i:3*n<2?e+(i-e)*(2/3-n)*6:e,o[d]=255*a;return o}function u(t){var e,i,n=t[0],o=t[1]/100,a=t[2]/100;return 0===a?[0,0,0]:(a*=2,o*=a<=1?a:2-a,i=(a+o)/2,e=2*o/(a+o),[n,100*e,100*i])}function f(t){return o(h(t))}function p(t){return a(h(t))}function m(t){return s(h(t))}function v(t){var e=t[0]/60,i=t[1]/100,n=t[2]/100,o=Math.floor(e)%6,a=e-Math.floor(e),r=255*n*(1-i),s=255*n*(1-i*a),l=255*n*(1-i*(1-a)),n=255*n;switch(o){case 0:return[n,l,r];case 1:return[s,n,r];case 2:return[r,n,l];case 3:return[r,s,n];case 4:return[l,r,n];case 5:return[n,r,s]}}function T(t){var e,i,n=t[0],o=t[1]/100,a=t[2]/100;return i=(2-o)*a,e=o*a,e/=i<=1?i:2-i,e=e||0,i/=2,[n,100*e,100*i]}function E(t){return o(v(t))}function C(t){return a(v(t))}function y(t){return s(v(t))}function D(t){var e,i,n,o,a=t[0]/360,s=t[1]/100,l=t[2]/100,d=s+l;switch(d>1&&(s/=d,l/=d),e=Math.floor(6*a),i=1-l,n=6*a-e,0!=(1&e)&&(n=1-n),o=s+n*(i-s),e){default:case 6:case 0:r=i,g=o,b=s;break;case 1:r=o,g=i,b=s;break;case 2:r=s,g=i,b=o;break;case 3:r=s,g=o,b=i;break;case 4:r=o,g=s,b=i;break;case 5:r=i,g=s,b=o}return[255*r,255*g,255*b]}function I(t){return i(D(t))}function O(t){return n(D(t))}function R(t){return a(D(t))}function x(t){return s(D(t))}function w(t){var e,i,n,o=t[0]/100,a=t[1]/100,r=t[2]/100,s=t[3]/100;return e=1-Math.min(1,o*(1-s)+s),i=1-Math.min(1,a*(1-s)+s),n=1-Math.min(1,r*(1-s)+s),[255*e,255*i,255*n]}function k(t){return i(w(t))}function _(t){return n(w(t))}function S(t){return o(w(t))}function N(t){return s(w(t))}function K(t){var e,i,n,o=t[0]/100,a=t[1]/100,r=t[2]/100;return e=3.2406*o+-1.5372*a+-.4986*r,i=-.9689*o+1.8758*a+.0415*r,n=.0557*o+-.204*a+1.057*r,e=e>.0031308?1.055*Math.pow(e,1/2.4)-.055:e*=12.92,i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:i*=12.92,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:n*=12.92,e=Math.min(Math.max(0,e),1),i=Math.min(Math.max(0,i),1),n=Math.min(Math.max(0,n),1),[255*e,255*i,255*n]}function A(t){var e,i,n,o=t[0],a=t[1],r=t[2];return o/=95.047,a/=100,r/=108.883,o=o>.008856?Math.pow(o,1/3):7.787*o+16/116,a=a>.008856?Math.pow(a,1/3):7.787*a+16/116,r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,e=116*a-16,i=500*(o-a),n=200*(a-r),[e,i,n]}function M(t){return F(A(t))}function L(t){var e,i,n,o,a=t[0],r=t[1],s=t[2];return a<=8?(i=100*a/903.3,o=i/100*7.787+16/116):(i=100*Math.pow((a+16)/116,3),o=Math.pow(i/100,1/3)),e=e/95.047<=.008856?e=95.047*(r/500+o-16/116)/7.787:95.047*Math.pow(r/500+o,3),n=n/108.883<=.008859?n=108.883*(o-s/200-16/116)/7.787:108.883*Math.pow(o-s/200,3),[e,i,n]}function F(t){var e,i,n,o=t[0],a=t[1],r=t[2];return e=Math.atan2(r,a),i=360*e/2/Math.PI,i<0&&(i+=360),n=Math.sqrt(a*a+r*r),[o,n,i]}function P(t){return K(L(t))}function B(t){var e,i,n,o=t[0],a=t[1],r=t[2];return n=r/360*2*Math.PI,e=a*Math.cos(n),i=a*Math.sin(n),[o,e,i]}function $(t){return L(B(t))}function z(t){return P(B(t))}function H(t){return G[t]}function W(t){return i(H(t))}function q(t){return n(H(t))}function j(t){return o(H(t))}function V(t){return a(H(t))}function U(t){return d(H(t))}function Y(t){return l(H(t))}e.exports={rgb2hsl:i,rgb2hsv:n,rgb2hwb:o,rgb2cmyk:a,rgb2keyword:s,rgb2xyz:l,rgb2lab:d,rgb2lch:c,hsl2rgb:h,hsl2hsv:u,hsl2hwb:f,hsl2cmyk:p,hsl2keyword:m,hsv2rgb:v,hsv2hsl:T,hsv2hwb:E,hsv2cmyk:C,hsv2keyword:y,hwb2rgb:D,hwb2hsl:I,hwb2hsv:O,hwb2cmyk:R,hwb2keyword:x,cmyk2rgb:w,cmyk2hsl:k,cmyk2hsv:_,cmyk2hwb:S,cmyk2keyword:N,keyword2rgb:H,keyword2hsl:W,keyword2hsv:q,keyword2hwb:j,keyword2cmyk:V,keyword2lab:U,keyword2xyz:Y,xyz2rgb:K,xyz2lab:A,xyz2lch:M,lab2xyz:L,lab2rgb:P,lab2lch:F,lch2lab:B,lch2xyz:$,lch2rgb:z};var G={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},X={};for(var Z in G)X[JSON.stringify(G[Z])]=Z},{}],4:[function(t,e){var i=t(3),n=function(){return new l};for(var o in i){n[o+"Raw"]=function(t){return function(e){return"number"==typeof e&&(e=Array.prototype.slice.call(arguments)),i[t](e)}}(o);var a=/(\w+)2(\w+)/.exec(o),r=a[1],s=a[2];n[r]=n[r]||{},n[r][s]=n[o]=function(t){return function(e){"number"==typeof e&&(e=Array.prototype.slice.call(arguments));var n=i[t](e);if("string"==typeof n||n===undefined)return n;for(var o=0;o<n.length;o++)n[o]=Math.round(n[o]);return n}}(o)}var l=function(){this.convs={}};l.prototype.routeSpace=function(t,e){var i=e[0];return i===undefined?this.getValues(t):("number"==typeof i&&(i=Array.prototype.slice.call(e)),this.setValues(t,i))},l.prototype.setValues=function(t,e){return this.space=t,this.convs={},this.convs[t]=e,this},l.prototype.getValues=function(t){var e=this.convs[t];if(!e){var i=this.space,o=this.convs[i];e=n[i][t](o),this.convs[t]=e}return e},["rgb","hsl","hsv","cmyk","keyword"].forEach(function(t){l.prototype[t]=function(){return this.routeSpace(t,arguments)}}),e.exports=n},{3:3}],5:[function(t,e){"use strict";e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},{}],6:[function(e,i,n){!function(e,o){"object"==typeof n&&void 0!==i?i.exports=o():"function"==typeof t&&t.amd?t(o):e.moment=o()}(this,function(){"use strict";function t(){return kn.apply(null,arguments)}function n(t){kn=t}function o(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function a(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function r(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var e;for(e in t)if(t.hasOwnProperty(e))return!1;return!0}function s(t){return void 0===t}function l(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function d(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function c(t,e){var i,n=[];for(i=0;i<t.length;++i)n.push(e(t[i],i));return n}function h(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function u(t,e){for(var i in e)h(e,i)&&(t[i]=e[i]);return h(e,"toString")&&(t.toString=e.toString),h(e,"valueOf")&&(t.valueOf=e.valueOf),t}function f(t,e,i,n){return Re(t,e,i,n,!0).utc()}function p(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function m(t){return null==t._pf&&(t._pf=p()),t._pf}function g(t){if(null==t._isValid){var e=m(t),i=_n.call(e.parsedDateParts,function(t){return null!=t}),n=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&i);if(t._strict&&(n=n&&0===e.charsLeftOver&&0===e.unusedTokens.length&&e.bigHour===undefined),null!=Object.isFrozen&&Object.isFrozen(t))return n;t._isValid=n}return t._isValid}function v(t){var e=f(NaN);return null!=t?u(m(e),t):m(e).userInvalidated=!0,e}function b(t,e){var i,n,o;if(s(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),s(e._i)||(t._i=e._i),s(e._f)||(t._f=e._f),s(e._l)||(t._l=e._l),s(e._strict)||(t._strict=e._strict),s(e._tzm)||(t._tzm=e._tzm),s(e._isUTC)||(t._isUTC=e._isUTC),s(e._offset)||(t._offset=e._offset),s(e._pf)||(t._pf=m(e)),s(e._locale)||(t._locale=e._locale),Sn.length>0)for(i=0;i<Sn.length;i++)n=Sn[i],o=e[n],s(o)||(t[n]=o);return t}function T(e){b(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===Nn&&(Nn=!0,t.updateOffset(this),Nn=!1)}function E(t){return t instanceof T||null!=t&&null!=t._isAMomentObject}function C(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function y(t){var e=+t,i=0;return 0!==e&&isFinite(e)&&(i=C(e)),i}function D(t,e,i){var n,o=Math.min(t.length,e.length),a=Math.abs(t.length-e.length),r=0;for(n=0;n<o;n++)(i&&t[n]!==e[n]||!i&&y(t[n])!==y(e[n]))&&r++;return r+a}function I(e){!1===t.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function O(e,i){var n=!0;return u(function(){if(null!=t.deprecationHandler&&t.deprecationHandler(null,e),n){for(var o,a=[],r=0;r<arguments.length;r++){if(o="","object"==typeof arguments[r]){o+="\n["+r+"] ";for(var s in arguments[0])o+=s+": "+arguments[0][s]+", ";o=o.slice(0,-2)}else o=arguments[r];a.push(o)}I(e+"\nArguments: "+Array.prototype.slice.call(a).join("")+"\n"+(new Error).stack),n=!1}return i.apply(this,arguments)},i)}function R(e,i){null!=t.deprecationHandler&&t.deprecationHandler(e,i),Kn[e]||(I(i),Kn[e]=!0)}function x(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function w(t){var e,i;for(i in t)e=t[i],x(e)?this[i]=e:this["_"+i]=e;this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function k(t,e){var i,n=u({},t);for(i in e)h(e,i)&&(a(t[i])&&a(e[i])?(n[i]={},u(n[i],t[i]),u(n[i],e[i])):null!=e[i]?n[i]=e[i]:delete n[i]);for(i in t)h(t,i)&&!h(e,i)&&a(t[i])&&(n[i]=u({},n[i]));return n}function _(t){null!=t&&this.set(t)}function S(t,e,i){var n=this._calendar[t]||this._calendar.sameElse;return x(n)?n.call(e,i):n}function N(t){var e=this._longDateFormat[t],i=this._longDateFormat[t.toUpperCase()];return e||!i?e:(this._longDateFormat[t]=i.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])}function K(){return this._invalidDate}function A(t){return this._ordinal.replace("%d",t)}function M(t,e,i,n){var o=this._relativeTime[i];return x(o)?o(t,e,i,n):o.replace(/%d/i,t)}function L(t,e){var i=this._relativeTime[t>0?"future":"past"];return x(i)?i(e):i.replace(/%s/i,e)}function F(t,e){var i=t.toLowerCase();zn[i]=zn[i+"s"]=zn[e]=t}function P(t){return"string"==typeof t?zn[t]||zn[t.toLowerCase()]:undefined}function B(t){var e,i,n={};for(i in t)h(t,i)&&(e=P(i))&&(n[e]=t[i]);return n}function $(t,e){Hn[t]=e}function z(t){var e=[];for(var i in t)e.push({unit:i,priority:Hn[i]});return e.sort(function(t,e){return t.priority-e.priority}),e}function H(t,e,i){var n=""+Math.abs(t),o=e-n.length;return(t>=0?i?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+n}function W(t,e,i,n){var o=n;"string"==typeof n&&(o=function(){return this[n]()}),t&&(Vn[t]=o),e&&(Vn[e[0]]=function(){return H(o.apply(this,arguments),e[1],e[2])}),i&&(Vn[i]=function(){return this.localeData().ordinal(o.apply(this,arguments),t)})}function q(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function j(t){var e,i,n=t.match(Wn);for(e=0,i=n.length;e<i;e++)Vn[n[e]]?n[e]=Vn[n[e]]:n[e]=q(n[e]);return function(e){var o,a="";for(o=0;o<i;o++)a+=x(n[o])?n[o].call(e,t):n[o];return a}}function V(t,e){return t.isValid()?(e=U(e,t.localeData()),jn[e]=jn[e]||j(e),jn[e](t)):t.localeData().invalidDate()}function U(t,e){function i(t){return e.longDateFormat(t)||t}var n=5;for(qn.lastIndex=0;n>=0&&qn.test(t);)t=t.replace(qn,i),qn.lastIndex=0,n-=1;return t}function Y(t,e,i){ho[t]=x(e)?e:function(t){return t&&i?i:e}}function G(t,e){return h(ho,t)?ho[t](e._strict,e._locale):new RegExp(X(t))}function X(t){return Z(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,i,n,o){return e||i||n||o}))}function Z(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Q(t,e){var i,n=e;for("string"==typeof t&&(t=[t]),l(e)&&(n=function(t,i){i[e]=y(t)}),i=0;i<t.length;i++)uo[t[i]]=n}function J(t,e){Q(t,function(t,i,n,o){n._w=n._w||{},e(t,n._w,n,o)})}function tt(t,e,i){null!=e&&h(uo,t)&&uo[t](e,i._a,i,t)}function et(t){return it(t)?366:365}function it(t){return t%4==0&&t%100!=0||t%400==0}function nt(){return it(this.year())}function ot(e,i){return function(n){return null!=n?(rt(this,e,n),
t.updateOffset(this,i),this):at(this,e)}}function at(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function rt(t,e,i){t.isValid()&&!isNaN(i)&&("FullYear"===e&&it(t.year())&&1===t.month()&&29===t.date()?t._d["set"+(t._isUTC?"UTC":"")+e](i,t.month(),ct(i,t.month())):t._d["set"+(t._isUTC?"UTC":"")+e](i))}function st(t){return t=P(t),x(this[t])?this[t]():this}function lt(t,e){if("object"==typeof t){t=B(t);for(var i=z(t),n=0;n<i.length;n++)this[i[n].unit](t[i[n].unit])}else if(t=P(t),x(this[t]))return this[t](e);return this}function dt(t,e){return(t%e+e)%e}function ct(t,e){if(isNaN(t)||isNaN(e))return NaN;var i=dt(e,12);return t+=(e-i)/12,1===i?it(t)?29:28:31-i%7%2}function ht(t,e){return t?o(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||Io).test(e)?"format":"standalone"][t.month()]:o(this._months)?this._months:this._months.standalone}function ut(t,e){return t?o(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[Io.test(e)?"format":"standalone"][t.month()]:o(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function ft(t,e,i){var n,o,a,r=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)a=f([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(a,"").toLocaleLowerCase();return i?"MMM"===e?(o=yo.call(this._shortMonthsParse,r),-1!==o?o:null):(o=yo.call(this._longMonthsParse,r),-1!==o?o:null):"MMM"===e?-1!==(o=yo.call(this._shortMonthsParse,r))?o:(o=yo.call(this._longMonthsParse,r),-1!==o?o:null):-1!==(o=yo.call(this._longMonthsParse,r))?o:(o=yo.call(this._shortMonthsParse,r),-1!==o?o:null)}function pt(t,e,i){var n,o,a;if(this._monthsParseExact)return ft.call(this,t,e,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(o=f([2e3,n]),i&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),i||this._monthsParse[n]||(a="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[n]=new RegExp(a.replace(".",""),"i")),i&&"MMMM"===e&&this._longMonthsParse[n].test(t))return n;if(i&&"MMM"===e&&this._shortMonthsParse[n].test(t))return n;if(!i&&this._monthsParse[n].test(t))return n}}function mt(t,e){var i;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=y(e);else if(e=t.localeData().monthsParse(e),!l(e))return t;return i=Math.min(t.date(),ct(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,i),t}function gt(e){return null!=e?(mt(this,e),t.updateOffset(this,!0),this):at(this,"Month")}function vt(){return ct(this.year(),this.month())}function bt(t){return this._monthsParseExact?(h(this,"_monthsRegex")||Et.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(h(this,"_monthsShortRegex")||(this._monthsShortRegex=xo),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function Tt(t){return this._monthsParseExact?(h(this,"_monthsRegex")||Et.call(this),t?this._monthsStrictRegex:this._monthsRegex):(h(this,"_monthsRegex")||(this._monthsRegex=wo),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function Et(){function t(t,e){return e.length-t.length}var e,i,n=[],o=[],a=[];for(e=0;e<12;e++)i=f([2e3,e]),n.push(this.monthsShort(i,"")),o.push(this.months(i,"")),a.push(this.months(i,"")),a.push(this.monthsShort(i,""));for(n.sort(t),o.sort(t),a.sort(t),e=0;e<12;e++)n[e]=Z(n[e]),o[e]=Z(o[e]);for(e=0;e<24;e++)a[e]=Z(a[e]);this._monthsRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function Ct(t,e,i,n,o,a,r){var s=new Date(t,e,i,n,o,a,r);return t<100&&t>=0&&isFinite(s.getFullYear())&&s.setFullYear(t),s}function yt(t){var e=new Date(Date.UTC.apply(null,arguments));return t<100&&t>=0&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function Dt(t,e,i){var n=7+e-i;return-(7+yt(t,0,n).getUTCDay()-e)%7+n-1}function It(t,e,i,n,o){var a,r,s=(7+i-n)%7,l=Dt(t,n,o),d=1+7*(e-1)+s+l;return d<=0?(a=t-1,r=et(a)+d):d>et(t)?(a=t+1,r=d-et(t)):(a=t,r=d),{year:a,dayOfYear:r}}function Ot(t,e,i){var n,o,a=Dt(t.year(),e,i),r=Math.floor((t.dayOfYear()-a-1)/7)+1;return r<1?(o=t.year()-1,n=r+Rt(o,e,i)):r>Rt(t.year(),e,i)?(n=r-Rt(t.year(),e,i),o=t.year()+1):(o=t.year(),n=r),{week:n,year:o}}function Rt(t,e,i){var n=Dt(t,e,i),o=Dt(t+1,e,i);return(et(t)-n+o)/7}function xt(t){return Ot(t,this._week.dow,this._week.doy).week}function wt(){return this._week.dow}function kt(){return this._week.doy}function _t(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function St(t){var e=Ot(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function Nt(t,e){return"string"!=typeof t?t:isNaN(t)?(t=e.weekdaysParse(t),"number"==typeof t?t:null):parseInt(t,10)}function Kt(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function At(t,e){return t?o(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]:o(this._weekdays)?this._weekdays:this._weekdays.standalone}function Mt(t){return t?this._weekdaysShort[t.day()]:this._weekdaysShort}function Lt(t){return t?this._weekdaysMin[t.day()]:this._weekdaysMin}function Ft(t,e,i){var n,o,a,r=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)a=f([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(a,"").toLocaleLowerCase();return i?"dddd"===e?(o=yo.call(this._weekdaysParse,r),-1!==o?o:null):"ddd"===e?(o=yo.call(this._shortWeekdaysParse,r),-1!==o?o:null):(o=yo.call(this._minWeekdaysParse,r),-1!==o?o:null):"dddd"===e?-1!==(o=yo.call(this._weekdaysParse,r))?o:-1!==(o=yo.call(this._shortWeekdaysParse,r))?o:(o=yo.call(this._minWeekdaysParse,r),-1!==o?o:null):"ddd"===e?-1!==(o=yo.call(this._shortWeekdaysParse,r))?o:-1!==(o=yo.call(this._weekdaysParse,r))?o:(o=yo.call(this._minWeekdaysParse,r),-1!==o?o:null):-1!==(o=yo.call(this._minWeekdaysParse,r))?o:-1!==(o=yo.call(this._weekdaysParse,r))?o:(o=yo.call(this._shortWeekdaysParse,r),-1!==o?o:null)}function Pt(t,e,i){var n,o,a;if(this._weekdaysParseExact)return Ft.call(this,t,e,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(o=f([2e3,1]).day(n),i&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(o,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(o,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(o,"").replace(".",".?")+"$","i")),this._weekdaysParse[n]||(a="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[n]=new RegExp(a.replace(".",""),"i")),i&&"dddd"===e&&this._fullWeekdaysParse[n].test(t))return n;if(i&&"ddd"===e&&this._shortWeekdaysParse[n].test(t))return n;if(i&&"dd"===e&&this._minWeekdaysParse[n].test(t))return n;if(!i&&this._weekdaysParse[n].test(t))return n}}function Bt(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=Nt(t,this.localeData()),this.add(t-e,"d")):e}function $t(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function zt(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=Kt(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7}function Ht(t){return this._weekdaysParseExact?(h(this,"_weekdaysRegex")||jt.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(h(this,"_weekdaysRegex")||(this._weekdaysRegex=Ko),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function Wt(t){return this._weekdaysParseExact?(h(this,"_weekdaysRegex")||jt.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(h(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ao),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function qt(t){return this._weekdaysParseExact?(h(this,"_weekdaysRegex")||jt.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(h(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Mo),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function jt(){function t(t,e){return e.length-t.length}var e,i,n,o,a,r=[],s=[],l=[],d=[];for(e=0;e<7;e++)i=f([2e3,1]).day(e),n=this.weekdaysMin(i,""),o=this.weekdaysShort(i,""),a=this.weekdays(i,""),r.push(n),s.push(o),l.push(a),d.push(n),d.push(o),d.push(a);for(r.sort(t),s.sort(t),l.sort(t),d.sort(t),e=0;e<7;e++)s[e]=Z(s[e]),l[e]=Z(l[e]),d[e]=Z(d[e]);this._weekdaysRegex=new RegExp("^("+d.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+r.join("|")+")","i")}function Vt(){return this.hours()%12||12}function Ut(){return this.hours()||24}function Yt(t,e){W(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function Gt(t,e){return e._meridiemParse}function Xt(t){return"p"===(t+"").toLowerCase().charAt(0)}function Zt(t,e,i){return t>11?i?"pm":"PM":i?"am":"AM"}function Qt(t){return t?t.toLowerCase().replace("_","-"):t}function Jt(t){for(var e,i,n,o,a=0;a<t.length;){for(o=Qt(t[a]).split("-"),e=o.length,i=Qt(t[a+1]),i=i?i.split("-"):null;e>0;){if(n=te(o.slice(0,e).join("-")))return n;if(i&&i.length>=e&&D(o,i,!0)>=e-1)break;e--}a++}return null}function te(t){var n=null;if(!$o[t]&&void 0!==i&&i&&i.exports)try{n=Lo._abbr;e("./locale/"+t),ee(n)}catch(t){}return $o[t]}function ee(t,e){var i;return t&&(i=s(e)?oe(t):ie(t,e))&&(Lo=i),Lo._abbr}function ie(t,e){if(null!==e){var i=Bo;if(e.abbr=t,null!=$o[t])R("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=$o[t]._config;else if(null!=e.parentLocale){if(null==$o[e.parentLocale])return zo[e.parentLocale]||(zo[e.parentLocale]=[]),zo[e.parentLocale].push({name:t,config:e}),null;i=$o[e.parentLocale]._config}return $o[t]=new _(k(i,e)),zo[t]&&zo[t].forEach(function(t){ie(t.name,t.config)}),ee(t),$o[t]}return delete $o[t],null}function ne(t,e){if(null!=e){var i,n,o=Bo;n=te(t),null!=n&&(o=n._config),e=k(o,e),i=new _(e),i.parentLocale=$o[t],$o[t]=i,ee(t)}else null!=$o[t]&&(null!=$o[t].parentLocale?$o[t]=$o[t].parentLocale:null!=$o[t]&&delete $o[t]);return $o[t]}function oe(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Lo;if(!o(t)){if(e=te(t))return e;t=[t]}return Jt(t)}function ae(){return An($o)}function re(t){var e,i=t._a;return i&&-2===m(t).overflow&&(e=i[po]<0||i[po]>11?po:i[mo]<1||i[mo]>ct(i[fo],i[po])?mo:i[go]<0||i[go]>24||24===i[go]&&(0!==i[vo]||0!==i[bo]||0!==i[To])?go:i[vo]<0||i[vo]>59?vo:i[bo]<0||i[bo]>59?bo:i[To]<0||i[To]>999?To:-1,m(t)._overflowDayOfYear&&(e<fo||e>mo)&&(e=mo),m(t)._overflowWeeks&&-1===e&&(e=Eo),m(t)._overflowWeekday&&-1===e&&(e=Co),m(t).overflow=e),t}function se(t,e,i){return null!=t?t:null!=e?e:i}function le(e){var i=new Date(t.now());return e._useUTC?[i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()]:[i.getFullYear(),i.getMonth(),i.getDate()]}function de(t){var e,i,n,o,a,r=[];if(!t._d){for(n=le(t),t._w&&null==t._a[mo]&&null==t._a[po]&&ce(t),null!=t._dayOfYear&&(a=se(t._a[fo],n[fo]),(t._dayOfYear>et(a)||0===t._dayOfYear)&&(m(t)._overflowDayOfYear=!0),i=yt(a,0,t._dayOfYear),t._a[po]=i.getUTCMonth(),t._a[mo]=i.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=r[e]=n[e];for(;e<7;e++)t._a[e]=r[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[go]&&0===t._a[vo]&&0===t._a[bo]&&0===t._a[To]&&(t._nextDay=!0,t._a[go]=0),t._d=(t._useUTC?yt:Ct).apply(null,r),o=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[go]=24),t._w&&"undefined"!=typeof t._w.d&&t._w.d!==o&&(m(t).weekdayMismatch=!0)}}function ce(t){var e,i,n,o,a,r,s,l;if(e=t._w,null!=e.GG||null!=e.W||null!=e.E)a=1,r=4,i=se(e.GG,t._a[fo],Ot(xe(),1,4).year),n=se(e.W,1),((o=se(e.E,1))<1||o>7)&&(l=!0);else{a=t._locale._week.dow,r=t._locale._week.doy;var d=Ot(xe(),a,r);i=se(e.gg,t._a[fo],d.year),n=se(e.w,d.week),null!=e.d?((o=e.d)<0||o>6)&&(l=!0):null!=e.e?(o=e.e+a,(e.e<0||e.e>6)&&(l=!0)):o=a}n<1||n>Rt(i,a,r)?m(t)._overflowWeeks=!0:null!=l?m(t)._overflowWeekday=!0:(s=It(i,n,o,a,r),t._a[fo]=s.year,t._dayOfYear=s.dayOfYear)}function he(t){var e,i,n,o,a,r,s=t._i,l=Ho.exec(s)||Wo.exec(s);if(l){for(m(t).iso=!0,e=0,i=jo.length;e<i;e++)if(jo[e][1].exec(l[1])){o=jo[e][0],n=!1!==jo[e][2];break}if(null==o)return void(t._isValid=!1);if(l[3]){for(e=0,i=Vo.length;e<i;e++)if(Vo[e][1].exec(l[3])){a=(l[2]||" ")+Vo[e][0];break}if(null==a)return void(t._isValid=!1)}if(!n&&null!=a)return void(t._isValid=!1);if(l[4]){if(!qo.exec(l[4]))return void(t._isValid=!1);r="Z"}t._f=o+(a||"")+(r||""),Te(t)}else t._isValid=!1}function ue(t,e,i,n,o,a){var r=[fe(t),Ro.indexOf(e),parseInt(i,10),parseInt(n,10),parseInt(o,10)];return a&&r.push(parseInt(a,10)),r}function fe(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function pe(t){return t.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}function me(t,e,i){if(t){if(So.indexOf(t)!==new Date(e[0],e[1],e[2]).getDay())return m(i).weekdayMismatch=!0,i._isValid=!1,!1}return!0}function ge(t,e,i){if(t)return Go[t];if(e)return 0;var n=parseInt(i,10),o=n%100;return(n-o)/100*60+o}function ve(t){var e=Yo.exec(pe(t._i));if(e){var i=ue(e[4],e[3],e[2],e[5],e[6],e[7]);if(!me(e[1],i,t))return;t._a=i,t._tzm=ge(e[8],e[9],e[10]),t._d=yt.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),m(t).rfc2822=!0}else t._isValid=!1}function be(e){var i=Uo.exec(e._i);if(null!==i)return void(e._d=new Date(+i[1]));he(e),!1===e._isValid&&(delete e._isValid,ve(e),!1===e._isValid&&(delete e._isValid,t.createFromInputFallback(e)))}function Te(e){if(e._f===t.ISO_8601)return void he(e);if(e._f===t.RFC_2822)return void ve(e);e._a=[],m(e).empty=!0;var i,n,o,a,r,s=""+e._i,l=s.length,d=0;for(o=U(e._f,e._locale).match(Wn)||[],i=0;i<o.length;i++)a=o[i],n=(s.match(G(a,e))||[])[0],n&&(r=s.substr(0,s.indexOf(n)),r.length>0&&m(e).unusedInput.push(r),s=s.slice(s.indexOf(n)+n.length),d+=n.length),Vn[a]?(n?m(e).empty=!1:m(e).unusedTokens.push(a),tt(a,n,e)):e._strict&&!n&&m(e).unusedTokens.push(a);m(e).charsLeftOver=l-d,s.length>0&&m(e).unusedInput.push(s),e._a[go]<=12&&!0===m(e).bigHour&&e._a[go]>0&&(m(e).bigHour=undefined),m(e).parsedDateParts=e._a.slice(0),m(e).meridiem=e._meridiem,e._a[go]=Ee(e._locale,e._a[go],e._meridiem),de(e),re(e)}function Ee(t,e,i){var n;return null==i?e:null!=t.meridiemHour?t.meridiemHour(e,i):null!=t.isPM?(n=t.isPM(i),n&&e<12&&(e+=12),n||12!==e||(e=0),e):e}function Ce(t){var e,i,n,o,a;if(0===t._f.length)return m(t).invalidFormat=!0,void(t._d=new Date(NaN));for(o=0;o<t._f.length;o++)a=0,e=b({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[o],Te(e),g(e)&&(a+=m(e).charsLeftOver,a+=10*m(e).unusedTokens.length,m(e).score=a,(null==n||a<n)&&(n=a,i=e));u(t,i||e)}function ye(t){if(!t._d){var e=B(t._i);t._a=c([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),de(t)}}function De(t){var e=new T(re(Ie(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=undefined),e}function Ie(t){var e=t._i,i=t._f;return t._locale=t._locale||oe(t._l),null===e||i===undefined&&""===e?v({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),E(e)?new T(re(e)):(d(e)?t._d=e:o(i)?Ce(t):i?Te(t):Oe(t),g(t)||(t._d=null),t))}function Oe(e){var i=e._i;s(i)?e._d=new Date(t.now()):d(i)?e._d=new Date(i.valueOf()):"string"==typeof i?be(e):o(i)?(e._a=c(i.slice(0),function(t){return parseInt(t,10)}),de(e)):a(i)?ye(e):l(i)?e._d=new Date(i):t.createFromInputFallback(e)}function Re(t,e,i,n,s){var l={};return!0!==i&&!1!==i||(n=i,i=undefined),(a(t)&&r(t)||o(t)&&0===t.length)&&(t=undefined),l._isAMomentObject=!0,l._useUTC=l._isUTC=s,l._l=i,l._i=t,l._f=e,l._strict=n,De(l)}function xe(t,e,i,n){return Re(t,e,i,n,!1)}function we(t,e){var i,n;if(1===e.length&&o(e[0])&&(e=e[0]),!e.length)return xe();for(i=e[0],n=1;n<e.length;++n)e[n].isValid()&&!e[n][t](i)||(i=e[n]);return i}function ke(){return we("isBefore",[].slice.call(arguments,0))}function _e(){return we("isAfter",[].slice.call(arguments,0))}function Se(t){for(var e in t)if(-1===yo.call(Jo,e)||null!=t[e]&&isNaN(t[e]))return!1;for(var i=!1,n=0;n<Jo.length;++n)if(t[Jo[n]]){if(i)return!1;parseFloat(t[Jo[n]])!==y(t[Jo[n]])&&(i=!0)}return!0}function Ne(){return this._isValid}function Ke(){return Qe(NaN)}function Ae(t){var e=B(t),i=e.year||0,n=e.quarter||0,o=e.month||0,a=e.week||0,r=e.day||0,s=e.hour||0,l=e.minute||0,d=e.second||0,c=e.millisecond||0;this._isValid=Se(e),this._milliseconds=+c+1e3*d+6e4*l+1e3*s*60*60,this._days=+r+7*a,this._months=+o+3*n+12*i,this._data={},this._locale=oe(),this._bubble()}function Me(t){return t instanceof Ae}function Le(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function Fe(t,e){W(t,0,0,function(){var t=this.utcOffset(),i="+";return t<0&&(t=-t,i="-"),i+H(~~(t/60),2)+e+H(~~t%60,2)})}function Pe(t,e){var i=(e||"").match(t);if(null===i)return null;var n=i[i.length-1]||[],o=(n+"").match(ta)||["-",0,0],a=60*o[1]+y(o[2]);return 0===a?0:"+"===o[0]?a:-a}function Be(e,i){var n,o;return i._isUTC?(n=i.clone(),o=(E(e)||d(e)?e.valueOf():xe(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+o),t.updateOffset(n,!1),n):xe(e).local()}function $e(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function ze(e,i,n){var o,a=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=Pe(so,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&i&&(o=$e(this)),this._offset=e,this._isUTC=!0,null!=o&&this.add(o,"m"),a!==e&&(!i||this._changeInProgress?ni(this,Qe(e-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?a:$e(this)}function He(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function We(t){return this.utcOffset(0,t)}function qe(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract($e(this),"m")),this}function je(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=Pe(ro,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this}function Ve(t){return!!this.isValid()&&(t=t?xe(t).utcOffset():0,(this.utcOffset()-t)%60==0)}function Ue(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Ye(){if(!s(this._isDSTShifted))return this._isDSTShifted;var t={};if(b(t,this),t=Ie(t),t._a){var e=t._isUTC?f(t._a):xe(t._a);this._isDSTShifted=this.isValid()&&D(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Ge(){return!!this.isValid()&&!this._isUTC}function Xe(){return!!this.isValid()&&this._isUTC}function Ze(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function Qe(t,e){var i,n,o,a=t,r=null;return Me(t)?a={ms:t._milliseconds,d:t._days,M:t._months}:l(t)?(a={},e?a[e]=t:a.milliseconds=t):(r=ea.exec(t))?(i="-"===r[1]?-1:1,a={y:0,d:y(r[mo])*i,h:y(r[go])*i,m:y(r[vo])*i,s:y(r[bo])*i,ms:y(Le(1e3*r[To]))*i}):(r=ia.exec(t))?(i="-"===r[1]?-1:(r[1],1),a={y:Je(r[2],i),M:Je(r[3],i),w:Je(r[4],i),d:Je(r[5],i),h:Je(r[6],i),m:Je(r[7],i),s:Je(r[8],i)}):null==a?a={}:"object"==typeof a&&("from"in a||"to"in a)&&(o=ei(xe(a.from),xe(a.to)),a={},a.ms=o.milliseconds,a.M=o.months),n=new Ae(a),Me(t)&&h(t,"_locale")&&(n._locale=t._locale),n}function Je(t,e){var i=t&&parseFloat(t.replace(",","."));return(isNaN(i)?0:i)*e}function ti(t,e){var i={milliseconds:0,months:0};return i.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(i.months,"M").isAfter(e)&&--i.months,i.milliseconds=+e-+t.clone().add(i.months,"M"),i}function ei(t,e){var i;return t.isValid()&&e.isValid()?(e=Be(e,t),t.isBefore(e)?i=ti(t,e):(i=ti(e,t),i.milliseconds=-i.milliseconds,i.months=-i.months),i):{milliseconds:0,months:0}}function ii(t,e){return function(i,n){var o,a;return null===n||isNaN(+n)||(R(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),a=i,i=n,n=a),i="string"==typeof i?+i:i,o=Qe(i,n),ni(this,o,t),this}}function ni(e,i,n,o){var a=i._milliseconds,r=Le(i._days),s=Le(i._months);e.isValid()&&(o=null==o||o,s&&mt(e,at(e,"Month")+s*n),r&&rt(e,"Date",at(e,"Date")+r*n),a&&e._d.setTime(e._d.valueOf()+a*n),o&&t.updateOffset(e,r||s))}function oi(t,e){var i=t.diff(e,"days",!0);return i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse"}function ai(e,i){var n=e||xe(),o=Be(n,this).startOf("day"),a=t.calendarFormat(this,o)||"sameElse",r=i&&(x(i[a])?i[a].call(this,n):i[a]);return this.format(r||this.localeData().calendar(a,this,xe(n)))}function ri(){return new T(this)}function si(t,e){var i=E(t)?t:xe(t);return!(!this.isValid()||!i.isValid())&&(e=P(s(e)?"millisecond":e),"millisecond"===e?this.valueOf()>i.valueOf():i.valueOf()<this.clone().startOf(e).valueOf())}function li(t,e){var i=E(t)?t:xe(t);return!(!this.isValid()||!i.isValid())&&(e=P(s(e)?"millisecond":e),"millisecond"===e?this.valueOf()<i.valueOf():this.clone().endOf(e).valueOf()<i.valueOf())}function di(t,e,i,n){return n=n||"()",("("===n[0]?this.isAfter(t,i):!this.isBefore(t,i))&&(")"===n[1]?this.isBefore(e,i):!this.isAfter(e,i))}function ci(t,e){var i,n=E(t)?t:xe(t);return!(!this.isValid()||!n.isValid())&&(e=P(e||"millisecond"),"millisecond"===e?this.valueOf()===n.valueOf():(i=n.valueOf(),this.clone().startOf(e).valueOf()<=i&&i<=this.clone().endOf(e).valueOf()))}function hi(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function ui(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function fi(t,e,i){var n,o,a;if(!this.isValid())return NaN;if(n=Be(t,this),!n.isValid())return NaN;switch(o=6e4*(n.utcOffset()-this.utcOffset()),e=P(e)){case"year":a=pi(this,n)/12;break;case"month":a=pi(this,n);break;case"quarter":a=pi(this,n)/3;break;case"second":a=(this-n)/1e3;break;case"minute":a=(this-n)/6e4;break;case"hour":a=(this-n)/36e5;break;case"day":a=(this-n-o)/864e5;break;case"week":a=(this-n-o)/6048e5;break;default:a=this-n}return i?a:C(a)}function pi(t,e){var i,n,o=12*(e.year()-t.year())+(e.month()-t.month()),a=t.clone().add(o,"months");return e-a<0?(i=t.clone().add(o-1,"months"),n=(e-a)/(a-i)):(i=t.clone().add(o+1,"months"),n=(e-a)/(i-a)),-(o+n)||0}function mi(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function gi(t){if(!this.isValid())return null;var e=!0!==t,i=e?this.clone().utc():this;return i.year()<0||i.year()>9999?V(i,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):x(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this._d.valueOf()).toISOString().replace("Z",V(i,"Z")):V(i,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function vi(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z");var i="["+t+'("]',n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",o=e+'[")]';return this.format(i+n+"-MM-DD[T]HH:mm:ss.SSS"+o)}function bi(e){e||(e=this.isUtc()?t.defaultFormatUtc:t.defaultFormat);var i=V(this,e);return this.localeData().postformat(i)}function Ti(t,e){return this.isValid()&&(E(t)&&t.isValid()||xe(t).isValid())?Qe({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function Ei(t){return this.from(xe(),t)}function Ci(t,e){return this.isValid()&&(E(t)&&t.isValid()||xe(t).isValid())?Qe({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function yi(t){return this.to(xe(),t)}function Di(t){var e;return t===undefined?this._locale._abbr:(e=oe(t),null!=e&&(this._locale=e),this)}function Ii(){return this._locale}function Oi(t){switch(t=P(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this}function Ri(t){return(t=P(t))===undefined||"millisecond"===t?this:("date"===t&&(t="day"),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms"))}function xi(){return this._d.valueOf()-6e4*(this._offset||0)}function wi(){return Math.floor(this.valueOf()/1e3)}function ki(){return new Date(this.valueOf())}function _i(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function Si(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function Ni(){return this.isValid()?this.toISOString():null}function Ki(){return g(this)}function Ai(){return u({},m(this))}function Mi(){return m(this).overflow}function Li(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Fi(t,e){W(0,[t,t.length],0,e)}function Pi(t){return Hi.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Bi(t){return Hi.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function $i(){return Rt(this.year(),1,4)}function zi(){var t=this.localeData()._week;return Rt(this.year(),t.dow,t.doy)}function Hi(t,e,i,n,o){var a;return null==t?Ot(this,n,o).year:(a=Rt(t,n,o),e>a&&(e=a),Wi.call(this,t,e,i,n,o))}function Wi(t,e,i,n,o){var a=It(t,e,i,n,o),r=yt(a.year,0,a.dayOfYear);return this.year(r.getUTCFullYear()),this.month(r.getUTCMonth()),this.date(r.getUTCDate()),this}function qi(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}function ji(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}function Vi(t,e){e[To]=y(1e3*("0."+t))}function Ui(){return this._isUTC?"UTC":""}function Yi(){return this._isUTC?"Coordinated Universal Time":""}function Gi(t){return xe(1e3*t)}function Xi(){return xe.apply(null,arguments).parseZone()}function Zi(t){return t}function Qi(t,e,i,n){var o=oe(),a=f().set(n,e);return o[i](a,t)}function Ji(t,e,i){if(l(t)&&(e=t,t=undefined),t=t||"",null!=e)return Qi(t,e,i,"month");var n,o=[];for(n=0;n<12;n++)o[n]=Qi(t,n,i,"month");return o}function tn(t,e,i,n){"boolean"==typeof t?(l(e)&&(i=e,e=undefined),e=e||""):(e=t,i=e,t=!1,l(e)&&(i=e,e=undefined),e=e||"");var o=oe(),a=t?o._week.dow:0;if(null!=i)return Qi(e,(i+a)%7,n,"day");var r,s=[];for(r=0;r<7;r++)s[r]=Qi(e,(r+a)%7,n,"day");return s}function en(t,e){return Ji(t,e,"months")}function nn(t,e){return Ji(t,e,"monthsShort")}function on(t,e,i){return tn(t,e,i,"weekdays")}function an(t,e,i){return tn(t,e,i,"weekdaysShort")}function rn(t,e,i){return tn(t,e,i,"weekdaysMin")}function sn(){var t=this._data;return this._milliseconds=fa(this._milliseconds),this._days=fa(this._days),this._months=fa(this._months),t.milliseconds=fa(t.milliseconds),t.seconds=fa(t.seconds),t.minutes=fa(t.minutes),t.hours=fa(t.hours),t.months=fa(t.months),t.years=fa(t.years),this}function ln(t,e,i,n){var o=Qe(e,i);return t._milliseconds+=n*o._milliseconds,t._days+=n*o._days,t._months+=n*o._months,t._bubble()}function dn(t,e){return ln(this,t,e,1)}function cn(t,e){return ln(this,t,e,-1)}function hn(t){return t<0?Math.floor(t):Math.ceil(t)}function un(){var t,e,i,n,o,a=this._milliseconds,r=this._days,s=this._months,l=this._data;return a>=0&&r>=0&&s>=0||a<=0&&r<=0&&s<=0||(a+=864e5*hn(pn(s)+r),r=0,s=0),l.milliseconds=a%1e3,t=C(a/1e3),l.seconds=t%60,e=C(t/60),l.minutes=e%60,i=C(e/60),l.hours=i%24,r+=C(i/24),o=C(fn(r)),s+=o,r-=hn(pn(o)),n=C(s/12),s%=12,l.days=r,l.months=s,l.years=n,this}function fn(t){return 4800*t/146097}function pn(t){return 146097*t/4800}function mn(t){if(!this.isValid())return NaN;var e,i,n=this._milliseconds;if("month"===(t=P(t))||"year"===t)return e=this._days+n/864e5,i=this._months+fn(e),"month"===t?i:i/12;switch(e=this._days+Math.round(pn(this._months)),t){case"week":return e/7+n/6048e5;case"day":return e+n/864e5;case"hour":return 24*e+n/36e5;case"minute":return 1440*e+n/6e4;case"second":return 86400*e+n/1e3;case"millisecond":return Math.floor(864e5*e)+n;default:throw new Error("Unknown unit "+t)}}function gn(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*y(this._months/12):NaN}function vn(t){return function(){return this.as(t)}}function bn(){return Qe(this)}function Tn(t){return t=P(t),this.isValid()?this[t+"s"]():NaN}function En(t){return function(){return this.isValid()?this._data[t]:NaN}}function Cn(){return C(this.days()/7)}function yn(t,e,i,n,o){return o.relativeTime(e||1,!!i,t,n)}function Dn(t,e,i){var n=Qe(t).abs(),o=ka(n.as("s")),a=ka(n.as("m")),r=ka(n.as("h")),s=ka(n.as("d")),l=ka(n.as("M")),d=ka(n.as("y")),c=o<=_a.ss&&["s",o]||o<_a.s&&["ss",o]||a<=1&&["m"]||a<_a.m&&["mm",a]||r<=1&&["h"]||r<_a.h&&["hh",r]||s<=1&&["d"]||s<_a.d&&["dd",s]||l<=1&&["M"]||l<_a.M&&["MM",l]||d<=1&&["y"]||["yy",d];return c[2]=e,c[3]=+t>0,c[4]=i,yn.apply(null,c)}function In(t){return t===undefined?ka:"function"==typeof t&&(ka=t,!0)}function On(t,e){return _a[t]!==undefined&&(e===undefined?_a[t]:(_a[t]=e,"s"===t&&(_a.ss=e-1),!0))}function Rn(t){if(!this.isValid())return this.localeData().invalidDate();var e=this.localeData(),i=Dn(this,!t,e);return t&&(i=e.pastFuture(+this,i)),e.postformat(i)}function xn(t){return(t>0)-(t<0)||+t}function wn(){if(!this.isValid())return this.localeData().invalidDate();var t,e,i,n=Sa(this._milliseconds)/1e3,o=Sa(this._days),a=Sa(this._months);t=C(n/60),e=C(t/60),n%=60,t%=60,i=C(a/12),a%=12;var r=i,s=a,l=o,d=e,c=t,h=n?n.toFixed(3).replace(/\.?0+$/,""):"",u=this.asSeconds();if(!u)return"P0D";var f=u<0?"-":"",p=xn(this._months)!==xn(u)?"-":"",m=xn(this._days)!==xn(u)?"-":"",g=xn(this._milliseconds)!==xn(u)?"-":"";return f+"P"+(r?p+r+"Y":"")+(s?p+s+"M":"")+(l?m+l+"D":"")+(d||c||h?"T":"")+(d?g+d+"H":"")+(c?g+c+"M":"")+(h?g+h+"S":"")}var kn,_n;_n=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),i=e.length>>>0,n=0;n<i;n++)if(n in e&&t.call(this,e[n],n,e))return!0;return!1};var Sn=t.momentProperties=[],Nn=!1,Kn={};t.suppressDeprecationWarnings=!1,t.deprecationHandler=null;var An;An=Object.keys?Object.keys:function(t){var e,i=[];for(e in t)h(t,e)&&i.push(e);return i};var Mn={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Ln={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Fn="Invalid date",Pn="%d",Bn=/\d{1,2}/,$n={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},zn={},Hn={},Wn=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,qn=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,jn={},Vn={},Un=/\d/,Yn=/\d\d/,Gn=/\d{3}/,Xn=/\d{4}/,Zn=/[+-]?\d{6}/,Qn=/\d\d?/,Jn=/\d\d\d\d?/,to=/\d\d\d\d\d\d?/,eo=/\d{1,3}/,io=/\d{1,4}/,no=/[+-]?\d{1,6}/,oo=/\d+/,ao=/[+-]?\d+/,ro=/Z|[+-]\d\d:?\d\d/gi,so=/Z|[+-]\d\d(?::?\d\d)?/gi,lo=/[+-]?\d+(\.\d{1,3})?/,co=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ho={},uo={},fo=0,po=1,mo=2,go=3,vo=4,bo=5,To=6,Eo=7,Co=8;W("Y",0,0,function(){var t=this.year();return t<=9999?""+t:"+"+t}),W(0,["YY",2],0,function(){return this.year()%100}),W(0,["YYYY",4],0,"year"),W(0,["YYYYY",5],0,"year"),
W(0,["YYYYYY",6,!0],0,"year"),F("year","y"),$("year",1),Y("Y",ao),Y("YY",Qn,Yn),Y("YYYY",io,Xn),Y("YYYYY",no,Zn),Y("YYYYYY",no,Zn),Q(["YYYYY","YYYYYY"],fo),Q("YYYY",function(e,i){i[fo]=2===e.length?t.parseTwoDigitYear(e):y(e)}),Q("YY",function(e,i){i[fo]=t.parseTwoDigitYear(e)}),Q("Y",function(t,e){e[fo]=parseInt(t,10)}),t.parseTwoDigitYear=function(t){return y(t)+(y(t)>68?1900:2e3)};var yo,Do=ot("FullYear",!0);yo=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},W("M",["MM",2],"Mo",function(){return this.month()+1}),W("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),W("MMMM",0,0,function(t){return this.localeData().months(this,t)}),F("month","M"),$("month",8),Y("M",Qn),Y("MM",Qn,Yn),Y("MMM",function(t,e){return e.monthsShortRegex(t)}),Y("MMMM",function(t,e){return e.monthsRegex(t)}),Q(["M","MM"],function(t,e){e[po]=y(t)-1}),Q(["MMM","MMMM"],function(t,e,i,n){var o=i._locale.monthsParse(t,n,i._strict);null!=o?e[po]=o:m(i).invalidMonth=t});var Io=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Oo="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Ro="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),xo=co,wo=co;W("w",["ww",2],"wo","week"),W("W",["WW",2],"Wo","isoWeek"),F("week","w"),F("isoWeek","W"),$("week",5),$("isoWeek",5),Y("w",Qn),Y("ww",Qn,Yn),Y("W",Qn),Y("WW",Qn,Yn),J(["w","ww","W","WW"],function(t,e,i,n){e[n.substr(0,1)]=y(t)});var ko={dow:0,doy:6};W("d",0,"do","day"),W("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),W("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),W("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),W("e",0,0,"weekday"),W("E",0,0,"isoWeekday"),F("day","d"),F("weekday","e"),F("isoWeekday","E"),$("day",11),$("weekday",11),$("isoWeekday",11),Y("d",Qn),Y("e",Qn),Y("E",Qn),Y("dd",function(t,e){return e.weekdaysMinRegex(t)}),Y("ddd",function(t,e){return e.weekdaysShortRegex(t)}),Y("dddd",function(t,e){return e.weekdaysRegex(t)}),J(["dd","ddd","dddd"],function(t,e,i,n){var o=i._locale.weekdaysParse(t,n,i._strict);null!=o?e.d=o:m(i).invalidWeekday=t}),J(["d","e","E"],function(t,e,i,n){e[n]=y(t)});var _o="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),So="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),No="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ko=co,Ao=co,Mo=co;W("H",["HH",2],0,"hour"),W("h",["hh",2],0,Vt),W("k",["kk",2],0,Ut),W("hmm",0,0,function(){return""+Vt.apply(this)+H(this.minutes(),2)}),W("hmmss",0,0,function(){return""+Vt.apply(this)+H(this.minutes(),2)+H(this.seconds(),2)}),W("Hmm",0,0,function(){return""+this.hours()+H(this.minutes(),2)}),W("Hmmss",0,0,function(){return""+this.hours()+H(this.minutes(),2)+H(this.seconds(),2)}),Yt("a",!0),Yt("A",!1),F("hour","h"),$("hour",13),Y("a",Gt),Y("A",Gt),Y("H",Qn),Y("h",Qn),Y("k",Qn),Y("HH",Qn,Yn),Y("hh",Qn,Yn),Y("kk",Qn,Yn),Y("hmm",Jn),Y("hmmss",to),Y("Hmm",Jn),Y("Hmmss",to),Q(["H","HH"],go),Q(["k","kk"],function(t,e){var i=y(t);e[go]=24===i?0:i}),Q(["a","A"],function(t,e,i){i._isPm=i._locale.isPM(t),i._meridiem=t}),Q(["h","hh"],function(t,e,i){e[go]=y(t),m(i).bigHour=!0}),Q("hmm",function(t,e,i){var n=t.length-2;e[go]=y(t.substr(0,n)),e[vo]=y(t.substr(n)),m(i).bigHour=!0}),Q("hmmss",function(t,e,i){var n=t.length-4,o=t.length-2;e[go]=y(t.substr(0,n)),e[vo]=y(t.substr(n,2)),e[bo]=y(t.substr(o)),m(i).bigHour=!0}),Q("Hmm",function(t,e){var i=t.length-2;e[go]=y(t.substr(0,i)),e[vo]=y(t.substr(i))}),Q("Hmmss",function(t,e){var i=t.length-4,n=t.length-2;e[go]=y(t.substr(0,i)),e[vo]=y(t.substr(i,2)),e[bo]=y(t.substr(n))});var Lo,Fo=/[ap]\.?m?\.?/i,Po=ot("Hours",!0),Bo={calendar:Mn,longDateFormat:Ln,invalidDate:Fn,ordinal:Pn,dayOfMonthOrdinalParse:Bn,relativeTime:$n,months:Oo,monthsShort:Ro,week:ko,weekdays:_o,weekdaysMin:No,weekdaysShort:So,meridiemParse:Fo},$o={},zo={},Ho=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Wo=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,qo=/Z|[+-]\d\d(?::?\d\d)?/,jo=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Vo=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Uo=/^\/?Date\((\-?\d+)/i,Yo=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Go={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};t.createFromInputFallback=O("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),t.ISO_8601=function(){},t.RFC_2822=function(){};var Xo=O("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=xe.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:v()}),Zo=O("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=xe.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:v()}),Qo=function(){return Date.now?Date.now():+new Date},Jo=["year","quarter","month","week","day","hour","minute","second","millisecond"];Fe("Z",":"),Fe("ZZ",""),Y("Z",so),Y("ZZ",so),Q(["Z","ZZ"],function(t,e,i){i._useUTC=!0,i._tzm=Pe(so,t)});var ta=/([\+\-]|\d\d)/gi;t.updateOffset=function(){};var ea=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,ia=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;Qe.fn=Ae.prototype,Qe.invalid=Ke;var na=ii(1,"add"),oa=ii(-1,"subtract");t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var aa=O("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===undefined?this.localeData():this.locale(t)});W(0,["gg",2],0,function(){return this.weekYear()%100}),W(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Fi("gggg","weekYear"),Fi("ggggg","weekYear"),Fi("GGGG","isoWeekYear"),Fi("GGGGG","isoWeekYear"),F("weekYear","gg"),F("isoWeekYear","GG"),$("weekYear",1),$("isoWeekYear",1),Y("G",ao),Y("g",ao),Y("GG",Qn,Yn),Y("gg",Qn,Yn),Y("GGGG",io,Xn),Y("gggg",io,Xn),Y("GGGGG",no,Zn),Y("ggggg",no,Zn),J(["gggg","ggggg","GGGG","GGGGG"],function(t,e,i,n){e[n.substr(0,2)]=y(t)}),J(["gg","GG"],function(e,i,n,o){i[o]=t.parseTwoDigitYear(e)}),W("Q",0,"Qo","quarter"),F("quarter","Q"),$("quarter",7),Y("Q",Un),Q("Q",function(t,e){e[po]=3*(y(t)-1)}),W("D",["DD",2],"Do","date"),F("date","D"),$("date",9),Y("D",Qn),Y("DD",Qn,Yn),Y("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient}),Q(["D","DD"],mo),Q("Do",function(t,e){e[mo]=y(t.match(Qn)[0])});var ra=ot("Date",!0);W("DDD",["DDDD",3],"DDDo","dayOfYear"),F("dayOfYear","DDD"),$("dayOfYear",4),Y("DDD",eo),Y("DDDD",Gn),Q(["DDD","DDDD"],function(t,e,i){i._dayOfYear=y(t)}),W("m",["mm",2],0,"minute"),F("minute","m"),$("minute",14),Y("m",Qn),Y("mm",Qn,Yn),Q(["m","mm"],vo);var sa=ot("Minutes",!1);W("s",["ss",2],0,"second"),F("second","s"),$("second",15),Y("s",Qn),Y("ss",Qn,Yn),Q(["s","ss"],bo);var la=ot("Seconds",!1);W("S",0,0,function(){return~~(this.millisecond()/100)}),W(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),W(0,["SSS",3],0,"millisecond"),W(0,["SSSS",4],0,function(){return 10*this.millisecond()}),W(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),W(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),W(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),W(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),W(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),F("millisecond","ms"),$("millisecond",16),Y("S",eo,Un),Y("SS",eo,Yn),Y("SSS",eo,Gn);var da;for(da="SSSS";da.length<=9;da+="S")Y(da,oo);for(da="S";da.length<=9;da+="S")Q(da,Vi);var ca=ot("Milliseconds",!1);W("z",0,0,"zoneAbbr"),W("zz",0,0,"zoneName");var ha=T.prototype;ha.add=na,ha.calendar=ai,ha.clone=ri,ha.diff=fi,ha.endOf=Ri,ha.format=bi,ha.from=Ti,ha.fromNow=Ei,ha.to=Ci,ha.toNow=yi,ha.get=st,ha.invalidAt=Mi,ha.isAfter=si,ha.isBefore=li,ha.isBetween=di,ha.isSame=ci,ha.isSameOrAfter=hi,ha.isSameOrBefore=ui,ha.isValid=Ki,ha.lang=aa,ha.locale=Di,ha.localeData=Ii,ha.max=Zo,ha.min=Xo,ha.parsingFlags=Ai,ha.set=lt,ha.startOf=Oi,ha.subtract=oa,ha.toArray=_i,ha.toObject=Si,ha.toDate=ki,ha.toISOString=gi,ha.inspect=vi,ha.toJSON=Ni,ha.toString=mi,ha.unix=wi,ha.valueOf=xi,ha.creationData=Li,ha.year=Do,ha.isLeapYear=nt,ha.weekYear=Pi,ha.isoWeekYear=Bi,ha.quarter=ha.quarters=qi,ha.month=gt,ha.daysInMonth=vt,ha.week=ha.weeks=_t,ha.isoWeek=ha.isoWeeks=St,ha.weeksInYear=zi,ha.isoWeeksInYear=$i,ha.date=ra,ha.day=ha.days=Bt,ha.weekday=$t,ha.isoWeekday=zt,ha.dayOfYear=ji,ha.hour=ha.hours=Po,ha.minute=ha.minutes=sa,ha.second=ha.seconds=la,ha.millisecond=ha.milliseconds=ca,ha.utcOffset=ze,ha.utc=We,ha.local=qe,ha.parseZone=je,ha.hasAlignedHourOffset=Ve,ha.isDST=Ue,ha.isLocal=Ge,ha.isUtcOffset=Xe,ha.isUtc=Ze,ha.isUTC=Ze,ha.zoneAbbr=Ui,ha.zoneName=Yi,ha.dates=O("dates accessor is deprecated. Use date instead.",ra),ha.months=O("months accessor is deprecated. Use month instead",gt),ha.years=O("years accessor is deprecated. Use year instead",Do),ha.zone=O("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",He),ha.isDSTShifted=O("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Ye);var ua=_.prototype;ua.calendar=S,ua.longDateFormat=N,ua.invalidDate=K,ua.ordinal=A,ua.preparse=Zi,ua.postformat=Zi,ua.relativeTime=M,ua.pastFuture=L,ua.set=w,ua.months=ht,ua.monthsShort=ut,ua.monthsParse=pt,ua.monthsRegex=Tt,ua.monthsShortRegex=bt,ua.week=xt,ua.firstDayOfYear=kt,ua.firstDayOfWeek=wt,ua.weekdays=At,ua.weekdaysMin=Lt,ua.weekdaysShort=Mt,ua.weekdaysParse=Pt,ua.weekdaysRegex=Ht,ua.weekdaysShortRegex=Wt,ua.weekdaysMinRegex=qt,ua.isPM=Xt,ua.meridiem=Zt,ee("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===y(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),t.lang=O("moment.lang is deprecated. Use moment.locale instead.",ee),t.langData=O("moment.langData is deprecated. Use moment.localeData instead.",oe);var fa=Math.abs,pa=vn("ms"),ma=vn("s"),ga=vn("m"),va=vn("h"),ba=vn("d"),Ta=vn("w"),Ea=vn("M"),Ca=vn("y"),ya=En("milliseconds"),Da=En("seconds"),Ia=En("minutes"),Oa=En("hours"),Ra=En("days"),xa=En("months"),wa=En("years"),ka=Math.round,_a={ss:44,s:45,m:45,h:22,d:26,M:11},Sa=Math.abs,Na=Ae.prototype;return Na.isValid=Ne,Na.abs=sn,Na.add=dn,Na.subtract=cn,Na.as=mn,Na.asMilliseconds=pa,Na.asSeconds=ma,Na.asMinutes=ga,Na.asHours=va,Na.asDays=ba,Na.asWeeks=Ta,Na.asMonths=Ea,Na.asYears=Ca,Na.valueOf=gn,Na._bubble=un,Na.clone=bn,Na.get=Tn,Na.milliseconds=ya,Na.seconds=Da,Na.minutes=Ia,Na.hours=Oa,Na.days=Ra,Na.weeks=Cn,Na.months=xa,Na.years=wa,Na.humanize=Rn,Na.toISOString=wn,Na.toString=wn,Na.toJSON=wn,Na.locale=Di,Na.localeData=Ii,Na.toIsoString=O("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",wn),Na.lang=aa,W("X",0,0,"unix"),W("x",0,0,"valueOf"),Y("x",ao),Y("X",lo),Q("X",function(t,e,i){i._d=new Date(1e3*parseFloat(t,10))}),Q("x",function(t,e,i){i._d=new Date(y(t))}),t.version="2.20.1",n(xe),t.fn=ha,t.min=ke,t.max=_e,t.now=Qo,t.utc=f,t.unix=Gi,t.months=en,t.isDate=d,t.locale=ee,t.invalid=v,t.duration=Qe,t.isMoment=E,t.weekdays=on,t.parseZone=Xi,t.localeData=oe,t.isDuration=Me,t.monthsShort=nn,t.weekdaysMin=rn,t.defineLocale=ie,t.updateLocale=ne,t.locales=ae,t.weekdaysShort=an,t.normalizeUnits=P,t.relativeTimeRounding=In,t.relativeTimeThreshold=On,t.calendarFormat=oi,t.prototype=ha,t.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"YYYY-[W]WW",MONTH:"YYYY-MM"},t})},{}],7:[function(t,e){var i=t(29)();i.helpers=t(45),t(27)(i),i.defaults=t(25),i.Element=t(26),i.elements=t(40),i.Interaction=t(28),i.layouts=t(30),i.platform=t(48),i.plugins=t(31),i.Ticks=t(34),t(22)(i),t(23)(i),t(24)(i),t(33)(i),t(32)(i),t(35)(i),t(55)(i),t(53)(i),t(54)(i),t(56)(i),t(57)(i),t(58)(i),t(15)(i),t(16)(i),t(17)(i),t(18)(i),t(19)(i),t(20)(i),t(21)(i),t(8)(i),t(9)(i),t(10)(i),t(11)(i),t(12)(i),t(13)(i),t(14)(i);var n=t(49);for(var o in n)n.hasOwnProperty(o)&&i.plugins.register(n[o]);i.platform.initialize(),e.exports=i,"undefined"!=typeof window&&(window.Chart=i),i.Legend=n.legend._element,i.Title=n.title._element,i.pluginService=i.plugins,i.PluginBase=i.Element.extend({}),i.canvasHelpers=i.helpers.canvas,i.layoutService=i.layouts},{10:10,11:11,12:12,13:13,14:14,15:15,16:16,17:17,18:18,19:19,20:20,21:21,22:22,23:23,24:24,25:25,26:26,27:27,28:28,29:29,30:30,31:31,32:32,33:33,34:34,35:35,40:40,45:45,48:48,49:49,53:53,54:54,55:55,56:56,57:57,58:58,8:8,9:9}],8:[function(t,e){"use strict";e.exports=function(t){t.Bar=function(e,i){return i.type="bar",new t(e,i)}}},{}],9:[function(t,e){"use strict";e.exports=function(t){t.Bubble=function(e,i){return i.type="bubble",new t(e,i)}}},{}],10:[function(t,e){"use strict";e.exports=function(t){t.Doughnut=function(e,i){return i.type="doughnut",new t(e,i)}}},{}],11:[function(t,e){"use strict";e.exports=function(t){t.Line=function(e,i){return i.type="line",new t(e,i)}}},{}],12:[function(t,e){"use strict";e.exports=function(t){t.PolarArea=function(e,i){return i.type="polarArea",new t(e,i)}}},{}],13:[function(t,e){"use strict";e.exports=function(t){t.Radar=function(e,i){return i.type="radar",new t(e,i)}}},{}],14:[function(t,e){"use strict";e.exports=function(t){t.Scatter=function(e,i){return i.type="scatter",new t(e,i)}}},{}],15:[function(t,e){"use strict";function i(t,e){var i,n,o,a,r=t.isHorizontal()?t.width:t.height,s=t.getTicks();for(o=1,a=e.length;o<a;++o)r=Math.min(r,e[o]-e[o-1]);for(o=0,a=s.length;o<a;++o)n=t.getPixelForTick(o),r=o>0?Math.min(r,n-i):r,i=n;return r}function n(t,e,i){var n,o,a=i.barThickness,r=e.stackCount,l=e.pixels[t];return s.isNullOrUndef(a)?(n=e.min*i.categoryPercentage,o=i.barPercentage):(n=a*r,o=1),{chunk:n/r,ratio:o,start:l-n/2}}function o(t,e,i){var n,o,a=e.pixels,r=a[t],s=t>0?a[t-1]:null,l=t<a.length-1?a[t+1]:null,d=i.categoryPercentage;return null===s&&(s=r-(null===l?e.end-r:l-r)),null===l&&(l=r+r-s),n=r-(r-s)/2*d,o=(l-s)/2*d,{chunk:o/e.stackCount,ratio:i.barPercentage,start:n}}var a=t(25),r=t(40),s=t(45);a._set("bar",{hover:{mode:"label"},scales:{xAxes:[{type:"category",categoryPercentage:.8,barPercentage:.9,offset:!0,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}}),a._set("horizontalBar",{hover:{mode:"index",axis:"y"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{position:"left",type:"category",categoryPercentage:.8,barPercentage:.9,offset:!0,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{callbacks:{title:function(t,e){var i="";return t.length>0&&(t[0].yLabel?i=t[0].yLabel:e.labels.length>0&&t[0].index<e.labels.length&&(i=e.labels[t[0].index])),i},label:function(t,e){return(e.datasets[t.datasetIndex].label||"")+": "+t.xLabel}},mode:"index",axis:"y"}}),e.exports=function(t){t.controllers.bar=t.DatasetController.extend({dataElementType:r.Rectangle,initialize:function(){var e,i=this;t.DatasetController.prototype.initialize.apply(i,arguments),e=i.getMeta(),e.stack=i.getDataset().stack,e.bar=!0},update:function(t){var e,i,n=this,o=n.getMeta().data;for(n._ruler=n.getRuler(),e=0,i=o.length;e<i;++e)n.updateElement(o[e],e,t)},updateElement:function(t,e,i){var n=this,o=n.chart,a=n.getMeta(),r=n.getDataset(),l=t.custom||{},d=o.options.elements.rectangle;t._xScale=n.getScaleForId(a.xAxisID),t._yScale=n.getScaleForId(a.yAxisID),t._datasetIndex=n.index,t._index=e,t._model={datasetLabel:r.label,label:o.data.labels[e],borderSkipped:l.borderSkipped?l.borderSkipped:d.borderSkipped,backgroundColor:l.backgroundColor?l.backgroundColor:s.valueAtIndexOrDefault(r.backgroundColor,e,d.backgroundColor),borderColor:l.borderColor?l.borderColor:s.valueAtIndexOrDefault(r.borderColor,e,d.borderColor),borderWidth:l.borderWidth?l.borderWidth:s.valueAtIndexOrDefault(r.borderWidth,e,d.borderWidth)},n.updateElementGeometry(t,e,i),t.pivot()},updateElementGeometry:function(t,e,i){var n=this,o=t._model,a=n.getValueScale(),r=a.getBasePixel(),s=a.isHorizontal(),l=n._ruler||n.getRuler(),d=n.calculateBarValuePixels(n.index,e),c=n.calculateBarIndexPixels(n.index,e,l);o.horizontal=s,o.base=i?r:d.base,o.x=s?i?r:d.head:c.center,o.y=s?c.center:i?r:d.head,o.height=s?c.size:undefined,o.width=s?undefined:c.size},getValueScaleId:function(){return this.getMeta().yAxisID},getIndexScaleId:function(){return this.getMeta().xAxisID},getValueScale:function(){return this.getScaleForId(this.getValueScaleId())},getIndexScale:function(){return this.getScaleForId(this.getIndexScaleId())},_getStacks:function(t){var e,i,n=this,o=n.chart,a=n.getIndexScale(),r=a.options.stacked,s=t===undefined?o.data.datasets.length:t+1,l=[];for(e=0;e<s;++e)i=o.getDatasetMeta(e),i.bar&&o.isDatasetVisible(e)&&(!1===r||!0===r&&-1===l.indexOf(i.stack)||r===undefined&&(i.stack===undefined||-1===l.indexOf(i.stack)))&&l.push(i.stack);return l},getStackCount:function(){return this._getStacks().length},getStackIndex:function(t,e){var i=this._getStacks(t),n=e!==undefined?i.indexOf(e):-1;return-1===n?i.length-1:n},getRuler:function(){var t,e,n,o=this,a=o.getIndexScale(),r=o.getStackCount(),l=o.index,d=a.isHorizontal(),c=d?a.left:a.top,h=c+(d?a.width:a.height),u=[];for(t=0,e=o.getMeta().data.length;t<e;++t)u.push(a.getPixelForValue(null,t,l));return n=s.isNullOrUndef(a.options.barThickness)?i(a,u):-1,{min:n,pixels:u,start:c,end:h,stackCount:r,scale:a}},calculateBarValuePixels:function(t,e){var i,n,o,a,r,s,l=this,d=l.chart,c=l.getMeta(),h=l.getValueScale(),u=d.data.datasets,f=h.getRightValue(u[t].data[e]),p=h.options.stacked,m=c.stack,g=0;if(p||p===undefined&&m!==undefined)for(i=0;i<t;++i)n=d.getDatasetMeta(i),n.bar&&n.stack===m&&n.controller.getValueScaleId()===h.id&&d.isDatasetVisible(i)&&(o=h.getRightValue(u[i].data[e]),(f<0&&o<0||f>=0&&o>0)&&(g+=o));return a=h.getPixelForValue(g),r=h.getPixelForValue(g+f),s=(r-a)/2,{size:s,base:a,head:r,center:r+s/2}},calculateBarIndexPixels:function(t,e,i){var a=this,r=i.scale.options,l="flex"===r.barThickness?o(e,i,r):n(e,i,r),d=a.getStackIndex(t,a.getMeta().stack),c=l.start+l.chunk*d+l.chunk/2,h=Math.min(s.valueOrDefault(r.maxBarThickness,Infinity),l.chunk*l.ratio);return{base:c-h/2,head:c+h/2,center:c,size:h}},draw:function(){var t=this,e=t.chart,i=t.getValueScale(),n=t.getMeta().data,o=t.getDataset(),a=n.length,r=0;for(s.canvas.clipArea(e.ctx,e.chartArea);r<a;++r)isNaN(i.getRightValue(o.data[r]))||n[r].draw();s.canvas.unclipArea(e.ctx)},setHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],i=t._index,n=t.custom||{},o=t._model;o.backgroundColor=n.hoverBackgroundColor?n.hoverBackgroundColor:s.valueAtIndexOrDefault(e.hoverBackgroundColor,i,s.getHoverColor(o.backgroundColor)),o.borderColor=n.hoverBorderColor?n.hoverBorderColor:s.valueAtIndexOrDefault(e.hoverBorderColor,i,s.getHoverColor(o.borderColor)),o.borderWidth=n.hoverBorderWidth?n.hoverBorderWidth:s.valueAtIndexOrDefault(e.hoverBorderWidth,i,o.borderWidth)},removeHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],i=t._index,n=t.custom||{},o=t._model,a=this.chart.options.elements.rectangle;o.backgroundColor=n.backgroundColor?n.backgroundColor:s.valueAtIndexOrDefault(e.backgroundColor,i,a.backgroundColor),o.borderColor=n.borderColor?n.borderColor:s.valueAtIndexOrDefault(e.borderColor,i,a.borderColor),o.borderWidth=n.borderWidth?n.borderWidth:s.valueAtIndexOrDefault(e.borderWidth,i,a.borderWidth)}}),t.controllers.horizontalBar=t.controllers.bar.extend({getValueScaleId:function(){return this.getMeta().xAxisID},getIndexScaleId:function(){return this.getMeta().yAxisID}})}},{25:25,40:40,45:45}],16:[function(t,e){"use strict";var i=t(25),n=t(40),o=t(45);i._set("bubble",{hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(){return""},label:function(t,e){var i=e.datasets[t.datasetIndex].label||"",n=e.datasets[t.datasetIndex].data[t.index];return i+": ("+t.xLabel+", "+t.yLabel+", "+n.r+")"}}}}),e.exports=function(t){t.controllers.bubble=t.DatasetController.extend({dataElementType:n.Point,update:function(t){var e=this,i=e.getMeta(),n=i.data;o.each(n,function(i,n){e.updateElement(i,n,t)})},updateElement:function(t,e,i){var n=this,o=n.getMeta(),a=t.custom||{},r=n.getScaleForId(o.xAxisID),s=n.getScaleForId(o.yAxisID),l=n._resolveElementOptions(t,e),d=n.getDataset().data[e],c=n.index,h=i?r.getPixelForDecimal(.5):r.getPixelForValue("object"==typeof d?d:NaN,e,c),u=i?s.getBasePixel():s.getPixelForValue(d,e,c);t._xScale=r,t._yScale=s,t._options=l,t._datasetIndex=c,t._index=e,t._model={backgroundColor:l.backgroundColor,borderColor:l.borderColor,borderWidth:l.borderWidth,hitRadius:l.hitRadius,pointStyle:l.pointStyle,radius:i?0:l.radius,skip:a.skip||isNaN(h)||isNaN(u),x:h,y:u},t.pivot()},setHoverStyle:function(t){var e=t._model,i=t._options;e.backgroundColor=o.valueOrDefault(i.hoverBackgroundColor,o.getHoverColor(i.backgroundColor)),e.borderColor=o.valueOrDefault(i.hoverBorderColor,o.getHoverColor(i.borderColor)),e.borderWidth=o.valueOrDefault(i.hoverBorderWidth,i.borderWidth),e.radius=i.radius+i.hoverRadius},removeHoverStyle:function(t){var e=t._model,i=t._options;e.backgroundColor=i.backgroundColor,e.borderColor=i.borderColor,e.borderWidth=i.borderWidth,e.radius=i.radius},_resolveElementOptions:function(t,e){var i,n,a,r=this,s=r.chart,l=s.data.datasets,d=l[r.index],c=t.custom||{},h=s.options.elements.point,u=o.options.resolve,f=d.data[e],p={},m={chart:s,dataIndex:e,dataset:d,datasetIndex:r.index},g=["backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth","hoverRadius","hitRadius","pointStyle"];for(i=0,n=g.length;i<n;++i)a=g[i],p[a]=u([c[a],d[a],h[a]],m,e);return p.radius=u([c.radius,f?f.r:undefined,d.radius,h.radius],m,e),p}})}},{25:25,40:40,45:45}],17:[function(t,e){"use strict";var i=t(25),n=t(40),o=t(45);i._set("doughnut",{animation:{animateRotate:!0,animateScale:!1},hover:{mode:"single"},legendCallback:function(t){var e=[];e.push('<ul class="'+t.id+'-legend">');var i=t.data,n=i.datasets,o=i.labels;if(n.length)for(var a=0;a<n[0].data.length;++a)e.push('<li><span style="background-color:'+n[0].backgroundColor[a]+'"></span>'),o[a]&&e.push(o[a]),e.push("</li>");return e.push("</ul>"),e.join("")},legend:{labels:{generateLabels:function(t){var e=t.data;return e.labels.length&&e.datasets.length?e.labels.map(function(i,n){var a=t.getDatasetMeta(0),r=e.datasets[0],s=a.data[n],l=s&&s.custom||{},d=o.valueAtIndexOrDefault,c=t.options.elements.arc;return{text:i,fillStyle:l.backgroundColor?l.backgroundColor:d(r.backgroundColor,n,c.backgroundColor),strokeStyle:l.borderColor?l.borderColor:d(r.borderColor,n,c.borderColor),lineWidth:l.borderWidth?l.borderWidth:d(r.borderWidth,n,c.borderWidth),hidden:isNaN(r.data[n])||a.data[n].hidden,index:n}}):[]}},onClick:function(t,e){var i,n,o,a=e.index,r=this.chart;for(i=0,n=(r.data.datasets||[]).length;i<n;++i)o=r.getDatasetMeta(i),o.data[a]&&(o.data[a].hidden=!o.data[a].hidden);r.update()}},cutoutPercentage:50,rotation:-.5*Math.PI,circumference:2*Math.PI,tooltips:{callbacks:{title:function(){return""},label:function(t,e){var i=e.labels[t.index],n=": "+e.datasets[t.datasetIndex].data[t.index];return o.isArray(i)?(i=i.slice(),i[0]+=n):i+=n,i}}}}),i._set("pie",o.clone(i.doughnut)),i._set("pie",{cutoutPercentage:0}),e.exports=function(t){t.controllers.doughnut=t.controllers.pie=t.DatasetController.extend({dataElementType:n.Arc,linkScales:o.noop,getRingIndex:function(t){for(var e=0,i=0;i<t;++i)this.chart.isDatasetVisible(i)&&++e;return e},update:function(t){var e=this,i=e.chart,n=i.chartArea,a=i.options,r=a.elements.arc,s=n.right-n.left-r.borderWidth,l=n.bottom-n.top-r.borderWidth,d=Math.min(s,l),c={x:0,y:0},h=e.getMeta(),u=a.cutoutPercentage,f=a.circumference;if(f<2*Math.PI){var p=a.rotation%(2*Math.PI);p+=2*Math.PI*(p>=Math.PI?-1:p<-Math.PI?1:0);var m=p+f,g={x:Math.cos(p),y:Math.sin(p)},v={x:Math.cos(m),y:Math.sin(m)},b=p<=0&&m>=0||p<=2*Math.PI&&2*Math.PI<=m,T=p<=.5*Math.PI&&.5*Math.PI<=m||p<=2.5*Math.PI&&2.5*Math.PI<=m,E=p<=-Math.PI&&-Math.PI<=m||p<=Math.PI&&Math.PI<=m,C=p<=.5*-Math.PI&&.5*-Math.PI<=m||p<=1.5*Math.PI&&1.5*Math.PI<=m,y=u/100,D={x:E?-1:Math.min(g.x*(g.x<0?1:y),v.x*(v.x<0?1:y)),y:C?-1:Math.min(g.y*(g.y<0?1:y),v.y*(v.y<0?1:y))},I={x:b?1:Math.max(g.x*(g.x>0?1:y),v.x*(v.x>0?1:y)),y:T?1:Math.max(g.y*(g.y>0?1:y),v.y*(v.y>0?1:y))},O={width:.5*(I.x-D.x),height:.5*(I.y-D.y)};d=Math.min(s/O.width,l/O.height),c={x:-.5*(I.x+D.x),y:-.5*(I.y+D.y)}}i.borderWidth=e.getMaxBorderWidth(h.data),i.outerRadius=Math.max((d-i.borderWidth)/2,0),i.innerRadius=Math.max(u?i.outerRadius/100*u:0,0),i.radiusLength=(i.outerRadius-i.innerRadius)/i.getVisibleDatasetCount(),i.offsetX=c.x*i.outerRadius,i.offsetY=c.y*i.outerRadius,h.total=e.calculateTotal(),e.outerRadius=i.outerRadius-i.radiusLength*e.getRingIndex(e.index),e.innerRadius=Math.max(e.outerRadius-i.radiusLength,0),o.each(h.data,function(i,n){e.updateElement(i,n,t)})},updateElement:function(t,e,i){var n=this,a=n.chart,r=a.chartArea,s=a.options,l=s.animation,d=(r.left+r.right)/2,c=(r.top+r.bottom)/2,h=s.rotation,u=s.rotation,f=n.getDataset(),p=i&&l.animateRotate?0:t.hidden?0:n.calculateCircumference(f.data[e])*(s.circumference/(2*Math.PI)),m=i&&l.animateScale?0:n.innerRadius,g=i&&l.animateScale?0:n.outerRadius,v=o.valueAtIndexOrDefault;o.extend(t,{_datasetIndex:n.index,_index:e,_model:{x:d+a.offsetX,y:c+a.offsetY,startAngle:h,endAngle:u,circumference:p,outerRadius:g,innerRadius:m,label:v(f.label,e,a.data.labels[e])}});var b=t._model;this.removeHoverStyle(t),i&&l.animateRotate||(b.startAngle=0===e?s.rotation:n.getMeta().data[e-1]._model.endAngle,b.endAngle=b.startAngle+b.circumference),t.pivot()},removeHoverStyle:function(e){t.DatasetController.prototype.removeHoverStyle.call(this,e,this.chart.options.elements.arc)},calculateTotal:function(){var t,e=this.getDataset(),i=this.getMeta(),n=0;return o.each(i.data,function(i,o){t=e.data[o],isNaN(t)||i.hidden||(n+=Math.abs(t))}),n},calculateCircumference:function(t){var e=this.getMeta().total;return e>0&&!isNaN(t)?2*Math.PI*(Math.abs(t)/e):0},getMaxBorderWidth:function(t){for(var e,i,n=0,o=this.index,a=t.length,r=0;r<a;r++)e=t[r]._model?t[r]._model.borderWidth:0,i=t[r]._chart?t[r]._chart.config.data.datasets[o].hoverBorderWidth:0,n=e>n?e:n,n=i>n?i:n;return n}})}},{25:25,40:40,45:45}],18:[function(t,e){"use strict";var i=t(25),n=t(40),o=t(45);i._set("line",{showLines:!0,spanGaps:!1,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}}),e.exports=function(t){function e(t,e){return o.valueOrDefault(t.showLine,e.showLines)}t.controllers.line=t.DatasetController.extend({datasetElementType:n.Line,dataElementType:n.Point,update:function(t){var i,n,a,r=this,s=r.getMeta(),l=s.dataset,d=s.data||[],c=r.chart.options,h=c.elements.line,u=r.getScaleForId(s.yAxisID),f=r.getDataset(),p=e(f,c);for(p&&(a=l.custom||{},f.tension!==undefined&&f.lineTension===undefined&&(f.lineTension=f.tension),l._scale=u,l._datasetIndex=r.index,l._children=d,l._model={spanGaps:f.spanGaps?f.spanGaps:c.spanGaps,tension:a.tension?a.tension:o.valueOrDefault(f.lineTension,h.tension),backgroundColor:a.backgroundColor?a.backgroundColor:f.backgroundColor||h.backgroundColor,borderWidth:a.borderWidth?a.borderWidth:f.borderWidth||h.borderWidth,borderColor:a.borderColor?a.borderColor:f.borderColor||h.borderColor,borderCapStyle:a.borderCapStyle?a.borderCapStyle:f.borderCapStyle||h.borderCapStyle,borderDash:a.borderDash?a.borderDash:f.borderDash||h.borderDash,borderDashOffset:a.borderDashOffset?a.borderDashOffset:f.borderDashOffset||h.borderDashOffset,borderJoinStyle:a.borderJoinStyle?a.borderJoinStyle:f.borderJoinStyle||h.borderJoinStyle,fill:a.fill?a.fill:f.fill!==undefined?f.fill:h.fill,steppedLine:a.steppedLine?a.steppedLine:o.valueOrDefault(f.steppedLine,h.stepped),cubicInterpolationMode:a.cubicInterpolationMode?a.cubicInterpolationMode:o.valueOrDefault(f.cubicInterpolationMode,h.cubicInterpolationMode)},l.pivot()),i=0,n=d.length;i<n;++i)r.updateElement(d[i],i,t);for(p&&0!==l._model.tension&&r.updateBezierControlPoints(),i=0,n=d.length;i<n;++i)d[i].pivot()},getPointBackgroundColor:function(t,e){var i=this.chart.options.elements.point.backgroundColor,n=this.getDataset(),a=t.custom||{};return a.backgroundColor?i=a.backgroundColor:n.pointBackgroundColor?i=o.valueAtIndexOrDefault(n.pointBackgroundColor,e,i):n.backgroundColor&&(i=n.backgroundColor),i},getPointBorderColor:function(t,e){var i=this.chart.options.elements.point.borderColor,n=this.getDataset(),a=t.custom||{};return a.borderColor?i=a.borderColor:n.pointBorderColor?i=o.valueAtIndexOrDefault(n.pointBorderColor,e,i):n.borderColor&&(i=n.borderColor),i},getPointBorderWidth:function(t,e){var i=this.chart.options.elements.point.borderWidth,n=this.getDataset(),a=t.custom||{};return isNaN(a.borderWidth)?!isNaN(n.pointBorderWidth)||o.isArray(n.pointBorderWidth)?i=o.valueAtIndexOrDefault(n.pointBorderWidth,e,i):isNaN(n.borderWidth)||(i=n.borderWidth):i=a.borderWidth,i},updateElement:function(t,e,i){var n,a,r=this,s=r.getMeta(),l=t.custom||{},d=r.getDataset(),c=r.index,h=d.data[e],u=r.getScaleForId(s.yAxisID),f=r.getScaleForId(s.xAxisID),p=r.chart.options.elements.point;d.radius!==undefined&&d.pointRadius===undefined&&(d.pointRadius=d.radius),d.hitRadius!==undefined&&d.pointHitRadius===undefined&&(d.pointHitRadius=d.hitRadius),n=f.getPixelForValue("object"==typeof h?h:NaN,e,c),a=i?u.getBasePixel():r.calculatePointY(h,e,c),t._xScale=f,t._yScale=u,t._datasetIndex=c,t._index=e,t._model={x:n,y:a,skip:l.skip||isNaN(n)||isNaN(a),radius:l.radius||o.valueAtIndexOrDefault(d.pointRadius,e,p.radius),pointStyle:l.pointStyle||o.valueAtIndexOrDefault(d.pointStyle,e,p.pointStyle),backgroundColor:r.getPointBackgroundColor(t,e),borderColor:r.getPointBorderColor(t,e),borderWidth:r.getPointBorderWidth(t,e),tension:s.dataset._model?s.dataset._model.tension:0,steppedLine:!!s.dataset._model&&s.dataset._model.steppedLine,hitRadius:l.hitRadius||o.valueAtIndexOrDefault(d.pointHitRadius,e,p.hitRadius)}},calculatePointY:function(t,e,i){var n,o,a,r=this,s=r.chart,l=r.getMeta(),d=r.getScaleForId(l.yAxisID),c=0,h=0;if(d.options.stacked){for(n=0;n<i;n++)if(o=s.data.datasets[n],a=s.getDatasetMeta(n),"line"===a.type&&a.yAxisID===d.id&&s.isDatasetVisible(n)){var u=Number(d.getRightValue(o.data[e]));u<0?h+=u||0:c+=u||0}var f=Number(d.getRightValue(t));return f<0?d.getPixelForValue(h+f):d.getPixelForValue(c+f)}return d.getPixelForValue(t)},updateBezierControlPoints:function(){function t(t,e,i){return Math.max(Math.min(t,i),e)}var e,i,n,a,r,s=this,l=s.getMeta(),d=s.chart.chartArea,c=l.data||[];if(l.dataset._model.spanGaps&&(c=c.filter(function(t){return!t._model.skip})),"monotone"===l.dataset._model.cubicInterpolationMode)o.splineCurveMonotone(c);else for(e=0,i=c.length;e<i;++e)n=c[e],a=n._model,r=o.splineCurve(o.previousItem(c,e)._model,a,o.nextItem(c,e)._model,l.dataset._model.tension),a.controlPointPreviousX=r.previous.x,a.controlPointPreviousY=r.previous.y,a.controlPointNextX=r.next.x,a.controlPointNextY=r.next.y;if(s.chart.options.elements.line.capBezierPoints)for(e=0,i=c.length;e<i;++e)a=c[e]._model,a.controlPointPreviousX=t(a.controlPointPreviousX,d.left,d.right),
a.controlPointPreviousY=t(a.controlPointPreviousY,d.top,d.bottom),a.controlPointNextX=t(a.controlPointNextX,d.left,d.right),a.controlPointNextY=t(a.controlPointNextY,d.top,d.bottom)},draw:function(){var t=this,i=t.chart,n=t.getMeta(),a=n.data||[],r=i.chartArea,s=a.length,l=0;for(o.canvas.clipArea(i.ctx,r),e(t.getDataset(),i.options)&&n.dataset.draw(),o.canvas.unclipArea(i.ctx);l<s;++l)a[l].draw(r)},setHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],i=t._index,n=t.custom||{},a=t._model;a.radius=n.hoverRadius||o.valueAtIndexOrDefault(e.pointHoverRadius,i,this.chart.options.elements.point.hoverRadius),a.backgroundColor=n.hoverBackgroundColor||o.valueAtIndexOrDefault(e.pointHoverBackgroundColor,i,o.getHoverColor(a.backgroundColor)),a.borderColor=n.hoverBorderColor||o.valueAtIndexOrDefault(e.pointHoverBorderColor,i,o.getHoverColor(a.borderColor)),a.borderWidth=n.hoverBorderWidth||o.valueAtIndexOrDefault(e.pointHoverBorderWidth,i,a.borderWidth)},removeHoverStyle:function(t){var e=this,i=e.chart.data.datasets[t._datasetIndex],n=t._index,a=t.custom||{},r=t._model;i.radius!==undefined&&i.pointRadius===undefined&&(i.pointRadius=i.radius),r.radius=a.radius||o.valueAtIndexOrDefault(i.pointRadius,n,e.chart.options.elements.point.radius),r.backgroundColor=e.getPointBackgroundColor(t,n),r.borderColor=e.getPointBorderColor(t,n),r.borderWidth=e.getPointBorderWidth(t,n)}})}},{25:25,40:40,45:45}],19:[function(t,e){"use strict";var i=t(25),n=t(40),o=t(45);i._set("polarArea",{scale:{type:"radialLinear",angleLines:{display:!1},gridLines:{circular:!0},pointLabels:{display:!1},ticks:{beginAtZero:!0}},animation:{animateRotate:!0,animateScale:!0},startAngle:-.5*Math.PI,legendCallback:function(t){var e=[];e.push('<ul class="'+t.id+'-legend">');var i=t.data,n=i.datasets,o=i.labels;if(n.length)for(var a=0;a<n[0].data.length;++a)e.push('<li><span style="background-color:'+n[0].backgroundColor[a]+'"></span>'),o[a]&&e.push(o[a]),e.push("</li>");return e.push("</ul>"),e.join("")},legend:{labels:{generateLabels:function(t){var e=t.data;return e.labels.length&&e.datasets.length?e.labels.map(function(i,n){var a=t.getDatasetMeta(0),r=e.datasets[0],s=a.data[n],l=s.custom||{},d=o.valueAtIndexOrDefault,c=t.options.elements.arc;return{text:i,fillStyle:l.backgroundColor?l.backgroundColor:d(r.backgroundColor,n,c.backgroundColor),strokeStyle:l.borderColor?l.borderColor:d(r.borderColor,n,c.borderColor),lineWidth:l.borderWidth?l.borderWidth:d(r.borderWidth,n,c.borderWidth),hidden:isNaN(r.data[n])||a.data[n].hidden,index:n}}):[]}},onClick:function(t,e){var i,n,o,a=e.index,r=this.chart;for(i=0,n=(r.data.datasets||[]).length;i<n;++i)o=r.getDatasetMeta(i),o.data[a].hidden=!o.data[a].hidden;r.update()}},tooltips:{callbacks:{title:function(){return""},label:function(t,e){return e.labels[t.index]+": "+t.yLabel}}}}),e.exports=function(t){t.controllers.polarArea=t.DatasetController.extend({dataElementType:n.Arc,linkScales:o.noop,update:function(t){var e=this,i=e.chart,n=i.chartArea,a=e.getMeta(),r=i.options,s=r.elements.arc,l=Math.min(n.right-n.left,n.bottom-n.top);i.outerRadius=Math.max((l-s.borderWidth/2)/2,0),i.innerRadius=Math.max(r.cutoutPercentage?i.outerRadius/100*r.cutoutPercentage:1,0),i.radiusLength=(i.outerRadius-i.innerRadius)/i.getVisibleDatasetCount(),e.outerRadius=i.outerRadius-i.radiusLength*e.index,e.innerRadius=e.outerRadius-i.radiusLength,a.count=e.countVisibleElements(),o.each(a.data,function(i,n){e.updateElement(i,n,t)})},updateElement:function(t,e,i){for(var n=this,a=n.chart,r=n.getDataset(),s=a.options,l=s.animation,d=a.scale,c=a.data.labels,h=n.calculateCircumference(r.data[e]),u=d.xCenter,f=d.yCenter,p=0,m=n.getMeta(),g=0;g<e;++g)isNaN(r.data[g])||m.data[g].hidden||++p;var v=s.startAngle,b=t.hidden?0:d.getDistanceFromCenterForValue(r.data[e]),T=v+h*p,E=T+(t.hidden?0:h),C=l.animateScale?0:d.getDistanceFromCenterForValue(r.data[e]);o.extend(t,{_datasetIndex:n.index,_index:e,_scale:d,_model:{x:u,y:f,innerRadius:0,outerRadius:i?C:b,startAngle:i&&l.animateRotate?v:T,endAngle:i&&l.animateRotate?v:E,label:o.valueAtIndexOrDefault(c,e,c[e])}}),n.removeHoverStyle(t),t.pivot()},removeHoverStyle:function(e){t.DatasetController.prototype.removeHoverStyle.call(this,e,this.chart.options.elements.arc)},countVisibleElements:function(){var t=this.getDataset(),e=this.getMeta(),i=0;return o.each(e.data,function(e,n){isNaN(t.data[n])||e.hidden||i++}),i},calculateCircumference:function(t){var e=this.getMeta().count;return e>0&&!isNaN(t)?2*Math.PI/e:0}})}},{25:25,40:40,45:45}],20:[function(t,e){"use strict";var i=t(25),n=t(40),o=t(45);i._set("radar",{scale:{type:"radialLinear"},elements:{line:{tension:0}}}),e.exports=function(t){t.controllers.radar=t.DatasetController.extend({datasetElementType:n.Line,dataElementType:n.Point,linkScales:o.noop,update:function(t){var e=this,i=e.getMeta(),n=i.dataset,a=i.data,r=n.custom||{},s=e.getDataset(),l=e.chart.options.elements.line,d=e.chart.scale;s.tension!==undefined&&s.lineTension===undefined&&(s.lineTension=s.tension),o.extend(i.dataset,{_datasetIndex:e.index,_scale:d,_children:a,_loop:!0,_model:{tension:r.tension?r.tension:o.valueOrDefault(s.lineTension,l.tension),backgroundColor:r.backgroundColor?r.backgroundColor:s.backgroundColor||l.backgroundColor,borderWidth:r.borderWidth?r.borderWidth:s.borderWidth||l.borderWidth,borderColor:r.borderColor?r.borderColor:s.borderColor||l.borderColor,fill:r.fill?r.fill:s.fill!==undefined?s.fill:l.fill,borderCapStyle:r.borderCapStyle?r.borderCapStyle:s.borderCapStyle||l.borderCapStyle,borderDash:r.borderDash?r.borderDash:s.borderDash||l.borderDash,borderDashOffset:r.borderDashOffset?r.borderDashOffset:s.borderDashOffset||l.borderDashOffset,borderJoinStyle:r.borderJoinStyle?r.borderJoinStyle:s.borderJoinStyle||l.borderJoinStyle}}),i.dataset.pivot(),o.each(a,function(i,n){e.updateElement(i,n,t)},e),e.updateBezierControlPoints()},updateElement:function(t,e,i){var n=this,a=t.custom||{},r=n.getDataset(),s=n.chart.scale,l=n.chart.options.elements.point,d=s.getPointPositionForValue(e,r.data[e]);r.radius!==undefined&&r.pointRadius===undefined&&(r.pointRadius=r.radius),r.hitRadius!==undefined&&r.pointHitRadius===undefined&&(r.pointHitRadius=r.hitRadius),o.extend(t,{_datasetIndex:n.index,_index:e,_scale:s,_model:{x:i?s.xCenter:d.x,y:i?s.yCenter:d.y,tension:a.tension?a.tension:o.valueOrDefault(r.lineTension,n.chart.options.elements.line.tension),radius:a.radius?a.radius:o.valueAtIndexOrDefault(r.pointRadius,e,l.radius),backgroundColor:a.backgroundColor?a.backgroundColor:o.valueAtIndexOrDefault(r.pointBackgroundColor,e,l.backgroundColor),borderColor:a.borderColor?a.borderColor:o.valueAtIndexOrDefault(r.pointBorderColor,e,l.borderColor),borderWidth:a.borderWidth?a.borderWidth:o.valueAtIndexOrDefault(r.pointBorderWidth,e,l.borderWidth),pointStyle:a.pointStyle?a.pointStyle:o.valueAtIndexOrDefault(r.pointStyle,e,l.pointStyle),hitRadius:a.hitRadius?a.hitRadius:o.valueAtIndexOrDefault(r.pointHitRadius,e,l.hitRadius)}}),t._model.skip=a.skip?a.skip:isNaN(t._model.x)||isNaN(t._model.y)},updateBezierControlPoints:function(){var t=this.chart.chartArea,e=this.getMeta();o.each(e.data,function(i,n){var a=i._model,r=o.splineCurve(o.previousItem(e.data,n,!0)._model,a,o.nextItem(e.data,n,!0)._model,a.tension);a.controlPointPreviousX=Math.max(Math.min(r.previous.x,t.right),t.left),a.controlPointPreviousY=Math.max(Math.min(r.previous.y,t.bottom),t.top),a.controlPointNextX=Math.max(Math.min(r.next.x,t.right),t.left),a.controlPointNextY=Math.max(Math.min(r.next.y,t.bottom),t.top),i.pivot()})},setHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],i=t.custom||{},n=t._index,a=t._model;a.radius=i.hoverRadius?i.hoverRadius:o.valueAtIndexOrDefault(e.pointHoverRadius,n,this.chart.options.elements.point.hoverRadius),a.backgroundColor=i.hoverBackgroundColor?i.hoverBackgroundColor:o.valueAtIndexOrDefault(e.pointHoverBackgroundColor,n,o.getHoverColor(a.backgroundColor)),a.borderColor=i.hoverBorderColor?i.hoverBorderColor:o.valueAtIndexOrDefault(e.pointHoverBorderColor,n,o.getHoverColor(a.borderColor)),a.borderWidth=i.hoverBorderWidth?i.hoverBorderWidth:o.valueAtIndexOrDefault(e.pointHoverBorderWidth,n,a.borderWidth)},removeHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],i=t.custom||{},n=t._index,a=t._model,r=this.chart.options.elements.point;a.radius=i.radius?i.radius:o.valueAtIndexOrDefault(e.pointRadius,n,r.radius),a.backgroundColor=i.backgroundColor?i.backgroundColor:o.valueAtIndexOrDefault(e.pointBackgroundColor,n,r.backgroundColor),a.borderColor=i.borderColor?i.borderColor:o.valueAtIndexOrDefault(e.pointBorderColor,n,r.borderColor),a.borderWidth=i.borderWidth?i.borderWidth:o.valueAtIndexOrDefault(e.pointBorderWidth,n,r.borderWidth)}})}},{25:25,40:40,45:45}],21:[function(t,e){"use strict";t(25)._set("scatter",{hover:{mode:"single"},scales:{xAxes:[{id:"x-axis-1",type:"linear",position:"bottom"}],yAxes:[{id:"y-axis-1",type:"linear",position:"left"}]},showLines:!1,tooltips:{callbacks:{title:function(){return""},label:function(t){return"("+t.xLabel+", "+t.yLabel+")"}}}}),e.exports=function(t){t.controllers.scatter=t.controllers.line}},{25:25}],22:[function(t,e){"use strict";var i=t(25),n=t(26),o=t(45);i._set("global",{animation:{duration:1e3,easing:"easeOutQuart",onProgress:o.noop,onComplete:o.noop}}),e.exports=function(t){t.Animation=n.extend({chart:null,currentStep:0,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),t.animationService={frameDuration:17,animations:[],dropFrames:0,request:null,addAnimation:function(t,e,i,n){var o,a,r=this.animations;for(e.chart=t,n||(t.animating=!0),o=0,a=r.length;o<a;++o)if(r[o].chart===t)return void(r[o]=e);r.push(e),1===r.length&&this.requestAnimationFrame()},cancelAnimation:function(t){var e=o.findIndex(this.animations,function(e){return e.chart===t});-1!==e&&(this.animations.splice(e,1),t.animating=!1)},requestAnimationFrame:function(){var t=this;null===t.request&&(t.request=o.requestAnimFrame.call(window,function(){t.request=null,t.startDigest()}))},startDigest:function(){var t=this,e=Date.now(),i=0;t.dropFrames>1&&(i=Math.floor(t.dropFrames),t.dropFrames=t.dropFrames%1),t.advance(1+i);var n=Date.now();t.dropFrames+=(n-e)/t.frameDuration,t.animations.length>0&&t.requestAnimationFrame()},advance:function(t){for(var e,i,n=this.animations,a=0;a<n.length;)e=n[a],i=e.chart,e.currentStep=(e.currentStep||0)+t,e.currentStep=Math.min(e.currentStep,e.numSteps),o.callback(e.render,[i,e],i),o.callback(e.onAnimationProgress,[e],i),e.currentStep>=e.numSteps?(o.callback(e.onAnimationComplete,[e],i),i.animating=!1,n.splice(a,1)):++a}},Object.defineProperty(t.Animation.prototype,"animationObject",{get:function(){return this}}),Object.defineProperty(t.Animation.prototype,"chartInstance",{get:function(){return this.chart},set:function(t){this.chart=t}})}},{25:25,26:26,45:45}],23:[function(t,e){"use strict";var i=t(25),n=t(45),o=t(28),a=t(30),r=t(48),s=t(31);e.exports=function(t){function e(t){t=t||{};var e=t.data=t.data||{};return e.datasets=e.datasets||[],e.labels=e.labels||[],t.options=n.configMerge(i.global,i[t.type],t.options||{}),t}function l(e){var i=e.options;n.each(e.scales,function(t){a.removeBox(e,t)}),i=n.configMerge(t.defaults.global,t.defaults[e.config.type],i),e.options=e.config.options=i,e.ensureScalesHaveIDs(),e.buildOrUpdateScales(),e.tooltip._options=i.tooltips,e.tooltip.initialize()}function d(t){return"top"===t||"bottom"===t}t.types={},t.instances={},t.controllers={},n.extend(t.prototype,{construct:function(i,o){var a=this;o=e(o);var s=r.acquireContext(i,o),l=s&&s.canvas,d=l&&l.height,c=l&&l.width;if(a.id=n.uid(),a.ctx=s,a.canvas=l,a.config=o,a.width=c,a.height=d,a.aspectRatio=d?c/d:null,a.options=o.options,a._bufferedRender=!1,a.chart=a,a.controller=a,t.instances[a.id]=a,Object.defineProperty(a,"data",{get:function(){return a.config.data},set:function(t){a.config.data=t}}),!s||!l)return void console.error("Failed to create chart: can't acquire context from the given item");a.initialize(),a.update()},initialize:function(){var t=this;return s.notify(t,"beforeInit"),n.retinaScale(t,t.options.devicePixelRatio),t.bindEvents(),t.options.responsive&&t.resize(!0),t.ensureScalesHaveIDs(),t.buildOrUpdateScales(),t.initToolTip(),s.notify(t,"afterInit"),t},clear:function(){return n.canvas.clear(this),this},stop:function(){return t.animationService.cancelAnimation(this),this},resize:function(t){var e=this,i=e.options,o=e.canvas,a=i.maintainAspectRatio&&e.aspectRatio||null,r=Math.max(0,Math.floor(n.getMaximumWidth(o))),l=Math.max(0,Math.floor(a?r/a:n.getMaximumHeight(o)));if((e.width!==r||e.height!==l)&&(o.width=e.width=r,o.height=e.height=l,o.style.width=r+"px",o.style.height=l+"px",n.retinaScale(e,i.devicePixelRatio),!t)){var d={width:r,height:l};s.notify(e,"resize",[d]),e.options.onResize&&e.options.onResize(e,d),e.stop(),e.update(e.options.responsiveAnimationDuration)}},ensureScalesHaveIDs:function(){var t=this.options,e=t.scales||{},i=t.scale;n.each(e.xAxes,function(t,e){t.id=t.id||"x-axis-"+e}),n.each(e.yAxes,function(t,e){t.id=t.id||"y-axis-"+e}),i&&(i.id=i.id||"scale")},buildOrUpdateScales:function(){var e=this,i=e.options,o=e.scales||{},a=[],r=Object.keys(o).reduce(function(t,e){return t[e]=!1,t},{});i.scales&&(a=a.concat((i.scales.xAxes||[]).map(function(t){return{options:t,dtype:"category",dposition:"bottom"}}),(i.scales.yAxes||[]).map(function(t){return{options:t,dtype:"linear",dposition:"left"}}))),i.scale&&a.push({options:i.scale,dtype:"radialLinear",isDefault:!0,dposition:"chartArea"}),n.each(a,function(i){var a=i.options,s=a.id,l=n.valueOrDefault(a.type,i.dtype);d(a.position)!==d(i.dposition)&&(a.position=i.dposition),r[s]=!0;var c=null;if(s in o&&o[s].type===l)c=o[s],c.options=a,c.ctx=e.ctx,c.chart=e;else{var h=t.scaleService.getScaleConstructor(l);if(!h)return;c=new h({id:s,type:l,options:a,ctx:e.ctx,chart:e}),o[c.id]=c}c.mergeTicksOptions(),i.isDefault&&(e.scale=c)}),n.each(r,function(t,e){t||delete o[e]}),e.scales=o,t.scaleService.addScalesToLayout(this)},buildOrUpdateControllers:function(){var e=this,i=[],o=[];return n.each(e.data.datasets,function(n,a){var r=e.getDatasetMeta(a),s=n.type||e.config.type;if(r.type&&r.type!==s&&(e.destroyDatasetMeta(a),r=e.getDatasetMeta(a)),r.type=s,i.push(r.type),r.controller)r.controller.updateIndex(a),r.controller.linkScales();else{var l=t.controllers[r.type];if(l===undefined)throw new Error('"'+r.type+'" is not a chart type.');r.controller=new l(e,a),o.push(r.controller)}},e),o},resetElements:function(){var t=this;n.each(t.data.datasets,function(e,i){t.getDatasetMeta(i).controller.reset()},t)},reset:function(){this.resetElements(),this.tooltip.initialize()},update:function(t){var e=this;if(t&&"object"==typeof t||(t={duration:t,lazy:arguments[1]}),l(e),s._invalidate(e),!1!==s.notify(e,"beforeUpdate")){e.tooltip._data=e.data;var i=e.buildOrUpdateControllers();n.each(e.data.datasets,function(t,i){e.getDatasetMeta(i).controller.buildOrUpdateElements()},e),e.updateLayout(),e.options.animation&&e.options.animation.duration&&n.each(i,function(t){t.reset()}),e.updateDatasets(),e.tooltip.initialize(),e.lastActive=[],s.notify(e,"afterUpdate"),e._bufferedRender?e._bufferedRequest={duration:t.duration,easing:t.easing,lazy:t.lazy}:e.render(t)}},updateLayout:function(){var t=this;!1!==s.notify(t,"beforeLayout")&&(a.update(this,this.width,this.height),s.notify(t,"afterScaleUpdate"),s.notify(t,"afterLayout"))},updateDatasets:function(){var t=this;if(!1!==s.notify(t,"beforeDatasetsUpdate")){for(var e=0,i=t.data.datasets.length;e<i;++e)t.updateDataset(e);s.notify(t,"afterDatasetsUpdate")}},updateDataset:function(t){var e=this,i=e.getDatasetMeta(t),n={meta:i,index:t};!1!==s.notify(e,"beforeDatasetUpdate",[n])&&(i.controller.update(),s.notify(e,"afterDatasetUpdate",[n]))},render:function(e){var i=this;e&&"object"==typeof e||(e={duration:e,lazy:arguments[1]});var o=e.duration,a=e.lazy;if(!1!==s.notify(i,"beforeRender")){var r=i.options.animation,l=function(t){s.notify(i,"afterRender"),n.callback(r&&r.onComplete,[t],i)};if(r&&(void 0!==o&&0!==o||void 0===o&&0!==r.duration)){var d=new t.Animation({numSteps:(o||r.duration)/16.66,easing:e.easing||r.easing,render:function(t,e){var i=n.easing.effects[e.easing],o=e.currentStep,a=o/e.numSteps;t.draw(i(a),a,o)},onAnimationProgress:r.onProgress,onAnimationComplete:l});t.animationService.addAnimation(i,d,o,a)}else i.draw(),l(new t.Animation({numSteps:0,chart:i}));return i}},draw:function(t){var e=this;e.clear(),n.isNullOrUndef(t)&&(t=1),e.transition(t),!1!==s.notify(e,"beforeDraw",[t])&&(n.each(e.boxes,function(t){t.draw(e.chartArea)},e),e.scale&&e.scale.draw(),e.drawDatasets(t),e._drawTooltip(t),s.notify(e,"afterDraw",[t]))},transition:function(t){for(var e=this,i=0,n=(e.data.datasets||[]).length;i<n;++i)e.isDatasetVisible(i)&&e.getDatasetMeta(i).controller.transition(t);e.tooltip.transition(t)},drawDatasets:function(t){var e=this;if(!1!==s.notify(e,"beforeDatasetsDraw",[t])){for(var i=(e.data.datasets||[]).length-1;i>=0;--i)e.isDatasetVisible(i)&&e.drawDataset(i,t);s.notify(e,"afterDatasetsDraw",[t])}},drawDataset:function(t,e){var i=this,n=i.getDatasetMeta(t),o={meta:n,index:t,easingValue:e};!1!==s.notify(i,"beforeDatasetDraw",[o])&&(n.controller.draw(e),s.notify(i,"afterDatasetDraw",[o]))},_drawTooltip:function(t){var e=this,i=e.tooltip,n={tooltip:i,easingValue:t};!1!==s.notify(e,"beforeTooltipDraw",[n])&&(i.draw(),s.notify(e,"afterTooltipDraw",[n]))},getElementAtEvent:function(t){return o.modes.single(this,t)},getElementsAtEvent:function(t){return o.modes.label(this,t,{intersect:!0})},getElementsAtXAxis:function(t){return o.modes["x-axis"](this,t,{intersect:!0})},getElementsAtEventForMode:function(t,e,i){var n=o.modes[e];return"function"==typeof n?n(this,t,i):[]},getDatasetAtEvent:function(t){return o.modes.dataset(this,t,{intersect:!0})},getDatasetMeta:function(t){var e=this,i=e.data.datasets[t];i._meta||(i._meta={});var n=i._meta[e.id];return n||(n=i._meta[e.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null}),n},getVisibleDatasetCount:function(){for(var t=0,e=0,i=this.data.datasets.length;e<i;++e)this.isDatasetVisible(e)&&t++;return t},isDatasetVisible:function(t){var e=this.getDatasetMeta(t);return"boolean"==typeof e.hidden?!e.hidden:!this.data.datasets[t].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroyDatasetMeta:function(t){var e=this.id,i=this.data.datasets[t],n=i._meta&&i._meta[e];n&&(n.controller.destroy(),delete i._meta[e])},destroy:function(){var e,i,o=this,a=o.canvas;for(o.stop(),e=0,i=o.data.datasets.length;e<i;++e)o.destroyDatasetMeta(e);a&&(o.unbindEvents(),n.canvas.clear(o),r.releaseContext(o.ctx),o.canvas=null,o.ctx=null),s.notify(o,"destroy"),delete t.instances[o.id]},toBase64Image:function(){return this.canvas.toDataURL.apply(this.canvas,arguments)},initToolTip:function(){var e=this;e.tooltip=new t.Tooltip({_chart:e,_chartInstance:e,_data:e.data,_options:e.options.tooltips},e)},bindEvents:function(){var t=this,e=t._listeners={},i=function(){t.eventHandler.apply(t,arguments)};n.each(t.options.events,function(n){r.addEventListener(t,n,i),e[n]=i}),t.options.responsive&&(i=function(){t.resize()},r.addEventListener(t,"resize",i),e.resize=i)},unbindEvents:function(){var t=this,e=t._listeners;e&&(delete t._listeners,n.each(e,function(e,i){r.removeEventListener(t,i,e)}))},updateHoverStyle:function(t,e,i){var n,o,a,r=i?"setHoverStyle":"removeHoverStyle";for(o=0,a=t.length;o<a;++o)(n=t[o])&&this.getDatasetMeta(n._datasetIndex).controller[r](n)},eventHandler:function(t){var e=this,i=e.tooltip;if(!1!==s.notify(e,"beforeEvent",[t])){e._bufferedRender=!0,e._bufferedRequest=null;var n=e.handleEvent(t);i&&(n=i._start?i.handleEvent(t):n|i.handleEvent(t)),s.notify(e,"afterEvent",[t]);var o=e._bufferedRequest;return o?e.render(o):n&&!e.animating&&(e.stop(),e.render(e.options.hover.animationDuration,!0)),e._bufferedRender=!1,e._bufferedRequest=null,e}},handleEvent:function(t){var e=this,i=e.options||{},o=i.hover,a=!1;return e.lastActive=e.lastActive||[],"mouseout"===t.type?e.active=[]:e.active=e.getElementsAtEventForMode(t,o.mode,o),n.callback(i.onHover||i.hover.onHover,[t["native"],e.active],e),"mouseup"!==t.type&&"click"!==t.type||i.onClick&&i.onClick.call(e,t["native"],e.active),e.lastActive.length&&e.updateHoverStyle(e.lastActive,o.mode,!1),e.active.length&&o.mode&&e.updateHoverStyle(e.active,o.mode,!0),a=!n.arrayEquals(e.active,e.lastActive),e.lastActive=e.active,a}}),t.Controller=t}},{25:25,28:28,30:30,31:31,45:45,48:48}],24:[function(t,e){"use strict";var i=t(45);e.exports=function(t){function e(t,e){if(t._chartjs)return void t._chartjs.listeners.push(e);Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),o.forEach(function(e){var n="onData"+e.charAt(0).toUpperCase()+e.slice(1),o=t[e];Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:function(){var e=Array.prototype.slice.call(arguments),a=o.apply(this,e);return i.each(t._chartjs.listeners,function(t){"function"==typeof t[n]&&t[n].apply(t,e)}),a}})})}function n(t,e){var i=t._chartjs;if(i){var n=i.listeners,a=n.indexOf(e);-1!==a&&n.splice(a,1),n.length>0||(o.forEach(function(e){delete t[e]}),delete t._chartjs)}}var o=["push","pop","shift","splice","unshift"];t.DatasetController=function(t,e){this.initialize(t,e)},i.extend(t.DatasetController.prototype,{datasetElementType:null,dataElementType:null,initialize:function(t,e){var i=this;i.chart=t,i.index=e,i.linkScales(),i.addElements()},updateIndex:function(t){this.index=t},linkScales:function(){var t=this,e=t.getMeta(),i=t.getDataset();null!==e.xAxisID&&e.xAxisID in t.chart.scales||(e.xAxisID=i.xAxisID||t.chart.options.scales.xAxes[0].id),null!==e.yAxisID&&e.yAxisID in t.chart.scales||(e.yAxisID=i.yAxisID||t.chart.options.scales.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(t){return this.chart.scales[t]},reset:function(){this.update(!0)},destroy:function(){this._data&&n(this._data,this)},createMetaDataset:function(){var t=this,e=t.datasetElementType;return e&&new e({_chart:t.chart,_datasetIndex:t.index})},createMetaData:function(t){var e=this,i=e.dataElementType;return i&&new i({_chart:e.chart,_datasetIndex:e.index,_index:t})},addElements:function(){var t,e,i=this,n=i.getMeta(),o=i.getDataset().data||[],a=n.data;for(t=0,e=o.length;t<e;++t)a[t]=a[t]||i.createMetaData(t);n.dataset=n.dataset||i.createMetaDataset()},addElementAndReset:function(t){var e=this.createMetaData(t);this.getMeta().data.splice(t,0,e),this.updateElement(e,t,!0)},buildOrUpdateElements:function(){var t=this,i=t.getDataset(),o=i.data||(i.data=[]);t._data!==o&&(t._data&&n(t._data,t),e(o,t),t._data=o),t.resyncElements()},update:i.noop,transition:function(t){for(var e=this.getMeta(),i=e.data||[],n=i.length,o=0;o<n;++o)i[o].transition(t);e.dataset&&e.dataset.transition(t)},draw:function(){var t=this.getMeta(),e=t.data||[],i=e.length,n=0;for(t.dataset&&t.dataset.draw();n<i;++n)e[n].draw()},removeHoverStyle:function(t,e){var n=this.chart.data.datasets[t._datasetIndex],o=t._index,a=t.custom||{},r=i.valueAtIndexOrDefault,s=t._model;s.backgroundColor=a.backgroundColor?a.backgroundColor:r(n.backgroundColor,o,e.backgroundColor),s.borderColor=a.borderColor?a.borderColor:r(n.borderColor,o,e.borderColor),s.borderWidth=a.borderWidth?a.borderWidth:r(n.borderWidth,o,e.borderWidth)},setHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],n=t._index,o=t.custom||{},a=i.valueAtIndexOrDefault,r=i.getHoverColor,s=t._model;s.backgroundColor=o.hoverBackgroundColor?o.hoverBackgroundColor:a(e.hoverBackgroundColor,n,r(s.backgroundColor)),s.borderColor=o.hoverBorderColor?o.hoverBorderColor:a(e.hoverBorderColor,n,r(s.borderColor)),s.borderWidth=o.hoverBorderWidth?o.hoverBorderWidth:a(e.hoverBorderWidth,n,s.borderWidth)},resyncElements:function(){var t=this,e=t.getMeta(),i=t.getDataset().data,n=e.data.length,o=i.length;o<n?e.data.splice(o,n-o):o>n&&t.insertElements(n,o-n)},insertElements:function(t,e){for(var i=0;i<e;++i)this.addElementAndReset(t+i)},onDataPush:function(){this.insertElements(this.getDataset().data.length-1,arguments.length)},onDataPop:function(){this.getMeta().data.pop()},onDataShift:function(){this.getMeta().data.shift()},onDataSplice:function(t,e){this.getMeta().data.splice(t,e),this.insertElements(t,arguments.length-2)},onDataUnshift:function(){this.insertElements(0,arguments.length)}}),t.DatasetController.extend=i.inherits}},{45:45}],25:[function(t,e){"use strict";var i=t(45);e.exports={_set:function(t,e){return i.merge(this[t]||(this[t]={}),e)}}},{45:45}],26:[function(t,e){"use strict";function i(t,e,i,o){var a,r,s,l,d,c,h,u,f,p=Object.keys(i);for(a=0,r=p.length;a<r;++a)if(s=p[a],c=i[s],e.hasOwnProperty(s)||(e[s]=c),(l=e[s])!==c&&"_"!==s[0]){if(t.hasOwnProperty(s)||(t[s]=l),d=t[s],(h=typeof c)===typeof d)if("string"===h){if(u=n(d),u.valid&&(f=n(c),f.valid)){e[s]=f.mix(u,o).rgbString();continue}}else if("number"===h&&isFinite(d)&&isFinite(c)){e[s]=d+(c-d)*o;continue}e[s]=c}}var n=t(2),o=t(45),a=function(t){o.extend(this,t),this.initialize.apply(this,arguments)};o.extend(a.prototype,{initialize:function(){this.hidden=!1},pivot:function(){var t=this;return t._view||(t._view=o.clone(t._model)),t._start={},t},transition:function(t){var e=this,n=e._model,o=e._start,a=e._view;return n&&1!==t?(a||(a=e._view={}),o||(o=e._start={}),i(o,a,n,t),e):(e._view=n,e._start=null,e)},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return o.isNumber(this._model.x)&&o.isNumber(this._model.y)}}),a.extend=o.inherits,e.exports=a},{2:2,45:45}],27:[function(t,e){"use strict";var i=t(2),n=t(25),o=t(45);e.exports=function(t){function e(t,e,i){var n;return"string"==typeof t?(n=parseInt(t,10),-1!==t.indexOf("%")&&(n=n/100*e.parentNode[i])):n=t,n}function a(t){return t!==undefined&&null!==t&&"none"!==t}function r(t,i,n){var o=document.defaultView,r=t.parentNode,s=o.getComputedStyle(t)[i],l=o.getComputedStyle(r)[i],d=a(s),c=a(l),h=Number.POSITIVE_INFINITY;return d||c?Math.min(d?e(s,t,n):h,c?e(l,r,n):h):"none"}o.configMerge=function(){return o.merge(o.clone(arguments[0]),[].slice.call(arguments,1),{merger:function(e,i,n,a){var r=i[e]||{},s=n[e];"scales"===e?i[e]=o.scaleMerge(r,s):"scale"===e?i[e]=o.merge(r,[t.scaleService.getScaleDefaults(s.type),s]):o._merger(e,i,n,a)}})},o.scaleMerge=function(){return o.merge(o.clone(arguments[0]),[].slice.call(arguments,1),{merger:function(e,i,n,a){if("xAxes"===e||"yAxes"===e){var r,s,l,d=n[e].length;for(i[e]||(i[e]=[]),r=0;r<d;++r)l=n[e][r],s=o.valueOrDefault(l.type,"xAxes"===e?"category":"linear"),r>=i[e].length&&i[e].push({}),!i[e][r].type||l.type&&l.type!==i[e][r].type?o.merge(i[e][r],[t.scaleService.getScaleDefaults(s),l]):o.merge(i[e][r],l)}else o._merger(e,i,n,a)}})},o.where=function(t,e){if(o.isArray(t)&&Array.prototype.filter)return t.filter(e);var i=[];return o.each(t,function(t){e(t)&&i.push(t)}),i},o.findIndex=Array.prototype.findIndex?function(t,e,i){return t.findIndex(e,i)}:function(t,e,i){i=i===undefined?t:i;for(var n=0,o=t.length;n<o;++n)if(e.call(i,t[n],n,t))return n;return-1},o.findNextWhere=function(t,e,i){o.isNullOrUndef(i)&&(i=-1);for(var n=i+1;n<t.length;n++){var a=t[n];if(e(a))return a}},o.findPreviousWhere=function(t,e,i){o.isNullOrUndef(i)&&(i=t.length);for(var n=i-1;n>=0;n--){var a=t[n];if(e(a))return a}},o.isNumber=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},o.almostEquals=function(t,e,i){return Math.abs(t-e)<i},o.almostWhole=function(t,e){var i=Math.round(t);return i-e<t&&i+e>t},o.max=function(t){return t.reduce(function(t,e){return isNaN(e)?t:Math.max(t,e)},Number.NEGATIVE_INFINITY)},o.min=function(t){return t.reduce(function(t,e){return isNaN(e)?t:Math.min(t,e)},Number.POSITIVE_INFINITY)},o.sign=Math.sign?function(t){return Math.sign(t)}:function(t){return t=+t,0===t||isNaN(t)?t:t>0?1:-1},o.log10=Math.log10?function(t){return Math.log10(t)}:function(t){var e=Math.log(t)*Math.LOG10E,i=Math.round(e);return t===Math.pow(10,i)?i:e},o.toRadians=function(t){return t*(Math.PI/180)},o.toDegrees=function(t){return t*(180/Math.PI)},o.getAngleFromPoint=function(t,e){var i=e.x-t.x,n=e.y-t.y,o=Math.sqrt(i*i+n*n),a=Math.atan2(n,i);return a<-.5*Math.PI&&(a+=2*Math.PI),{angle:a,distance:o}},o.distanceBetweenPoints=function(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},o.aliasPixel=function(t){return t%2==0?0:.5},o.splineCurve=function(t,e,i,n){var o=t.skip?e:t,a=e,r=i.skip?e:i,s=Math.sqrt(Math.pow(a.x-o.x,2)+Math.pow(a.y-o.y,2)),l=Math.sqrt(Math.pow(r.x-a.x,2)+Math.pow(r.y-a.y,2)),d=s/(s+l),c=l/(s+l);d=isNaN(d)?0:d,c=isNaN(c)?0:c;var h=n*d,u=n*c;return{previous:{x:a.x-h*(r.x-o.x),y:a.y-h*(r.y-o.y)},next:{x:a.x+u*(r.x-o.x),y:a.y+u*(r.y-o.y)}}},o.EPSILON=Number.EPSILON||1e-14,o.splineCurveMonotone=function(t){var e,i,n,a,r=(t||[]).map(function(t){return{model:t._model,deltaK:0,mK:0}}),s=r.length;for(e=0;e<s;++e)if(n=r[e],!n.model.skip){if(i=e>0?r[e-1]:null,(a=e<s-1?r[e+1]:null)&&!a.model.skip){var l=a.model.x-n.model.x;n.deltaK=0!==l?(a.model.y-n.model.y)/l:0}!i||i.model.skip?n.mK=n.deltaK:!a||a.model.skip?n.mK=i.deltaK:this.sign(i.deltaK)!==this.sign(n.deltaK)?n.mK=0:n.mK=(i.deltaK+n.deltaK)/2}var d,c,h,u;for(e=0;e<s-1;++e)n=r[e],a=r[e+1],n.model.skip||a.model.skip||(o.almostEquals(n.deltaK,0,this.EPSILON)?n.mK=a.mK=0:(d=n.mK/n.deltaK,c=a.mK/n.deltaK,(u=Math.pow(d,2)+Math.pow(c,2))<=9||(h=3/Math.sqrt(u),n.mK=d*h*n.deltaK,a.mK=c*h*n.deltaK)));var f;for(e=0;e<s;++e)n=r[e],n.model.skip||(i=e>0?r[e-1]:null,a=e<s-1?r[e+1]:null,i&&!i.model.skip&&(f=(n.model.x-i.model.x)/3,n.model.controlPointPreviousX=n.model.x-f,n.model.controlPointPreviousY=n.model.y-f*n.mK),a&&!a.model.skip&&(f=(a.model.x-n.model.x)/3,n.model.controlPointNextX=n.model.x+f,n.model.controlPointNextY=n.model.y+f*n.mK))},o.nextItem=function(t,e,i){return i?e>=t.length-1?t[0]:t[e+1]:e>=t.length-1?t[t.length-1]:t[e+1]},o.previousItem=function(t,e,i){return i?e<=0?t[t.length-1]:t[e-1]:e<=0?t[0]:t[e-1]},o.niceNum=function(t,e){var i=Math.floor(o.log10(t)),n=t/Math.pow(10,i);return(e?n<1.5?1:n<3?2:n<7?5:10:n<=1?1:n<=2?2:n<=5?5:10)*Math.pow(10,i)},o.requestAnimFrame=function(){return"undefined"==typeof window?function(t){t()}:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)}}(),o.getRelativePosition=function(t,e){var i,n,a=t.originalEvent||t,r=t.currentTarget||t.srcElement,s=r.getBoundingClientRect(),l=a.touches;l&&l.length>0?(i=l[0].clientX,n=l[0].clientY):(i=a.clientX,n=a.clientY);var d=parseFloat(o.getStyle(r,"padding-left")),c=parseFloat(o.getStyle(r,"padding-top")),h=parseFloat(o.getStyle(r,"padding-right")),u=parseFloat(o.getStyle(r,"padding-bottom")),f=s.right-s.left-d-h,p=s.bottom-s.top-c-u;return i=Math.round((i-s.left-d)/f*r.width/e.currentDevicePixelRatio),n=Math.round((n-s.top-c)/p*r.height/e.currentDevicePixelRatio),{x:i,y:n}},o.getConstraintWidth=function(t){return r(t,"max-width","clientWidth")},o.getConstraintHeight=function(t){return r(t,"max-height","clientHeight")},o.getMaximumWidth=function(t){var e=t.parentNode;if(!e)return t.clientWidth;var i=parseInt(o.getStyle(e,"padding-left"),10),n=parseInt(o.getStyle(e,"padding-right"),10),a=e.clientWidth-i-n,r=o.getConstraintWidth(t);return isNaN(r)?a:Math.min(a,r)},o.getMaximumHeight=function(t){var e=t.parentNode;if(!e)return t.clientHeight;var i=parseInt(o.getStyle(e,"padding-top"),10),n=parseInt(o.getStyle(e,"padding-bottom"),10),a=e.clientHeight-i-n,r=o.getConstraintHeight(t);return isNaN(r)?a:Math.min(a,r)},o.getStyle=function(t,e){return t.currentStyle?t.currentStyle[e]:document.defaultView.getComputedStyle(t,null).getPropertyValue(e)},o.retinaScale=function(t,e){var i=t.currentDevicePixelRatio=e||window.devicePixelRatio||1;if(1!==i){var n=t.canvas,o=t.height,a=t.width;n.height=o*i,n.width=a*i,t.ctx.scale(i,i),n.style.height||n.style.width||(n.style.height=o+"px",n.style.width=a+"px")}},o.fontString=function(t,e,i){return e+" "+t+"px "+i},o.longestText=function(t,e,i,n){n=n||{};var a=n.data=n.data||{},r=n.garbageCollect=n.garbageCollect||[];n.font!==e&&(a=n.data={},r=n.garbageCollect=[],n.font=e),t.font=e;var s=0;o.each(i,function(e){e!==undefined&&null!==e&&!0!==o.isArray(e)?s=o.measureText(t,a,r,s,e):o.isArray(e)&&o.each(e,function(e){e===undefined||null===e||o.isArray(e)||(s=o.measureText(t,a,r,s,e))})});var l=r.length/2;if(l>i.length){for(var d=0;d<l;d++)delete a[r[d]];r.splice(0,l)}return s},o.measureText=function(t,e,i,n,o){var a=e[o]
;return a||(a=e[o]=t.measureText(o).width,i.push(o)),a>n&&(n=a),n},o.numberOfLabelLines=function(t){var e=1;return o.each(t,function(t){o.isArray(t)&&t.length>e&&(e=t.length)}),e},o.color=i?function(t){return t instanceof CanvasGradient&&(t=n.global.defaultColor),i(t)}:function(t){return console.error("Color.js not found!"),t},o.getHoverColor=function(t){return t instanceof CanvasPattern?t:o.color(t).saturate(.5).darken(.1).rgbString()}}},{2:2,25:25,45:45}],28:[function(t,e){"use strict";function i(t,e){return t["native"]?{x:t.x,y:t.y}:l.getRelativePosition(t,e)}function n(t,e){var i,n,o,a,r,s=t.data.datasets;for(n=0,a=s.length;n<a;++n)if(t.isDatasetVisible(n))for(i=t.getDatasetMeta(n),o=0,r=i.data.length;o<r;++o){var l=i.data[o];l._view.skip||e(l)}}function o(t,e){var i=[];return n(t,function(t){t.inRange(e.x,e.y)&&i.push(t)}),i}function a(t,e,i,o){var a=Number.POSITIVE_INFINITY,r=[];return n(t,function(t){if(!i||t.inRange(e.x,e.y)){var n=t.getCenterPoint(),s=o(e,n);s<a?(r=[t],a=s):s===a&&r.push(t)}}),r}function r(t){var e=-1!==t.indexOf("x"),i=-1!==t.indexOf("y");return function(t,n){var o=e?Math.abs(t.x-n.x):0,a=i?Math.abs(t.y-n.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(a,2))}}function s(t,e,n){var s=i(e,t);n.axis=n.axis||"x";var l=r(n.axis),d=n.intersect?o(t,s):a(t,s,!1,l),c=[];return d.length?(t.data.datasets.forEach(function(e,i){if(t.isDatasetVisible(i)){var n=t.getDatasetMeta(i),o=n.data[d[0]._index];o&&!o._view.skip&&c.push(o)}}),c):[]}var l=t(45);e.exports={modes:{single:function(t,e){var o=i(e,t),a=[];return n(t,function(t){if(t.inRange(o.x,o.y))return a.push(t),a}),a.slice(0,1)},label:s,index:s,dataset:function(t,e,n){var s=i(e,t);n.axis=n.axis||"xy";var l=r(n.axis),d=n.intersect?o(t,s):a(t,s,!1,l);return d.length>0&&(d=t.getDatasetMeta(d[0]._datasetIndex).data),d},"x-axis":function(t,e){return s(t,e,{intersect:!1})},point:function(t,e){return o(t,i(e,t))},nearest:function(t,e,n){var o=i(e,t);n.axis=n.axis||"xy";var s=r(n.axis),l=a(t,o,n.intersect,s);return l.length>1&&l.sort(function(t,e){var i=t.getArea(),n=e.getArea(),o=i-n;return 0===o&&(o=t._datasetIndex-e._datasetIndex),o}),l.slice(0,1)},x:function(t,e,o){var a=i(e,t),r=[],s=!1;return n(t,function(t){t.inXRange(a.x)&&r.push(t),t.inRange(a.x,a.y)&&(s=!0)}),o.intersect&&!s&&(r=[]),r},y:function(t,e,o){var a=i(e,t),r=[],s=!1;return n(t,function(t){t.inYRange(a.y)&&r.push(t),t.inRange(a.x,a.y)&&(s=!0)}),o.intersect&&!s&&(r=[]),r}}}},{45:45}],29:[function(t,e){"use strict";t(25)._set("global",{responsive:!0,responsiveAnimationDuration:0,maintainAspectRatio:!0,events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"nearest",intersect:!0,animationDuration:400},onClick:null,defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",showLines:!0,elements:{},layout:{padding:{top:0,right:0,bottom:0,left:0}}}),e.exports=function(){var t=function(t,e){return this.construct(t,e),this};return t.Chart=t,t}},{25:25}],30:[function(t,e){"use strict";function i(t,e){return o.where(t,function(t){return t.position===e})}function n(t,e){t.forEach(function(t,e){return t._tmpIndex_=e,t}),t.sort(function(t,i){var n=e?i:t,o=e?t:i;return n.weight===o.weight?n._tmpIndex_-o._tmpIndex_:n.weight-o.weight}),t.forEach(function(t){delete t._tmpIndex_})}var o=t(45);e.exports={defaults:{},addBox:function(t,e){t.boxes||(t.boxes=[]),e.fullWidth=e.fullWidth||!1,e.position=e.position||"top",e.weight=e.weight||0,t.boxes.push(e)},removeBox:function(t,e){var i=t.boxes?t.boxes.indexOf(e):-1;-1!==i&&t.boxes.splice(i,1)},configure:function(t,e,i){for(var n,o=["fullWidth","position","weight"],a=o.length,r=0;r<a;++r)n=o[r],i.hasOwnProperty(n)&&(e[n]=i[n])},update:function(t,e,a){function r(t){var e,i=t.isHorizontal();i?(e=t.update(t.fullWidth?C:x,R),w-=e.height):(e=t.update(O,w),x-=e.width),k.push({horizontal:i,minSize:e,box:t})}function s(t){var e=o.findNextWhere(k,function(e){return e.box===t});if(e)if(t.isHorizontal()){var i={left:Math.max(A,_),right:Math.max(M,S),top:0,bottom:0};t.update(t.fullWidth?C:x,y/2,i)}else t.update(e.minSize.width,w)}function l(t){var e=o.findNextWhere(k,function(e){return e.box===t}),i={left:0,right:0,top:L,bottom:F};e&&t.update(e.minSize.width,w,i)}function d(t){t.isHorizontal()?(t.left=t.fullWidth?u:A,t.right=t.fullWidth?e-f:A+x,t.top=W,t.bottom=W+t.height,W=t.bottom):(t.left=H,t.right=H+t.width,t.top=L,t.bottom=L+w,H=t.right)}if(t){var c=t.options.layout||{},h=o.options.toPadding(c.padding),u=h.left,f=h.right,p=h.top,m=h.bottom,g=i(t.boxes,"left"),v=i(t.boxes,"right"),b=i(t.boxes,"top"),T=i(t.boxes,"bottom"),E=i(t.boxes,"chartArea");n(g,!0),n(v,!1),n(b,!0),n(T,!1);var C=e-u-f,y=a-p-m,D=C/2,I=y/2,O=(e-D)/(g.length+v.length),R=(a-I)/(b.length+T.length),x=C,w=y,k=[];o.each(g.concat(v,b,T),r);var _=0,S=0,N=0,K=0;o.each(b.concat(T),function(t){if(t.getPadding){var e=t.getPadding();_=Math.max(_,e.left),S=Math.max(S,e.right)}}),o.each(g.concat(v),function(t){if(t.getPadding){var e=t.getPadding();N=Math.max(N,e.top),K=Math.max(K,e.bottom)}});var A=u,M=f,L=p,F=m;o.each(g.concat(v),s),o.each(g,function(t){A+=t.width}),o.each(v,function(t){M+=t.width}),o.each(b.concat(T),s),o.each(b,function(t){L+=t.height}),o.each(T,function(t){F+=t.height}),o.each(g.concat(v),l),A=u,M=f,L=p,F=m,o.each(g,function(t){A+=t.width}),o.each(v,function(t){M+=t.width}),o.each(b,function(t){L+=t.height}),o.each(T,function(t){F+=t.height});var P=Math.max(_-A,0);A+=P,M+=Math.max(S-M,0);var B=Math.max(N-L,0);L+=B,F+=Math.max(K-F,0);var $=a-L-F,z=e-A-M;z===x&&$===w||(o.each(g,function(t){t.height=$}),o.each(v,function(t){t.height=$}),o.each(b,function(t){t.fullWidth||(t.width=z)}),o.each(T,function(t){t.fullWidth||(t.width=z)}),w=$,x=z);var H=u+P,W=p+B;o.each(g.concat(b),d),H+=x,W+=w,o.each(v,d),o.each(T,d),t.chartArea={left:A,top:L,right:A+x,bottom:L+w},o.each(E,function(e){e.left=t.chartArea.left,e.top=t.chartArea.top,e.right=t.chartArea.right,e.bottom=t.chartArea.bottom,e.update(x,w)})}}}},{45:45}],31:[function(t,e){"use strict";var i=t(25),n=t(45);i._set("global",{plugins:{}}),e.exports={_plugins:[],_cacheId:0,register:function(t){var e=this._plugins;[].concat(t).forEach(function(t){-1===e.indexOf(t)&&e.push(t)}),this._cacheId++},unregister:function(t){var e=this._plugins;[].concat(t).forEach(function(t){var i=e.indexOf(t);-1!==i&&e.splice(i,1)}),this._cacheId++},clear:function(){this._plugins=[],this._cacheId++},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(t,e,i){var n,o,a,r,s,l=this.descriptors(t),d=l.length;for(n=0;n<d;++n)if(o=l[n],a=o.plugin,"function"==typeof(s=a[e])&&(r=[t].concat(i||[]),r.push(o.options),!1===s.apply(a,r)))return!1;return!0},descriptors:function(t){var e=t.$plugins||(t.$plugins={});if(e.id===this._cacheId)return e.descriptors;var o=[],a=[],r=t&&t.config||{},s=r.options&&r.options.plugins||{};return this._plugins.concat(r.plugins||[]).forEach(function(t){if(-1===o.indexOf(t)){var e=t.id,r=s[e];!1!==r&&(!0===r&&(r=n.clone(i.global.plugins[e])),o.push(t),a.push({plugin:t,options:r||{}}))}}),e.descriptors=a,e.id=this._cacheId,a},_invalidate:function(t){delete t.$plugins}}},{25:25,45:45}],32:[function(t,e){"use strict";function i(t){var e,i,n=[];for(e=0,i=t.length;e<i;++e)n.push(t[e].label);return n}function n(t,e,i){var n=t.getPixelForTick(e);return i&&(n-=0===e?(t.getPixelForTick(1)-n)/2:(n-t.getPixelForTick(e-1))/2),n}var o=t(25),a=t(26),r=t(45),s=t(34);o._set("scale",{display:!0,position:"left",offset:!1,gridLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",zeroLineBorderDash:[],zeroLineBorderDashOffset:0,offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{display:!1,labelString:"",lineHeight:1.2,padding:{top:4,bottom:4}},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:0,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:s.formatters.values,minor:{},major:{}}}),e.exports=function(t){function e(t,e,i){return r.isArray(e)?r.longestText(t,i,e):t.measureText(e).width}function s(t){var e=r.valueOrDefault,i=o.global,n=e(t.fontSize,i.defaultFontSize),a=e(t.fontStyle,i.defaultFontStyle),s=e(t.fontFamily,i.defaultFontFamily);return{size:n,style:a,family:s,font:r.fontString(n,a,s)}}function l(t){return r.options.toLineHeight(r.valueOrDefault(t.lineHeight,1.2),r.valueOrDefault(t.fontSize,o.global.defaultFontSize))}t.Scale=a.extend({getPadding:function(){var t=this;return{left:t.paddingLeft||0,top:t.paddingTop||0,right:t.paddingRight||0,bottom:t.paddingBottom||0}},getTicks:function(){return this._ticks},mergeTicksOptions:function(){var t=this.options.ticks;!1===t.minor&&(t.minor={display:!1}),!1===t.major&&(t.major={display:!1});for(var e in t)"major"!==e&&"minor"!==e&&("undefined"==typeof t.minor[e]&&(t.minor[e]=t[e]),"undefined"==typeof t.major[e]&&(t.major[e]=t[e]))},beforeUpdate:function(){r.callback(this.options.beforeUpdate,[this])},update:function(t,e,i){var n,o,a,s,l,d,c=this;for(c.beforeUpdate(),c.maxWidth=t,c.maxHeight=e,c.margins=r.extend({left:0,right:0,top:0,bottom:0},i),c.longestTextCache=c.longestTextCache||{},c.beforeSetDimensions(),c.setDimensions(),c.afterSetDimensions(),c.beforeDataLimits(),c.determineDataLimits(),c.afterDataLimits(),c.beforeBuildTicks(),l=c.buildTicks()||[],c.afterBuildTicks(),c.beforeTickToLabelConversion(),a=c.convertTicksToLabels(l)||c.ticks,c.afterTickToLabelConversion(),c.ticks=a,n=0,o=a.length;n<o;++n)s=a[n],d=l[n],d?d.label=s:l.push(d={label:s,major:!1});return c._ticks=l,c.beforeCalculateTickRotation(),c.calculateTickRotation(),c.afterCalculateTickRotation(),c.beforeFit(),c.fit(),c.afterFit(),c.afterUpdate(),c.minSize},afterUpdate:function(){r.callback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){r.callback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0},afterSetDimensions:function(){r.callback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){r.callback(this.options.beforeDataLimits,[this])},determineDataLimits:r.noop,afterDataLimits:function(){r.callback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){r.callback(this.options.beforeBuildTicks,[this])},buildTicks:r.noop,afterBuildTicks:function(){r.callback(this.options.afterBuildTicks,[this])},beforeTickToLabelConversion:function(){r.callback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var t=this,e=t.options.ticks;t.ticks=t.ticks.map(e.userCallback||e.callback,this)},afterTickToLabelConversion:function(){r.callback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){r.callback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var t=this,e=t.ctx,n=t.options.ticks,o=i(t._ticks),a=s(n);e.font=a.font;var l=n.minRotation||0;if(o.length&&t.options.display&&t.isHorizontal())for(var d,c=r.longestText(e,a.font,o,t.longestTextCache),h=c,u=t.getPixelForTick(1)-t.getPixelForTick(0)-6;h>u&&l<n.maxRotation;){var f=r.toRadians(l);if(d=Math.cos(f),Math.sin(f)*c>t.maxHeight){l--;break}l++,h=d*c}t.labelRotation=l},afterCalculateTickRotation:function(){r.callback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){r.callback(this.options.beforeFit,[this])},fit:function(){var t=this,n=t.minSize={width:0,height:0},o=i(t._ticks),a=t.options,d=a.ticks,c=a.scaleLabel,h=a.gridLines,u=a.display,f=t.isHorizontal(),p=s(d),m=a.gridLines.tickMarkLength;if(n.width=f?t.isFullWidth()?t.maxWidth-t.margins.left-t.margins.right:t.maxWidth:u&&h.drawTicks?m:0,n.height=f?u&&h.drawTicks?m:0:t.maxHeight,c.display&&u){var g=l(c),v=r.options.toPadding(c.padding),b=g+v.height;f?n.height+=b:n.width+=b}if(d.display&&u){var T=r.longestText(t.ctx,p.font,o,t.longestTextCache),E=r.numberOfLabelLines(o),C=.5*p.size,y=t.options.ticks.padding;if(f){t.longestLabelWidth=T;var D=r.toRadians(t.labelRotation),I=Math.cos(D),O=Math.sin(D),R=O*T+p.size*E+C*(E-1)+C;n.height=Math.min(t.maxHeight,n.height+R+y),t.ctx.font=p.font;var x=e(t.ctx,o[0],p.font),w=e(t.ctx,o[o.length-1],p.font);0!==t.labelRotation?(t.paddingLeft="bottom"===a.position?I*x+3:I*C+3,t.paddingRight="bottom"===a.position?I*C+3:I*w+3):(t.paddingLeft=x/2+3,t.paddingRight=w/2+3)}else d.mirror?T=0:T+=y+C,n.width=Math.min(t.maxWidth,n.width+T),t.paddingTop=p.size/2,t.paddingBottom=p.size/2}t.handleMargins(),t.width=n.width,t.height=n.height},handleMargins:function(){var t=this;t.margins&&(t.paddingLeft=Math.max(t.paddingLeft-t.margins.left,0),t.paddingTop=Math.max(t.paddingTop-t.margins.top,0),t.paddingRight=Math.max(t.paddingRight-t.margins.right,0),t.paddingBottom=Math.max(t.paddingBottom-t.margins.bottom,0))},afterFit:function(){r.callback(this.options.afterFit,[this])},isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(t){if(r.isNullOrUndef(t))return NaN;if("number"==typeof t&&!isFinite(t))return NaN;if(t)if(this.isHorizontal()){if(t.x!==undefined)return this.getRightValue(t.x)}else if(t.y!==undefined)return this.getRightValue(t.y);return t},getLabelForIndex:r.noop,getPixelForValue:r.noop,getValueForPixel:r.noop,getPixelForTick:function(t){var e=this,i=e.options.offset;if(e.isHorizontal()){var n=e.width-(e.paddingLeft+e.paddingRight),o=n/Math.max(e._ticks.length-(i?0:1),1),a=o*t+e.paddingLeft;i&&(a+=o/2);var r=e.left+Math.round(a);return r+=e.isFullWidth()?e.margins.left:0}var s=e.height-(e.paddingTop+e.paddingBottom);return e.top+t*(s/(e._ticks.length-1))},getPixelForDecimal:function(t){var e=this;if(e.isHorizontal()){var i=e.width-(e.paddingLeft+e.paddingRight),n=i*t+e.paddingLeft,o=e.left+Math.round(n);return o+=e.isFullWidth()?e.margins.left:0}return e.top+t*e.height},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue())},getBaseValue:function(){var t=this,e=t.min,i=t.max;return t.beginAtZero?0:e<0&&i<0?i:e>0&&i>0?e:0},_autoSkip:function(t){var e,i,n,o,a,s=this,l=s.isHorizontal(),d=s.options.ticks.minor,c=t.length,h=r.toRadians(s.labelRotation),u=Math.cos(h),f=s.longestLabelWidth*u,p=[];for(d.maxTicksLimit&&(a=d.maxTicksLimit),l&&(e=!1,(f+d.autoSkipPadding)*c>s.width-(s.paddingLeft+s.paddingRight)&&(e=1+Math.floor((f+d.autoSkipPadding)*c/(s.width-(s.paddingLeft+s.paddingRight)))),a&&c>a&&(e=Math.max(e,Math.floor(c/a)))),i=0;i<c;i++)n=t[i],o=e>1&&i%e>0||i%e==0&&i+e>=c,o&&i!==c-1&&delete n.label,p.push(n);return p},draw:function(t){var e=this,i=e.options;if(i.display){var a=e.ctx,d=o.global,c=i.ticks.minor,h=i.ticks.major||c,u=i.gridLines,f=i.scaleLabel,p=0!==e.labelRotation,m=e.isHorizontal(),g=c.autoSkip?e._autoSkip(e.getTicks()):e.getTicks(),v=r.valueOrDefault(c.fontColor,d.defaultFontColor),b=s(c),T=r.valueOrDefault(h.fontColor,d.defaultFontColor),E=s(h),C=u.drawTicks?u.tickMarkLength:0,y=r.valueOrDefault(f.fontColor,d.defaultFontColor),D=s(f),I=r.options.toPadding(f.padding),O=r.toRadians(e.labelRotation),R=[],x=e.options.gridLines.lineWidth,w="right"===i.position?e.right:e.right-x-C,k="right"===i.position?e.right+C:e.right,_="bottom"===i.position?e.top+x:e.bottom-C-x,S="bottom"===i.position?e.top+x+C:e.bottom+x;if(r.each(g,function(o,a){if(!r.isNullOrUndef(o.label)){var s,l,h,f,v=o.label;a===e.zeroLineIndex&&i.offset===u.offsetGridLines?(s=u.zeroLineWidth,l=u.zeroLineColor,h=u.zeroLineBorderDash,f=u.zeroLineBorderDashOffset):(s=r.valueAtIndexOrDefault(u.lineWidth,a),l=r.valueAtIndexOrDefault(u.color,a),h=r.valueOrDefault(u.borderDash,d.borderDash),f=r.valueOrDefault(u.borderDashOffset,d.borderDashOffset));var b,T,E,y,D,I,N,K,A,M,L="middle",F="middle",P=c.padding;if(m){var B=C+P;"bottom"===i.position?(F=p?"middle":"top",L=p?"right":"center",M=e.top+B):(F=p?"middle":"bottom",L=p?"left":"center",M=e.bottom-B);var $=n(e,a,u.offsetGridLines&&g.length>1);$<e.left&&(l="rgba(0,0,0,0)"),$+=r.aliasPixel(s),A=e.getPixelForTick(a)+c.labelOffset,b=E=D=N=$,T=_,y=S,I=t.top,K=t.bottom+x}else{var z,H="left"===i.position;c.mirror?(L=H?"left":"right",z=P):(L=H?"right":"left",z=C+P),A=H?e.right-z:e.left+z;var W=n(e,a,u.offsetGridLines&&g.length>1);W<e.top&&(l="rgba(0,0,0,0)"),W+=r.aliasPixel(s),M=e.getPixelForTick(a)+c.labelOffset,b=w,E=k,D=t.left,N=t.right+x,T=y=I=K=W}R.push({tx1:b,ty1:T,tx2:E,ty2:y,x1:D,y1:I,x2:N,y2:K,labelX:A,labelY:M,glWidth:s,glColor:l,glBorderDash:h,glBorderDashOffset:f,rotation:-1*O,label:v,major:o.major,textBaseline:F,textAlign:L})}}),r.each(R,function(t){if(u.display&&(a.save(),a.lineWidth=t.glWidth,a.strokeStyle=t.glColor,a.setLineDash&&(a.setLineDash(t.glBorderDash),a.lineDashOffset=t.glBorderDashOffset),a.beginPath(),u.drawTicks&&(a.moveTo(t.tx1,t.ty1),a.lineTo(t.tx2,t.ty2)),u.drawOnChartArea&&(a.moveTo(t.x1,t.y1),a.lineTo(t.x2,t.y2)),a.stroke(),a.restore()),c.display){a.save(),a.translate(t.labelX,t.labelY),a.rotate(t.rotation),a.font=t.major?E.font:b.font,a.fillStyle=t.major?T:v,a.textBaseline=t.textBaseline,a.textAlign=t.textAlign;var i=t.label;if(r.isArray(i))for(var n=i.length,o=1.5*b.size,s=e.isHorizontal()?0:-o*(n-1)/2,l=0;l<n;++l)a.fillText(""+i[l],0,s),s+=o;else a.fillText(i,0,0);a.restore()}}),f.display){var N,K,A=0,M=l(f)/2;if(m)N=e.left+(e.right-e.left)/2,K="bottom"===i.position?e.bottom-M-I.bottom:e.top+M+I.top;else{var L="left"===i.position;N=L?e.left+M+I.top:e.right-M-I.top,K=e.top+(e.bottom-e.top)/2,A=L?-.5*Math.PI:.5*Math.PI}a.save(),a.translate(N,K),a.rotate(A),a.textAlign="center",a.textBaseline="middle",a.fillStyle=y,a.font=D.font,a.fillText(f.labelString,0,0),a.restore()}if(u.drawBorder){a.lineWidth=r.valueAtIndexOrDefault(u.lineWidth,0),a.strokeStyle=r.valueAtIndexOrDefault(u.color,0);var F=e.left,P=e.right+x,B=e.top,$=e.bottom+x,z=r.aliasPixel(a.lineWidth);m?(B=$="top"===i.position?e.bottom:e.top,B+=z,$+=z):(F=P="left"===i.position?e.right:e.left,F+=z,P+=z),a.beginPath(),a.moveTo(F,B),a.lineTo(P,$),a.stroke()}}}})}},{25:25,26:26,34:34,45:45}],33:[function(t,e){"use strict";var i=t(25),n=t(45),o=t(30);e.exports=function(t){t.scaleService={constructors:{},defaults:{},registerScaleType:function(t,e,i){this.constructors[t]=e,this.defaults[t]=n.clone(i)},getScaleConstructor:function(t){return this.constructors.hasOwnProperty(t)?this.constructors[t]:undefined},getScaleDefaults:function(t){return this.defaults.hasOwnProperty(t)?n.merge({},[i.scale,this.defaults[t]]):{}},updateScaleDefaults:function(t,e){var i=this;i.defaults.hasOwnProperty(t)&&(i.defaults[t]=n.extend(i.defaults[t],e))},addScalesToLayout:function(t){n.each(t.scales,function(e){e.fullWidth=e.options.fullWidth,e.position=e.options.position,e.weight=e.options.weight,o.addBox(t,e)})}}}},{25:25,30:30,45:45}],34:[function(t,e){"use strict";var i=t(45);e.exports={formatters:{values:function(t){return i.isArray(t)?t:""+t},linear:function(t,e,n){var o=n.length>3?n[2]-n[1]:n[1]-n[0];Math.abs(o)>1&&t!==Math.floor(t)&&(o=t-Math.floor(t));var a=i.log10(Math.abs(o)),r="";if(0!==t){var s=-1*Math.floor(a);s=Math.max(Math.min(s,20),0),r=t.toFixed(s)}else r="0";return r},logarithmic:function(t,e,n){var o=t/Math.pow(10,Math.floor(i.log10(t)));return 0===t?"0":1===o||2===o||5===o||0===e||e===n.length-1?t.toExponential():""}}}},{45:45}],35:[function(t,e){"use strict";var i=t(25),n=t(26),o=t(45);i._set("global",{tooltips:{enabled:!0,custom:null,mode:"nearest",position:"average",intersect:!0,backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,caretPadding:2,caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",displayColors:!0,borderColor:"rgba(0,0,0,0)",borderWidth:0,callbacks:{beforeTitle:o.noop,title:function(t,e){var i="",n=e.labels,o=n?n.length:0;if(t.length>0){var a=t[0];a.xLabel?i=a.xLabel:o>0&&a.index<o&&(i=n[a.index])}return i},afterTitle:o.noop,beforeBody:o.noop,beforeLabel:o.noop,label:function(t,e){var i=e.datasets[t.datasetIndex].label||"";return i&&(i+=": "),i+=t.yLabel},labelColor:function(t,e){var i=e.getDatasetMeta(t.datasetIndex),n=i.data[t.index],o=n._view;return{borderColor:o.borderColor,backgroundColor:o.backgroundColor}},labelTextColor:function(){return this._options.bodyFontColor},afterLabel:o.noop,afterBody:o.noop,beforeFooter:o.noop,footer:o.noop,afterFooter:o.noop}}}),e.exports=function(t){function e(t,e){var i=o.color(t);return i.alpha(e*i.alpha()).rgbaString()}function a(t,e){return e&&(o.isArray(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function r(t){var e=t._xScale,i=t._yScale||t._scale,n=t._index,o=t._datasetIndex;return{xLabel:e?e.getLabelForIndex(n,o):"",yLabel:i?i.getLabelForIndex(n,o):"",index:n,datasetIndex:o,x:t._model.x,y:t._model.y}}function s(t){var e=i.global,n=o.valueOrDefault;return{xPadding:t.xPadding,yPadding:t.yPadding,xAlign:t.xAlign,yAlign:t.yAlign,bodyFontColor:t.bodyFontColor,_bodyFontFamily:n(t.bodyFontFamily,e.defaultFontFamily),_bodyFontStyle:n(t.bodyFontStyle,e.defaultFontStyle),_bodyAlign:t.bodyAlign,bodyFontSize:n(t.bodyFontSize,e.defaultFontSize),bodySpacing:t.bodySpacing,titleFontColor:t.titleFontColor,_titleFontFamily:n(t.titleFontFamily,e.defaultFontFamily),_titleFontStyle:n(t.titleFontStyle,e.defaultFontStyle),titleFontSize:n(t.titleFontSize,e.defaultFontSize),_titleAlign:t.titleAlign,titleSpacing:t.titleSpacing,titleMarginBottom:t.titleMarginBottom,footerFontColor:t.footerFontColor,_footerFontFamily:n(t.footerFontFamily,e.defaultFontFamily),_footerFontStyle:n(t.footerFontStyle,e.defaultFontStyle),footerFontSize:n(t.footerFontSize,e.defaultFontSize),_footerAlign:t.footerAlign,footerSpacing:t.footerSpacing,footerMarginTop:t.footerMarginTop,caretSize:t.caretSize,cornerRadius:t.cornerRadius,backgroundColor:t.backgroundColor,opacity:0,legendColorBackground:t.multiKeyBackground,displayColors:t.displayColors,borderColor:t.borderColor,borderWidth:t.borderWidth}}function l(t,e){var i=t._chart.ctx,n=2*e.yPadding,a=0,r=e.body,s=r.reduce(function(t,e){return t+e.before.length+e.lines.length+e.after.length},0);s+=e.beforeBody.length+e.afterBody.length;var l=e.title.length,d=e.footer.length,c=e.titleFontSize,h=e.bodyFontSize,u=e.footerFontSize;n+=l*c,n+=l?(l-1)*e.titleSpacing:0,n+=l?e.titleMarginBottom:0,n+=s*h,n+=s?(s-1)*e.bodySpacing:0,n+=d?e.footerMarginTop:0,n+=d*u,n+=d?(d-1)*e.footerSpacing:0;var f=0,p=function(t){a=Math.max(a,i.measureText(t).width+f)};return i.font=o.fontString(c,e._titleFontStyle,e._titleFontFamily),o.each(e.title,p),i.font=o.fontString(h,e._bodyFontStyle,e._bodyFontFamily),o.each(e.beforeBody.concat(e.afterBody),p),f=e.displayColors?h+2:0,o.each(r,function(t){o.each(t.before,p),o.each(t.lines,p),o.each(t.after,p)}),f=0,i.font=o.fontString(u,e._footerFontStyle,e._footerFontFamily),o.each(e.footer,p),a+=2*e.xPadding,{width:a,height:n}}function d(t,e){var i=t._model,n=t._chart,o=t._chart.chartArea,a="center",r="center";i.y<e.height?r="top":i.y>n.height-e.height&&(r="bottom");var s,l,d,c,h,u=(o.left+o.right)/2,f=(o.top+o.bottom)/2;"center"===r?(s=function(t){return t<=u},l=function(t){return t>u}):(s=function(t){return t<=e.width/2},l=function(t){return t>=n.width-e.width/2}),d=function(t){return t+e.width+i.caretSize+i.caretPadding>n.width},c=function(t){return t-e.width-i.caretSize-i.caretPadding<0},h=function(t){return t<=f?"top":"bottom"},s(i.x)?(a="left",d(i.x)&&(a="center",r=h(i.y))):l(i.x)&&(a="right",c(i.x)&&(a="center",r=h(i.y)));var p=t._options;return{xAlign:p.xAlign?p.xAlign:a,yAlign:p.yAlign?p.yAlign:r}}function c(t,e,i,n){var o=t.x,a=t.y,r=t.caretSize,s=t.caretPadding,l=t.cornerRadius,d=i.xAlign,c=i.yAlign,h=r+s,u=l+s;return"right"===d?o-=e.width:"center"===d&&(o-=e.width/2,o+e.width>n.width&&(o=n.width-e.width),o<0&&(o=0)),"top"===c?a+=h:a-="bottom"===c?e.height+h:e.height/2,"center"===c?"left"===d?o+=h:"right"===d&&(o-=h):"left"===d?o-=u:"right"===d&&(o+=u),{x:o,y:a}}t.Tooltip=n.extend({initialize:function(){this._model=s(this._options),this._lastActive=[]},getTitle:function(){var t=this,e=t._options,i=e.callbacks,n=i.beforeTitle.apply(t,arguments),o=i.title.apply(t,arguments),r=i.afterTitle.apply(t,arguments),s=[];return s=a(s,n),s=a(s,o),s=a(s,r)},getBeforeBody:function(){var t=this._options.callbacks.beforeBody.apply(this,arguments);return o.isArray(t)?t:t!==undefined?[t]:[]},getBody:function(t,e){var i=this,n=i._options.callbacks,r=[];return o.each(t,function(t){var o={before:[],lines:[],after:[]};a(o.before,n.beforeLabel.call(i,t,e)),a(o.lines,n.label.call(i,t,e)),a(o.after,n.afterLabel.call(i,t,e)),r.push(o)}),r},getAfterBody:function(){var t=this._options.callbacks.afterBody.apply(this,arguments);return o.isArray(t)?t:t!==undefined?[t]:[]},getFooter:function(){var t=this,e=t._options.callbacks,i=e.beforeFooter.apply(t,arguments),n=e.footer.apply(t,arguments),o=e.afterFooter.apply(t,arguments),r=[];return r=a(r,i),r=a(r,n),r=a(r,o)},update:function(e){var i,n,a=this,h=a._options,u=a._model,f=a._model=s(h),p=a._active,m=a._data,g={xAlign:u.xAlign,yAlign:u.yAlign},v={x:u.x,y:u.y},b={width:u.width,height:u.height},T={x:u.caretX,y:u.caretY};if(p.length){f.opacity=1;var E=[],C=[];T=t.Tooltip.positioners[h.position].call(a,p,a._eventPosition);var y=[];for(i=0,n=p.length;i<n;++i)y.push(r(p[i]));h.filter&&(y=y.filter(function(t){return h.filter(t,m)})),h.itemSort&&(y=y.sort(function(t,e){return h.itemSort(t,e,m)})),o.each(y,function(t){E.push(h.callbacks.labelColor.call(a,t,a._chart)),C.push(h.callbacks.labelTextColor.call(a,t,a._chart))}),f.title=a.getTitle(y,m),f.beforeBody=a.getBeforeBody(y,m),f.body=a.getBody(y,m),f.afterBody=a.getAfterBody(y,m),f.footer=a.getFooter(y,m),f.x=Math.round(T.x),f.y=Math.round(T.y),f.caretPadding=h.caretPadding,f.labelColors=E,f.labelTextColors=C,f.dataPoints=y,b=l(this,f),g=d(this,b),v=c(f,b,g,a._chart)}else f.opacity=0;return f.xAlign=g.xAlign,f.yAlign=g.yAlign,f.x=v.x,f.y=v.y,f.width=b.width,f.height=b.height,f.caretX=T.x,f.caretY=T.y,a._model=f,e&&h.custom&&h.custom.call(a,f),a},drawCaret:function(t,e){var i=this._chart.ctx,n=this._view,o=this.getCaretPosition(t,e,n);i.lineTo(o.x1,o.y1),i.lineTo(o.x2,o.y2),i.lineTo(o.x3,o.y3)},getCaretPosition:function(t,e,i){var n,o,a,r,s,l,d=i.caretSize,c=i.cornerRadius,h=i.xAlign,u=i.yAlign,f=t.x,p=t.y,m=e.width,g=e.height;if("center"===u)s=p+g/2,"left"===h?(n=f,o=n-d,a=n,r=s+d,l=s-d):(n=f+m,o=n+d,a=n,r=s-d,l=s+d);else if("left"===h?(o=f+c+d,n=o-d,a=o+d):"right"===h?(o=f+m-c-d,n=o-d,a=o+d):(o=i.caretX,n=o-d,a=o+d),"top"===u)r=p,s=r-d,l=r;else{r=p+g,s=r+d,l=r;var v=a;a=n,n=v}return{x1:n,x2:o,x3:a,y1:r,y2:s,y3:l}},drawTitle:function(t,i,n,a){var r=i.title;if(r.length){n.textAlign=i._titleAlign,n.textBaseline="top";var s=i.titleFontSize,l=i.titleSpacing;n.fillStyle=e(i.titleFontColor,a),n.font=o.fontString(s,i._titleFontStyle,i._titleFontFamily);var d,c;for(d=0,c=r.length;d<c;++d)n.fillText(r[d],t.x,t.y),t.y+=s+l,d+1===r.length&&(t.y+=i.titleMarginBottom-l)}},drawBody:function(t,i,n,a){var r=i.bodyFontSize,s=i.bodySpacing,l=i.body;n.textAlign=i._bodyAlign,n.textBaseline="top",n.font=o.fontString(r,i._bodyFontStyle,i._bodyFontFamily);var d=0,c=function(e){n.fillText(e,t.x+d,t.y),t.y+=r+s};n.fillStyle=e(i.bodyFontColor,a),o.each(i.beforeBody,c);var h=i.displayColors;d=h?r+2:0,o.each(l,function(s,l){var d=e(i.labelTextColors[l],a);n.fillStyle=d,o.each(s.before,c),o.each(s.lines,function(o){h&&(n.fillStyle=e(i.legendColorBackground,a),n.fillRect(t.x,t.y,r,r),n.lineWidth=1,n.strokeStyle=e(i.labelColors[l].borderColor,a),n.strokeRect(t.x,t.y,r,r),n.fillStyle=e(i.labelColors[l].backgroundColor,a),n.fillRect(t.x+1,t.y+1,r-2,r-2),n.fillStyle=d),c(o)}),o.each(s.after,c)}),d=0,o.each(i.afterBody,c),t.y-=s},drawFooter:function(t,i,n,a){var r=i.footer;r.length&&(t.y+=i.footerMarginTop,n.textAlign=i._footerAlign,n.textBaseline="top",n.fillStyle=e(i.footerFontColor,a),n.font=o.fontString(i.footerFontSize,i._footerFontStyle,i._footerFontFamily),o.each(r,function(e){n.fillText(e,t.x,t.y),t.y+=i.footerFontSize+i.footerSpacing}))},drawBackground:function(t,i,n,o,a){n.fillStyle=e(i.backgroundColor,a),n.strokeStyle=e(i.borderColor,a),n.lineWidth=i.borderWidth;var r=i.xAlign,s=i.yAlign,l=t.x,d=t.y,c=o.width,h=o.height,u=i.cornerRadius;n.beginPath(),n.moveTo(l+u,d),"top"===s&&this.drawCaret(t,o),n.lineTo(l+c-u,d),n.quadraticCurveTo(l+c,d,l+c,d+u),"center"===s&&"right"===r&&this.drawCaret(t,o),n.lineTo(l+c,d+h-u),n.quadraticCurveTo(l+c,d+h,l+c-u,d+h),"bottom"===s&&this.drawCaret(t,o),n.lineTo(l+u,d+h),n.quadraticCurveTo(l,d+h,l,d+h-u),"center"===s&&"left"===r&&this.drawCaret(t,o),n.lineTo(l,d+u),n.quadraticCurveTo(l,d,l+u,d),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()},draw:function(){var t=this._chart.ctx,e=this._view;if(0!==e.opacity){var i={width:e.width,height:e.height},n={x:e.x,y:e.y},o=Math.abs(e.opacity<.001)?0:e.opacity,a=e.title.length||e.beforeBody.length||e.body.length||e.afterBody.length||e.footer.length;this._options.enabled&&a&&(this.drawBackground(n,e,t,i,o),n.x+=e.xPadding,n.y+=e.yPadding,this.drawTitle(n,e,t,o),this.drawBody(n,e,t,o),this.drawFooter(n,e,t,o))}},handleEvent:function(t){var e=this,i=e._options,n=!1;return e._lastActive=e._lastActive||[],"mouseout"===t.type?e._active=[]:e._active=e._chart.getElementsAtEventForMode(t,i.mode,i),n=!o.arrayEquals(e._active,e._lastActive),n&&(e._lastActive=e._active,(i.enabled||i.custom)&&(e._eventPosition={x:t.x,y:t.y},e.update(!0),e.pivot())),n}}),t.Tooltip.positioners={average:function(t){if(!t.length)return!1;var e,i,n=0,o=0,a=0;for(e=0,i=t.length;e<i;++e){var r=t[e];if(r&&r.hasValue()){var s=r.tooltipPosition();n+=s.x,o+=s.y,++a}}return{x:Math.round(n/a),y:Math.round(o/a)}},nearest:function(t,e){var i,n,a,r=e.x,s=e.y,l=Number.POSITIVE_INFINITY;for(i=0,n=t.length;i<n;++i){var d=t[i];if(d&&d.hasValue()){var c=d.getCenterPoint(),h=o.distanceBetweenPoints(e,c);h<l&&(l=h,a=d)}}if(a){var u=a.tooltipPosition();r=u.x,s=u.y}return{x:r,y:s}}}}},{25:25,26:26,45:45}],36:[function(t,e){"use strict";var i=t(25),n=t(26),o=t(45);i._set("global",{elements:{arc:{backgroundColor:i.global.defaultColor,borderColor:"#fff",borderWidth:2}}}),e.exports=n.extend({inLabelRange:function(t){var e=this._view;return!!e&&Math.pow(t-e.x,2)<Math.pow(e.radius+e.hoverRadius,2)},inRange:function(t,e){var i=this._view;if(i){for(var n=o.getAngleFromPoint(i,{x:t,y:e}),a=n.angle,r=n.distance,s=i.startAngle,l=i.endAngle;l<s;)l+=2*Math.PI;for(;a>l;)a-=2*Math.PI;for(;a<s;)a+=2*Math.PI;var d=a>=s&&a<=l,c=r>=i.innerRadius&&r<=i.outerRadius;return d&&c}return!1},getCenterPoint:function(){var t=this._view,e=(t.startAngle+t.endAngle)/2,i=(t.innerRadius+t.outerRadius)/2;return{x:t.x+Math.cos(e)*i,y:t.y+Math.sin(e)*i}},getArea:function(){var t=this._view;return Math.PI*((t.endAngle-t.startAngle)/(2*Math.PI))*(Math.pow(t.outerRadius,2)-Math.pow(t.innerRadius,2))},tooltipPosition:function(){var t=this._view,e=t.startAngle+(t.endAngle-t.startAngle)/2,i=(t.outerRadius-t.innerRadius)/2+t.innerRadius;return{x:t.x+Math.cos(e)*i,y:t.y+Math.sin(e)*i}},draw:function(){var t=this._chart.ctx,e=this._view,i=e.startAngle,n=e.endAngle;t.beginPath(),t.arc(e.x,e.y,e.outerRadius,i,n),t.arc(e.x,e.y,e.innerRadius,n,i,!0),t.closePath(),t.strokeStyle=e.borderColor,t.lineWidth=e.borderWidth,t.fillStyle=e.backgroundColor,t.fill(),t.lineJoin="bevel",e.borderWidth&&t.stroke()}})},{25:25,26:26,45:45}],37:[function(t,e){"use strict";var i=t(25),n=t(26),o=t(45),a=i.global;i._set("global",{elements:{line:{tension:.4,backgroundColor:a.defaultColor,borderWidth:3,borderColor:a.defaultColor,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:!0,fill:!0}}}),e.exports=n.extend({draw:function(){var t,e,i,n,r=this,s=r._view,l=r._chart.ctx,d=s.spanGaps,c=r._children.slice(),h=a.elements.line,u=-1;for(r._loop&&c.length&&c.push(c[0]),l.save(),l.lineCap=s.borderCapStyle||h.borderCapStyle,l.setLineDash&&l.setLineDash(s.borderDash||h.borderDash),l.lineDashOffset=s.borderDashOffset||h.borderDashOffset,l.lineJoin=s.borderJoinStyle||h.borderJoinStyle,l.lineWidth=s.borderWidth||h.borderWidth,l.strokeStyle=s.borderColor||a.defaultColor,l.beginPath(),u=-1,t=0;t<c.length;++t)e=c[t],i=o.previousItem(c,t),n=e._view,0===t?n.skip||(l.moveTo(n.x,n.y),u=t):(i=-1===u?i:c[u],n.skip||(u!==t-1&&!d||-1===u?l.moveTo(n.x,n.y):o.canvas.lineTo(l,i._view,e._view),u=t));l.stroke(),l.restore()}})},{25:25,26:26,45:45}],38:[function(t,e){"use strict"
;function i(t){var e=this._view;return!!e&&Math.abs(t-e.x)<e.radius+e.hitRadius}function n(t){var e=this._view;return!!e&&Math.abs(t-e.y)<e.radius+e.hitRadius}var o=t(25),a=t(26),r=t(45),s=o.global.defaultColor;o._set("global",{elements:{point:{radius:3,pointStyle:"circle",backgroundColor:s,borderColor:s,borderWidth:1,hitRadius:1,hoverRadius:4,hoverBorderWidth:1}}}),e.exports=a.extend({inRange:function(t,e){var i=this._view;return!!i&&Math.pow(t-i.x,2)+Math.pow(e-i.y,2)<Math.pow(i.hitRadius+i.radius,2)},inLabelRange:i,inXRange:i,inYRange:n,getCenterPoint:function(){var t=this._view;return{x:t.x,y:t.y}},getArea:function(){return Math.PI*Math.pow(this._view.radius,2)},tooltipPosition:function(){var t=this._view;return{x:t.x,y:t.y,padding:t.radius+t.borderWidth}},draw:function(t){var e=this._view,i=this._model,n=this._chart.ctx,a=e.pointStyle,l=e.radius,d=e.x,c=e.y,h=r.color,u=1.01,f=0;e.skip||(n.strokeStyle=e.borderColor||s,n.lineWidth=r.valueOrDefault(e.borderWidth,o.global.elements.point.borderWidth),n.fillStyle=e.backgroundColor||s,t!==undefined&&(i.x<t.left||t.right*u<i.x||i.y<t.top||t.bottom*u<i.y)&&(i.x<t.left?f=(d-i.x)/(t.left-i.x):t.right*u<i.x?f=(i.x-d)/(i.x-t.right):i.y<t.top?f=(c-i.y)/(t.top-i.y):t.bottom*u<i.y&&(f=(i.y-c)/(i.y-t.bottom)),f=Math.round(100*f)/100,n.strokeStyle=h(n.strokeStyle).alpha(f).rgbString(),n.fillStyle=h(n.fillStyle).alpha(f).rgbString()),r.canvas.drawPoint(n,a,l,d,c))}})},{25:25,26:26,45:45}],39:[function(t,e){"use strict";function i(t){return t._view.width!==undefined}function n(t){var e,n,o,a,r=t._view;if(i(t)){var s=r.width/2;e=r.x-s,n=r.x+s,o=Math.min(r.y,r.base),a=Math.max(r.y,r.base)}else{var l=r.height/2;e=Math.min(r.x,r.base),n=Math.max(r.x,r.base),o=r.y-l,a=r.y+l}return{left:e,top:o,right:n,bottom:a}}var o=t(25),a=t(26);o._set("global",{elements:{rectangle:{backgroundColor:o.global.defaultColor,borderColor:o.global.defaultColor,borderSkipped:"bottom",borderWidth:0}}}),e.exports=a.extend({draw:function(){function t(t){return v[(T+t)%4]}var e,i,n,o,a,r,s,l=this._chart.ctx,d=this._view,c=d.borderWidth;if(d.horizontal?(e=d.base,i=d.x,n=d.y-d.height/2,o=d.y+d.height/2,a=i>e?1:-1,r=1,s=d.borderSkipped||"left"):(e=d.x-d.width/2,i=d.x+d.width/2,n=d.y,o=d.base,a=1,r=o>n?1:-1,s=d.borderSkipped||"bottom"),c){var h=Math.min(Math.abs(e-i),Math.abs(n-o));c=c>h?h:c;var u=c/2,f=e+("left"!==s?u*a:0),p=i+("right"!==s?-u*a:0),m=n+("top"!==s?u*r:0),g=o+("bottom"!==s?-u*r:0);f!==p&&(n=m,o=g),m!==g&&(e=f,i=p)}l.beginPath(),l.fillStyle=d.backgroundColor,l.strokeStyle=d.borderColor,l.lineWidth=c;var v=[[e,o],[e,n],[i,n],[i,o]],b=["bottom","left","top","right"],T=b.indexOf(s,0);-1===T&&(T=0);var E=t(0);l.moveTo(E[0],E[1]);for(var C=1;C<4;C++)E=t(C),l.lineTo(E[0],E[1]);l.fill(),c&&l.stroke()},height:function(){var t=this._view;return t.base-t.y},inRange:function(t,e){var i=!1;if(this._view){var o=n(this);i=t>=o.left&&t<=o.right&&e>=o.top&&e<=o.bottom}return i},inLabelRange:function(t,e){var o=this;if(!o._view)return!1;var a=n(o);return i(o)?t>=a.left&&t<=a.right:e>=a.top&&e<=a.bottom},inXRange:function(t){var e=n(this);return t>=e.left&&t<=e.right},inYRange:function(t){var e=n(this);return t>=e.top&&t<=e.bottom},getCenterPoint:function(){var t,e,n=this._view;return i(this)?(t=n.x,e=(n.y+n.base)/2):(t=(n.x+n.base)/2,e=n.y),{x:t,y:e}},getArea:function(){var t=this._view;return t.width*Math.abs(t.y-t.base)},tooltipPosition:function(){var t=this._view;return{x:t.x,y:t.y}}})},{25:25,26:26}],40:[function(t,e){"use strict";e.exports={},e.exports.Arc=t(36),e.exports.Line=t(37),e.exports.Point=t(38),e.exports.Rectangle=t(39)},{36:36,37:37,38:38,39:39}],41:[function(t,e,i){"use strict";var n=t(42),i=e.exports={clear:function(t){t.ctx.clearRect(0,0,t.width,t.height)},roundedRect:function(t,e,i,n,o,a){if(a){var r=Math.min(a,n/2),s=Math.min(a,o/2);t.moveTo(e+r,i),t.lineTo(e+n-r,i),t.quadraticCurveTo(e+n,i,e+n,i+s),t.lineTo(e+n,i+o-s),t.quadraticCurveTo(e+n,i+o,e+n-r,i+o),t.lineTo(e+r,i+o),t.quadraticCurveTo(e,i+o,e,i+o-s),t.lineTo(e,i+s),t.quadraticCurveTo(e,i,e+r,i)}else t.rect(e,i,n,o)},drawPoint:function(t,e,i,n,o){var a,r,s,l,d,c;if(e&&"object"==typeof e&&("[object HTMLImageElement]"===(a=e.toString())||"[object HTMLCanvasElement]"===a))return void t.drawImage(e,n-e.width/2,o-e.height/2,e.width,e.height);if(!(isNaN(i)||i<=0)){switch(e){default:t.beginPath(),t.arc(n,o,i,0,2*Math.PI),t.closePath(),t.fill();break;case"triangle":t.beginPath(),r=3*i/Math.sqrt(3),d=r*Math.sqrt(3)/2,t.moveTo(n-r/2,o+d/3),t.lineTo(n+r/2,o+d/3),t.lineTo(n,o-2*d/3),t.closePath(),t.fill();break;case"rect":c=1/Math.SQRT2*i,t.beginPath(),t.fillRect(n-c,o-c,2*c,2*c),t.strokeRect(n-c,o-c,2*c,2*c);break;case"rectRounded":var h=i/Math.SQRT2,u=n-h,f=o-h,p=Math.SQRT2*i;t.beginPath(),this.roundedRect(t,u,f,p,p,i/2),t.closePath(),t.fill();break;case"rectRot":c=1/Math.SQRT2*i,t.beginPath(),t.moveTo(n-c,o),t.lineTo(n,o+c),t.lineTo(n+c,o),t.lineTo(n,o-c),t.closePath(),t.fill();break;case"cross":t.beginPath(),t.moveTo(n,o+i),t.lineTo(n,o-i),t.moveTo(n-i,o),t.lineTo(n+i,o),t.closePath();break;case"crossRot":t.beginPath(),s=Math.cos(Math.PI/4)*i,l=Math.sin(Math.PI/4)*i,t.moveTo(n-s,o-l),t.lineTo(n+s,o+l),t.moveTo(n-s,o+l),t.lineTo(n+s,o-l),t.closePath();break;case"star":t.beginPath(),t.moveTo(n,o+i),t.lineTo(n,o-i),t.moveTo(n-i,o),t.lineTo(n+i,o),s=Math.cos(Math.PI/4)*i,l=Math.sin(Math.PI/4)*i,t.moveTo(n-s,o-l),t.lineTo(n+s,o+l),t.moveTo(n-s,o+l),t.lineTo(n+s,o-l),t.closePath();break;case"line":t.beginPath(),t.moveTo(n-i,o),t.lineTo(n+i,o),t.closePath();break;case"dash":t.beginPath(),t.moveTo(n,o),t.lineTo(n+i,o),t.closePath()}t.stroke()}},clipArea:function(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()},unclipArea:function(t){t.restore()},lineTo:function(t,e,i,n){return i.steppedLine?("after"===i.steppedLine&&!n||"after"!==i.steppedLine&&n?t.lineTo(e.x,i.y):t.lineTo(i.x,e.y),void t.lineTo(i.x,i.y)):i.tension?void t.bezierCurveTo(n?e.controlPointPreviousX:e.controlPointNextX,n?e.controlPointPreviousY:e.controlPointNextY,n?i.controlPointNextX:i.controlPointPreviousX,n?i.controlPointNextY:i.controlPointPreviousY,i.x,i.y):void t.lineTo(i.x,i.y)}};n.clear=i.clear,n.drawRoundedRectangle=function(t){t.beginPath(),i.roundedRect.apply(i,arguments),t.closePath()}},{42:42}],42:[function(t,e){"use strict";var i={noop:function(){},uid:function(){var t=0;return function(){return t++}}(),isNullOrUndef:function(t){return null===t||void 0===t},isArray:Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},isObject:function(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)},valueOrDefault:function(t,e){return void 0===t?e:t},valueAtIndexOrDefault:function(t,e,n){return i.valueOrDefault(i.isArray(t)?t[e]:t,n)},callback:function(t,e,i){if(t&&"function"==typeof t.call)return t.apply(i,e)},each:function(t,e,n,o){var a,r,s;if(i.isArray(t))if(r=t.length,o)for(a=r-1;a>=0;a--)e.call(n,t[a],a);else for(a=0;a<r;a++)e.call(n,t[a],a);else if(i.isObject(t))for(s=Object.keys(t),r=s.length,a=0;a<r;a++)e.call(n,t[s[a]],s[a])},arrayEquals:function(t,e){var n,o,a,r;if(!t||!e||t.length!==e.length)return!1;for(n=0,o=t.length;n<o;++n)if(a=t[n],r=e[n],a instanceof Array&&r instanceof Array){if(!i.arrayEquals(a,r))return!1}else if(a!==r)return!1;return!0},clone:function(t){if(i.isArray(t))return t.map(i.clone);if(i.isObject(t)){for(var e={},n=Object.keys(t),o=n.length,a=0;a<o;++a)e[n[a]]=i.clone(t[n[a]]);return e}return t},_merger:function(t,e,n,o){var a=e[t],r=n[t];i.isObject(a)&&i.isObject(r)?i.merge(a,r,o):e[t]=i.clone(r)},_mergerIf:function(t,e,n){var o=e[t],a=n[t];i.isObject(o)&&i.isObject(a)?i.mergeIf(o,a):e.hasOwnProperty(t)||(e[t]=i.clone(a))},merge:function(t,e,n){var o,a,r,s,l,d=i.isArray(e)?e:[e],c=d.length;if(!i.isObject(t))return t;for(n=n||{},o=n.merger||i._merger,a=0;a<c;++a)if(e=d[a],i.isObject(e))for(r=Object.keys(e),l=0,s=r.length;l<s;++l)o(r[l],t,e,n);return t},mergeIf:function(t,e){return i.merge(t,e,{merger:i._mergerIf})},extend:function(t){for(var e=function(e,i){t[i]=e},n=1,o=arguments.length;n<o;++n)i.each(arguments[n],e);return t},inherits:function(t){var e=this,n=t&&t.hasOwnProperty("constructor")?t.constructor:function(){return e.apply(this,arguments)},o=function(){this.constructor=n};return o.prototype=e.prototype,n.prototype=new o,n.extend=i.inherits,t&&i.extend(n.prototype,t),n.__super__=e.prototype,n}};e.exports=i,i.callCallback=i.callback,i.indexOf=function(t,e,i){return Array.prototype.indexOf.call(t,e,i)},i.getValueOrDefault=i.valueOrDefault,i.getValueAtIndexOrDefault=i.valueAtIndexOrDefault},{}],43:[function(t,e){"use strict";var i=t(42),n={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return-t*(t-2)},easeInOutQuad:function(t){return(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1)},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return(t-=1)*t*t+1},easeInOutCubic:function(t){return(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return-((t-=1)*t*t*t-1)},easeInOutQuart:function(t){return(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return(t-=1)*t*t*t*t+1},easeInOutQuint:function(t){return(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},easeInSine:function(t){return 1-Math.cos(t*(Math.PI/2))},easeOutSine:function(t){return Math.sin(t*(Math.PI/2))},easeInOutSine:function(t){return-.5*(Math.cos(Math.PI*t)-1)},easeInExpo:function(t){return 0===t?0:Math.pow(2,10*(t-1))},easeOutExpo:function(t){return 1===t?1:1-Math.pow(2,-10*t)},easeInOutExpo:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*--t))},easeInCirc:function(t){return t>=1?t:-(Math.sqrt(1-t*t)-1)},easeOutCirc:function(t){return Math.sqrt(1-(t-=1)*t)},easeInOutCirc:function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInElastic:function(t){var e=1.70158,i=0,n=1;return 0===t?0:1===t?1:(i||(i=.3),n<1?(n=1,e=i/4):e=i/(2*Math.PI)*Math.asin(1/n),-n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/i))},easeOutElastic:function(t){var e=1.70158,i=0,n=1;return 0===t?0:1===t?1:(i||(i=.3),n<1?(n=1,e=i/4):e=i/(2*Math.PI)*Math.asin(1/n),n*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/i)+1)},easeInOutElastic:function(t){var e=1.70158,i=0,n=1;return 0===t?0:2==(t/=.5)?1:(i||(i=.45),n<1?(n=1,e=i/4):e=i/(2*Math.PI)*Math.asin(1/n),t<1?n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/i)*-.5:n*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/i)*.5+1)},easeInBack:function(t){var e=1.70158;return t*t*((e+1)*t-e)},easeOutBack:function(t){var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},easeInOutBack:function(t){var e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},easeInBounce:function(t){return 1-n.easeOutBounce(1-t)},easeOutBounce:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:function(t){return t<.5?.5*n.easeInBounce(2*t):.5*n.easeOutBounce(2*t-1)+.5}};e.exports={effects:n},i.easingEffects=n},{42:42}],44:[function(t,e){"use strict";var i=t(42);e.exports={toLineHeight:function(t,e){var i=(""+t).match(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);if(!i||"normal"===i[1])return 1.2*e;switch(t=+i[2],i[3]){case"px":return t;case"%":t/=100}return e*t},toPadding:function(t){var e,n,o,a;return i.isObject(t)?(e=+t.top||0,n=+t.right||0,o=+t.bottom||0,a=+t.left||0):e=n=o=a=+t||0,{top:e,right:n,bottom:o,left:a,height:e+o,width:a+n}},resolve:function(t,e,n){var o,a,r;for(o=0,a=t.length;o<a;++o)if((r=t[o])!==undefined&&(e!==undefined&&"function"==typeof r&&(r=r(e)),n!==undefined&&i.isArray(r)&&(r=r[n]),r!==undefined))return r}}},{42:42}],45:[function(t,e){"use strict";e.exports=t(42),e.exports.easing=t(43),e.exports.canvas=t(41),e.exports.options=t(44)},{41:41,42:42,43:43,44:44}],46:[function(t,e){e.exports={acquireContext:function(t){return t&&t.canvas&&(t=t.canvas),t&&t.getContext("2d")||null}}},{}],47:[function(t,e){"use strict";function i(t,e){var i=m.getStyle(t,e),n=i&&i.match(/^(\d+)(\.\d+)?px$/);return n?Number(n[1]):undefined}function n(t,e){var n=t.style,o=t.getAttribute("height"),a=t.getAttribute("width");if(t[g]={initial:{height:o,width:a,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",null===a||""===a){var r=i(t,"width");r!==undefined&&(t.width=r)}if(null===o||""===o)if(""===t.style.height)t.height=t.width/(e.options.aspectRatio||2);else{var s=i(t,"height");r!==undefined&&(t.height=s)}return t}function o(t,e,i){t.addEventListener(e,i,D)}function a(t,e,i){t.removeEventListener(e,i,D)}function r(t,e,i,n,o){return{type:t,chart:e,"native":o||null,x:i!==undefined?i:null,y:n!==undefined?n:null}}function s(t,e){var i=C[t.type]||t.type,n=m.getRelativePosition(t,e);return r(i,e,n.x,n.y,t)}function l(t,e){var i=!1,n=[];return function(){n=Array.prototype.slice.call(arguments),e=e||this,i||(i=!0,m.requestAnimFrame.call(window,function(){i=!1,t.apply(e,n)}))}}function d(t){var e=document.createElement("div"),i=v+"size-monitor",n=1e6,a="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;pointer-events:none;visibility:hidden;z-index:-1;";e.style.cssText=a,e.className=i,e.innerHTML='<div class="'+i+'-expand" style="'+a+'"><div style="position:absolute;width:'+n+"px;height:"+n+'px;left:0;top:0"></div></div><div class="'+i+'-shrink" style="'+a+'"><div style="position:absolute;width:200%;height:200%;left:0; top:0"></div></div>';var r=e.childNodes[0],s=e.childNodes[1];e._reset=function(){r.scrollLeft=n,r.scrollTop=n,s.scrollLeft=n,s.scrollTop=n};var l=function(){e._reset(),t()};return o(r,"scroll",l.bind(r,"expand")),o(s,"scroll",l.bind(s,"shrink")),e}function c(t,e){var i=t[g]||(t[g]={}),n=i.renderProxy=function(t){t.animationName===T&&e()};m.each(E,function(e){o(t,e,n)}),i.reflow=!!t.offsetParent,t.classList.add(b)}function h(t){var e=t[g]||{},i=e.renderProxy;i&&(m.each(E,function(e){a(t,e,i)}),delete e.renderProxy),t.classList.remove(b)}function u(t,e,i){var n=t[g]||(t[g]={}),o=n.resizer=d(l(function(){if(n.resizer)return e(r("resize",i))}));c(t,function(){if(n.resizer){var e=t.parentNode;e&&e!==o.parentNode&&e.insertBefore(o,e.firstChild),o._reset()}})}function f(t){var e=t[g]||{},i=e.resizer;delete e.resizer,h(t),i&&i.parentNode&&i.parentNode.removeChild(i)}function p(t,e){var i=t._style||document.createElement("style");t._style||(t._style=i,e="/* Chart.js */\n"+e,i.setAttribute("type","text/css"),document.getElementsByTagName("head")[0].appendChild(i)),i.appendChild(document.createTextNode(e))}var m=t(45),g="$chartjs",v="chartjs-",b=v+"render-monitor",T=v+"render-animation",E=["animationstart","webkitAnimationStart"],C={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},y=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("e",null,e)}catch(t){}return t}(),D=!!y&&{passive:!0};e.exports={_enabled:"undefined"!=typeof window&&"undefined"!=typeof document,initialize:function(){var t="from{opacity:0.99}to{opacity:1}";p(this,"@-webkit-keyframes "+T+"{"+t+"}@keyframes "+T+"{"+t+"}."+b+"{-webkit-animation:"+T+" 0.001s;animation:"+T+" 0.001s;}")},acquireContext:function(t,e){"string"==typeof t?t=document.getElementById(t):t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas);var i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(n(t,e),i):null},releaseContext:function(t){var e=t.canvas;if(e[g]){var i=e[g].initial;["height","width"].forEach(function(t){var n=i[t];m.isNullOrUndef(n)?e.removeAttribute(t):e.setAttribute(t,n)}),m.each(i.style||{},function(t,i){e.style[i]=t}),e.width=e.width,delete e[g]}},addEventListener:function(t,e,i){var n=t.canvas;if("resize"===e)return void u(n,i,t);var a=i[g]||(i[g]={});o(n,e,(a.proxies||(a.proxies={}))[t.id+"_"+e]=function(e){i(s(e,t))})},removeEventListener:function(t,e,i){var n=t.canvas;if("resize"===e)return void f(n,i);var o=i[g]||{},r=o.proxies||{},s=r[t.id+"_"+e];s&&a(n,e,s)}},m.addEvent=o,m.removeEvent=a},{45:45}],48:[function(t,e){"use strict";var i=t(45),n=t(46),o=t(47),a=o._enabled?o:n;e.exports=i.extend({initialize:function(){},acquireContext:function(){},releaseContext:function(){},addEventListener:function(){},removeEventListener:function(){}},a)},{45:45,46:46,47:47}],49:[function(t,e){"use strict";e.exports={},e.exports.filler=t(50),e.exports.legend=t(51),e.exports.title=t(52)},{50:50,51:51,52:52}],50:[function(t,e){"use strict";function i(t,e,i){var n,o=t._model||{},a=o.fill;if(a===undefined&&(a=!!o.backgroundColor),!1===a||null===a)return!1;if(!0===a)return"origin";if(n=parseFloat(a,10),isFinite(n)&&Math.floor(n)===n)return"-"!==a[0]&&"+"!==a[0]||(n=e+n),!(n===e||n<0||n>=i)&&n;switch(a){case"bottom":return"start";case"top":return"end";case"zero":return"origin";case"origin":case"start":case"end":return a;default:return!1}}function n(t){var e,i=t.el._model||{},n=t.el._scale||{},o=t.fill,a=null;if(isFinite(o))return null;if("start"===o?a=i.scaleBottom===undefined?n.bottom:i.scaleBottom:"end"===o?a=i.scaleTop===undefined?n.top:i.scaleTop:i.scaleZero!==undefined?a=i.scaleZero:n.getBasePosition?a=n.getBasePosition():n.getBasePixel&&(a=n.getBasePixel()),a!==undefined&&null!==a){if(a.x!==undefined&&a.y!==undefined)return a;if("number"==typeof a&&isFinite(a))return e=n.isHorizontal(),{x:e?a:null,y:e?null:a}}return null}function o(t,e,i){var n,o=t[e],a=o.fill,r=[e];if(!i)return a;for(;!1!==a&&-1===r.indexOf(a);){if(!isFinite(a))return a;if(!(n=t[a]))return!1;if(n.visible)return a;r.push(a),a=n.fill}return!1}function a(t){var e=t.fill,i="dataset";return!1===e?null:(isFinite(e)||(i="boundary"),u[i](t))}function r(t){return t&&!t.skip}function s(t,e,i,n,o){var a;if(n&&o){for(t.moveTo(e[0].x,e[0].y),a=1;a<n;++a)h.canvas.lineTo(t,e[a-1],e[a]);for(t.lineTo(i[o-1].x,i[o-1].y),a=o-1;a>0;--a)h.canvas.lineTo(t,i[a],i[a-1],!0)}}function l(t,e,i,n,o,a){var l,d,c,h,u,f,p,m=e.length,g=n.spanGaps,v=[],b=[],T=0,E=0;for(t.beginPath(),l=0,d=m+!!a;l<d;++l)c=l%m,h=e[c]._view,u=i(h,c,n),f=r(h),p=r(u),f&&p?(T=v.push(h),E=b.push(u)):T&&E&&(g?(f&&v.push(h),p&&b.push(u)):(s(t,v,b,T,E),T=E=0,v=[],b=[]));s(t,v,b,T,E),t.closePath(),t.fillStyle=o,t.fill()}var d=t(25),c=t(40),h=t(45);d._set("global",{plugins:{filler:{propagate:!0}}});var u={dataset:function(t){var e=t.fill,i=t.chart,n=i.getDatasetMeta(e),o=n&&i.isDatasetVisible(e),a=o&&n.dataset._children||[],r=a.length||0;return r?function(t,e){return e<r&&a[e]._view||null}:null},boundary:function(t){var e=t.boundary,i=e?e.x:null,n=e?e.y:null;return function(t){return{x:null===i?t.x:i,y:null===n?t.y:n}}}};e.exports={id:"filler",afterDatasetsUpdate:function(t,e){var r,s,l,d,h=(t.data.datasets||[]).length,u=e.propagate,f=[];for(s=0;s<h;++s)r=t.getDatasetMeta(s),l=r.dataset,d=null,l&&l._model&&l instanceof c.Line&&(d={visible:t.isDatasetVisible(s),fill:i(l,s,h),chart:t,el:l}),r.$filler=d,f.push(d);for(s=0;s<h;++s)(d=f[s])&&(d.fill=o(f,s,u),d.boundary=n(d),d.mapper=a(d))},beforeDatasetDraw:function(t,e){var i=e.meta.$filler;if(i){var n=t.ctx,o=i.el,a=o._view,r=o._children||[],s=i.mapper,c=a.backgroundColor||d.global.defaultColor;s&&c&&r.length&&(h.canvas.clipArea(n,t.chartArea),l(n,r,s,a,c,o._loop),h.canvas.unclipArea(n))}}}},{25:25,40:40,45:45}],51:[function(t,e){"use strict";function i(t,e){return t.usePointStyle?e*Math.SQRT2:t.boxWidth}function n(t,e){var i=new d({ctx:t.ctx,options:e,chart:t});s.configure(t,i,e),s.addBox(t,i),t.legend=i}var o=t(25),a=t(26),r=t(45),s=t(30),l=r.noop;o._set("global",{legend:{display:!0,position:"top",fullWidth:!0,reverse:!1,weight:1e3,onClick:function(t,e){var i=e.datasetIndex,n=this.chart,o=n.getDatasetMeta(i);o.hidden=null===o.hidden?!n.data.datasets[i].hidden:null,n.update()},onHover:null,labels:{boxWidth:40,padding:10,generateLabels:function(t){var e=t.data;return r.isArray(e.datasets)?e.datasets.map(function(e,i){return{text:e.label,fillStyle:r.isArray(e.backgroundColor)?e.backgroundColor[0]:e.backgroundColor,hidden:!t.isDatasetVisible(i),lineCap:e.borderCapStyle,lineDash:e.borderDash,lineDashOffset:e.borderDashOffset,lineJoin:e.borderJoinStyle,lineWidth:e.borderWidth,strokeStyle:e.borderColor,pointStyle:e.pointStyle,datasetIndex:i}},this):[]}}},legendCallback:function(t){var e=[];e.push('<ul class="'+t.id+'-legend">');for(var i=0;i<t.data.datasets.length;i++)e.push('<li><span style="background-color:'+t.data.datasets[i].backgroundColor+'"></span>'),t.data.datasets[i].label&&e.push(t.data.datasets[i].label),e.push("</li>");return e.push("</ul>"),e.join("")}});var d=a.extend({initialize:function(t){r.extend(this,t),this.legendHitBoxes=[],this.doughnutMode=!1},beforeUpdate:l,update:function(t,e,i){var n=this;return n.beforeUpdate(),n.maxWidth=t,n.maxHeight=e,n.margins=i,n.beforeSetDimensions(),n.setDimensions(),n.afterSetDimensions(),n.beforeBuildLabels(),n.buildLabels(),n.afterBuildLabels(),n.beforeFit(),n.fit(),n.afterFit(),n.afterUpdate(),n.minSize},afterUpdate:l,beforeSetDimensions:l,setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0,t.minSize={width:0,height:0}},afterSetDimensions:l,beforeBuildLabels:l,buildLabels:function(){var t=this,e=t.options.labels||{},i=r.callback(e.generateLabels,[t.chart],t)||[];e.filter&&(i=i.filter(function(i){return e.filter(i,t.chart.data)})),t.options.reverse&&i.reverse(),t.legendItems=i},afterBuildLabels:l,beforeFit:l,fit:function(){var t=this,e=t.options,n=e.labels,a=e.display,s=t.ctx,l=o.global,d=r.valueOrDefault,c=d(n.fontSize,l.defaultFontSize),h=d(n.fontStyle,l.defaultFontStyle),u=d(n.fontFamily,l.defaultFontFamily),f=r.fontString(c,h,u),p=t.legendHitBoxes=[],m=t.minSize,g=t.isHorizontal();if(g?(m.width=t.maxWidth,m.height=a?10:0):(m.width=a?10:0,m.height=t.maxHeight),a)if(s.font=f,g){var v=t.lineWidths=[0],b=t.legendItems.length?c+n.padding:0;s.textAlign="left",s.textBaseline="top",r.each(t.legendItems,function(e,o){var a=i(n,c),r=a+c/2+s.measureText(e.text).width;v[v.length-1]+r+n.padding>=t.width&&(b+=c+n.padding,v[v.length]=t.left),p[o]={left:0,top:0,width:r,height:c},v[v.length-1]+=r+n.padding}),m.height+=b}else{var T=n.padding,E=t.columnWidths=[],C=n.padding,y=0,D=0,I=c+T;r.each(t.legendItems,function(t,e){var o=i(n,c),a=o+c/2+s.measureText(t.text).width;D+I>m.height&&(C+=y+n.padding,E.push(y),y=0,D=0),y=Math.max(y,a),D+=I,p[e]={left:0,top:0,width:a,height:c}}),C+=y,E.push(y),m.width+=C}t.width=m.width,t.height=m.height},afterFit:l,isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){var t=this,e=t.options,n=e.labels,a=o.global,s=a.elements.line,l=t.width,d=t.lineWidths;if(e.display){var c,h=t.ctx,u=r.valueOrDefault,f=u(n.fontColor,a.defaultFontColor),p=u(n.fontSize,a.defaultFontSize),m=u(n.fontStyle,a.defaultFontStyle),g=u(n.fontFamily,a.defaultFontFamily),v=r.fontString(p,m,g);h.textAlign="left",h.textBaseline="middle",h.lineWidth=.5,h.strokeStyle=f,h.fillStyle=f,h.font=v;var b=i(n,p),T=t.legendHitBoxes,E=function(t,i,n){if(!(isNaN(b)||b<=0)){h.save(),h.fillStyle=u(n.fillStyle,a.defaultColor),h.lineCap=u(n.lineCap,s.borderCapStyle),h.lineDashOffset=u(n.lineDashOffset,s.borderDashOffset),h.lineJoin=u(n.lineJoin,s.borderJoinStyle),h.lineWidth=u(n.lineWidth,s.borderWidth),h.strokeStyle=u(n.strokeStyle,a.defaultColor);var o=0===u(n.lineWidth,s.borderWidth);if(h.setLineDash&&h.setLineDash(u(n.lineDash,s.borderDash)),e.labels&&e.labels.usePointStyle){var l=p*Math.SQRT2/2,d=l/Math.SQRT2,c=t+d,f=i+d;r.canvas.drawPoint(h,n.pointStyle,l,c,f)}else o||h.strokeRect(t,i,b,p),h.fillRect(t,i,b,p);h.restore()}},C=function(t,e,i,n){var o=p/2,a=b+o+t,r=e+o;h.fillText(i.text,a,r),i.hidden&&(h.beginPath(),h.lineWidth=2,h.moveTo(a,r),h.lineTo(a+n,r),h.stroke())},y=t.isHorizontal();c=y?{x:t.left+(l-d[0])/2,y:t.top+n.padding,line:0}:{x:t.left+n.padding,y:t.top+n.padding,line:0};var D=p+n.padding;r.each(t.legendItems,function(e,i){var o=h.measureText(e.text).width,a=b+p/2+o,r=c.x,s=c.y;y?r+a>=l&&(s=c.y+=D,c.line++,r=c.x=t.left+(l-d[c.line])/2):s+D>t.bottom&&(r=c.x=r+t.columnWidths[c.line]+n.padding,s=c.y=t.top+n.padding,c.line++),E(r,s,e),T[i].left=r,T[i].top=s,C(r,s,e,o),y?c.x+=a+n.padding:c.y+=D})}},handleEvent:function(t){var e=this,i=e.options,n="mouseup"===t.type?"click":t.type,o=!1;if("mousemove"===n){if(!i.onHover)return}else{if("click"!==n)return;if(!i.onClick)return}var a=t.x,r=t.y;if(a>=e.left&&a<=e.right&&r>=e.top&&r<=e.bottom)for(var s=e.legendHitBoxes,l=0;l<s.length;++l){var d=s[l];if(a>=d.left&&a<=d.left+d.width&&r>=d.top&&r<=d.top+d.height){if("click"===n){i.onClick.call(e,t["native"],e.legendItems[l]),o=!0;break}if("mousemove"===n){i.onHover.call(e,t["native"],e.legendItems[l]),o=!0;break}}}return o}});e.exports={id:"legend",_element:d,beforeInit:function(t){var e=t.options.legend;e&&n(t,e)},beforeUpdate:function(t){var e=t.options.legend,i=t.legend;e?(r.mergeIf(e,o.global.legend),i?(s.configure(t,i,e),i.options=e):n(t,e)):i&&(s.removeBox(t,i),delete t.legend)},afterEvent:function(t,e){var i=t.legend;i&&i.handleEvent(e)}}},{25:25,26:26,30:30,45:45}],52:[function(t,e){"use strict";function i(t,e){var i=new l({ctx:t.ctx,options:e,chart:t});r.configure(t,i,e),r.addBox(t,i),t.titleBlock=i}var n=t(25),o=t(26),a=t(45),r=t(30),s=a.noop;n._set("global",{title:{display:!1,fontStyle:"bold",fullWidth:!0,lineHeight:1.2,padding:10,position:"top",text:"",weight:2e3}});var l=o.extend({initialize:function(t){var e=this;a.extend(e,t),e.legendHitBoxes=[]},beforeUpdate:s,update:function(t,e,i){var n=this;return n.beforeUpdate(),n.maxWidth=t,n.maxHeight=e,n.margins=i,n.beforeSetDimensions(),n.setDimensions(),n.afterSetDimensions(),n.beforeBuildLabels(),n.buildLabels(),n.afterBuildLabels(),n.beforeFit(),n.fit(),n.afterFit(),n.afterUpdate(),n.minSize},afterUpdate:s,beforeSetDimensions:s,setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0,t.minSize={width:0,height:0}},afterSetDimensions:s,beforeBuildLabels:s,buildLabels:s,afterBuildLabels:s,beforeFit:s,fit:function(){var t=this,e=a.valueOrDefault,i=t.options,o=i.display,r=e(i.fontSize,n.global.defaultFontSize),s=t.minSize,l=a.isArray(i.text)?i.text.length:1,d=a.options.toLineHeight(i.lineHeight,r),c=o?l*d+2*i.padding:0;t.isHorizontal()?(s.width=t.maxWidth,s.height=c):(s.width=c,s.height=t.maxHeight),t.width=s.width,t.height=s.height},afterFit:s,isHorizontal:function(){var t=this.options.position;return"top"===t||"bottom"===t},draw:function(){var t=this,e=t.ctx,i=a.valueOrDefault,o=t.options,r=n.global;if(o.display){var s,l,d,c=i(o.fontSize,r.defaultFontSize),h=i(o.fontStyle,r.defaultFontStyle),u=i(o.fontFamily,r.defaultFontFamily),f=a.fontString(c,h,u),p=a.options.toLineHeight(o.lineHeight,c),m=p/2+o.padding,g=0,v=t.top,b=t.left,T=t.bottom,E=t.right;e.fillStyle=i(o.fontColor,r.defaultFontColor),e.font=f,t.isHorizontal()?(l=b+(E-b)/2,d=v+m,s=E-b):(l="left"===o.position?b+m:E-m,d=v+(T-v)/2,s=T-v,g=Math.PI*("left"===o.position?-.5:.5)),e.save(),e.translate(l,d),e.rotate(g),e.textAlign="center",e.textBaseline="middle";var C=o.text;if(a.isArray(C))for(var y=0,D=0;D<C.length;++D)e.fillText(C[D],0,y,s),y+=p;else e.fillText(C,0,0,s);e.restore()}}});e.exports={id:"title",_element:l,beforeInit:function(t){var e=t.options.title;e&&i(t,e)},beforeUpdate:function(t){var e=t.options.title,o=t.titleBlock;e?(a.mergeIf(e,n.global.title),o?(r.configure(t,o,e),o.options=e):i(t,e)):o&&(r.removeBox(t,o),delete t.titleBlock)}}},{25:25,26:26,30:30,45:45}],53:[function(t,e){"use strict";e.exports=function(t){var e={position:"bottom"},i=t.Scale.extend({getLabels:function(){var t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels},determineDataLimits:function(){var t=this,e=t.getLabels();t.minIndex=0,t.maxIndex=e.length-1;var i;t.options.ticks.min!==undefined&&(i=e.indexOf(t.options.ticks.min),t.minIndex=-1!==i?i:t.minIndex),t.options.ticks.max!==undefined&&(i=e.indexOf(t.options.ticks.max),t.maxIndex=-1!==i?i:t.maxIndex),t.min=e[t.minIndex],t.max=e[t.maxIndex]},buildTicks:function(){var t=this,e=t.getLabels();t.ticks=0===t.minIndex&&t.maxIndex===e.length-1?e:e.slice(t.minIndex,t.maxIndex+1)},getLabelForIndex:function(t,e){var i=this,n=i.chart.data,o=i.isHorizontal();return n.yLabels&&!o?i.getRightValue(n.datasets[e].data[t]):i.ticks[t-i.minIndex]},getPixelForValue:function(t,e){var i,n=this,o=n.options.offset,a=Math.max(n.maxIndex+1-n.minIndex-(o?0:1),1);if(t!==undefined&&null!==t&&(i=n.isHorizontal()?t.x:t.y),i!==undefined||t!==undefined&&isNaN(e)){var r=n.getLabels();t=i||t;var s=r.indexOf(t);e=-1!==s?s:e}if(n.isHorizontal()){var l=n.width/a,d=l*(e-n.minIndex);return o&&(d+=l/2),n.left+Math.round(d)}var c=n.height/a,h=c*(e-n.minIndex);return o&&(h+=c/2),n.top+Math.round(h)},getPixelForTick:function(t){return this.getPixelForValue(this.ticks[t],t+this.minIndex,null)},getValueForPixel:function(t){var e=this,i=e.options.offset,n=Math.max(e._ticks.length-(i?0:1),1),o=e.isHorizontal(),a=(o?e.width:e.height)/n;return t-=o?e.left:e.top,i&&(t-=a/2),(t<=0?0:Math.round(t/a))+e.minIndex},getBasePixel:function(){return this.bottom}});t.scaleService.registerScaleType("category",i,e)}},{}],54:[function(t,e){"use strict";var i=t(25),n=t(45),o=t(34);e.exports=function(t){var e={position:"left",ticks:{callback:o.formatters.linear}},a=t.LinearScaleBase.extend({determineDataLimits:function(){function t(t){return s?t.xAxisID===e.id:t.yAxisID===e.id}var e=this,i=e.options,o=e.chart,a=o.data,r=a.datasets,s=e.isHorizontal(),l=0,d=1;e.min=null,e.max=null;var c=i.stacked;if(c===undefined&&n.each(r,function(e,i){if(!c){var n=o.getDatasetMeta(i);o.isDatasetVisible(i)&&t(n)&&n.stack!==undefined&&(c=!0)}}),i.stacked||c){var h={};n.each(r,function(a,r){var s=o.getDatasetMeta(r),l=[s.type,i.stacked===undefined&&s.stack===undefined?r:"",s.stack].join(".");h[l]===undefined&&(h[l]={positiveValues:[],negativeValues:[]});var d=h[l].positiveValues,c=h[l].negativeValues;o.isDatasetVisible(r)&&t(s)&&n.each(a.data,function(t,n){var o=+e.getRightValue(t);isNaN(o)||s.data[n].hidden||(d[n]=d[n]||0,c[n]=c[n]||0,i.relativePoints?d[n]=100:o<0?c[n]+=o:d[n]+=o)})}),n.each(h,function(t){var i=t.positiveValues.concat(t.negativeValues),o=n.min(i),a=n.max(i);e.min=null===e.min?o:Math.min(e.min,o),e.max=null===e.max?a:Math.max(e.max,a)})}else n.each(r,function(i,a){var r=o.getDatasetMeta(a);o.isDatasetVisible(a)&&t(r)&&n.each(i.data,function(t,i){var n=+e.getRightValue(t);isNaN(n)||r.data[i].hidden||(null===e.min?e.min=n:n<e.min&&(e.min=n),null===e.max?e.max=n:n>e.max&&(e.max=n))})});e.min=isFinite(e.min)&&!isNaN(e.min)?e.min:l,e.max=isFinite(e.max)&&!isNaN(e.max)?e.max:d,this.handleTickRangeOptions()},getTickLimit:function(){var t,e=this,o=e.options.ticks;if(e.isHorizontal())t=Math.min(o.maxTicksLimit?o.maxTicksLimit:11,Math.ceil(e.width/50));else{var a=n.valueOrDefault(o.fontSize,i.global.defaultFontSize);t=Math.min(o.maxTicksLimit?o.maxTicksLimit:11,Math.ceil(e.height/(2*a)))}return t},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},getPixelForValue:function(t){var e=this,i=e.start,n=+e.getRightValue(t),o=e.end-i;return e.isHorizontal()?e.left+e.width/o*(n-i):e.bottom-e.height/o*(n-i)},getValueForPixel:function(t){var e=this,i=e.isHorizontal(),n=i?e.width:e.height,o=(i?t-e.left:e.bottom-t)/n;return e.start+(e.end-e.start)*o},getPixelForTick:function(t){return this.getPixelForValue(this.ticksAsNumbers[t])}});t.scaleService.registerScaleType("linear",a,e)}},{25:25,34:34,45:45}],55:[function(t,e){"use strict";function i(t,e){var i,o=[];if(t.stepSize&&t.stepSize>0)i=t.stepSize;else{var a=n.niceNum(e.max-e.min,!1);i=n.niceNum(a/(t.maxTicks-1),!0)}var r=Math.floor(e.min/i)*i,s=Math.ceil(e.max/i)*i;t.min&&t.max&&t.stepSize&&n.almostWhole((t.max-t.min)/t.stepSize,i/1e3)&&(r=t.min,s=t.max);var l=(s-r)/i;l=n.almostEquals(l,Math.round(l),i/1e3)?Math.round(l):Math.ceil(l);var d=1;i<1&&(d=Math.pow(10,i.toString().length-2),r=Math.round(r*d)/d,s=Math.round(s*d)/d),o.push(t.min!==undefined?t.min:r);for(var c=1;c<l;++c)o.push(Math.round((r+c*i)*d)/d);return o.push(t.max!==undefined?t.max:s),o}var n=t(45);e.exports=function(t){var e=n.noop;t.LinearScaleBase=t.Scale.extend({getRightValue:function(e){
return"string"==typeof e?+e:t.Scale.prototype.getRightValue.call(this,e)},handleTickRangeOptions:function(){var t=this,e=t.options,i=e.ticks;if(i.beginAtZero){var o=n.sign(t.min),a=n.sign(t.max);o<0&&a<0?t.max=0:o>0&&a>0&&(t.min=0)}var r=i.min!==undefined||i.suggestedMin!==undefined,s=i.max!==undefined||i.suggestedMax!==undefined;i.min!==undefined?t.min=i.min:i.suggestedMin!==undefined&&(null===t.min?t.min=i.suggestedMin:t.min=Math.min(t.min,i.suggestedMin)),i.max!==undefined?t.max=i.max:i.suggestedMax!==undefined&&(null===t.max?t.max=i.suggestedMax:t.max=Math.max(t.max,i.suggestedMax)),r!==s&&t.min>=t.max&&(r?t.max=t.min+1:t.min=t.max-1),t.min===t.max&&(t.max++,i.beginAtZero||t.min--)},getTickLimit:e,handleDirectionalChanges:e,buildTicks:function(){var t=this,e=t.options,o=e.ticks,a=t.getTickLimit();a=Math.max(2,a);var r={maxTicks:a,min:o.min,max:o.max,stepSize:n.valueOrDefault(o.fixedStepSize,o.stepSize)},s=t.ticks=i(r,t);t.handleDirectionalChanges(),t.max=n.max(s),t.min=n.min(s),o.reverse?(s.reverse(),t.start=t.max,t.end=t.min):(t.start=t.min,t.end=t.max)},convertTicksToLabels:function(){var e=this;e.ticksAsNumbers=e.ticks.slice(),e.zeroLineIndex=e.ticks.indexOf(0),t.Scale.prototype.convertTicksToLabels.call(e)}})}},{45:45}],56:[function(t,e){"use strict";function i(t,e){var i,o,a=[],r=n.valueOrDefault,s=r(t.min,Math.pow(10,Math.floor(n.log10(e.min)))),l=Math.floor(n.log10(e.max)),d=Math.ceil(e.max/Math.pow(10,l));0===s?(i=Math.floor(n.log10(e.minNotZero)),o=Math.floor(e.minNotZero/Math.pow(10,i)),a.push(s),s=o*Math.pow(10,i)):(i=Math.floor(n.log10(s)),o=Math.floor(s/Math.pow(10,i)));var c=i<0?Math.pow(10,Math.abs(i)):1;do{a.push(s),++o,10===o&&(o=1,++i,c=i>=0?1:c),s=Math.round(o*Math.pow(10,i)*c)/c}while(i<l||i===l&&o<d);var h=r(t.max,s);return a.push(h),a}var n=t(45),o=t(34);e.exports=function(t){var e={position:"left",ticks:{callback:o.formatters.logarithmic}},a=t.Scale.extend({determineDataLimits:function(){function t(t){return s?t.xAxisID===e.id:t.yAxisID===e.id}var e=this,i=e.options,o=e.chart,a=o.data,r=a.datasets,s=e.isHorizontal();e.min=null,e.max=null,e.minNotZero=null;var l=i.stacked;if(l===undefined&&n.each(r,function(e,i){if(!l){var n=o.getDatasetMeta(i);o.isDatasetVisible(i)&&t(n)&&n.stack!==undefined&&(l=!0)}}),i.stacked||l){var d={};n.each(r,function(a,r){var s=o.getDatasetMeta(r),l=[s.type,i.stacked===undefined&&s.stack===undefined?r:"",s.stack].join(".");o.isDatasetVisible(r)&&t(s)&&(d[l]===undefined&&(d[l]=[]),n.each(a.data,function(t,i){var n=d[l],o=+e.getRightValue(t);isNaN(o)||s.data[i].hidden||o<0||(n[i]=n[i]||0,n[i]+=o)}))}),n.each(d,function(t){if(t.length>0){var i=n.min(t),o=n.max(t);e.min=null===e.min?i:Math.min(e.min,i),e.max=null===e.max?o:Math.max(e.max,o)}})}else n.each(r,function(i,a){var r=o.getDatasetMeta(a);o.isDatasetVisible(a)&&t(r)&&n.each(i.data,function(t,i){var n=+e.getRightValue(t);isNaN(n)||r.data[i].hidden||n<0||(null===e.min?e.min=n:n<e.min&&(e.min=n),null===e.max?e.max=n:n>e.max&&(e.max=n),0!==n&&(null===e.minNotZero||n<e.minNotZero)&&(e.minNotZero=n))})});this.handleTickRangeOptions()},handleTickRangeOptions:function(){var t=this,e=t.options,i=e.ticks,o=n.valueOrDefault,a=1,r=10;t.min=o(i.min,t.min),t.max=o(i.max,t.max),t.min===t.max&&(0!==t.min&&null!==t.min?(t.min=Math.pow(10,Math.floor(n.log10(t.min))-1),t.max=Math.pow(10,Math.floor(n.log10(t.max))+1)):(t.min=a,t.max=r)),null===t.min&&(t.min=Math.pow(10,Math.floor(n.log10(t.max))-1)),null===t.max&&(t.max=0!==t.min?Math.pow(10,Math.floor(n.log10(t.min))+1):r),null===t.minNotZero&&(t.min>0?t.minNotZero=t.min:t.max<1?t.minNotZero=Math.pow(10,Math.floor(n.log10(t.max))):t.minNotZero=a)},buildTicks:function(){var t=this,e=t.options,o=e.ticks,a=!t.isHorizontal(),r={min:o.min,max:o.max},s=t.ticks=i(r,t);t.max=n.max(s),t.min=n.min(s),o.reverse?(a=!a,t.start=t.max,t.end=t.min):(t.start=t.min,t.end=t.max),a&&s.reverse()},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),t.Scale.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},getPixelForTick:function(t){return this.getPixelForValue(this.tickValues[t])},_getFirstTickValue:function(t){var e=Math.floor(n.log10(t));return Math.floor(t/Math.pow(10,e))*Math.pow(10,e)},getPixelForValue:function(e){var i,o,a,r,s,l=this,d=l.options.ticks.reverse,c=n.log10,h=l._getFirstTickValue(l.minNotZero),u=0;return e=+l.getRightValue(e),d?(a=l.end,r=l.start,s=-1):(a=l.start,r=l.end,s=1),l.isHorizontal()?(i=l.width,o=d?l.right:l.left):(i=l.height,s*=-1,o=d?l.top:l.bottom),e!==a&&(0===a&&(u=n.getValueOrDefault(l.options.ticks.fontSize,t.defaults.global.defaultFontSize),i-=u,a=h),0!==e&&(u+=i/(c(r)-c(a))*(c(e)-c(a))),o+=s*u),o},getValueForPixel:function(e){var i,o,a,r,s=this,l=s.options.ticks.reverse,d=n.log10,c=s._getFirstTickValue(s.minNotZero);if(l?(o=s.end,a=s.start):(o=s.start,a=s.end),s.isHorizontal()?(i=s.width,r=l?s.right-e:e-s.left):(i=s.height,r=l?e-s.top:s.bottom-e),r!==o){if(0===o){var h=n.getValueOrDefault(s.options.ticks.fontSize,t.defaults.global.defaultFontSize);r-=h,i-=h,o=c}r*=d(a)-d(o),r/=i,r=Math.pow(10,d(o)+r)}return r}});t.scaleService.registerScaleType("logarithmic",a,e)}},{34:34,45:45}],57:[function(t,e){"use strict";var i=t(25),n=t(45),o=t(34);e.exports=function(t){function e(t){var e=t.options;return e.angleLines.display||e.pointLabels.display?t.chart.data.labels.length:0}function a(t){var e=t.options.pointLabels,i=n.valueOrDefault(e.fontSize,g.defaultFontSize),o=n.valueOrDefault(e.fontStyle,g.defaultFontStyle),a=n.valueOrDefault(e.fontFamily,g.defaultFontFamily);return{size:i,style:o,family:a,font:n.fontString(i,o,a)}}function r(t,e,i){return n.isArray(i)?{w:n.longestText(t,t.font,i),h:i.length*e+1.5*(i.length-1)*e}:{w:t.measureText(i).width,h:e}}function s(t,e,i,n,o){return t===n||t===o?{start:e-i/2,end:e+i/2}:t<n||t>o?{start:e-i-5,end:e}:{start:e,end:e+i+5}}function l(t){var i,o,l,d=a(t),c=Math.min(t.height/2,t.width/2),h={r:t.width,l:0,t:t.height,b:0},u={};t.ctx.font=d.font,t._pointLabelSizes=[];var f=e(t);for(i=0;i<f;i++){l=t.getPointPosition(i,c),o=r(t.ctx,d.size,t.pointLabels[i]||""),t._pointLabelSizes[i]=o;var p=t.getIndexAngle(i),m=n.toDegrees(p)%360,g=s(m,l.x,o.w,0,180),v=s(m,l.y,o.h,90,270);g.start<h.l&&(h.l=g.start,u.l=p),g.end>h.r&&(h.r=g.end,u.r=p),v.start<h.t&&(h.t=v.start,u.t=p),v.end>h.b&&(h.b=v.end,u.b=p)}t.setReductions(c,h,u)}function d(t){var e=Math.min(t.height/2,t.width/2);t.drawingArea=Math.round(e),t.setCenterPoint(0,0,0,0)}function c(t){return 0===t||180===t?"center":t<180?"left":"right"}function h(t,e,i,o){if(n.isArray(e))for(var a=i.y,r=1.5*o,s=0;s<e.length;++s)t.fillText(e[s],i.x,a),a+=r;else t.fillText(e,i.x,i.y)}function u(t,e,i){90===t||270===t?i.y-=e.h/2:(t>270||t<90)&&(i.y-=e.h)}function f(t){var i=t.ctx,o=t.options,r=o.angleLines,s=o.pointLabels;i.lineWidth=r.lineWidth,i.strokeStyle=r.color;var l=t.getDistanceFromCenterForValue(o.ticks.reverse?t.min:t.max),d=a(t);i.textBaseline="top";for(var f=e(t)-1;f>=0;f--){if(r.display){var p=t.getPointPosition(f,l);i.beginPath(),i.moveTo(t.xCenter,t.yCenter),i.lineTo(p.x,p.y),i.stroke(),i.closePath()}if(s.display){var m=t.getPointPosition(f,l+5),v=n.valueAtIndexOrDefault(s.fontColor,f,g.defaultFontColor);i.font=d.font,i.fillStyle=v;var b=t.getIndexAngle(f),T=n.toDegrees(b);i.textAlign=c(T),u(T,t._pointLabelSizes[f],m),h(i,t.pointLabels[f]||"",m,d.size)}}}function p(t,i,o,a){var r=t.ctx;if(r.strokeStyle=n.valueAtIndexOrDefault(i.color,a-1),r.lineWidth=n.valueAtIndexOrDefault(i.lineWidth,a-1),t.options.gridLines.circular)r.beginPath(),r.arc(t.xCenter,t.yCenter,o,0,2*Math.PI),r.closePath(),r.stroke();else{var s=e(t);if(0===s)return;r.beginPath();var l=t.getPointPosition(0,o);r.moveTo(l.x,l.y);for(var d=1;d<s;d++)l=t.getPointPosition(d,o),r.lineTo(l.x,l.y);r.closePath(),r.stroke()}}function m(t){return n.isNumber(t)?t:0}var g=i.global,v={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1},gridLines:{circular:!1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:o.formatters.linear},pointLabels:{display:!0,fontSize:10,callback:function(t){return t}}},b=t.LinearScaleBase.extend({setDimensions:function(){var t=this,e=t.options,i=e.ticks;t.width=t.maxWidth,t.height=t.maxHeight,t.xCenter=Math.round(t.width/2),t.yCenter=Math.round(t.height/2);var o=n.min([t.height,t.width]),a=n.valueOrDefault(i.fontSize,g.defaultFontSize);t.drawingArea=e.display?o/2-(a/2+i.backdropPaddingY):o/2},determineDataLimits:function(){var t=this,e=t.chart,i=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY;n.each(e.data.datasets,function(a,r){if(e.isDatasetVisible(r)){var s=e.getDatasetMeta(r);n.each(a.data,function(e,n){var a=+t.getRightValue(e);isNaN(a)||s.data[n].hidden||(i=Math.min(a,i),o=Math.max(a,o))})}}),t.min=i===Number.POSITIVE_INFINITY?0:i,t.max=o===Number.NEGATIVE_INFINITY?0:o,t.handleTickRangeOptions()},getTickLimit:function(){var t=this.options.ticks,e=n.valueOrDefault(t.fontSize,g.defaultFontSize);return Math.min(t.maxTicksLimit?t.maxTicksLimit:11,Math.ceil(this.drawingArea/(1.5*e)))},convertTicksToLabels:function(){var e=this;t.LinearScaleBase.prototype.convertTicksToLabels.call(e),e.pointLabels=e.chart.data.labels.map(e.options.pointLabels.callback,e)},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},fit:function(){this.options.pointLabels.display?l(this):d(this)},setReductions:function(t,e,i){var n=this,o=e.l/Math.sin(i.l),a=Math.max(e.r-n.width,0)/Math.sin(i.r),r=-e.t/Math.cos(i.t),s=-Math.max(e.b-n.height,0)/Math.cos(i.b);o=m(o),a=m(a),r=m(r),s=m(s),n.drawingArea=Math.min(Math.round(t-(o+a)/2),Math.round(t-(r+s)/2)),n.setCenterPoint(o,a,r,s)},setCenterPoint:function(t,e,i,n){var o=this,a=o.width-e-o.drawingArea,r=t+o.drawingArea,s=i+o.drawingArea,l=o.height-n-o.drawingArea;o.xCenter=Math.round((r+a)/2+o.left),o.yCenter=Math.round((s+l)/2+o.top)},getIndexAngle:function(t){return t*(2*Math.PI/e(this))+(this.chart.options&&this.chart.options.startAngle?this.chart.options.startAngle:0)*Math.PI*2/360},getDistanceFromCenterForValue:function(t){var e=this;if(null===t)return 0;var i=e.drawingArea/(e.max-e.min);return e.options.ticks.reverse?(e.max-t)*i:(t-e.min)*i},getPointPosition:function(t,e){var i=this,n=i.getIndexAngle(t)-Math.PI/2;return{x:Math.round(Math.cos(n)*e)+i.xCenter,y:Math.round(Math.sin(n)*e)+i.yCenter}},getPointPositionForValue:function(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))},getBasePosition:function(){var t=this,e=t.min,i=t.max;return t.getPointPositionForValue(0,t.beginAtZero?0:e<0&&i<0?i:e>0&&i>0?e:0)},draw:function(){var t=this,e=t.options,i=e.gridLines,o=e.ticks,a=n.valueOrDefault;if(e.display){var r=t.ctx,s=this.getIndexAngle(0),l=a(o.fontSize,g.defaultFontSize),d=a(o.fontStyle,g.defaultFontStyle),c=a(o.fontFamily,g.defaultFontFamily),h=n.fontString(l,d,c);n.each(t.ticks,function(e,n){if(n>0||o.reverse){var d=t.getDistanceFromCenterForValue(t.ticksAsNumbers[n]);if(i.display&&0!==n&&p(t,i,d,n),o.display){var c=a(o.fontColor,g.defaultFontColor);if(r.font=h,r.save(),r.translate(t.xCenter,t.yCenter),r.rotate(s),o.showLabelBackdrop){var u=r.measureText(e).width;r.fillStyle=o.backdropColor,r.fillRect(-u/2-o.backdropPaddingX,-d-l/2-o.backdropPaddingY,u+2*o.backdropPaddingX,l+2*o.backdropPaddingY)}r.textAlign="center",r.textBaseline="middle",r.fillStyle=c,r.fillText(e,0,-d),r.restore()}}}),(e.angleLines.display||e.pointLabels.display)&&f(t)}}});t.scaleService.registerScaleType("radialLinear",b,v)}},{25:25,34:34,45:45}],58:[function(t,e){"use strict";function i(t,e){return t-e}function n(t){var e,i,n,o={},a=[];for(e=0,i=t.length;e<i;++e)n=t[e],o[n]||(o[n]=!0,a.push(n));return a}function o(t,e,i,n){if("linear"===n||!t.length)return[{time:e,pos:0},{time:i,pos:1}];var o,a,r,s,l,d=[],c=[e];for(o=0,a=t.length;o<a;++o)(s=t[o])>e&&s<i&&c.push(s);for(c.push(i),o=0,a=c.length;o<a;++o)l=c[o+1],r=c[o-1],s=c[o],r!==undefined&&l!==undefined&&Math.round((l+r)/2)===s||d.push({time:s,pos:o/(a-1)});return d}function a(t,e,i){for(var n,o,a,r=0,s=t.length-1;r>=0&&r<=s;){if(n=r+s>>1,o=t[n-1]||null,a=t[n],!o)return{lo:null,hi:a};if(a[e]<i)r=n+1;else{if(!(o[e]>i))return{lo:o,hi:a};s=n-1}}return{lo:a,hi:null}}function r(t,e,i,n){var o=a(t,e,i),r=o.lo?o.hi?o.lo:t[t.length-2]:t[0],s=o.lo?o.hi?o.hi:t[t.length-1]:t[1],l=s[e]-r[e],d=l?(i-r[e])/l:0,c=(s[n]-r[n])*d;return r[n]+c}function s(t,e){var i=e.parser,n=e.parser||e.format;return"function"==typeof i?i(t):"string"==typeof t&&"string"==typeof n?v(t,n):(t instanceof v||(t=v(t)),t.isValid()?t:"function"==typeof n?n(t):t)}function l(t,e){if(T.isNullOrUndef(t))return null;var i=e.options.time,n=s(e.getRightValue(t),i);return n.isValid()?(i.round&&n.startOf(i.round),n.valueOf()):null}function d(t,e,i,n){var o,a,r,s=e-t,l=y[i],d=l.size,c=l.steps;if(!c)return Math.ceil(s/(n*d));for(o=0,a=c.length;o<a&&(r=c[o],!(Math.ceil(s/(d*r))<=n));++o);return r}function c(t,e,i,n){var o,a,r,s=D.length;for(o=D.indexOf(t);o<s-1;++o)if(a=y[D[o]],r=a.steps?a.steps[a.steps.length-1]:C,a.common&&Math.ceil((i-e)/(r*a.size))<=n)return D[o];return D[s-1]}function h(t,e,i,n){var o,a,r=v.duration(v(n).diff(v(i))),s=D.length;for(o=s-1;o>=D.indexOf(e);o--)if(a=D[o],y[a].common&&r.as(a)>=t.length)return a;return D[e?D.indexOf(e):0]}function u(t){for(var e=D.indexOf(t)+1,i=D.length;e<i;++e)if(y[D[e]].common)return D[e]}function f(t,e,i,n){var o,a=n.time,r=a.unit||c(a.minUnit,t,e,i),s=u(r),l=T.valueOrDefault(a.stepSize,a.unitStepSize),h="week"===r&&a.isoWeekday,f=n.ticks.major.enabled,p=y[r],m=v(t),g=v(e),b=[];for(l||(l=d(t,e,r,i)),h&&(m=m.isoWeekday(h),g=g.isoWeekday(h)),m=m.startOf(h?"day":r),g=g.startOf(h?"day":r),g<e&&g.add(1,r),o=v(m),f&&s&&!h&&!a.round&&(o.startOf(s),o.add(~~((m-o)/(p.size*l))*l,r));o<g;o.add(l,r))b.push(+o);return b.push(+o),b}function p(t,e,i,n,o){var a,s,l=0,d=0;return o.offset&&e.length&&(o.time.min||(a=e.length>1?e[1]:n,s=e[0],l=(r(t,"time",a,"pos")-r(t,"time",s,"pos"))/2),o.time.max||(a=e[e.length-1],s=e.length>1?e[e.length-2]:i,d=(r(t,"time",a,"pos")-r(t,"time",s,"pos"))/2)),{left:l,right:d}}function m(t,e){var i,n,o,a,r=[];for(i=0,n=t.length;i<n;++i)o=t[i],a=!!e&&o===+v(o).startOf(e),r.push({value:o,major:a});return r}function g(t,e){var i,n,o,a=t.length;for(i=0;i<a;i++){if(n=s(t[i],e),0!==n.millisecond())return"MMM D, YYYY h:mm:ss.SSS a";0===n.second()&&0===n.minute()&&0===n.hour()||(o=!0)}return o?"MMM D, YYYY h:mm:ss a":"MMM D, YYYY"}var v=t(6);v="function"==typeof v?v:window.moment;var b=t(25),T=t(45),E=Number.MIN_SAFE_INTEGER||-9007199254740991,C=Number.MAX_SAFE_INTEGER||9007199254740991,y={millisecond:{common:!0,size:1,steps:[1,2,5,10,20,50,100,250,500]},second:{common:!0,size:1e3,steps:[1,2,5,10,30]},minute:{common:!0,size:6e4,steps:[1,2,5,10,30]},hour:{common:!0,size:36e5,steps:[1,2,3,6,12]},day:{common:!0,size:864e5,steps:[1,2,5]},week:{common:!1,size:6048e5,steps:[1,2,3,4]},month:{common:!0,size:2628e6,steps:[1,2,3]},quarter:{common:!1,size:7884e6,steps:[1,2,3,4]},year:{common:!0,size:3154e7}},D=Object.keys(y);e.exports=function(t){var e={position:"bottom",distribution:"linear",bounds:"data",time:{parser:!1,format:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"}},ticks:{autoSkip:!1,source:"auto",major:{enabled:!1}}},a=t.Scale.extend({initialize:function(){if(!v)throw new Error("Chart.js - Moment.js could not be found! You must include it before Chart.js to use the time scale. Download at https://momentjs.com");this.mergeTicksOptions(),t.Scale.prototype.initialize.call(this)},update:function(){var e=this,i=e.options;return i.time&&i.time.format&&console.warn("options.time.format is deprecated and replaced by options.time.parser."),t.Scale.prototype.update.apply(e,arguments)},getRightValue:function(e){return e&&e.t!==undefined&&(e=e.t),t.Scale.prototype.getRightValue.call(this,e)},determineDataLimits:function(){var t,e,o,a,r,s,d=this,c=d.chart,h=d.options.time,u=h.unit||"day",f=C,p=E,m=[],g=[],b=[];for(t=0,o=c.data.labels.length;t<o;++t)b.push(l(c.data.labels[t],d));for(t=0,o=(c.data.datasets||[]).length;t<o;++t)if(c.isDatasetVisible(t))if(r=c.data.datasets[t].data,T.isObject(r[0]))for(g[t]=[],e=0,a=r.length;e<a;++e)s=l(r[e],d),m.push(s),g[t][e]=s;else m.push.apply(m,b),g[t]=b.slice(0);else g[t]=[];b.length&&(b=n(b).sort(i),f=Math.min(f,b[0]),p=Math.max(p,b[b.length-1])),m.length&&(m=n(m).sort(i),f=Math.min(f,m[0]),p=Math.max(p,m[m.length-1])),f=l(h.min,d)||f,p=l(h.max,d)||p,f=f===C?+v().startOf(u):f,p=p===E?+v().endOf(u)+1:p,d.min=Math.min(f,p),d.max=Math.max(f+1,p),d._horizontal=d.isHorizontal(),d._table=[],d._timestamps={data:m,datasets:g,labels:b}},buildTicks:function(){var t,e,i,n=this,a=n.min,r=n.max,s=n.options,d=s.time,c=[],v=[];switch(s.ticks.source){case"data":c=n._timestamps.data;break;case"labels":c=n._timestamps.labels;break;case"auto":default:c=f(a,r,n.getLabelCapacity(a),s)}for("ticks"===s.bounds&&c.length&&(a=c[0],r=c[c.length-1]),a=l(d.min,n)||a,r=l(d.max,n)||r,t=0,e=c.length;t<e;++t)(i=c[t])>=a&&i<=r&&v.push(i);return n.min=a,n.max=r,n._unit=d.unit||h(v,d.minUnit,n.min,n.max),n._majorUnit=u(n._unit),n._table=o(n._timestamps.data,a,r,s.distribution),n._offsets=p(n._table,v,a,r,s),n._labelFormat=g(n._timestamps.data,d),m(v,n._majorUnit)},getLabelForIndex:function(t,e){var i=this,n=i.chart.data,o=i.options.time,a=n.labels&&t<n.labels.length?n.labels[t]:"",r=n.datasets[e].data[t];return T.isObject(r)&&(a=i.getRightValue(r)),o.tooltipFormat?s(a,o).format(o.tooltipFormat):"string"==typeof a?a:s(a,o).format(i._labelFormat)},tickFormatFunction:function(t,e,i,n){var o=this,a=o.options,r=t.valueOf(),s=a.time.displayFormats,l=s[o._unit],d=o._majorUnit,c=s[d],h=t.clone().startOf(d).valueOf(),u=a.ticks.major,f=u.enabled&&d&&c&&r===h,p=t.format(n||(f?c:l)),m=f?u:a.ticks.minor,g=T.valueOrDefault(m.callback,m.userCallback);return g?g(p,e,i):p},convertTicksToLabels:function(t){var e,i,n=[];for(e=0,i=t.length;e<i;++e)n.push(this.tickFormatFunction(v(t[e].value),e,t));return n},getPixelForOffset:function(t){var e=this,i=e._horizontal?e.width:e.height,n=e._horizontal?e.left:e.top,o=r(e._table,"time",t,"pos");return n+i*(e._offsets.left+o)/(e._offsets.left+1+e._offsets.right)},getPixelForValue:function(t,e,i){var n=this,o=null;if(e!==undefined&&i!==undefined&&(o=n._timestamps.datasets[i][e]),null===o&&(o=l(t,n)),null!==o)return n.getPixelForOffset(o)},getPixelForTick:function(t){var e=this.getTicks();return t>=0&&t<e.length?this.getPixelForOffset(e[t].value):null},getValueForPixel:function(t){var e=this,i=e._horizontal?e.width:e.height,n=e._horizontal?e.left:e.top,o=(i?(t-n)/i:0)*(e._offsets.left+1+e._offsets.left)-e._offsets.right,a=r(e._table,"pos",o,"time");return v(a)},getLabelWidth:function(t){var e=this,i=e.options.ticks,n=e.ctx.measureText(t).width,o=T.toRadians(i.maxRotation),a=Math.cos(o),r=Math.sin(o);return n*a+T.valueOrDefault(i.fontSize,b.global.defaultFontSize)*r},getLabelCapacity:function(t){var e=this,i=e.options.time.displayFormats.millisecond,n=e.tickFormatFunction(v(t),0,[],i),o=e.getLabelWidth(n),a=e.isHorizontal()?e.width:e.height,r=Math.floor(a/o);return r>0?r:1}});t.scaleService.registerScaleType("time",a,e)}},{25:25,45:45,6:6}]},{},[7])(7)}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Chartkick=e()}(this,function(){"use strict";function t(t){return"[object Array]"===Object.prototype.toString.call(t)}function e(t){return t instanceof Function}function i(t){return!e(t)&&t instanceof Object}function n(e,o){var a;for(a in o)i(o[a])||t(o[a])?(i(o[a])&&!i(e[a])&&(e[a]={}),t(o[a])&&!t(e[a])&&(e[a]=[]),n(e[a],o[a])):o[a]!==undefined&&(e[a]=o[a])}function o(t,e){var i={};return n(i,t),n(i,e),i}function a(t){var e,i,n,o,a,r,s,l,d,c,h;return"[object Date]"===(c=Object.prototype.toString.call(t))?t:"[object String]"===c?(n=t.match(U),n?(h=parseInt(n[1],10),r=parseInt(n[3],10)-1,e=parseInt(n[5],10),i=parseInt(n[7],10),a=n[9]?parseInt(n[9],10):0,d=n[11]?parseInt(n[11],10):0,o=n[12]?1e3*parseFloat(Y+n[12].slice(1)):0,l=Date.UTC(h,r,e,i,a,d,o),n[13]&&n[14]&&(s=60*n[15],n[17]&&(s+=parseInt(n[17],10)),s*="-"===n[14]?-1:1,l-=60*s*1e3),new Date(l)):void 0):void 0}function r(t){var e,i,n;for(e=0;e<t.length;e++)for(n=t[e].data,i=0;i<n.length;i++)if(n[i][1]<0)return!0;return!1}function s(t){return""+t}function l(t){return parseFloat(t)}function d(t){var e,i,n,o;if("object"!=typeof t)if("number"==typeof t)t=new Date(1e3*t);else{if(t=s(t),e=t.match(V))return i=parseInt(e[1],10),n=parseInt(e[3],10)-1,o=parseInt(e[5],10),new Date(i,n,o);var r=t.replace(/ /,"T").replace(" ","").replace("UTC","Z");t=a(r)||new Date(t)}return t}function c(e){if(!t(e)){var i,n=[];for(i in e)e.hasOwnProperty(i)&&n.push([i,e[i]]);e=n}return e}function h(t,e,i,n,a,s,l,d){return function(c,h,u){var f=c.data,p=o({},t);return p=o(p,u||{}),(c.hideLegend||"legend"in h)&&e(p,h.legend,c.hideLegend),h.title&&i(p,h.title),"min"in h?n(p,h.min):r(f)||n(p,0),h.max&&a(p,h.max),"stacked"in h&&s(p,h.stacked),h.colors&&(p.colors=h.colors),h.xtitle&&l(p,h.xtitle),h.ytitle&&d(p,h.ytitle),p=o(p,h.library||{})}}function u(t,e){return t[0].getTime()-e[0].getTime()}function f(t,e){return t[0]-e[0]}function p(t,e){return t-e}function m(t){return 0===t.getMilliseconds()&&0===t.getSeconds()}function g(t){return m(t)&&0===t.getMinutes()}function v(t){return g(t)&&0===t.getHours()}function b(t,e){return v(t)&&t.getDay()===e}function T(t){return v(t)&&1===t.getDate()}function E(t){return T(t)&&0===t.getMonth()}function C(t){return!isNaN(d(t))&&s(t).length>=6}function y(t,e,i){if(t=t||"",i.prefix&&(e<0&&(e*=-1,t+="-"),t+=i.prefix),i.thousands||i.decimal){e=s(e);var n=e.split(".");e=n[0],i.thousands&&(e=e.replace(/\B(?=(\d{3})+(?!\d))/g,i.thousands)),n.length>1&&(e+=(i.decimal||".")+n[1])}return t+e+(i.suffix||"")}function D(t){var e,i,n;for(e=0;e<t.length;e++)for(n=t[e].data,i=0;i<n.length;i++)if(0!=n[i][1])return!1;return!0}function I(t,e,i){Bt.push([t,e,i]),O()}function O(){if($t<zt){var t=Bt.shift();t&&($t++,x(t[0],t[1],t[2]),O())}}function R(){$t--,O()}function x(t,e,i){w(t,e,function(t,e,n){var o="string"==typeof n?n:n.message;i(o)})}function w(t,e,i){var n=window.jQuery||window.Zepto||window.$;if(n)n.ajax({dataType:"json",url:t,success:e,error:i,complete:R});else{var o=new XMLHttpRequest;o.open("GET",t,!0),o.setRequestHeader("Content-Type","application/json"),o.onload=function(){R(),200===o.status?e(JSON.parse(o.responseText),o.statusText,o):i(o,"error",o.statusText)},o.send()}}function k(t,e){document.body.innerText?t.innerText=e:t.textContent=e}function _(t,e){k(t,"Error Loading Chart: "+e),t.style.color="#ff0000"}function S(t){try{t.__render()}catch(e){throw _(t.element,e.message),e}}function N(t,e){"string"==typeof e?I(e,function(e){t.rawData=e,S(t)},function(e){_(t.element,e)}):(t.rawData=e,S(t))}function K(t){var e=t.element,i=document.createElement("a");i.download=!0===t.options.download?"chart.png":t.options.download,i.style.position="absolute",i.style.top="20px",i.style.right="20px",i.style.zIndex=1e3,i.style.lineHeight="20px",i.target="_blank";var n=document.createElement("img");n.alt="Download",n.style.border="none",n.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAABCFBMVEUAAADMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMywEsqxAAAAV3RSTlMAAQIDBggJCgsMDQ4PERQaHB0eISIjJCouLzE0OTo/QUJHSUpLTU5PUllhYmltcHh5foWLjI+SlaCio6atr7S1t7m6vsHHyM7R2tze5Obo7fHz9ff5+/1hlxK2AAAA30lEQVQYGUXBhVYCQQBA0TdYWAt2d3d3YWAHyur7/z9xgD16Lw0DW+XKx+1GgX+FRzM3HWQWrHl5N/oapW5RPe0PkBu+UYeICvozTWZVK23Ao04B79oJrOsJDOoxkZoQPWgX29pHpCZEk7rEvQYiNSFq1UMqvlCjJkRBS1R8hb00Vb/TajtBL7nTHE1X1vyMQF732dQhyF2o6SAwrzP06iUQzvwsArlnzcOdrgBhJyHa1QOgO9U1GsKuvjUTjavliZYQ8nNPapG6sap/3nrIdJ6bOWzmX/fy0XVpfzZP3S8OJT3g9EEiJwAAAABJRU5ErkJggg==",i.appendChild(n),e.style.position="relative",t.downloadAttached=!0,A(e,"mouseover",function(n){var o=n.relatedTarget;(!o||o!==this&&!M(this,o)&&t.options.download)&&(i.href=t.toImage(),e.appendChild(i))}),A(e,"mouseout",function(t){var e=t.relatedTarget;e&&(e===this||M(this,e))||i.parentNode&&i.parentNode.removeChild(i)})}function A(t,e,i){t.addEventListener?t.addEventListener(e,i,!1):t.attachEvent("on"+e,function(){return i.call(t,window.event)})}function M(t,e){if(t===e)return!1;for(;e&&e!==t;)e=e.parentNode;return e===t}function L(t){if(t){if("Highcharts"===t.product)return Dt;if(t.setOnLoadCallback||t.charts)return Pt;if(e(t))return ut}throw new Error("Unknown adapter")}function F(t){var e=L(t),i=new e(t);-1===Wt.indexOf(i)&&Wt.push(i)}function P(){"Chart"in window&&F(window.Chart),"Highcharts"in window&&F(window.Highcharts),window.google&&(window.google.setOnLoadCallback||window.google.charts)&&F(window.google)}function B(t,e){if("PieChart"===e||"GeoChart"===e||"Timeline"===e)return 0===t.length;for(var i=0;i<t.length;i++)if(t[i].data.length>0)return!1;return!0}function $(t,e){e.options.messages&&e.options.messages.empty&&B(e.data,t)?k(e.element,e.options.messages.empty):(z(t,e),e.options.download&&!e.downloadAttached&&"chartjs"===e.adapter&&K(e))}function z(t,i){var n,o,a,r;for(a="render"+t,r=i.options.adapter,P(),n=0;n<Wt.length;n++)if(o=Wt[n],(!r||r===o.name)&&e(o[a]))return i.adapter=o.name,o[a](i);throw Wt.length>0?new Error("No charting library found for "+t):new Error("No charting libraries found - be sure to include one before your charts")}function H(t){var e,i,n;for(e=0;e<t.length;e++)for(n=c(t[e].data),i=0;i<n.length;i++)if(!C(n[i][0]))return!0;return!1}function W(t){var e,i,n=[];for(e=0;e<t.length;e++){var o={};for(i in t[e])t[e].hasOwnProperty(i)&&(o[i]=t[e][i]);n.push(o)}return n}function q(e,i){var n,o=e.options,a=e.rawData;for(!t(a)||"object"!=typeof a[0]||t(a[0])?(a=[{name:o.label||"Value",data:a}],e.hideLegend=!0):e.hideLegend=!1,null!==o.discrete&&o.discrete!==undefined||"bubble"===i||"number"===i?e.discrete=o.discrete:e.discrete=H(a),e.discrete&&(i="string"),e.options.xtype&&(i=e.options.xtype),a=W(a),n=0;n<a.length;n++)a[n].data=jt(c(a[n].data),i);return a}function j(t){var e,i=c(t.rawData);for(e=0;e<i.length;e++)i[e]=[s(i[e][0]),l(i[e][1])];return i}var V=/^(\d\d\d\d)(-)?(\d\d)(-)?(\d\d)$/i,U=/(\d\d\d\d)(-)?(\d\d)(-)?(\d\d)(T)?(\d\d)(:)?(\d\d)?(:)?(\d\d)?([.,]\d+)?($|Z|([+-])(\d\d)(:)?(\d\d)?)/i,Y=String(1.5).charAt(1),G={maintainAspectRatio:!1,animation:!1,tooltips:{displayColors:!1,callbacks:{}},legend:{},title:{fontSize:20,fontColor:"#333"}},X={scales:{yAxes:[{ticks:{maxTicksLimit:4},scaleLabel:{fontSize:16,fontColor:"#333"}}],xAxes:[{gridLines:{drawOnChartArea:!1},scaleLabel:{fontSize:16,fontColor:"#333"},time:{},ticks:{}}]}},Z=["#3366CC","#DC3912","#FF9900","#109618","#990099","#3B3EAC","#0099C6","#DD4477","#66AA00","#B82E2E","#316395","#994499","#22AA99","#AAAA11","#6633CC","#E67300","#8B0707","#329262","#5574A6","#651067"],Q=function(t,e,i){e!==undefined?(t.legend.display=!!e,e&&!0!==e&&(t.legend.position=e)):i&&(t.legend.display=!1)},J=function(t,e){t.title.display=!0,t.title.text=e},tt=function(t,e){null!==e&&(t.scales.yAxes[0].ticks.min=l(e))},et=function(t,e){t.scales.yAxes[0].ticks.max=l(e)},it=function(t,e){null!==e&&(t.scales.xAxes[0].ticks.min=l(e))},nt=function(t,e){t.scales.xAxes[0].ticks.max=l(e)},ot=function(t,e){t.scales.xAxes[0].stacked=!!e,t.scales.yAxes[0].stacked=!!e},at=function(t,e){t.scales.xAxes[0].scaleLabel.display=!0,t.scales.xAxes[0].scaleLabel.labelString=e},rt=function(t,e){t.scales.yAxes[0].scaleLabel.display=!0,t.scales.yAxes[0].scaleLabel.labelString=e},st=function(t,e){var i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return i?"rgba("+parseInt(i[1],16)+", "+parseInt(i[2],16)+", "+parseInt(i[3],16)+", "+e+")":t},lt=function(t,e,i){var n=Math.ceil(t.element.offsetWidth/4/e.labels.length);n>25&&(n=25),i.scales.xAxes[0].ticks.callback=function(t){return t=s(t),t.length>n?t.substring(0,n-2)+"...":t}},dt=function(e,i,n){var o={prefix:e.options.prefix,suffix:e.options.suffix,thousands:e.options.thousands,decimal:e.options.decimal};if(o.prefix||o.suffix||o.thousands||o.decimal){if("pie"!==n){var a=i.scales.yAxes;"bar"===n&&(a=i.scales.xAxes),a[0].ticks.callback||(a[0].ticks.callback=function(t){return y("",t,o)})}if(!i.tooltips.callbacks.label)if("pie"!==n){var r="bar"===n?"xLabel":"yLabel";i.tooltips.callbacks.label=function(t,e){var i=e.datasets[t.datasetIndex].label||"";return i&&(i+=": "),y(i,t[r],o)}}else i.tooltips.callbacks.label=function(e,i){var n=i.labels[e.index],a=": ";return t(n)?(n=n.slice(),n[0]+=a):n+=a,y(n,i.datasets[e.datasetIndex].data[e.index],o)}}},ct=h(o(G,X),Q,J,tt,et,ot,at,rt),ht=function(t,e,i){var n,a,r,s,d,c,h=[],u=[],f=t.options.colors||Z,C=!0,y=!0,D=!0,I=!0,O=!0,R=!0,x=("line"===i||"area"===i)&&!t.discrete,w=t.data,k=[],_=[];for(a=0;a<w.length;a++)for(s=w[a],r=0;r<s.data.length;r++)d=s.data[r],c=x?d[0].getTime():d[0],_[c]||(_[c]=new Array(w.length)),_[c][a]=l(d[1]),-1===k.indexOf(c)&&k.push(c);(x||"number"===t.options.xtype)&&k.sort(p);var S=[];for(r=0;r<w.length;r++)S.push([]);var N,K;for(K=0;K<k.length;K++)for(a=k[K],x?(N=new Date(l(a)),C=C&&v(N),n||(n=N.getDay()),y=y&&b(N,n),D=D&&T(N),I=I&&E(N),O=O&&g(N),R=R&&m(N)):N=a,u.push(N),r=0;r<w.length;r++)S[r].push(_[a][r]===undefined?null:_[a][r]);for(a=0;a<w.length;a++){s=w[a];var A=s.color||f[a],M="line"!==i?st(A,.5):A,L={label:s.name,data:S[a],fill:"area"===i,borderColor:A,backgroundColor:M,pointBackgroundColor:A,borderWidth:2};s.stack&&(L.stack=s.stack),!1===t.options.curve&&(L.lineTension=0),!1===t.options.points&&(L.pointRadius=0,L.pointHitRadius=5),h.push(o(L,s.library||{}))}if(x&&u.length>0){var F=u[0].getTime(),P=u[0].getTime();for(a=1;a<u.length;a++)N=u[a].getTime(),N<F&&(F=N),N>P&&(P=N);var B=(P-F)/864e5;if(!e.scales.xAxes[0].time.unit){var $;if(I||B>3650?(e.scales.xAxes[0].time.unit="year",$=365):D||B>300?(e.scales.xAxes[0].time.unit="month",$=30):C||B>10?(e.scales.xAxes[0].time.unit="day",$=1):O||B>.5?(e.scales.xAxes[0].time.displayFormats={hour:"MMM D, h a"},e.scales.xAxes[0].time.unit="hour",$=1/24):R&&(e.scales.xAxes[0].time.displayFormats={minute:"h:mm a"},e.scales.xAxes[0].time.unit="minute",$=1/24/60),$&&B>0){var z=Math.ceil(B/$/(t.element.offsetWidth/100));y&&1===$&&(z=7*Math.ceil(z/7)),e.scales.xAxes[0].time.unitStepSize=z}}e.scales.xAxes[0].time.tooltipFormat||(C?e.scales.xAxes[0].time.tooltipFormat="ll":O?e.scales.xAxes[0].time.tooltipFormat="MMM D, h a":R&&(e.scales.xAxes[0].time.tooltipFormat="h:mm a"))}return{labels:u,datasets:h}},ut=function(t){this.name="chartjs",this.library=t};ut.prototype.renderLineChart=function(t,e){if("number"===t.options.xtype)return this.renderScatterChart(t,e,!0);var i={};!t.options.max&&D(t.data)&&(i.max=1);var n=ct(t,o(i,t.options));dt(t,n,e);var a=ht(t,n,e||"line");n.scales.xAxes[0].type=t.discrete?"category":"time",this.drawChart(t,"line",a,n)},ut.prototype.renderPieChart=function(t){var e=o({},G);t.options.donut&&(e.cutoutPercentage=50),"legend"in t.options&&Q(e,t.options.legend),t.options.title&&J(e,t.options.title),e=o(e,t.options.library||{}),dt(t,e,"pie");for(var i=[],n=[],a=0;a<t.data.length;a++){var r=t.data[a];i.push(r[0]),n.push(r[1])}var s={labels:i,datasets:[{data:n,backgroundColor:t.options.colors||Z}]};this.drawChart(t,"pie",s,e)},ut.prototype.renderColumnChart=function(t,e){var i;i="bar"===e?h(o(G,X),Q,J,it,nt,ot,at,rt)(t,t.options):ct(t,t.options),dt(t,i,e);var n=ht(t,i,"column");"bar"!==e&&lt(t,n,i),this.drawChart(t,"bar"===e?"horizontalBar":"bar",n,i)},ut.prototype.renderAreaChart=function(t){this.renderLineChart(t,"area")},ut.prototype.renderBarChart=function(t){this.renderColumnChart(t,"bar")},ut.prototype.renderScatterChart=function(t,e,i){e=e||"line";var n=ct(t,t.options);i||dt(t,n,e);for(var o=t.options.colors||Z,a=[],r=t.data,s=0;s<r.length;s++){for(var d=r[s],c=[],h=0;h<d.data.length;h++){var u={x:l(d.data[h][0]),y:l(d.data[h][1])};"bubble"===e&&(u.r=l(d.data[h][2])),c.push(u)}var f=d.color||o[s],p="area"===e?st(f,.5):f;a.push({label:d.name,showLine:i||!1,data:c,borderColor:f,backgroundColor:p,pointBackgroundColor:f,fill:"area"===e})}"area"===e&&(e="line");var m={datasets:a};n.scales.xAxes[0].type="linear",n.scales.xAxes[0].position="bottom",this.drawChart(t,e,m,n)},ut.prototype.renderBubbleChart=function(t){this.renderScatterChart(t,"bubble")
},ut.prototype.drawChart=function(t,e,i,n){t.chart&&t.chart.destroy(),t.element.innerHTML="<canvas></canvas>";var o=t.element.getElementsByTagName("CANVAS")[0];t.chart=new this.library(o,{type:e,data:i,options:n})};var ft={chart:{},xAxis:{title:{text:null},labels:{style:{fontSize:"12px"}}},yAxis:{title:{text:null},labels:{style:{fontSize:"12px"}}},title:{text:null},credits:{enabled:!1},legend:{borderWidth:0},tooltip:{style:{fontSize:"12px"}},plotOptions:{areaspline:{},series:{marker:{}}}},pt=function(t,e,i){e!==undefined?(t.legend.enabled=!!e,e&&!0!==e&&("top"===e||"bottom"===e?t.legend.verticalAlign=e:(t.legend.layout="vertical",t.legend.verticalAlign="middle",t.legend.align=e))):i&&(t.legend.enabled=!1)},mt=function(t,e){t.title.text=e},gt=function(t,e){t.yAxis.min=e},vt=function(t,e){t.yAxis.max=e},bt=function(t,e){t.plotOptions.series.stacking=e?!0===e?"normal":e:null},Tt=function(t,e){t.xAxis.title.text=e},Et=function(t,e){t.yAxis.title.text=e},Ct=h(ft,pt,mt,gt,vt,bt,Tt,Et),yt=function(t,e,i){var n={prefix:t.options.prefix,suffix:t.options.suffix,thousands:t.options.thousands,decimal:t.options.decimal};(n.prefix||n.suffix||n.thousands||n.decimal)&&("pie"===i||e.yAxis.labels.formatter||(e.yAxis.labels.formatter=function(){return y("",this.value,n)}),e.tooltip.pointFormatter||(e.tooltip.pointFormatter=function(){return'<span style="color:'+this.color+">\u25cf</span> "+y(this.series.name+": <b>",this.y,n)+"</b><br/>"}))},Dt=function(t){this.name="highcharts",this.library=t};Dt.prototype.renderLineChart=function(t,e){e=e||"spline";var i={};"areaspline"===e&&(i={plotOptions:{areaspline:{stacking:"normal"},area:{stacking:"normal"},series:{marker:{enabled:!1}}}}),!1===t.options.curve&&("areaspline"===e?e="area":"spline"===e&&(e="line"));var n,o,a,r=Ct(t,t.options,i);r.xAxis.type=t.discrete?"category":"datetime",r.chart.type||(r.chart.type=e),yt(t,r,e);var s=t.data;for(o=0;o<s.length;o++){if(n=s[o].data,!t.discrete)for(a=0;a<n.length;a++)n[a][0]=n[a][0].getTime();s[o].marker={symbol:"circle"},!1===t.options.points&&(s[o].marker.enabled=!1)}this.drawChart(t,s,r)},Dt.prototype.renderScatterChart=function(t){var e=Ct(t,t.options,{});e.chart.type="scatter",this.drawChart(t,t.data,e)},Dt.prototype.renderPieChart=function(t){var e=o(ft,{});t.options.colors&&(e.colors=t.options.colors),t.options.donut&&(e.plotOptions={pie:{innerSize:"50%"}}),"legend"in t.options&&pt(e,t.options.legend),t.options.title&&mt(e,t.options.title);var i=o(e,t.options.library||{});yt(t,i,"pie");var n=[{type:"pie",name:t.options.label||"Value",data:t.data}];this.drawChart(t,n,i)},Dt.prototype.renderColumnChart=function(t,e){e=e||"column";var i,n,o,a,r=t.data,s=Ct(t,t.options),l=[],d=[];for(s.chart.type=e,yt(t,s,e),i=0;i<r.length;i++)for(o=r[i],n=0;n<o.data.length;n++)a=o.data[n],l[a[0]]||(l[a[0]]=new Array(r.length),d.push(a[0])),l[a[0]][i]=a[1];"number"===t.options.xtype&&d.sort(p),s.xAxis.categories=d;var c,h=[];for(i=0;i<r.length;i++){for(a=[],n=0;n<d.length;n++)a.push(l[d[n]][i]||0);c={name:r[i].name,data:a},r[i].stack&&(c.stack=r[i].stack),h.push(c)}this.drawChart(t,h,s)},Dt.prototype.renderBarChart=function(t){this.renderColumnChart(t,"bar")},Dt.prototype.renderAreaChart=function(t){this.renderLineChart(t,"areaspline")},Dt.prototype.drawChart=function(t,e,i){t.chart&&t.chart.destroy(),i.chart.renderTo=t.element.id,i.series=e,t.chart=new this.library.Chart(i)};var It={},Ot=[],Rt={chartArea:{},fontName:"'Lucida Grande', 'Lucida Sans Unicode', Verdana, Arial, Helvetica, sans-serif",pointSize:6,legend:{textStyle:{fontSize:12,color:"#444"},alignment:"center",position:"right"},curveType:"function",hAxis:{textStyle:{color:"#666",fontSize:12},titleTextStyle:{},gridlines:{color:"transparent"},baselineColor:"#ccc",viewWindow:{}},vAxis:{textStyle:{color:"#666",fontSize:12},titleTextStyle:{},baselineColor:"#ccc",viewWindow:{}},tooltip:{textStyle:{color:"#666",fontSize:12}}},xt=function(t,e,i){if(e!==undefined){var n;n=e?!0===e?"right":e:"none",t.legend.position=n}else i&&(t.legend.position="none")},wt=function(t,e){t.title=e,t.titleTextStyle={color:"#333",fontSize:"20px"}},kt=function(t,e){t.vAxis.viewWindow.min=e},_t=function(t,e){t.vAxis.viewWindow.max=e},St=function(t,e){t.hAxis.viewWindow.min=e},Nt=function(t,e){t.hAxis.viewWindow.max=e},Kt=function(t,e){t.isStacked=e||!1},At=function(t,e){t.hAxis.title=e,t.hAxis.titleTextStyle.italic=!1},Mt=function(t,e){t.vAxis.title=e,t.vAxis.titleTextStyle.italic=!1},Lt=h(Rt,xt,wt,kt,_t,Kt,At,Mt),Ft=function(t){window.attachEvent?window.attachEvent("onresize",t):window.addEventListener&&window.addEventListener("resize",t,!0),t()},Pt=function(t){this.name="google",this.library=t};Pt.prototype.renderLineChart=function(t){var e=this;this.waitForLoaded(t,function(){var i={};!1===t.options.curve&&(i.curveType="none"),!1===t.options.points&&(i.pointSize=0);var n=Lt(t,t.options,i),o=t.discrete?"string":"datetime";"number"===t.options.xtype&&(o="number");var a=e.createDataTable(t.data,o);e.drawChart(t,e.library.visualization.LineChart,a,n)})},Pt.prototype.renderPieChart=function(t){var e=this;this.waitForLoaded(t,function(){var i={chartArea:{top:"10%",height:"80%"},legend:{}};t.options.colors&&(i.colors=t.options.colors),t.options.donut&&(i.pieHole=.5),"legend"in t.options&&xt(i,t.options.legend),t.options.title&&wt(i,t.options.title);var n=o(o(Rt,i),t.options.library||{}),a=new e.library.visualization.DataTable;a.addColumn("string",""),a.addColumn("number","Value"),a.addRows(t.data),e.drawChart(t,e.library.visualization.PieChart,a,n)})},Pt.prototype.renderColumnChart=function(t){var e=this;this.waitForLoaded(t,function(){var i=Lt(t,t.options),n=e.createDataTable(t.data,"string",t.options.xtype);e.drawChart(t,e.library.visualization.ColumnChart,n,i)})},Pt.prototype.renderBarChart=function(t){var e=this;this.waitForLoaded(t,function(){var i={hAxis:{gridlines:{color:"#ccc"}}},n=h(Rt,xt,wt,St,Nt,Kt,At,Mt)(t,t.options,i),o=e.createDataTable(t.data,"string",t.options.xtype);e.drawChart(t,e.library.visualization.BarChart,o,n)})},Pt.prototype.renderAreaChart=function(t){var e=this;this.waitForLoaded(t,function(){var i={isStacked:!0,pointSize:0,areaOpacity:.5},n=Lt(t,t.options,i),o=t.discrete?"string":"datetime";"number"===t.options.xtype&&(o="number");var a=e.createDataTable(t.data,o);e.drawChart(t,e.library.visualization.AreaChart,a,n)})},Pt.prototype.renderGeoChart=function(t){var e=this;this.waitForLoaded(t,function(){var i={legend:"none",colorAxis:{colors:t.options.colors||["#f6c7b6","#ce502d"]}},n=o(o(Rt,i),t.options.library||{}),a=new e.library.visualization.DataTable;a.addColumn("string",""),a.addColumn("number",t.options.label||"Value"),a.addRows(t.data),e.drawChart(t,e.library.visualization.GeoChart,a,n)})},Pt.prototype.renderScatterChart=function(t){var e=this;this.waitForLoaded(t,function(){var i,n,o,a,r={},s=Lt(t,t.options,r),l=t.data,d=[];for(i=0;i<l.length;i++)for(a=l[i].data,n=0;n<a.length;n++){var c=new Array(l.length+1);c[0]=a[n][0],c[i+1]=a[n][1],d.push(c)}for(o=new e.library.visualization.DataTable,o.addColumn("number",""),i=0;i<l.length;i++)o.addColumn("number",l[i].name);o.addRows(d),e.drawChart(t,e.library.visualization.ScatterChart,o,s)})},Pt.prototype.renderTimeline=function(t){var e=this;this.waitForLoaded(t,"timeline",function(){var i={legend:"none"};t.options.colors&&(i.colors=t.options.colors);var n=o(o(Rt,i),t.options.library||{}),a=new e.library.visualization.DataTable;a.addColumn({type:"string",id:"Name"}),a.addColumn({type:"date",id:"Start"}),a.addColumn({type:"date",id:"End"}),a.addRows(t.data),t.element.style.lineHeight="normal",e.drawChart(t,e.library.visualization.Timeline,a,n)})},Pt.prototype.drawChart=function(t,e,i,n){t.chart&&t.chart.clearChart(),t.chart=new e(t.element),Ft(function(){t.chart.draw(i,n)})},Pt.prototype.waitForLoaded=function(t,e,i){var n=this;if(i||(i=e,e="corechart"),Ot.push({pack:e,callback:i}),It[e])this.runCallbacks();else{It[e]=!0;var o={packages:[e],callback:function(){n.runCallbacks()}},a=t.__config();a.language&&(o.language=a.language),"corechart"===e&&a.mapsApiKey&&(o.mapsApiKey=a.mapsApiKey),this.library.setOnLoadCallback?this.library.load("visualization","1",o):this.library.charts.load("current",o)}},Pt.prototype.runCallbacks=function(){for(var t,e=this,i=0;i<Ot.length;i++)t=Ot[i],e.library.visualization&&("corechart"===t.pack&&e.library.visualization.LineChart||"timeline"===t.pack&&e.library.visualization.Timeline)&&(t.callback(),Ot.splice(i,1),i--)},Pt.prototype.createDataTable=function(t,e,i){var n,o,a,r,d,c=[],h=[];for(n=0;n<t.length;n++)for(a=t[n],o=0;o<a.data.length;o++)r=a.data[o],d="datetime"===e?r[0].getTime():r[0],c[d]||(c[d]=new Array(t.length),h.push(d)),c[d][n]=l(r[1]);var p,m=[],g=!0;for(o=0;o<h.length;o++)n=h[o],"datetime"===e?(p=new Date(l(n)),g=g&&v(p)):p="number"===e?l(n):n,m.push([p].concat(c[n]));if("datetime"===e?m.sort(u):"number"===e&&m.sort(f),"number"===i)for(m.sort(f),n=0;n<m.length;n++)m[n][0]=s(m[n][0]);var b=new this.library.visualization.DataTable;for(e="datetime"===e&&g?"date":e,b.addColumn(e,""),n=0;n<t.length;n++)b.addColumn("number",t[n].name);return b.addRows(m),b};var Bt=[],$t=0,zt=4,Ht="undefined"!=typeof window&&window.Chartkick||{},Wt=[],qt=function(t,e){return t="number"===e?l(t):"datetime"===e?d(t):s(t)},jt=function(t,e){var i,n,o=[];for(n=0;n<t.length;n++)"bubble"===e?o.push([l(t[n][0]),l(t[n][1]),l(t[n][2])]):(i=qt(t[n][0],e),o.push([i,l(t[n][1])]));return"datetime"===e?o.sort(u):"number"===e&&o.sort(f),o},Vt=function(t,e,i){var n;if("string"==typeof t&&(n=t,!(t=document.getElementById(t))))throw new Error("No element with id "+n);this.element=t,this.options=o(ie.options,i||{}),this.dataSource=e,ie.charts[t.id]=this,N(this,e),this.options.refresh&&this.startRefresh()};Vt.prototype.getElement=function(){return this.element},Vt.prototype.getDataSource=function(){return this.dataSource},Vt.prototype.getData=function(){return this.data},Vt.prototype.getOptions=function(){return this.options},Vt.prototype.getChartObject=function(){return this.chart},Vt.prototype.getAdapter=function(){return this.adapter},Vt.prototype.updateData=function(t,e){this.dataSource=t,e&&this.__updateOptions(e),N(this,t)},Vt.prototype.setOptions=function(t){this.__updateOptions(t),this.redraw()},Vt.prototype.redraw=function(){N(this,this.rawData)},Vt.prototype.refreshData=function(){if("string"==typeof this.dataSource){var t=-1===this.dataSource.indexOf("?")?"?":"&";N(this,this.dataSource+t+"_="+(new Date).getTime())}},Vt.prototype.startRefresh=function(){var t=this,e=this.options.refresh;if(!this.intervalId){if(!e)throw new Error("No refresh interval");this.intervalId=setInterval(function(){t.refreshData()},1e3*e)}},Vt.prototype.stopRefresh=function(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)},Vt.prototype.toImage=function(){return"chartjs"===this.adapter?this.chart.toBase64Image():null},Vt.prototype.__updateOptions=function(t){var e=t.refresh&&t.refresh!==this.options.refresh;this.options=o(ie.options,t),e&&(this.stopRefresh(),this.startRefresh())},Vt.prototype.__render=function(){this.data=this.__processData(),$(this.__chartName(),this)},Vt.prototype.__config=function(){return Ht};var Ut=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__processData=function(){return q(this,"datetime")},e.prototype.__chartName=function(){return"LineChart"},e}(Vt),Yt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__processData=function(){return j(this)},e.prototype.__chartName=function(){return"PieChart"},e}(Vt),Gt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__processData=function(){return q(this,"string")},e.prototype.__chartName=function(){return"ColumnChart"},e}(Vt),Xt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__processData=function(){return q(this,"string")},e.prototype.__chartName=function(){return"BarChart"},e}(Vt),Zt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__processData=function(){return q(this,"datetime")},e.prototype.__chartName=function(){return"AreaChart"},e}(Vt),Qt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__processData=function(){return j(this)},e.prototype.__chartName=function(){return"GeoChart"},e}(Vt),Jt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__processData=function(){return q(this,"number")},e.prototype.__chartName=function(){return"ScatterChart"},e}(Vt),te=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__processData=function(){return q(this,"bubble")},e.prototype.__chartName=function(){return"BubbleChart"},e}(Vt),ee=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__processData=function(){var t,e=this.rawData;for(t=0;t<e.length;t++)e[t][1]=d(e[t][1]),e[t][2]=d(e[t][2]);return e},e.prototype.__chartName=function(){return"Timeline"},e}(Vt),ie={LineChart:Ut,PieChart:Yt,ColumnChart:Gt,BarChart:Xt,AreaChart:Zt,GeoChart:Qt,ScatterChart:Jt,BubbleChart:te,Timeline:ee,charts:{},configure:function(t){for(var e in t)t.hasOwnProperty(e)&&(Ht[e]=t[e])},eachChart:function(t){for(var e in ie.charts)ie.charts.hasOwnProperty(e)&&t(ie.charts[e])},config:Ht,options:{},adapters:Wt,addAdapter:F};return ie});